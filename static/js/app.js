!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=57)}([function(e,t,n){"use strict";t.a=function(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}},function(e,t,n){"use strict";var r=n(179);t.a=function(e){return Object(r.a)(e[e.length-1])}},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(h===clearTimeout)return clearTimeout(e);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function a(){m&&f&&(m=!1,f.length?p=f.concat(p):g=-1,p.length&&s())}function s(){if(!m){var e=i(a);m=!0;for(var t=p.length;t;){for(f=p,p=[];++g<t;)f&&f[g].run();g=-1,t=p.length}f=null,m=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,h,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(e){h=r}}();var f,p=[],m=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new u(e,t)),1!==p.length||m||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){"use strict";(function(t){"production"===t.env.NODE_ENV?e.exports=n(59):e.exports=n(60)}).call(t,n(2))},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";(function(t){function n(e,t,n,i,o,a,s,u){if(r(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,i,o,a,s,u],h=0;c=new Error(t.replace(/%s/g,function(){return l[h++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var r=function(e){};"production"!==t.env.NODE_ENV&&(r=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=n}).call(t,n(2))},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t){function n(e,t){var r;if(e||(e={}),t)for(r in t)if(t.hasOwnProperty(r)){var i=e.hasOwnProperty(r),o=typeof t[r],a=!i||typeof e[r]!==o;a?e[r]=t[r]:"object"===o&&(e[r]=n(e[r],t[r]))}return e}e.exports=n},function(e,t){function n(e){var t="number"==typeof e?e:+new Date,n=function(){return t=t+2127912214+(t<<12)&4294967295,t=4294967295&(3345072700^t^t>>>19),t=t+374761393+(t<<5)&4294967295,t=4294967295&(t+3550635116^t<<9),t=t+4251993797+(t<<3)&4294967295,(268435455&(t=4294967295&(3042594569^t^t>>>16)))/268435456};return{next:function(e){return Math.floor(n()*e)},nextDouble:function(){return n()}}}function r(e,t){var r=t||n();if("function"!=typeof r.next)throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:function(t){var n,i,o;for(n=e.length-1;n>0;--n)i=r.next(n+1),o=e[i],e[i]=e[n],e[n]=o,t(o);e.length&&t(e[0])},shuffle:function(){var t,n,i;for(t=e.length-1;t>0;--t)n=r.next(t+1),i=e[n],e[n]=e[t],e[t]=i;return e}}}e.exports={random:n,randomIterator:r}},function(e,t,n){"use strict";var r=n(31);n.d(t,"a",function(){return r.e}),n.d(t,"f",function(){return r.g}),n.d(t,"d",function(){return r.f});var i=n(180);n.d(t,"e",function(){return i.a}),n.d(t,"c",function(){return i.b});var o=n(181);n.d(t,"b",function(){return o.a})},function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=r(e),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var l in n)o.call(n,l)&&(u[l]=n[l]);if(i){s=i(n);for(var h=0;h<s.length;h++)a.call(n,s[h])&&(u[s[h]]=n[s[h]])}}return u}},function(e,t){function n(e,t,n){if("[object Array]"===Object.prototype.toString.call(n))for(var i=0;i<n.length;++i)r(e,t,n[i]);else for(var o in e)r(e,t,o)}function r(e,t,n){if(e.hasOwnProperty(n)){if("function"==typeof t[n])return;t[n]=function(r){return void 0!==r?(e[n]=r,t):e[n]}}}e.exports=n},function(e,t,n){"use strict";function r(e,t){return function(n){return e+n*t}}function i(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function o(e,t){var n=t-e;return n?r(e,n>180||n<-180?n-360*Math.round(n/360):n):Object(u.a)(isNaN(e)?t:e)}function a(e){return 1==(e=+e)?s:function(t,n){return n-t?i(t,n,e):Object(u.a)(isNaN(t)?n:t)}}function s(e,t){var n=t-e;return n?r(e,n):Object(u.a)(isNaN(e)?t:e)}t.c=o,t.b=a,t.a=s;var u=n(51)},function(e,t,n){"use strict";(function(t){var n={};"production"!==t.env.NODE_ENV&&Object.freeze(n),e.exports=n}).call(t,n(2))},function(e,t,n){"use strict";(function(t){var r=n(4),i=r;if("production"!==t.env.NODE_ENV){var o=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o="Warning: "+e.replace(/%s/g,function(){return n[i++]});"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(e){}};i=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];o.apply(void 0,[t].concat(r))}}}e.exports=i}).call(t,n(2))},function(e,t,n){(function(t){if("production"!==t.env.NODE_ENV){var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,i=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r};e.exports=n(72)(i,!0)}else e.exports=n(73)()}).call(t,n(2))},function(e,t){function n(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var o=r(i);return[n].concat(i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"})).concat([o]).join("\n")}return[n].join("\n")}function r(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=n(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=p[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(l(r.parts[o],t))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(l(r.parts[o],t));p[r.id]={id:r.id,refs:1,parts:a}}}}function i(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s=o[1],u=o[2],c=o[3],l={css:s,media:u,sourceMap:c};r[a]?r[a].parts.push(l):n.push(r[a]={id:a,parts:[l]})}return n}function o(e,t){var n=g(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=b[b.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),b.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=g(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,i)}}function a(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",c(t,e.attrs),o(e,t),t}function u(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",c(t,e.attrs),o(e,t),t}function c(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function l(e,t){var n,r,i,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var c=y++;n=v||(v=s(t)),r=h.bind(null,n,c,!1),i=h.bind(null,n,c,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(t),r=f.bind(null,n,t),i=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),r=d.bind(null,n),i=function(){a(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}function h(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=_(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function d(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function f(e,t,n){var r=n.css,i=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(r=x(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var p={},m=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),g=function(e){var t={};return function(n){if(void 0===t[n]){var r=e.call(this,n);if(r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[n]=r}return t[n]}}(function(e){return document.querySelector(e)}),v=null,y=0,b=[],x=n(76);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=m()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=i(e,t);return r(n,t),function(e){for(var o=[],a=0;a<n.length;a++){var s=n[a],u=p[s.id];u.refs--,o.push(u)}if(e){r(i(e,t),t)}for(var a=0;a<o.length;a++){var u=o[a];if(0===u.refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete p[u.id]}}}};var _=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";t.a=function(e,t){return e=+e,t-=e,function(n){return e+t*n}}},function(e,t,n){"use strict";(function(t){function r(e,n,r,u,c){if("production"!==t.env.NODE_ENV)for(var l in e)if(e.hasOwnProperty(l)){var h;try{i("function"==typeof e[l],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",u||"React class",r,l,typeof e[l]),h=e[l](n,l,u,r,null,a)}catch(e){h=e}if(o(!h||h instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",u||"React class",r,l,typeof h),h instanceof Error&&!(h.message in s)){s[h.message]=!0;var d=c?c():"";o(!1,"Failed %s type: %s%s",r,h.message,null!=d?d:"")}}}if("production"!==t.env.NODE_ENV)var i=n(5),o=n(14),a=n(20),s={};e.exports=r}).call(t,n(2))},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=i},function(e,t,n){"use strict";function r(e){return new Promise(function(t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.onload=function(){if(r.status>=200&&r.status<400){var e=JSON.parse(r.responseText);t(e)}},r.onerror=function(){n()},r.send()})}function i(e){return r("/data/"+e).catch(function(e){return console.error(e)})}function o(){return r("/api/getDataList").catch(function(e){return console.error(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.getData=i,t.getDataList=o},function(e,t,n){"use strict";t.a=function(){return 1e-6*(Math.random()-.5)}},function(e,t,n){"use strict";t.a=function(e,t,n){this.node=e,this.x0=t,this.x1=n}},function(e,t,n){"use strict";t.a=function(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}},function(e,t,n){"use strict";t.a=function(e,t,n,r,i,o,a){this.node=e,this.x0=t,this.y0=n,this.z0=r,this.x1=i,this.y1=o,this.z1=a}},function(e,t,n){"use strict";function r(){}function i(e,t){var n=new r;if(e instanceof r)e.each(function(e,t){n.set(t,e)});else if(Array.isArray(e)){var i,o=-1,a=e.length;if(null==t)for(;++o<a;)n.set(o,e[o]);else for(;++o<a;)n.set(t(i=e[o],o,e),i)}else if(e)for(var s in e)n.set(s,e[s]);return n}n.d(t,"b",function(){return o});var o="$";r.prototype=i.prototype={constructor:r,has:function(e){return o+e in this},get:function(e){return this[o+e]},set:function(e,t){return this[o+e]=t,this},remove:function(e){var t=o+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===o&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===o&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===o&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===o&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===o&&++e;return e},empty:function(){for(var e in this)if(e[0]===o)return!1;return!0},each:function(e){for(var t in this)t[0]===o&&e(this[t],t.slice(1),this)}},t.a=i},function(e,t,n){"use strict";function r(){return b||(w(i),b=_.now()+x)}function i(){b=0}function o(){this._call=this._time=this._next=null}function a(e,t,n){var r=new o;return r.restart(e,t,n),r}function s(){r(),++p;for(var e,t=d;t;)(e=b-t._time)>=0&&t._call.call(null,e),t=t._next;--p}function u(){b=(y=_.now())+x,p=m=0;try{s()}finally{p=0,l(),b=0}}function c(){var e=_.now(),t=e-y;t>v&&(x-=t,y=e)}function l(){for(var e,t,n=d,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:d=t);f=e,h(r)}function h(e){if(!p){m&&(m=clearTimeout(m));e-b>24?(e<1/0&&(m=setTimeout(u,e-_.now()-x)),g&&(g=clearInterval(g))):(g||(y=_.now(),g=setInterval(c,v)),p=1,w(u))}}t.b=r,t.a=o,t.c=a;var d,f,p=0,m=0,g=0,v=1e3,y=0,b=0,x=0,_="object"==typeof performance&&performance.now?performance:Date,w="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};o.prototype=a.prototype={constructor:o,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?r():+n)+(null==t?0:+t),this._next||f===this||(f?f._next=this:d=this,f=this),this._call=e,this._time=n,h()},stop:function(){this._call&&(this._call=null,this._time=1/0,h())}}},function(e,t){function n(e){var t=Object.create(null);return{on:function(n,r,i){if("function"!=typeof r)throw new Error("callback is expected to be a function");var o=t[n];return o||(o=t[n]=[]),o.push({callback:r,ctx:i}),e},off:function(n,r){if(void 0===n)return t=Object.create(null),e;if(t[n]){if("function"!=typeof r)delete t[n];else for(var i=t[n],o=0;o<i.length;++o)i[o].callback===r&&i.splice(o,1)}return e},fire:function(n){var r=t[n];if(!r)return e;var i;arguments.length>1&&(i=Array.prototype.splice.call(arguments,1));for(var o=0;o<r.length;++o){var a=r[o];a.callback.apply(a.ctx,i)}return e}}}function r(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],n=0;n<t.length;++n)if(e.hasOwnProperty(t[n]))throw new Error("Subject cannot be eventified, since it already has property '"+t[n]+"'")}e.exports=function(e){r(e);var t=n(e);return e.on=t.on,e.off=t.off,e.fire=t.fire,e}},function(e,t,n){"use strict";var r=n(9),i=n(49),o=n(52),a=n(53),s=n(18),u=n(54),c=n(55),l=n(51);t.a=function(e,t){var n,h=typeof t;return null==t||"boolean"===h?Object(l.a)(t):("number"===h?s.a:"string"===h?(n=Object(r.a)(t))?(t=n,i.a):c.a:t instanceof r.a?i.a:t instanceof Date?a.a:Array.isArray(t)?o.a:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?u.a:s.a)(e,t)}},function(e,t,n){"use strict";function r(){}function i(e){var t;return e=(e+"").trim().toLowerCase(),(t=_.exec(e))?(t=parseInt(t[1],16),new c(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1)):(t=w.exec(e))?o(parseInt(t[1],16)):(t=E.exec(e))?new c(t[1],t[2],t[3],1):(t=M.exec(e))?new c(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=T.exec(e))?a(t[1],t[2],t[3],t[4]):(t=S.exec(e))?a(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=C.exec(e))?l(t[1],t[2]/100,t[3]/100,1):(t=A.exec(e))?l(t[1],t[2]/100,t[3]/100,t[4]):P.hasOwnProperty(e)?o(P[e]):"transparent"===e?new c(NaN,NaN,NaN,0):null}function o(e){return new c(e>>16&255,e>>8&255,255&e,1)}function a(e,t,n,r){return r<=0&&(e=t=n=NaN),new c(e,t,n,r)}function s(e){return e instanceof r||(e=i(e)),e?(e=e.rgb(),new c(e.r,e.g,e.b,e.opacity)):new c}function u(e,t,n,r){return 1===arguments.length?s(e):new c(e,t,n,null==r?1:r)}function c(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function l(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new f(e,t,n,r)}function h(e){if(e instanceof f)return new f(e.h,e.s,e.l,e.opacity);if(e instanceof r||(e=i(e)),!e)return new f;if(e instanceof f)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,a=Math.min(t,n,o),s=Math.max(t,n,o),u=NaN,c=s-a,l=(s+a)/2;return c?(u=t===s?(n-o)/c+6*(n<o):n===s?(o-t)/c+2:(t-n)/c+4,c/=l<.5?s+a:2-s-a,u*=60):c=l>0&&l<1?0:u,new f(u,c,l,e.opacity)}function d(e,t,n,r){return 1===arguments.length?h(e):new f(e,t,n,null==r?1:r)}function f(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function p(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}t.a=r,n.d(t,"d",function(){return g}),n.d(t,"c",function(){return v}),t.e=i,t.h=s,t.g=u,t.b=c,t.f=d;var m=n(32),g=.7,v=1/g,y="\\s*([+-]?\\d+)\\s*",b="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",x="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_=/^#([0-9a-f]{3})$/,w=/^#([0-9a-f]{6})$/,E=new RegExp("^rgb\\("+[y,y,y]+"\\)$"),M=new RegExp("^rgb\\("+[x,x,x]+"\\)$"),T=new RegExp("^rgba\\("+[y,y,y,b]+"\\)$"),S=new RegExp("^rgba\\("+[x,x,x,b]+"\\)$"),C=new RegExp("^hsl\\("+[b,x,x]+"\\)$"),A=new RegExp("^hsla\\("+[b,x,x,b]+"\\)$"),P={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object(m.a)(r,i,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Object(m.a)(c,u,Object(m.b)(r,{brighter:function(e){return e=null==e?v:Math.pow(v,e),new c(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?g:Math.pow(g,e),new c(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(1===e?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),Object(m.a)(f,d,Object(m.b)(r,{brighter:function(e){return e=null==e?v:Math.pow(v,e),new f(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?g:Math.pow(g,e),new f(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new c(p(e>=240?e-240:e+120,i,r),p(e,i,r),p(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}t.b=r,t.a=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e}},function(e,t,n){"use strict";function r(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}t.a=r,t.b=function(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[i],a=e[i+1],s=i>0?e[i-1]:2*o-a,u=i<t-1?e[i+2]:2*a-o;return r((n-i/t)*t,s,o,a,u)}}},function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,s=r(e),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var c in n)i.call(n,c)&&(s[c]=n[c]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(n);for(var l=0;l<a.length;l++)o.call(n,a[l])&&(s[a[l]]=n[a[l]])}}return s}},function(e,t,n){"use strict";(function(t){var r=n(4),i={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,n,i){return e.addEventListener?(e.addEventListener(n,i,!0),{remove:function(){e.removeEventListener(n,i,!0)}}):("production"!==t.env.NODE_ENV&&console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:r})},registerDefault:function(){}};e.exports=i}).call(t,n(2))},function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function i(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!o.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}var o=Object.prototype.hasOwnProperty;e.exports=i},function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(e===t||!i(e)&&(i(t)?r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var i=n(63);e.exports=r},function(e,t,n){"use strict";function r(e){try{e.focus()}catch(e){}}e.exports=r},function(e,t,n){"use strict";function r(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}e.exports=r},function(e,t,n){var r=n(78);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0};i.transform=void 0;n(17)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";var r=n(90);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";var r=n(102);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";var r=n(115);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";var r=(n(130),n(131),n(27));n.d(t,"a",function(){return r.a});n(132),n(133),n(134)},function(e,t,n){"use strict";function r(e){return e.x}function i(e){return e.y}function o(e){return e.z}t.b=r,t.c=i,t.d=o;var a=n(136),s=n(44),u=n(138),c=Math.PI*(3-Math.sqrt(5)),l=Math.PI/24;t.a=function(e,t){function n(){r(),x.call("tick",h),f<p&&(b.stop(),x.call("end",h))}function r(){var t,n,r=e.length;for(f+=(g-f)*m,y.each(function(e){e(f)}),t=0;t<r;++t)n=e[t],null==n.fx?n.x+=n.vx*=v:(n.x=n.fx,n.vx=0),d>1&&(null==n.fy?n.y+=n.vy*=v:(n.y=n.fy,n.vy=0)),d>2&&(null==n.fz?n.z+=n.vz*=v:(n.z=n.fz,n.vz=0))}function i(){for(var t,n=0,r=e.length;n<r;++n){if(t=e[n],t.index=n,isNaN(t.x)||d>1&&isNaN(t.y)||d>2&&isNaN(t.z)){var i=10*(d>2?Math.cbrt(n):d>1?Math.sqrt(n):n),o=n*c,a=n*l;t.x=i*(d>1?Math.cos(o):1),d>1&&(t.y=i*Math.sin(o)),d>2&&(t.z=i*Math.sin(a))}(isNaN(t.vx)||d>1&&isNaN(t.vy)||d>2&&isNaN(t.vz))&&(t.vx=0,d>1&&(t.vy=0),d>2&&(t.vz=0))}}function o(t){return t.initialize&&t.initialize(e,d),t}t=t||2;var h,d=Math.min(3,Math.max(1,Math.round(t))),f=1,p=.001,m=1-Math.pow(p,1/300),g=0,v=.6,y=Object(s.a)(),b=Object(u.a)(n),x=Object(a.a)("tick","end");return null==e&&(e=[]),i(),h={tick:r,restart:function(){return b.restart(n),h},stop:function(){return b.stop(),h},numDimensions:function(e){return arguments.length?(d=Math.min(3,Math.max(1,Math.round(e))),y.each(o),h):d},nodes:function(t){return arguments.length?(e=t,i(),y.each(o),h):e},alpha:function(e){return arguments.length?(f=+e,h):f},alphaMin:function(e){return arguments.length?(p=+e,h):p},alphaDecay:function(e){return arguments.length?(m=+e,h):+m},alphaTarget:function(e){return arguments.length?(g=+e,h):g},velocityDecay:function(e){return arguments.length?(v=1-e,h):1-v},force:function(e,t){return arguments.length>1?(null==t?y.remove(e):y.set(e,o(t)),h):y.get(e)},find:function(){var t,n,r,i,o,a,s=Array.prototype.slice.call(arguments),u=s.shift()||0,c=(d>1?s.shift():null)||0,l=(d>2?s.shift():null)||0,h=s.shift()||1/0,f=0,p=e.length;for(h*=h,f=0;f<p;++f)o=e[f],t=u-o.x,n=c-(o.y||0),r=l-(o.z||0),(i=t*t+n*n+r*r)<h&&(a=o,h=i);return a},on:function(e,t){return arguments.length>1?(x.on(e,t),h):x.on(e)}}}},function(e,t,n){function r(e){function t(){var e,t=f.length;if(t)for(m.insertBodies(f);t--;)e=f[t],e.isPinned||(e.force.reset(),m.updateBodyForce(e),y.update(e));for(t=p.length;t--;)v.update(p[t])}var r=n(147),i=n(11),o=n(7),a=n(29);e=o(e,{springLength:30,springCoeff:8e-4,gravity:-1.2,theta:.8,dragCoeff:.02,timeStep:20,stableThreshold:.009});var s=e.createQuadTree||n(148),u=e.createBounds||n(152),c=e.createDragForce||n(153),l=e.createSpringForce||n(154),h=e.integrator||n(155),d=e.createBody||n(156),f=[],p=[],m=s(e),g=u(f,e),v=l(e),y=c(e),b=0,x=!1,_={bodies:f,springs:p,settings:e,step:function(){t(),b=h(f,e.timeStep),g.update();var n=b<e.stableThreshold;return x!==n&&_.fire("stable",n),x=n,n},addBody:function(e){if(!e)throw new Error("Body is required");return f.push(e),e},addBodyAt:function(e){if(!e)throw new Error("Body position is required");var t=d(e);return f.push(t),t},removeBody:function(e){if(e){var t=f.indexOf(e);if(!(t<0))return f.splice(t,1),0===f.length&&g.reset(),!0}},addSpring:function(e,t,n,i,o){if(!e||!t)throw new Error("Cannot add null spring to force simulator");"number"!=typeof n&&(n=-1);var a=new r(e,t,n,o>=0?o:-1,i);return p.push(a),a},getTotalMovement:function(){return b},removeSpring:function(e){if(e){var t=p.indexOf(e);return t>-1?(p.splice(t,1),!0):void 0}},getBestNewBodyPosition:function(e){return g.getBestNewPosition(e)},getBBox:function(){return g.box},gravity:function(t){return void 0!==t?(e.gravity=t,m.options({gravity:t}),this):e.gravity},theta:function(t){return void 0!==t?(e.theta=t,m.options({theta:t}),this):e.theta}};return i(e,_),a(_),_}e.exports=r},function(e,t){function n(e,t){this.pos=new r(e,t),this.prevPos=new r(e,t),this.force=new r,this.velocity=new r,this.mass=1}function r(e,t){e&&"number"!=typeof e?(this.x="number"==typeof e.x?e.x:0,this.y="number"==typeof e.y?e.y:0):(this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0)}function i(e,t,n){this.pos=new o(e,t,n),this.prevPos=new o(e,t,n),this.force=new o,this.velocity=new o,this.mass=1}function o(e,t,n){e&&"number"!=typeof e?(this.x="number"==typeof e.x?e.x:0,this.y="number"==typeof e.y?e.y:0,this.z="number"==typeof e.z?e.z:0):(this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0,this.z="number"==typeof n?n:0)}e.exports={Body:n,Vector2d:r,Body3d:i,Vector3d:o},n.prototype.setPosition=function(e,t){this.prevPos.x=this.pos.x=e,this.prevPos.y=this.pos.y=t},r.prototype.reset=function(){this.x=this.y=0},i.prototype.setPosition=function(e,t,n){this.prevPos.x=this.pos.x=e,this.prevPos.y=this.pos.y=t,this.prevPos.z=this.pos.z=n},o.prototype.reset=function(){this.x=this.y=this.z=0}},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r=Math.PI/180,i=180/Math.PI},function(e,t,n){"use strict";function r(e){return function(t){var n,r,o=t.length,a=new Array(o),s=new Array(o),u=new Array(o);for(n=0;n<o;++n)r=Object(i.f)(t[n]),a[n]=r.r||0,s[n]=r.g||0,u[n]=r.b||0;return a=e(a),s=e(s),u=e(u),r.opacity=1,function(e){return r.r=a(e),r.g=s(e),r.b=u(e),r+""}}}n.d(t,"b",function(){return u});var i=n(9),o=n(33),a=n(50),s=n(12);t.a=function e(t){function n(e,t){var n=r((e=Object(i.f)(e)).r,(t=Object(i.f)(t)).r),o=r(e.g,t.g),a=r(e.b,t.b),u=Object(s.a)(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=o(t),e.b=a(t),e.opacity=u(t),e+""}}var r=Object(s.b)(t);return n.gamma=e,n}(1);var u=r(o.b);r(a.a)},function(e,t,n){"use strict";var r=n(33);t.a=function(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t),o=e[(i+t-1)%t],a=e[i%t],s=e[(i+1)%t],u=e[(i+2)%t];return Object(r.a)((n-i/t)*t,o,a,s,u)}}},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";var r=n(30);t.a=function(e,t){var n,i=t?t.length:0,o=e?Math.min(i,e.length):0,a=new Array(i),s=new Array(i);for(n=0;n<o;++n)a[n]=Object(r.a)(e[n],t[n]);for(;n<i;++n)s[n]=t[n];return function(e){for(n=0;n<o;++n)s[n]=a[n](e);return s}}},function(e,t,n){"use strict";t.a=function(e,t){var n=new Date;return e=+e,t-=e,function(r){return n.setTime(e+t*r),n}}},function(e,t,n){"use strict";var r=n(30);t.a=function(e,t){var n,i={},o={};null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={});for(n in t)n in e?i[n]=Object(r.a)(e[n],t[n]):o[n]=t[n];return function(e){for(n in i)o[n]=i[n](e);return o}}},function(e,t,n){"use strict";function r(e){return function(){return e}}function i(e){return function(t){return e(t)+""}}var o=n(18),a=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,s=new RegExp(a.source,"g");t.a=function(e,t){var n,u,c,l=a.lastIndex=s.lastIndex=0,h=-1,d=[],f=[];for(e+="",t+="";(n=a.exec(e))&&(u=s.exec(t));)(c=u.index)>l&&(c=t.slice(l,c),d[h]?d[h]+=c:d[++h]=c),(n=n[0])===(u=u[0])?d[h]?d[h]+=u:d[++h]=u:(d[++h]=null,f.push({i:h,x:Object(o.a)(n,u)})),l=s.lastIndex;return l<t.length&&(c=t.slice(l),d[h]?d[h]+=c:d[++h]=c),d.length<2?f[0]?i(f[0].x):r(t):(t=f.length,function(e){for(var n,r=0;r<t;++r)d[(n=f[r]).i]=n.x(e);return d.join("")})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.s3=t.traditional=t.thenable=void 0;var r=n(34),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=(t.thenable=["onCancel","onPasteReceived","onSubmit","onSubmitDelete","onUpload","onUploadChunk","onValidate","onValidateBatch"],t.traditional=["onAutoRetry","onCancel","onComplete","onAllComplete","onDelete","onDeleteComplete","onError","onManualRetry","onPasteReceived","onProgress","onResume","onSessionRequestComplete","onStatusChange","onSubmit","onSubmitDelete","onSubmitted","onTotalProgress","onUpload","onUploadChunk","onUploadChunkSuccess","onValidate","onValidateBatch"]);t.s3=(0,i.default)([],o,["onCredentialsExpired"])},function(e,t,n){e.exports=n(58)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),c=r(u),l=n(61),h=r(l);n(74);var d=(n(22),n(77)),f=r(d),p=n(221),m=r(p),g=n(231),v=r(g),y=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={currentDataURL:"/graph.json",proxyUpdate:{fn:[]},eventProxyObj:{onNodeSelected:{fn:[]}}},n.dataChoose=n.dataChoose.bind(n),n}return a(t,e),s(t,[{key:"dataChoose",value:function(e){(this.state.proxyUpdate.fn||[]).forEach(function(t){return t(e)})}},{key:"render",value:function(){return c.default.createElement("div",{className:"mainContent"},c.default.createElement(m.default,{dataChoosed:this.dataChoose,initDataURL:"graph.json"}),c.default.createElement(f.default,{jsondata:this.state.proxyUpdate,eventProxy:this.state.eventProxyObj}),c.default.createElement(v.default,{jsondata:this.state.proxyUpdate,eventProxy:this.state.eventProxyObj}))}}]),t}(c.default.Component);h.default.render(c.default.createElement(y,null),document.getElementById("app"))},function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);throw t=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),t.name="Invariant Violation",t.framesToPop=1,t}function i(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||x}function o(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||x}function a(){}function s(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||x}function u(e,t,n,r,i,o,a){return{$$typeof:S,type:e,key:t,ref:n,props:a,_owner:o}}function c(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function l(e,t,n,r){if(L.length){var i=L.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function h(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>L.length&&L.push(e)}function d(e,t,n,i){var o=typeof e;if("undefined"!==o&&"boolean"!==o||(e=null),null===e||"string"===o||"number"===o||"object"===o&&e.$$typeof===P)return n(i,e,""===t?"."+f(e,0):t),1;var a=0;if(t=""===t?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){o=e[s];var u=t+f(o,s);a+=d(o,u,n,i)}else if("function"==typeof(u=A&&e[A]||e["@@iterator"]))for(e=u.call(e),s=0;!(o=e.next()).done;)o=o.value,u=t+f(o,s++),a+=d(o,u,n,i);else"object"===o&&(n=""+e,r("31","[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return a}function f(e,t){return"object"==typeof e&&null!==e&&null!=e.key?c(e.key):t.toString(36)}function p(e,t){e.func.call(e.context,t,e.count++)}function m(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?g(e,r,n,b.thatReturnsArgument):null!=e&&(u.isValidElement(e)&&(e=u.cloneAndReplaceKey(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(R,"$&/")+"/")+n)),r.push(e))}function g(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(R,"$&/")+"/"),t=l(t,o,r,i),null==e||d(e,"",m,t),h(t)}var v=n(10),y=n(13);n(5);var b=n(4),x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};i.prototype.isReactComponent={},i.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&r("85"),this.updater.enqueueSetState(this,e,t,"setState")},i.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},a.prototype=i.prototype;var _=o.prototype=new a;_.constructor=o,v(_,i.prototype),_.isPureReactComponent=!0;var w=s.prototype=new a;w.constructor=s,v(w,i.prototype),w.unstable_isAsyncReactComponent=!0,w.render=function(){return this.props.children};var E={Component:i,PureComponent:o,AsyncComponent:s},M={current:null},T=Object.prototype.hasOwnProperty,S="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,C={key:!0,ref:!0,__self:!0,__source:!0};u.createElement=function(e,t,n){var r,i={},o=null,a=null,s=null,c=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),s=void 0===t.__self?null:t.__self,c=void 0===t.__source?null:t.__source,t)T.call(t,r)&&!C.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var h=Array(l),d=0;d<l;d++)h[d]=arguments[d+2];i.children=h}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return u(e,o,a,s,c,M.current,i)},u.createFactory=function(e){var t=u.createElement.bind(null,e);return t.type=e,t},u.cloneAndReplaceKey=function(e,t){return u(e.type,t,e.ref,e._self,e._source,e._owner,e.props)},u.cloneElement=function(e,t,n){var r=v({},e.props),i=e.key,o=e.ref,a=e._self,s=e._source,c=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,c=M.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(h in t)T.call(t,h)&&!C.hasOwnProperty(h)&&(r[h]=void 0===t[h]&&void 0!==l?l[h]:t[h])}var h=arguments.length-2;if(1===h)r.children=n;else if(1<h){l=Array(h);for(var d=0;d<h;d++)l[d]=arguments[d+2];r.children=l}return u(e.type,i,o,a,s,c,r)},u.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===S};var A="function"==typeof Symbol&&Symbol.iterator,P="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,R=/\/+/g,L=[],I={forEach:function(e,t,n){if(null==e)return e;t=l(null,null,t,n),null==e||d(e,"",p,t),h(t)},map:function(e,t,n){if(null==e)return e;var r=[];return g(e,r,null,t,n),r},count:function(e){return null==e?0:d(e,"",b.thatReturnsNull,null)},toArray:function(e){var t=[];return g(e,t,null,b.thatReturnsArgument),t}};e.exports={Children:{map:I.map,forEach:I.forEach,count:I.count,toArray:I.toArray,only:function(e){return u.isValidElement(e)||r("143"),e}},Component:E.Component,PureComponent:E.PureComponent,unstable_AsyncComponent:E.AsyncComponent,createElement:u.createElement,cloneElement:u.cloneElement,isValidElement:u.isValidElement,createFactory:u.createFactory,version:"16.0.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:M,assign:v}}},function(e,t,n){"use strict";(function(t){/** @license React v16.0.0
 * react.development.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
"production"!==t.env.NODE_ENV&&function(){function t(e,t){var n=e.constructor;j(!1,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op.\n\nPlease check the code for the %s component.",t,t,n&&(n.displayName||n.name)||"ReactClass")}function r(e,t,n){this.props=e,this.context=t,this.refs=B,this.updater=n||V}function i(e,t,n){this.props=e,this.context=t,this.refs=B,this.updater=n||V}function o(){}function a(e,t,n){this.props=e,this.context=t,this.refs=B,this.updater=n||V}function s(e){if(ie.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return!1}return void 0!==e.ref}function u(e){if(ie.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return void 0!==e.key}function c(e,t){var n=function(){$||($=!0,oe(!1,"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://fb.me/react-special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"key",{get:n,configurable:!0})}function l(e,t){var n=function(){ee||(ee=!0,oe(!1,"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://fb.me/react-special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"ref",{get:n,configurable:!0})}function h(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function d(e){return(""+e).replace(Ae,"$&/")}function f(e,t,n,r){if(Re.length){var i=Re.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function p(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,Re.length<Pe&&Re.push(e)}function m(e,t,n,r){var i=typeof e;if("undefined"!==i&&"boolean"!==i||(e=null),null===e||"string"===i||"number"===i||"object"===i&&e.$$typeof===Me)return n(r,e,""===t?Te+v(e,0):t),1;var o,a,s=0,u=""===t?Te:t+Se;if(Array.isArray(e))for(var c=0;c<e.length;c++)o=e[c],a=u+v(o,c),s+=m(o,a,n,r);else{var l=we&&e[we]||e[Ee];if("function"==typeof l){l===e.entries&&(be(Ce,"Using Maps as children is unsupported and will likely yield unexpected results. Convert it to a sequence/iterable of keyed ReactElements instead.%s",_e()),Ce=!0);for(var h,d=l.call(e),f=0;!(h=d.next()).done;)o=h.value,a=u+v(o,f++),s+=m(o,a,n,r)}else if("object"===i){var p="";p=" If you meant to render a collection of children, use an array instead."+_e();var g=""+e;z(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===g?"object with keys {"+Object.keys(e).join(", ")+"}":g,p)}}return s}function g(e,t,n){return null==e?0:m(e,"",t,n)}function v(e,t){return"object"==typeof e&&null!==e&&null!=e.key?h(e.key):t.toString(36)}function y(e,t,n){var r=e.func,i=e.context;r.call(i,t,e.count++)}function b(e,t,n){if(null==e)return e;var r=f(null,null,t,n);g(e,y,r),p(r)}function x(e,t,n){var r=e.result,i=e.keyPrefix,o=e.func,a=e.context,s=o.call(a,t,e.count++);Array.isArray(s)?_(s,r,n,H.thatReturnsArgument):null!=s&&(ce.isValidElement(s)&&(s=ce.cloneAndReplaceKey(s,i+(!s.key||t&&t.key===s.key?"":d(s.key)+"/")+n)),r.push(s))}function _(e,t,n,r,i){var o="";null!=n&&(o=d(n)+"/");var a=f(t,o,r,i);g(e,x,a),p(a)}function w(e,t,n){if(null==e)return e;var r=[];return _(e,r,null,t,n),r}function E(e,t){return g(e,H.thatReturnsNull,null)}function M(e){var t=[];return _(e,t,null,H.thatReturnsArgument),t}function T(e){return ce.isValidElement(e)||z(!1,"React.Children.only expected to receive a single React element child."),e}function S(e){if("function"==typeof e.getName){return e.getName()}if("number"==typeof e.tag){var t=e,n=t.type;if("string"==typeof n)return n;if("function"==typeof n)return n.displayName||n.name}return null}function C(){if(re.current){var e=He(re.current);if(e)return"\n\nCheck the render method of `"+e+"`."}return""}function A(e){if(null!==e&&void 0!==e&&void 0!==e.__source){var t=e.__source;return"\n\nCheck your code at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+"."}return""}function P(e){var t=C();if(!t){var n="string"==typeof e?e:e.displayName||e.name;n&&(t="\n\nCheck the top-level render call using <"+n+">.")}return t}function R(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var n=P(t);if(!Xe[n]){Xe[n]=!0;var r="";e&&e._owner&&e._owner!==re.current&&(r=" It was passed a child from "+He(e._owner)+"."),qe=e,Be(!1,'Each child in an array or iterator should have a unique "key" prop.%s%s See https://fb.me/react-warning-keys for more information.%s',n,r,Ge()),qe=null}}}function L(e,t){if("object"==typeof e)if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];ce.isValidElement(r)&&R(r,t)}else if(ce.isValidElement(e))e._store&&(e._store.validated=!0);else if(e){var i=Ve&&e[Ve]||e[We];if("function"==typeof i&&i!==e.entries)for(var o,a=i.call(e);!(o=a.next()).done;)ce.isValidElement(o.value)&&R(o.value,t)}}function I(e){var t=e.type;if("function"==typeof t){var n=t.displayName||t.name,r=t.propTypes;r&&(qe=e,De(r,e.props,"prop",n,Ge),qe=null),"function"==typeof t.getDefaultProps&&Be(t.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function O(e){var t=Function.prototype.toString,n=RegExp("^"+t.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var r=t.call(e);return n.test(r)}catch(e){return!1}}function N(e){var t=de(e);if(t){var n=t.childIDs;fe(e),n.forEach(N)}}function k(e){return null==e?"#empty":"string"==typeof e||"number"==typeof e?"#text":"string"==typeof e.type?e.type:e.type.displayName||e.type.name||"Unknown"}function D(e){var t=ot.getDisplayName(e),n=ot.getElement(e),r=ot.getOwnerID(e),i=void 0;return r&&(i=ot.getDisplayName(r)),Ke(n,"ReactComponentTreeHook: Missing React element for debugID %s when building stack",e),Ne(t||"",n&&n._source,i||"")}var U=n(10),F=n(14),B=n(13),z=n(5),H=n(4),q=n(19),j=F,G={isMounted:function(e){return!1},enqueueForceUpdate:function(e,n,r){t(e,"forceUpdate")},enqueueReplaceState:function(e,n,r,i){t(e,"replaceState")},enqueueSetState:function(e,n,r,i){t(e,"setState")}},V=G,W=function(){},X=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o="Warning: "+e.replace(/%s/g,function(){return n[i++]});"undefined"!=typeof console&&console.warn(o);try{throw new Error(o)}catch(e){}};W=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(!e){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];X.apply(void 0,[t].concat(r))}};var Y=W;r.prototype.isReactComponent={},r.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&z(!1,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."),this.updater.enqueueSetState(this,e,t,"setState")},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};var Z={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]};for(var K in Z)Z.hasOwnProperty(K)&&function(e,t){Object.defineProperty(r.prototype,e,{get:function(){Y(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",t[0],t[1])}})}(K,Z[K]);o.prototype=r.prototype;var Q=i.prototype=new o;Q.constructor=i,U(Q,r.prototype),Q.isPureReactComponent=!0;var J=a.prototype=new o;J.constructor=a,U(J,r.prototype),J.unstable_isAsyncReactComponent=!0,J.render=function(){return this.props.children};var $,ee,te={Component:r,PureComponent:i,AsyncComponent:a},ne={current:null},re=ne,ie=Object.prototype.hasOwnProperty,oe=F,ae="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,se={key:!0,ref:!0,__self:!0,__source:!0},ue=function(e,t,n,r,i,o,a){var s={$$typeof:ae,type:e,key:t,ref:n,props:a,_owner:o};return s._store={},Object.defineProperty(s._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(s,"_self",{configurable:!1,enumerable:!1,writable:!1,value:r}),Object.defineProperty(s,"_source",{configurable:!1,enumerable:!1,writable:!1,value:i}),Object.freeze&&(Object.freeze(s.props),Object.freeze(s)),s};ue.createElement=function(e,t,n){var r,i={},o=null,a=null,h=null,d=null;if(null!=t){s(t)&&(a=t.ref),u(t)&&(o=""+t.key),h=void 0===t.__self?null:t.__self,d=void 0===t.__source?null:t.__source;for(r in t)ie.call(t,r)&&!se.hasOwnProperty(r)&&(i[r]=t[r])}var f=arguments.length-2;if(1===f)i.children=n;else if(f>1){for(var p=Array(f),m=0;m<f;m++)p[m]=arguments[m+2];Object.freeze&&Object.freeze(p),i.children=p}if(e&&e.defaultProps){var g=e.defaultProps;for(r in g)void 0===i[r]&&(i[r]=g[r])}if((o||a)&&(void 0===i.$$typeof||i.$$typeof!==ae)){var v="function"==typeof e?e.displayName||e.name||"Unknown":e;o&&c(i,v),a&&l(i,v)}return ue(e,o,a,h,d,re.current,i)},ue.createFactory=function(e){var t=ue.createElement.bind(null,e);return t.type=e,t},ue.cloneAndReplaceKey=function(e,t){return ue(e.type,t,e.ref,e._self,e._source,e._owner,e.props)},ue.cloneElement=function(e,t,n){var r,i=U({},e.props),o=e.key,a=e.ref,c=e._self,l=e._source,h=e._owner;if(null!=t){s(t)&&(a=t.ref,h=re.current),u(t)&&(o=""+t.key);var d;e.type&&e.type.defaultProps&&(d=e.type.defaultProps);for(r in t)ie.call(t,r)&&!se.hasOwnProperty(r)&&(void 0===t[r]&&void 0!==d?i[r]=d[r]:i[r]=t[r])}var f=arguments.length-2;if(1===f)i.children=n;else if(f>1){for(var p=Array(f),m=0;m<f;m++)p[m]=arguments[m+2];i.children=p}return ue(e.type,o,a,c,l,h,i)},ue.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===ae};var ce=ue,le={};le.getCurrentStack=null,le.getStackAddendum=function(){var e=le.getCurrentStack;return e?e():null};var he,de,fe,pe,me,ge,ve,ye=le,be=F,xe=ye,_e=xe.getStackAddendum,we="function"==typeof Symbol&&Symbol.iterator,Ee="@@iterator",Me="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Te=".",Se=":",Ce=!1,Ae=/\/+/g,Pe=10,Re=[],Le={forEach:b,map:w,count:E,toArray:M},Ie=Le,Oe=T,Ne=function(e,t,n){return"\n    in "+(e||"Unknown")+(t?" (at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+")":n?" (created by "+n+")":"")},ke=S,De=q,Ue=Y,Fe=ye,Be=F,ze=Ne,He=ke,qe=null,je=function(e){return null==e?"#empty":"string"==typeof e||"number"==typeof e?"#text":"string"==typeof e.type?e.type:e.type.displayName||e.type.name||"Unknown"},Ge=function(){var e="";if(qe){var t=je(qe),n=qe._owner;e+=ze(t,qe._source,n&&He(n))}return e+=Fe.getStackAddendum()||""},Ve="function"==typeof Symbol&&Symbol.iterator,We="@@iterator",Xe={},Ye={createElement:function(e,t,n){var r="string"==typeof e||"function"==typeof e;if(!r){var i="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(i+=" You likely forgot to export your component from the file it's defined in.");var o=A(t);i+=o||C(),i+=Fe.getStackAddendum()||"",Be(!1,"React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",null==e?e:typeof e,i)}var a=ce.createElement.apply(this,arguments);if(null==a)return a;if(r)for(var s=2;s<arguments.length;s++)L(arguments[s],e);return I(a),a},createFactory:function(e){var t=Ye.createElement.bind(null,e);return t.type=e,Object.defineProperty(t,"type",{enumerable:!1,get:function(){return Ue(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:e}),e}}),t},cloneElement:function(e,t,n){for(var r=ce.cloneElement.apply(this,arguments),i=2;i<arguments.length;i++)L(arguments[i],r.type);return I(r),r}},Ze=Ye,Ke=F,Qe="function"==typeof Array.from&&"function"==typeof Map&&O(Map)&&null!=Map.prototype&&"function"==typeof Map.prototype.keys&&O(Map.prototype.keys)&&"function"==typeof Set&&O(Set)&&null!=Set.prototype&&"function"==typeof Set.prototype.keys&&O(Set.prototype.keys);if(Qe){var Je=new Map,$e=new Set;he=function(e,t){Je.set(e,t)},de=function(e){return Je.get(e)},fe=function(e){Je.delete(e)},pe=function(){return Array.from(Je.keys())},me=function(e){$e.add(e)},ge=function(e){$e.delete(e)},ve=function(){return Array.from($e.keys())}}else{var et={},tt={},nt=function(e){return"."+e},rt=function(e){return parseInt(e.substr(1),10)};he=function(e,t){var n=nt(e);et[n]=t},de=function(e){var t=nt(e);return et[t]},fe=function(e){var t=nt(e);delete et[t]},pe=function(){return Object.keys(et).map(rt)},me=function(e){var t=nt(e);tt[t]=!0},ge=function(e){var t=nt(e);delete tt[t]},ve=function(){return Object.keys(tt).map(rt)}}var it=[],ot={onSetChildren:function(e,t){var n=de(e);n||z(!1,"Item must have been set"),n.childIDs=t;for(var r=0;r<t.length;r++){var i=t[r],o=de(i);o||z(!1,"Expected hook events to fire for the child before its parent includes it in onSetChildren()."),null==o.childIDs&&"object"==typeof o.element&&null!=o.element&&z(!1,"Expected onSetChildren() to fire for a container child before its parent includes it in onSetChildren()."),o.isMounted||z(!1,"Expected onMountComponent() to fire for the child before its parent includes it in onSetChildren()."),null==o.parentID&&(o.parentID=e),o.parentID!==e&&z(!1,"Expected onBeforeMountComponent() parent and onSetChildren() to be consistent (%s has parents %s and %s).",i,o.parentID,e)}},onBeforeMountComponent:function(e,t,n){he(e,{element:t,parentID:n,text:null,childIDs:[],isMounted:!1,updateCount:0})},onBeforeUpdateComponent:function(e,t){var n=de(e);n&&n.isMounted&&(n.element=t)},onMountComponent:function(e){var t=de(e);t||z(!1,"Item must have been set"),t.isMounted=!0,0===t.parentID&&me(e)},onUpdateComponent:function(e){var t=de(e);t&&t.isMounted&&t.updateCount++},onUnmountComponent:function(e){var t=de(e);if(t){t.isMounted=!1;0===t.parentID&&ge(e)}it.push(e)},purgeUnmountedComponents:function(){if(!ot._preventPurging){for(var e=0;e<it.length;e++){N(it[e])}it.length=0}},isMounted:function(e){var t=de(e);return!!t&&t.isMounted},getCurrentStackAddendum:function(){var e="",t=re.current;return t&&("number"==typeof t.tag&&z(!1,"Fiber owners should not show up in Stack stack traces."),"number"==typeof t._debugID&&(e+=ot.getStackAddendumByID(t._debugID))),e},getStackAddendumByID:function(e){for(var t="";e;)t+=D(e),e=ot.getParentID(e);return t},getChildIDs:function(e){var t=de(e);return t?t.childIDs:[]},getDisplayName:function(e){var t=ot.getElement(e);return t?k(t):null},getElement:function(e){var t=de(e);return t?t.element:null},getOwnerID:function(e){var t=ot.getElement(e);return t&&t._owner?t._owner._debugID:null},getParentID:function(e){var t=de(e);return t?t.parentID:null},getSource:function(e){var t=de(e),n=t?t.element:null;return null!=n?n._source:null},getText:function(e){var t=ot.getElement(e);return"string"==typeof t?t:"number"==typeof t?""+t:null},getUpdateCount:function(e){var t=de(e);return t?t.updateCount:0},getRootIDs:ve,getRegisteredIDs:pe},at=ot,st=ce.createElement,ut=ce.createFactory,ct=ce.cloneElement,lt=Ze;st=lt.createElement,ut=lt.createFactory,ct=lt.cloneElement;var ht={Children:{map:Ie.map,forEach:Ie.forEach,count:Ie.count,toArray:Ie.toArray,only:Oe},Component:te.Component,PureComponent:te.PureComponent,unstable_AsyncComponent:te.AsyncComponent,createElement:st,cloneElement:ct,isValidElement:ce.isValidElement,createFactory:ut,version:"16.0.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:re,assign:U}};U(ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,{ReactComponentTreeHook:at,ReactDebugCurrentFrame:ye});var dt=ht;e.exports=dt}()}).call(t,n(2))},function(e,t,n){"use strict";(function(t){function r(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){if("production"!==t.env.NODE_ENV)throw new Error("^_^");try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}}"production"===t.env.NODE_ENV?(r(),e.exports=n(62)):e.exports=n(65)}).call(t,n(2))},function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);throw t=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),t.name="Invariant Violation",t.framesToPop=1,t}function i(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function o(){if(At)for(var e in Pt){var t=Pt[e],n=At.indexOf(e);if(-1<n||r("96",e),!Rt.plugins[n]){t.extractEvents||r("97",e),Rt.plugins[n]=t,n=t.eventTypes;for(var i in n){var o=void 0,s=n[i],u=t,c=i;Rt.eventNameDispatchConfigs.hasOwnProperty(c)&&r("99",c),Rt.eventNameDispatchConfigs[c]=s;var l=s.phasedRegistrationNames;if(l){for(o in l)l.hasOwnProperty(o)&&a(l[o],u,c);o=!0}else s.registrationName?(a(s.registrationName,u,c),o=!0):o=!1;o||r("98",i,e)}}}}function a(e,t,n){Rt.registrationNameModules[e]&&r("100",e),Rt.registrationNameModules[e]=t,Rt.registrationNameDependencies[e]=t.eventTypes[n].dependencies}function s(e,t){return(e&t)===t}function u(e){for(var t;t=e._renderedComponent;)e=t;return e}function c(e,t){e=u(e),e._hostNode=t,t[Vt]=e}function l(e,t){if(!(e._flags&jt.hasCachedChildNodes)){var n=e._renderedChildren;t=t.firstChild;var i;e:for(i in n)if(n.hasOwnProperty(i)){var o=n[i],a=u(o)._domID;if(0!==a){for(;null!==t;t=t.nextSibling){var s=t,l=a;if(s.nodeType===zt&&s.getAttribute(qt)===""+l||s.nodeType===Ht&&s.nodeValue===" react-text: "+l+" "||s.nodeType===Ht&&s.nodeValue===" react-empty: "+l+" "){c(o,t);continue e}}r("32",a)}}e._flags|=jt.hasCachedChildNodes}}function h(e){if(e[Vt])return e[Vt];for(var t=[];!e[Vt];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}var n=e[Vt];if(n.tag===Ft||n.tag===Bt)return n;for(;e&&(n=e[Vt]);e=t.pop()){var r=n;t.length&&l(n,e)}return r}function d(e){if("function"==typeof e.getName)return e.getName();if("number"==typeof e.tag){if("string"==typeof(e=e.type))return e;if("function"==typeof e)return e.displayName||e.name}return null}function f(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if((t.effectTag&nn)!==tn)return 1;for(;t.return;)if(t=t.return,(t.effectTag&nn)!==tn)return 1}return t.tag===Jt?2:3}function p(e){2!==f(e)&&r("188")}function m(e){var t=e.alternate;if(!t)return t=f(e),3===t&&r("188"),1===t?null:e;for(var n=e,i=t;;){var o=n.return,a=o?o.alternate:null;if(!o||!a)break;if(o.child===a.child){for(var s=o.child;s;){if(s===n)return p(o),e;if(s===i)return p(o),t;s=s.sibling}r("188")}if(n.return!==i.return)n=o,i=a;else{s=!1;for(var u=o.child;u;){if(u===n){s=!0,n=o,i=a;break}if(u===i){s=!0,i=o,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,i=o;break}if(u===i){s=!0,i=a,n=o;break}u=u.sibling}s||r("189")}}n.alternate!==i&&r("190")}return n.tag!==Jt&&r("188"),n.stateNode.current===n?e:t}function g(e,t,n,r,i,o,a,s,u){on._hasCaughtError=!1,on._caughtError=null;var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){on._caughtError=e,on._hasCaughtError=!0}}function v(){if(on._hasRethrowError){var e=on._rethrowError;throw on._rethrowError=null,on._hasRethrowError=!1,e}}function y(e,t,n,r){t=e.type||"unknown-event",e.currentTarget=sn.getNodeFromInstance(r),an.invokeGuardedCallbackAndCatchFirstError(t,n,void 0,e),e.currentTarget=null}function b(e){if(e=un.getInstanceFromNode(e))if("number"==typeof e.tag){cn&&"function"==typeof cn.restoreControlledState||r("194");var t=un.getFiberCurrentPropsFromNode(e.stateNode);cn.restoreControlledState(e.stateNode,e.type,t)}else"function"!=typeof e.restoreControlledState&&r("195"),e.restoreControlledState()}function x(e,t,n,r,i,o){return e(t,n,r,i,o)}function _(e,t){return e(t)}function w(e,t){return _(e,t)}function E(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===mn?e.parentNode:e}function M(e){var t=e.targetInst;do{if(!t){e.ancestors.push(t);break}var n=t;if("number"==typeof n.tag){for(;n.return;)n=n.return;n=n.tag!==gn?null:n.stateNode.containerInfo}else{for(;n._hostParent;)n=n._hostParent;n=Xt.getNodeFromInstance(n).parentNode}if(!n)break;e.ancestors.push(t),t=Xt.getClosestInstanceFromNode(n)}while(t);for(n=0;n<e.ancestors.length;n++)t=e.ancestors[n],yn._handleTopLevel(e.topLevelType,t,e.nativeEvent,E(e.nativeEvent))}function T(e,t){return null==t&&r("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function S(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function C(e,t){e&&(un.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))}function A(e){return C(e,!0)}function P(e){return C(e,!1)}function R(e,t,n){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return!(!n.disabled||"button"!==t&&"input"!==t&&"select"!==t&&"textarea"!==t);default:return!1}}function L(e,t){if(!gt.canUseDOM||t&&!("addEventListener"in document))return!1;t="on"+e;var n=t in document;return n||(n=document.createElement("div"),n.setAttribute(t,"return;"),n="function"==typeof n[t]),!n&&St&&"wheel"===e&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}function I(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function O(e){if(En[e])return En[e];if(!wn[e])return e;var t,n=wn[e];for(t in n)if(n.hasOwnProperty(t)&&t in Mn)return En[e]=n[t];return""}function N(e){return Object.prototype.hasOwnProperty.call(e,An)||(e[An]=Cn++,Sn[e[An]]={}),Sn[e[An]]}function k(e){return!!zn.hasOwnProperty(e)||!Bn.hasOwnProperty(e)&&(Fn.test(e)?zn[e]=!0:(Bn[e]=!0,!1))}function D(){return null}function U(e){var t="";return mt.Children.forEach(e,function(e){null==e||"string"!=typeof e&&"number"!=typeof e||(t+=e)}),t}function F(e,t,n){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r)}else{for(n=""+n,t=null,r=0;r<e.length;r++){if(e[r].value===n)return void(e[r].selected=!0);null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function B(e,t){t&&(Jn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&r("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&r("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||r("61")),null!=t.style&&"object"!=typeof t.style&&r("62",""))}function z(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){var t=z(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"function"==typeof n.get&&"function"==typeof n.set)return Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:!0,get:function(){return n.get.call(this)},set:function(e){r=""+e,n.set.call(this,e)}}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}function q(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function j(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===rr)return void(n.nodeValue=t)}e.textContent=t}function G(e,t){sr(t,e.nodeType===or||e.nodeType===ar?e:e.ownerDocument)}function V(e,t){return e!==Ir&&e!==Lr||t!==Ir&&t!==Lr?e===Rr&&t!==Rr?-255:e!==Rr&&t===Rr?255:e-t:0}function W(){return{first:null,last:null,hasForceUpdate:!1,callbackList:null}}function X(e,t,n,r){null!==n?n.next=t:(t.next=e.first,e.first=t),null!==r?t.next=r:e.last=t}function Y(e,t){t=t.priorityLevel;var n=null;if(null!==e.last&&0>=V(e.last.priorityLevel,t))n=e.last;else for(e=e.first;null!==e&&0>=V(e.priorityLevel,t);)n=e,e=e.next;return n}function Z(e,t){var n=e.alternate,r=e.updateQueue;null===r&&(r=e.updateQueue=W()),null!==n?null===(e=n.updateQueue)&&(e=n.updateQueue=W()):e=null,kr=r,Dr=e!==r?e:null;var i=kr;n=Dr;var o=Y(i,t),a=null!==o?o.next:i.first;return null===n?(X(i,t,o,a),null):(r=Y(n,t),e=null!==r?r.next:n.first,X(i,t,o,a),a===e&&null!==a||o===r&&null!==o?(null===r&&(n.first=t),null===e&&(n.last=null),null):(t={priorityLevel:t.priorityLevel,partialState:t.partialState,callback:t.callback,isReplace:t.isReplace,isForced:t.isForced,isTopLevelUnmount:t.isTopLevelUnmount,next:null},X(n,t,r,e),t))}function K(e,t,n,r){return e=e.partialState,"function"==typeof e?e.call(t,n,r):e}function Q(e,t,n){e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n}function J(e){return e.tag===qr&&null!=e.type.childContextTypes}function $(e,t){var n=e.stateNode,i=e.type.childContextTypes;if("function"!=typeof n.getChildContext)return t;n=n.getChildContext();for(var o in n)o in i||r("108",d(e)||"Unknown",o);return vt({},t,n)}function ee(e,t,n){this.tag=e,this.key=t,this.stateNode=this.type=null,this.sibling=this.child=this.return=null,this.index=0,this.memoizedState=this.updateQueue=this.memoizedProps=this.pendingProps=this.ref=null,this.internalContextTag=n,this.effectTag=ci,this.lastEffect=this.firstEffect=this.nextEffect=null,this.pendingWorkPriority=si,this.alternate=null}function te(e,t,n){var i=void 0;return"function"==typeof e?(i=e.prototype&&e.prototype.isReactComponent?new ee($r,t,n):new ee(Jr,t,n),i.type=e):"string"==typeof e?(i=new ee(ti,t,n),i.type=e):"object"==typeof e&&null!==e&&"number"==typeof e.tag?i=e:r("130",null==e?e:typeof e,""),i}function ne(e){return null===e||void 0===e?null:(e=zi&&e[zi]||e["@@iterator"],"function"==typeof e?e:null)}function re(e,t){var n=t.ref;if(null!==n&&"function"!=typeof n){if(t._owner){t=t._owner;var i=void 0;t&&("number"==typeof t.tag?(t.tag!==Li&&r("110"),i=t.stateNode):i=t.getPublicInstance()),i||r("147",n);var o=""+n;return null!==e&&null!==e.ref&&e.ref._stringRef===o?e.ref:(e=function(e){var t=i.refs===xt?i.refs={}:i.refs;null===e?delete t[o]:t[o]=e},e._stringRef=o,e)}"string"!=typeof n&&r("148"),t._owner||r("149",n)}return n}function ie(e,t){"textarea"!==e.type&&r("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function oe(e,t){function n(n,r){if(t){if(!e){if(null===r.alternate)return;r=r.alternate}var i=n.lastEffect;null!==i?(i.nextEffect=r,n.lastEffect=r):n.firstEffect=n.lastEffect=r,r.nextEffect=null,r.effectTag=Bi}}function i(e,r){if(!t)return null;for(;null!==r;)n(e,r),r=r.sibling;return null}function o(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(t,n){return e?(t=wi(t,n),t.index=0,t.sibling=null,t):(t.pendingWorkPriority=n,t.effectTag=Ui,t.index=0,t.sibling=null,t)}function s(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index,r<n?(e.effectTag=Fi,n):r):(e.effectTag=Fi,n):n}function u(e){return t&&null===e.alternate&&(e.effectTag=Fi),e}function c(e,t,n,r){return null===t||t.tag!==Ii?(n=Ti(n,e.internalContextTag,r),n.return=e,n):(t=a(t,r),t.pendingProps=n,t.return=e,t)}function l(e,t,n,r){return null===t||t.type!==n.type?(r=Ei(n,e.internalContextTag,r),r.ref=re(t,n),r.return=e,r):(r=a(t,r),r.ref=re(t,n),r.pendingProps=n.props,r.return=e,r)}function h(e,t,n,r){return null===t||t.tag!==Ni?(n=Si(n,e.internalContextTag,r),n.return=e,n):(t=a(t,r),t.pendingProps=n,t.return=e,t)}function d(e,t,n,r){return null===t||t.tag!==ki?(t=Ci(n,e.internalContextTag,r),t.type=n.value,t.return=e,t):(t=a(t,r),t.type=n.value,t.return=e,t)}function f(e,t,n,r){return null===t||t.tag!==Oi||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(n=Ai(n,e.internalContextTag,r),n.return=e,n):(t=a(t,r),t.pendingProps=n.children||[],t.return=e,t)}function p(e,t,n,r){return null===t||t.tag!==Di?(n=Mi(n,e.internalContextTag,r),n.return=e,n):(t=a(t,r),t.pendingProps=n,t.return=e,t)}function m(e,t,n){if("string"==typeof t||"number"==typeof t)return t=Ti(""+t,e.internalContextTag,n),t.return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Hi:return n=Ei(t,e.internalContextTag,n),n.ref=re(null,t),n.return=e,n;case bi:return t=Si(t,e.internalContextTag,n),t.return=e,t;case xi:return n=Ci(t,e.internalContextTag,n),n.type=t.value,n.return=e,n;case _i:return t=Ai(t,e.internalContextTag,n),t.return=e,t}if(Pi(t)||ne(t))return t=Mi(t,e.internalContextTag,n),t.return=e,t;ie(e,t)}return null}function g(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:c(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Hi:return n.key===i?l(e,t,n,r):null;case bi:return n.key===i?h(e,t,n,r):null;case xi:return null===i?d(e,t,n,r):null;case _i:return n.key===i?f(e,t,n,r):null}if(Pi(n)||ne(n))return null!==i?null:p(e,t,n,r);ie(e,n)}return null}function v(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return e=e.get(n)||null,c(t,e,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Hi:return e=e.get(null===r.key?n:r.key)||null,l(t,e,r,i);case bi:return e=e.get(null===r.key?n:r.key)||null,h(t,e,r,i);case xi:return e=e.get(n)||null,d(t,e,r,i);case _i:return e=e.get(null===r.key?n:r.key)||null,f(t,e,r,i)}if(Pi(r)||ne(r))return e=e.get(n)||null,p(t,e,r,i);ie(t,r)}return null}function y(e,r,a,u){for(var c=null,l=null,h=r,d=r=0,f=null;null!==h&&d<a.length;d++){h.index>d?(f=h,h=null):f=h.sibling;var p=g(e,h,a[d],u);if(null===p){null===h&&(h=f);break}t&&h&&null===p.alternate&&n(e,h),r=s(p,r,d),null===l?c=p:l.sibling=p,l=p,h=f}if(d===a.length)return i(e,h),c;if(null===h){for(;d<a.length;d++)(h=m(e,a[d],u))&&(r=s(h,r,d),null===l?c=h:l.sibling=h,l=h);return c}for(h=o(e,h);d<a.length;d++)(f=v(h,e,d,a[d],u))&&(t&&null!==f.alternate&&h.delete(null===f.key?d:f.key),r=s(f,r,d),null===l?c=f:l.sibling=f,l=f);return t&&h.forEach(function(t){return n(e,t)}),c}function b(e,a,u,c){var l=ne(u);"function"!=typeof l&&r("150"),null==(u=l.call(u))&&r("151");for(var h=l=null,d=a,f=a=0,p=null,y=u.next();null!==d&&!y.done;f++,y=u.next()){d.index>f?(p=d,d=null):p=d.sibling;var b=g(e,d,y.value,c);if(null===b){d||(d=p);break}t&&d&&null===b.alternate&&n(e,d),a=s(b,a,f),null===h?l=b:h.sibling=b,h=b,d=p}if(y.done)return i(e,d),l;if(null===d){for(;!y.done;f++,y=u.next())null!==(y=m(e,y.value,c))&&(a=s(y,a,f),null===h?l=y:h.sibling=y,h=y);return l}for(d=o(e,d);!y.done;f++,y=u.next())null!==(y=v(d,e,f,y.value,c))&&(t&&null!==y.alternate&&d.delete(null===y.key?f:y.key),a=s(y,a,f),null===h?l=y:h.sibling=y,h=y);return t&&d.forEach(function(t){return n(e,t)}),l}return function(e,t,o,s){var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case Hi:e:{var l=o.key;for(c=t;null!==c;){if(c.key===l){if(c.type===o.type){i(e,c.sibling),t=a(c,s),t.ref=re(c,o),t.pendingProps=o.props,t.return=e,e=t;break e}i(e,c);break}n(e,c),c=c.sibling}s=Ei(o,e.internalContextTag,s),s.ref=re(t,o),s.return=e,e=s}return u(e);case bi:e:{for(c=o.key;null!==t;){if(t.key===c){if(t.tag===Ni){i(e,t.sibling),t=a(t,s),t.pendingProps=o,t.return=e,e=t;break e}i(e,t);break}n(e,t),t=t.sibling}o=Si(o,e.internalContextTag,s),o.return=e,e=o}return u(e);case xi:e:{if(null!==t){if(t.tag===ki){i(e,t.sibling),t=a(t,s),t.type=o.value,t.return=e,e=t;break e}i(e,t)}t=Ci(o,e.internalContextTag,s),t.type=o.value,t.return=e,e=t}return u(e);case _i:e:{for(c=o.key;null!==t;){if(t.key===c){if(t.tag===Oi&&t.stateNode.containerInfo===o.containerInfo&&t.stateNode.implementation===o.implementation){i(e,t.sibling),t=a(t,s),t.pendingProps=o.children||[],t.return=e,e=t;break e}i(e,t);break}n(e,t),t=t.sibling}o=Ai(o,e.internalContextTag,s),o.return=e,e=o}return u(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==t&&t.tag===Ii?(i(e,t.sibling),t=a(t,s),t.pendingProps=o,t.return=e,e=t):(i(e,t),o=Ti(o,e.internalContextTag,s),o.return=e,e=o),u(e);if(Pi(o))return y(e,t,o,s);if(ne(o))return b(e,t,o,s);if(c&&ie(e,o),void 0===o)switch(e.tag){case Li:case Ri:o=e.type,r("152",o.displayName||o.name||"Component")}return i(e,t)}}function ae(e,t,n,i){function o(e,t){t.updater=a,e.stateNode=t,Yt.set(t,e)}var a={isMounted:ro,enqueueSetState:function(n,r,i){n=Yt.get(n);var o=t(n,!1);Ji(n,r,void 0===i?null:i,o),e(n,o)},enqueueReplaceState:function(n,r,i){n=Yt.get(n);var o=t(n,!1);$i(n,r,void 0===i?null:i,o),e(n,o)},enqueueForceUpdate:function(n,r){n=Yt.get(n);var i=t(n,!1);eo(n,void 0===r?null:r,i),e(n,i)}};return{adoptClassInstance:o,constructClassInstance:function(e,t){var n=e.type,r=Ki(e),i=Qi(e),a=i?Zi(e,r):xt;return t=new n(t,a),o(e,t),i&&Yi(e,r,a),t},mountClassInstance:function(e,t){var n=e.alternate,i=e.stateNode,o=i.state||null,s=e.pendingProps;s||r("158");var u=Ki(e);i.props=s,i.state=o,i.refs=xt,i.context=Zi(e,u),Cr.enableAsyncSubtreeAPI&&null!=e.type&&null!=e.type.prototype&&!0===e.type.prototype.unstable_isAsyncReactComponent&&(e.internalContextTag|=Xi),"function"==typeof i.componentWillMount&&(u=i.state,i.componentWillMount(),u!==i.state&&a.enqueueReplaceState(i,i.state,null),null!==(u=e.updateQueue)&&(i.state=to(n,e,u,i,o,s,t))),"function"==typeof i.componentDidMount&&(e.effectTag|=Wi)},updateClassInstance:function(e,t,o){var s=t.stateNode;s.props=t.memoizedProps,s.state=t.memoizedState;var u=t.memoizedProps,c=t.pendingProps;c||null==(c=u)&&r("159");var l=s.context,h=Ki(t);if(h=Zi(t,h),"function"!=typeof s.componentWillReceiveProps||u===c&&l===h||(l=s.state,s.componentWillReceiveProps(c,h),s.state!==l&&a.enqueueReplaceState(s,s.state,null)),l=t.memoizedState,o=null!==t.updateQueue?to(e,t,t.updateQueue,s,l,c,o):l,!(u!==c||l!==o||no()||null!==t.updateQueue&&t.updateQueue.hasForceUpdate))return"function"!=typeof s.componentDidUpdate||u===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=Wi),!1;var d=c;if(null===u||null!==t.updateQueue&&t.updateQueue.hasForceUpdate)d=!0;else{var f=t.stateNode,p=t.type;d="function"==typeof f.shouldComponentUpdate?f.shouldComponentUpdate(d,o,h):!p.prototype||!p.prototype.isPureReactComponent||(!_t(u,d)||!_t(l,o))}return d?("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(c,o,h),"function"==typeof s.componentDidUpdate&&(t.effectTag|=Wi)):("function"!=typeof s.componentDidUpdate||u===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=Wi),n(t,c),i(t,o)),s.props=c,s.state=o,s.context=h,d}}}function se(e,t,n,i,o){function a(e,t,n){s(e,t,n,t.pendingWorkPriority)}function s(e,t,n,r){t.child=null===e?io(t,t.child,n,r):e.child===t.child?oo(t,t.child,n,r):ao(t,t.child,n,r)}function u(e,t){var n=t.ref;null===n||e&&e.ref===n||(t.effectTag|=Oo)}function c(e,t,n,r){if(u(e,t),!n)return r&&mo(t,!1),h(e,t);n=t.stateNode,No.current=t;var i=n.render();return t.effectTag|=Po,a(e,t,i),t.memoizedState=n.state,t.memoizedProps=n.props,r&&mo(t,!0),t.child}function l(e){var t=e.stateNode;t.pendingContext?po(e,t.pendingContext,t.pendingContext!==t.context):t.context&&po(e,t.context,!1),v(e,t.containerInfo)}function h(e,t){return so(e,t),t.child}function d(e,t){switch(t.tag){case bo:l(t);break;case yo:fo(t);break;case wo:v(t,t.stateNode.containerInfo)}return null}var f=e.shouldSetTextContent,p=e.useSyncScheduling,m=e.shouldDeprioritizeSubtree,g=t.pushHostContext,v=t.pushHostContainer,y=n.enterHydrationState,b=n.resetHydrationState,x=n.tryToClaimNextHydratableInstance;e=ae(i,o,function(e,t){e.memoizedProps=t},function(e,t){e.memoizedState=t});var _=e.adoptClassInstance,w=e.constructClassInstance,E=e.mountClassInstance,M=e.updateClassInstance;return{beginWork:function(e,t,n){if(t.pendingWorkPriority===Co||t.pendingWorkPriority>n)return d(e,t);switch(t.tag){case go:null!==e&&r("155");var i=t.type,o=t.pendingProps,s=lo(t);return s=co(t,s),i=i(o,s),t.effectTag|=Po,"object"==typeof i&&null!==i&&"function"==typeof i.render?(t.tag=yo,o=fo(t),_(t,i),E(t,n),t=c(e,t,!0,o)):(t.tag=vo,a(e,t,i),t.memoizedProps=o,t=t.child),t;case vo:e:{if(o=t.type,n=t.pendingProps,i=t.memoizedProps,ho())null===n&&(n=i);else if(null===n||i===n){t=h(e,t);break e}i=lo(t),i=co(t,i),o=o(n,i),t.effectTag|=Po,a(e,t,o),t.memoizedProps=n,t=t.child}return t;case yo:return o=fo(t),i=void 0,null===e?t.stateNode?r("153"):(w(t,t.pendingProps),E(t,n),i=!0):i=M(e,t,n),c(e,t,i,o);case bo:return l(t),i=t.updateQueue,null!==i?(o=t.memoizedState,i=uo(e,t,i,null,o,null,n),o===i?(b(),t=h(e,t)):(o=i.element,null!==e&&null!==e.child||!y(t)?(b(),a(e,t,o)):(t.effectTag|=Ro,t.child=io(t,t.child,o,n)),t.memoizedState=i,t=t.child)):(b(),t=h(e,t)),t;case xo:g(t),null===e&&x(t),o=t.type;var T=t.memoizedProps;return i=t.pendingProps,null===i&&null===(i=T)&&r("154"),s=null!==e?e.memoizedProps:null,ho()||null!==i&&T!==i?(T=i.children,f(o,i)?T=null:s&&f(o,s)&&(t.effectTag|=Lo),u(e,t),n!==Ao&&!p&&m(o,i)?(t.pendingWorkPriority=Ao,t=null):(a(e,t,T),t.memoizedProps=i,t=t.child)):t=h(e,t),t;case _o:return null===e&&x(t),e=t.pendingProps,null===e&&(e=t.memoizedProps),t.memoizedProps=e,null;case Mo:t.tag=Eo;case Eo:return n=t.pendingProps,ho()?null===n&&null===(n=e&&e.memoizedProps)&&r("154"):null!==n&&t.memoizedProps!==n||(n=t.memoizedProps),o=n.children,i=t.pendingWorkPriority,t.stateNode=null===e?io(t,t.stateNode,o,i):e.child===t.child?oo(t,t.stateNode,o,i):ao(t,t.stateNode,o,i),t.memoizedProps=n,t.stateNode;case To:return null;case wo:e:{if(v(t,t.stateNode.containerInfo),n=t.pendingWorkPriority,o=t.pendingProps,ho())null===o&&null==(o=e&&e.memoizedProps)&&r("154");else if(null===o||t.memoizedProps===o){t=h(e,t);break e}null===e?t.child=ao(t,t.child,o,n):a(e,t,o),t.memoizedProps=o,t=t.child}return t;case So:e:{if(n=t.pendingProps,ho())null===n&&(n=t.memoizedProps);else if(null===n||t.memoizedProps===n){t=h(e,t);break e}a(e,t,n),t.memoizedProps=n,t=t.child}return t;default:r("156")}},beginFailedWork:function(e,t,n){switch(t.tag){case yo:fo(t);break;case bo:l(t);break;default:r("157")}return t.effectTag|=Io,null===e?t.child=null:t.child!==e.child&&(t.child=e.child),t.pendingWorkPriority===Co||t.pendingWorkPriority>n?d(e,t):(t.firstEffect=null,t.lastEffect=null,s(e,t,null,n),t.tag===yo&&(e=t.stateNode,t.memoizedProps=e.props,t.memoizedState=e.state),t.child)}}}function ue(e,t,n){var i=e.createInstance,o=e.createTextInstance,a=e.appendInitialChild,s=e.finalizeInitialChildren,u=e.prepareUpdate,c=t.getRootHostContainer,l=t.popHostContext,h=t.getHostContext,d=t.popHostContainer,f=n.prepareToHydrateHostInstance,p=n.prepareToHydrateHostTextInstance,m=n.popHydrationState;return{completeWork:function(e,t,n){var g=t.pendingProps;switch(null===g?g=t.memoizedProps:t.pendingWorkPriority===Jo&&n!==Jo||(t.pendingProps=null),t.tag){case Bo:return null;case zo:return Do(t),null;case Ho:return d(t),Uo(t),g=t.stateNode,g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),null!==e&&null!==e.child||(m(t),t.effectTag&=~Zo),null;case qo:l(t),n=c();var v=t.type;if(null!==e&&null!=t.stateNode){var y=e.memoizedProps,b=t.stateNode,x=h();g=u(b,v,y,g,n,x),(t.updateQueue=g)&&(t.effectTag|=Qo),e.ref!==t.ref&&(t.effectTag|=Ko)}else{if(!g)return null===t.stateNode&&r("166"),null;if(e=h(),m(t))f(t,n,e)&&(t.effectTag|=Qo);else{e=i(v,g,n,e,t);e:for(y=t.child;null!==y;){if(y.tag===qo||y.tag===jo)a(e,y.stateNode);else if(y.tag!==Go&&null!==y.child){y=y.child;continue}if(y===t)break e;for(;null===y.sibling;){if(null===y.return||y.return===t)break e;y=y.return}y=y.sibling}s(e,v,g,n)&&(t.effectTag|=Qo),t.stateNode=e}null!==t.ref&&(t.effectTag|=Ko)}return null;case jo:if(e&&null!=t.stateNode)e.memoizedProps!==g&&(t.effectTag|=Qo);else{if("string"!=typeof g)return null===t.stateNode&&r("166"),null;e=c(),n=h(),m(t)?p(t)&&(t.effectTag|=Qo):t.stateNode=o(g,e,n,t)}return null;case Vo:(g=t.memoizedProps)||r("165"),t.tag=Wo,n=[];e:for((v=t.stateNode)&&(v.return=t);null!==v;){if(v.tag===qo||v.tag===jo||v.tag===Go)r("164");else if(v.tag===Xo)n.push(v.type);else if(null!==v.child){v.child.return=v,v=v.child;continue}for(;null===v.sibling;){if(null===v.return||v.return===t)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}return v=g.handler,g=v(g.props,n),t.child=ko(t,null!==e?e.child:null,g,t.pendingWorkPriority),t.child;case Wo:return t.tag=Vo,null;case Xo:case Yo:return null;case Go:return t.effectTag|=Qo,d(t),null;case Fo:r("167");default:r("156")}}}}function ce(e){return function(t){try{return e(t)}catch(e){}}}function le(e,t){function n(e){var n=e.ref;if(null!==n)try{n(null)}catch(n){t(e,n)}}function i(e){return e.tag===ia||e.tag===ra||e.tag===aa}function o(e){for(var t=e;;)if(s(t),null!==t.child&&t.tag!==aa)t.child.return=t,t=t.child;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}}function a(e){for(var t=e,n=!1,i=void 0,a=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&r("160"),n.tag){case ia:i=n.stateNode,a=!1;break e;case ra:case aa:i=n.stateNode.containerInfo,a=!0;break e}n=n.return}n=!0}if(t.tag===ia||t.tag===oa)o(t),a?v(i,t.stateNode):g(i,t.stateNode);else if(t.tag===aa?i=t.stateNode.containerInfo:s(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return,t.tag===aa&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function s(e){switch("function"==typeof ca&&ca(e),e.tag){case na:n(e);var r=e.stateNode;if("function"==typeof r.componentWillUnmount)try{r.props=e.memoizedProps,r.state=e.memoizedState,r.componentWillUnmount()}catch(n){t(e,n)}break;case ia:n(e);break;case sa:o(e.stateNode);break;case aa:a(e)}}var u=e.commitMount,c=e.commitUpdate,l=e.resetTextContent,h=e.commitTextUpdate,d=e.appendChild,f=e.appendChildToContainer,p=e.insertBefore,m=e.insertInContainerBefore,g=e.removeChild,v=e.removeChildFromContainer,y=e.getPublicInstance;return{commitPlacement:function(e){e:{for(var t=e.return;null!==t;){if(i(t)){var n=t;break e}t=t.return}r("160"),n=void 0}var o=t=void 0;switch(n.tag){case ia:t=n.stateNode,o=!1;break;case ra:case aa:t=n.stateNode.containerInfo,o=!0;break;default:r("161")}n.effectTag&fa&&(l(t),n.effectTag&=~fa);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||i(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==ia&&n.tag!==oa;){if(n.effectTag&la)continue t;if(null===n.child||n.tag===aa)continue t;n.child.return=n,n=n.child}if(!(n.effectTag&la)){n=n.stateNode;break e}}for(var a=e;;){if(a.tag===ia||a.tag===oa)n?o?m(t,a.stateNode,n):p(t,a.stateNode,n):o?f(t,a.stateNode):d(t,a.stateNode);else if(a.tag!==aa&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===e)break;for(;null===a.sibling;){if(null===a.return||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},commitDeletion:function(e){a(e),e.return=null,e.child=null,e.alternate&&(e.alternate.child=null,e.alternate.return=null)},commitWork:function(e,t){switch(t.tag){case na:break;case ia:var n=t.stateNode;if(null!=n){var i=t.memoizedProps;e=null!==e?e.memoizedProps:i;var o=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&c(n,a,o,e,i,t)}break;case oa:null===t.stateNode&&r("162"),n=t.memoizedProps,h(t.stateNode,null!==e?e.memoizedProps:n,n);break;case ra:case aa:break;default:r("163")}},commitLifeCycles:function(e,t){switch(t.tag){case na:var n=t.stateNode;if(t.effectTag&ha)if(null===e)n.props=t.memoizedProps,n.state=t.memoizedState,n.componentDidMount();else{var i=e.memoizedProps;e=e.memoizedState,n.props=t.memoizedProps,n.state=t.memoizedState,n.componentDidUpdate(i,e)}t.effectTag&da&&null!==t.updateQueue&&ua(t,t.updateQueue,n);break;case ra:e=t.updateQueue,null!==e&&ua(t,e,t.child&&t.child.stateNode);break;case ia:n=t.stateNode,null===e&&t.effectTag&ha&&u(n,t.type,t.memoizedProps,t);break;case oa:case aa:break;default:r("163")}},commitAttachRef:function(e){var t=e.ref;if(null!==t){var n=e.stateNode;switch(e.tag){case ia:t(y(n));break;default:t(n)}}},commitDetachRef:function(e){null!==(e=e.ref)&&e(null)}}}function he(e){function t(e){return e===va&&r("174"),e}var n=e.getChildHostContext,i=e.getRootHostContext,o=pa(va),a=pa(va),s=pa(va);return{getHostContext:function(){return t(o.current)},getRootHostContainer:function(){return t(s.current)},popHostContainer:function(e){ma(o,e),ma(a,e),ma(s,e)},popHostContext:function(e){a.current===e&&(ma(o,e),ma(a,e))},pushHostContainer:function(e,t){ga(s,t,e),t=i(t),ga(a,e,e),ga(o,t,e)},pushHostContext:function(e){var r=t(s.current),i=t(o.current);r=n(i,e.type,r),i!==r&&(ga(a,e,e),ga(o,r,e))},resetHostContainer:function(){o.current=va,s.current=va}}}function de(e){function t(e,t){var n=Ea();n.stateNode=t,n.return=e,n.effectTag=_a,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function n(e,t){switch(e.tag){case ya:return a(t,e.type,e.pendingProps);case ba:return s(t,e.pendingProps);default:return!1}}function i(e){for(e=e.return;null!==e&&e.tag!==ya&&e.tag!==xa;)e=e.return;p=e}var o=e.shouldSetTextContent,a=e.canHydrateInstance,s=e.canHydrateTextInstance,u=e.getNextHydratableSibling,c=e.getFirstHydratableChild,l=e.hydrateInstance,h=e.hydrateTextInstance,d=e.didNotHydrateInstance,f=e.didNotFindHydratableInstance;if(e=e.didNotFindHydratableTextInstance,!(a&&s&&u&&c&&l&&h&&d&&f&&e))return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){r("175")},prepareToHydrateHostTextInstance:function(){r("176")},popHydrationState:function(){return!1}};var p=null,m=null,g=!1;return{enterHydrationState:function(e){return m=c(e.stateNode.containerInfo),p=e,g=!0},resetHydrationState:function(){m=p=null,g=!1},tryToClaimNextHydratableInstance:function(e){if(g){var r=m;if(r){if(!n(e,r)){if(!(r=u(r))||!n(e,r))return e.effectTag|=wa,g=!1,void(p=e);t(p,m)}e.stateNode=r,p=e,m=c(r)}else e.effectTag|=wa,g=!1,p=e}},prepareToHydrateHostInstance:function(e,t,n){return t=l(e.stateNode,e.type,e.memoizedProps,t,n,e),e.updateQueue=t,null!==t},prepareToHydrateHostTextInstance:function(e){return h(e.stateNode,e.memoizedProps,e)},popHydrationState:function(e){if(e!==p)return!1;if(!g)return i(e),g=!0,!1;var n=e.type;if(e.tag!==ya||"head"!==n&&"body"!==n&&!o(n,e.memoizedProps))for(n=m;n;)t(e,n),n=u(n);return i(e),m=p?u(e.stateNode):null,!0}}}function fe(e){function t(){for(;null!==W&&W.current.pendingWorkPriority===Ra;){W.isScheduled=!1;var e=W.nextScheduledRoot;if(W.nextScheduledRoot=null,W===X)return X=W=null,j=Ra,null;W=e}e=W;for(var t=null,n=Ra;null!==e;)e.current.pendingWorkPriority!==Ra&&(n===Ra||n>e.current.pendingWorkPriority)&&(n=e.current.pendingWorkPriority,t=e),e=e.nextScheduledRoot;null!==t?(j=n,Ta(),Qa(),w(),q=Ca(t.current,n),t!==ie&&(re=0,ie=t)):(j=Ra,ie=q=null)}function n(n){ee=!0,V=null;var i=n.stateNode;if(i.current===n&&r("177"),j!==La&&j!==Ia||re++,Sa.current=null,n.effectTag>Ua)if(null!==n.lastEffect){n.lastEffect.nextEffect=n;var o=n.firstEffect}else o=n;else o=n.firstEffect;for(k(),G=o;null!==G;){var a=!1,s=void 0;try{for(;null!==G;){var u=G.effectTag;if(u&qa&&e.resetTextContent(G.stateNode),u&Va){var c=G.alternate;null!==c&&I(c)}switch(u&~(ja|Ga|qa|Va|Ua)){case Fa:C(G),G.effectTag&=~Fa;break;case za:C(G),G.effectTag&=~Fa,P(G.alternate,G);break;case Ba:P(G.alternate,G);break;case Ha:te=!0,A(G),te=!1}G=G.nextEffect}}catch(e){a=!0,s=e}a&&(null===G&&r("178"),h(G,s),null!==G&&(G=G.nextEffect))}for(D(),i.current=n,G=o;null!==G;){i=!1,o=void 0;try{for(;null!==G;){var l=G.effectTag;if(l&(Ba|ja)&&R(G.alternate,G),l&Va&&L(G),l&Ga)switch(a=G,s=void 0,null!==Z&&(s=Z.get(a),Z.delete(a),null==s&&null!==a.alternate&&(a=a.alternate,s=Z.get(a),Z.delete(a))),null==s&&r("184"),a.tag){case Za:a.stateNode.componentDidCatch(s.error,{componentStack:s.componentStack});break;case Wa:null===J&&(J=s.error);break;default:r("157")}var d=G.nextEffect;G.nextEffect=null,G=d}}catch(e){i=!0,o=e}i&&(null===G&&r("178"),h(G,o),null!==G&&(G=G.nextEffect))}ee=!1,"function"==typeof Pa&&Pa(n.stateNode),Q&&(Q.forEach(v),Q=null),t()}function i(e){for(;;){var t=S(e.alternate,e,j),n=e.return,r=e.sibling,i=e;if(!(i.pendingWorkPriority!==Ra&&i.pendingWorkPriority>j)){for(var o=Ka(i),a=i.child;null!==a;)o=Aa(o,a.pendingWorkPriority),a=a.sibling;i.pendingWorkPriority=o}if(null!==t)return t;if(null!==n&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),e.effectTag>Ua&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e)),null!==r)return r;if(null===n){V=e;break}e=n}return null}function o(e){var t=M(e.alternate,e,j);return null===t&&(t=i(e)),Sa.current=null,t}function a(e){var t=T(e.alternate,e,j);return null===t&&(t=i(e)),Sa.current=null,t}function s(e){l(ka,e)}function u(){if(null!==Z&&0<Z.size&&j===Ia)for(;null!==q;){var e=q;if(null===(q=null!==Z&&(Z.has(e)||null!==e.alternate&&Z.has(e.alternate))?a(q):o(q))&&(null===V&&r("179"),U=Ia,n(V),U=j,null===Z||0===Z.size||j!==Ia))break}}function c(e,i){if(null!==V?(U=Ia,n(V),u()):null===q&&t(),!(j===Ra||j>e)){U=j;e:for(;;){if(j<=Ia)for(;null!==q&&!(null===(q=o(q))&&(null===V&&r("179"),U=Ia,n(V),U=j,u(),j===Ra||j>e||j>Ia)););else if(null!==i)for(;null!==q&&!B;)if(1<i.timeRemaining()){if(null===(q=o(q)))if(null===V&&r("179"),1<i.timeRemaining()){if(U=Ia,n(V),U=j,u(),j===Ra||j>e||j<Oa)break}else B=!0}else B=!0;switch(j){case La:case Ia:if(j<=e)continue e;break e;case Oa:case Na:case ka:if(null===i)break e;if(!B&&j<=e)continue e;break e;case Ra:break e;default:r("181")}}}}function l(e,t){F&&r("182"),F=!0;var n=U,i=!1,o=null;try{c(e,t)}catch(e){i=!0,o=e}for(;i;){if($){J=o;break}var u=q;if(null===u)$=!0;else{var l=h(u,o);if(null===l&&r("183"),!$){try{i=l,o=e,l=t;for(var d=i;null!==u;){switch(u.tag){case Za:Ma(u);break;case Xa:_(u);break;case Wa:x(u);break;case Ya:x(u)}if(u===d||u.alternate===d)break;u=u.return}q=a(i),c(o,l)}catch(e){i=!0,o=e;continue}break}}}if(U=n,null!==t&&(Y=!1),j>Ia&&!Y&&(O(s),Y=!0),e=J,$=B=F=!1,ie=K=Z=J=null,re=0,null!==e)throw e}function h(e,t){var n=Sa.current=null,r=!1,i=!1,o=null;if(e.tag===Wa)n=e,f(e)&&($=!0);else for(var a=e.return;null!==a&&null===n;){if(a.tag===Za?"function"==typeof a.stateNode.componentDidCatch&&(r=!0,o=d(a),n=a,i=!0):a.tag===Wa&&(n=a),f(a)){if(te||null!==Q&&(Q.has(a)||null!==a.alternate&&Q.has(a.alternate)))return null;n=null,i=!1}a=a.return}if(null!==n){null===K&&(K=new Set),K.add(n);var s="";a=e;do{e:switch(a.tag){case di:case fi:case pi:case mi:var u=a._debugOwner,c=a._debugSource,l=d(a),h=null;u&&(h=d(u)),u=c,l="\n    in "+(l||"Unknown")+(u?" (at "+u.fileName.replace(/^.*[\\\/]/,"")+":"+u.lineNumber+")":h?" (created by "+h+")":"");break e;default:l=""}s+=l,a=a.return}while(a);a=s,e=d(e),null===Z&&(Z=new Map),t={componentName:e,componentStack:a,error:t,errorBoundary:r?n.stateNode:null,errorBoundaryFound:r,errorBoundaryName:o,willRetry:i},Z.set(n,t);try{console.error(t.error)}catch(e){console.error(e)}return ee?(null===Q&&(Q=new Set),Q.add(n)):v(n),n}return null===J&&(J=t),null}function f(e){return null!==K&&(K.has(e)||null!==e.alternate&&K.has(e.alternate))}function p(e,t){return m(e,t,!1)}function m(e,t){re>ne&&($=!0,r("185")),!F&&t<=j&&(q=null);for(var n=!0;null!==e&&n;){if(n=!1,(e.pendingWorkPriority===Ra||e.pendingWorkPriority>t)&&(n=!0,e.pendingWorkPriority=t),null!==e.alternate&&(e.alternate.pendingWorkPriority===Ra||e.alternate.pendingWorkPriority>t)&&(n=!0,e.alternate.pendingWorkPriority=t),null===e.return){if(e.tag!==Wa)break;var i=e.stateNode;if(t===Ra||i.isScheduled||(i.isScheduled=!0,X?X.nextScheduledRoot=i:W=i,X=i),!F)switch(t){case La:H?l(La,null):l(Ia,null);break;case Ia:z||r("186");break;default:Y||(O(s),Y=!0)}}e=e.return}}function g(e,t){var n=U;return n===Ra&&(n=!N||e.internalContextTag&Da||t?Na:La),n===La&&(F||z)?Ia:n}function v(e){m(e,Ia,!0)}var y=he(e),b=de(e),x=y.popHostContainer,_=y.popHostContext,w=y.resetHostContainer,E=se(e,y,b,p,g),M=E.beginWork,T=E.beginFailedWork,S=ue(e,y,b).completeWork;y=le(e,h);var C=y.commitPlacement,A=y.commitDeletion,P=y.commitWork,R=y.commitLifeCycles,L=y.commitAttachRef,I=y.commitDetachRef,O=e.scheduleDeferredCallback,N=e.useSyncScheduling,k=e.prepareForCommit,D=e.resetAfterCommit,U=Ra,F=!1,B=!1,z=!1,H=!1,q=null,j=Ra,G=null,V=null,W=null,X=null,Y=!1,Z=null,K=null,Q=null,J=null,$=!1,ee=!1,te=!1,ne=1e3,re=0,ie=null;return{scheduleUpdate:p,getPriorityContext:g,batchedUpdates:function(e,t){var n=z;z=!0;try{return e(t)}finally{z=n,F||z||l(Ia,null)}},unbatchedUpdates:function(e){var t=H,n=z;H=z,z=!1;try{return e()}finally{z=n,H=t}},flushSync:function(e){var t=z,n=U;z=!0,U=La;try{return e()}finally{z=t,U=n,F&&r("187"),l(Ia,null)}},deferredUpdates:function(e){var t=U;U=Na;try{return e()}finally{U=t}}}}function pe(){r("196")}function me(e){return e?(e=Yt.get(e),"number"==typeof e.tag?pe(e):e._processChildContext(e._context)):xt}function ge(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ve(e,t){var n=ge(e);e=0;for(var r;n;){if(n.nodeType===os){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ge(n)}}function ye(){return!as&&gt.canUseDOM&&(as="textContent"in document.documentElement?"textContent":"innerText"),as}function be(){r("211")}function xe(){r("212")}function _e(e){if(null==e)return null;if(e.nodeType===hs)return e;var t=Yt.get(e);if(t)return"number"==typeof t.tag?be(t):xe(t);"function"==typeof e.render?r("188"):r("213",Object.keys(e))}function we(e){if(void 0!==e._hostParent)return e._hostParent;if("number"==typeof e.tag){do{e=e.return}while(e&&e.tag!==ds);if(e)return e}return null}function Ee(e,t){for(var n=0,r=e;r;r=we(r))n++;r=0;for(var i=t;i;i=we(i))r++;for(;0<n-r;)e=we(e),n--;for(;0<r-n;)t=we(t),r--;for(;n--;){if(e===t||e===t.alternate)return e;e=we(e),t=we(t)}return null}function Me(e,t,n){(t=ps(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=T(n._dispatchListeners,t),n._dispatchInstances=T(n._dispatchInstances,e))}function Te(e){e&&e.dispatchConfig.phasedRegistrationNames&&fs.traverseTwoPhase(e._targetInst,Me,e)}function Se(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;t=t?fs.getParentInstance(t):null,fs.traverseTwoPhase(t,Me,e)}}function Ce(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=ps(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=T(n._dispatchListeners,t),n._dispatchInstances=T(n._dispatchInstances,e))}function Ae(e){e&&e.dispatchConfig.registrationName&&Ce(e._targetInst,null,e)}function Pe(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface;for(var i in e)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?bt.thatReturnsTrue:bt.thatReturnsFalse,this.isPropagationStopped=bt.thatReturnsFalse,this}function Re(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Le(e){e instanceof this||r("223"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Ie(e){e.eventPool=[],e.getPooled=Re,e.release=Le}function Oe(e,t,n,r){return Pe.call(this,e,t,n,r)}function Ne(e,t,n,r){return Pe.call(this,e,t,n,r)}function ke(e,t){switch(e){case"topKeyUp":return-1!==_s.indexOf(t.keyCode);case"topKeyDown":return 229!==t.keyCode;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function De(e){return e=e.detail,"object"==typeof e&&"data"in e?e.data:null}function Ue(e,t){switch(e){case"topCompositionEnd":return De(t);case"topKeyPress":return 32!==t.which?null:(Rs=!0,As);case"topTextInput":return e=t.data,e===As&&Rs?null:e;default:return null}}function Fe(e,t){if(Ls)return"topCompositionEnd"===e||!ws&&ke(e,t)?(e=ys.getData(),ys.reset(),Ls=!1,e):null;switch(e){case"topPaste":return null;case"topKeyPress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"topCompositionEnd":return Cs?null:t.data;default:return null}}function Be(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Os[e.type]:"textarea"===t}function ze(e,t,n){return e=Pe.getPooled(Ns.change,e,t,n),e.type="change",dn.enqueueStateRestore(n),ms.accumulateTwoPhaseDispatches(e),e}function He(e){_n.enqueueEvents(e),_n.processEventQueue(!1)}function qe(e){var t=Xt.getNodeFromInstance(e);if($n.updateValueIfChanged(t))return e}function je(e,t){if("topChange"===e)return t}function Ge(){ks&&(ks.detachEvent("onpropertychange",Ve),Ds=ks=null)}function Ve(e){"value"===e.propertyName&&qe(Ds)&&(e=ze(Ds,e,E(e)),pn.batchedUpdates(He,e))}function We(e,t,n){"topFocus"===e?(Ge(),ks=t,Ds=n,ks.attachEvent("onpropertychange",Ve)):"topBlur"===e&&Ge()}function Xe(e){if("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)return qe(Ds)}function Ye(e,t){if("topClick"===e)return qe(t)}function Ze(e,t){if("topInput"===e||"topChange"===e)return qe(t)}function Ke(e,t,n,r){return Pe.call(this,e,t,n,r)}function Qe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Bs[e])&&!!t[e]}function Je(){return Qe}function $e(e,t,n,r){return Pe.call(this,e,t,n,r)}function et(e,t){if(Ys||null==Vs||Vs!==Mt())return null;var n=Vs;return"selectionStart"in n&&ls.hasSelectionCapabilities(n)?n={start:n.selectionStart,end:n.selectionEnd}:window.getSelection?(n=window.getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}):n=void 0,Xs&&_t(Xs,n)?null:(Xs=n,e=Pe.getPooled(Gs.select,Ws,e,t),e.type="select",e.target=Vs,ms.accumulateTwoPhaseDispatches(e),e)}function tt(e,t,n,r){return Pe.call(this,e,t,n,r)}function nt(e,t,n,r){return Pe.call(this,e,t,n,r)}function rt(e,t,n,r){return Pe.call(this,e,t,n,r)}function it(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,32<=e||13===e?e:0}function ot(e,t,n,r){return Pe.call(this,e,t,n,r)}function at(e,t,n,r){return Pe.call(this,e,t,n,r)}function st(e,t,n,r){return Pe.call(this,e,t,n,r)}function ut(e,t,n,r){return Pe.call(this,e,t,n,r)}function ct(e,t,n,r){return Pe.call(this,e,t,n,r)}function lt(e){return e[1].toUpperCase()}function ht(e){return!(!e||e.nodeType!==fu&&e.nodeType!==gu&&e.nodeType!==vu&&(e.nodeType!==mu||" react-mount-point-unstable "!==e.nodeValue))}function dt(e){return!(!(e=e?e.nodeType===gu?e.documentElement:e.firstChild:null)||e.nodeType!==fu||!e.hasAttribute(yu))}function ft(e,t,n,i,o){ht(n)||r("200");var a=n._reactRootContainer;if(a)ku.updateContainer(t,a,e,o);else{if(!i&&!dt(n))for(i=void 0;i=n.lastChild;)n.removeChild(i);var s=ku.createContainer(n);a=n._reactRootContainer=s,ku.unbatchedUpdates(function(){ku.updateContainer(t,s,e,o)})}return ku.getPublicRootInstance(a)}function pt(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return ht(t)||r("200"),yi.createPortal(e,t,null,n)}var mt=n(3);n(5);var gt=n(21),vt=n(10),yt=n(35),bt=n(4),xt=n(13),_t=n(36),wt=n(37),Et=n(38),Mt=n(39);mt||r("227");var Tt,St,Ct={Namespaces:{html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},getIntrinsicNamespace:i,getChildNamespace:function(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?i(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}},At=null,Pt={},Rt={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){At&&r("101"),At=Array.prototype.slice.call(e),o()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];Pt.hasOwnProperty(t)&&Pt[t]===i||(Pt[t]&&r("102",t),Pt[t]=i,n=!0)}n&&o()}},Lt=Rt,It={children:!0,dangerouslySetInnerHTML:!0,autoFocus:!0,defaultValue:!0,defaultChecked:!0,innerHTML:!0,suppressContentEditableWarning:!0,style:!0},Ot={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,HAS_STRING_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=Ot,n=e.Properties||{},i=e.DOMAttributeNamespaces||{},o=e.DOMAttributeNames||{};e=e.DOMMutationMethods||{};for(var a in n){Nt.properties.hasOwnProperty(a)&&r("48",a);var u=a.toLowerCase(),c=n[a];u={attributeName:u,attributeNamespace:null,propertyName:a,mutationMethod:null,mustUseProperty:s(c,t.MUST_USE_PROPERTY),hasBooleanValue:s(c,t.HAS_BOOLEAN_VALUE),hasNumericValue:s(c,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:s(c,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:s(c,t.HAS_OVERLOADED_BOOLEAN_VALUE),hasStringBooleanValue:s(c,t.HAS_STRING_BOOLEAN_VALUE)},1>=u.hasBooleanValue+u.hasNumericValue+u.hasOverloadedBooleanValue||r("50",a),o.hasOwnProperty(a)&&(u.attributeName=o[a]),i.hasOwnProperty(a)&&(u.attributeNamespace=i[a]),e.hasOwnProperty(a)&&(u.mutationMethod=e[a]),Nt.properties[a]=u}}},Nt={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",ATTRIBUTE_NAME_CHAR:":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},shouldSetAttribute:function(e,t){if(Nt.isReservedProp(e)||!("o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1]))return!1;if(null===t)return!0;switch(typeof t){case"boolean":return Nt.shouldAttributeAcceptBooleanValue(e);case"undefined":case"number":case"string":case"object":return!0;default:return!1}},getPropertyInfo:function(e){return Nt.properties.hasOwnProperty(e)?Nt.properties[e]:null},shouldAttributeAcceptBooleanValue:function(e){if(Nt.isReservedProp(e))return!0;var t=Nt.getPropertyInfo(e);return t?t.hasBooleanValue||t.hasStringBooleanValue||t.hasOverloadedBooleanValue:"data-"===(e=e.toLowerCase().slice(0,5))||"aria-"===e},isReservedProp:function(e){return It.hasOwnProperty(e)},injection:Ot},kt=Nt,Dt={IndeterminateComponent:0,FunctionalComponent:1,ClassComponent:2,HostRoot:3,HostPortal:4,HostComponent:5,HostText:6,CoroutineComponent:7,CoroutineHandlerPhase:8,YieldComponent:9,Fragment:10},Ut={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_FRAGMENT_NODE:11},Ft=Dt.HostComponent,Bt=Dt.HostText,zt=Ut.ELEMENT_NODE,Ht=Ut.COMMENT_NODE,qt=kt.ID_ATTRIBUTE_NAME,jt={hasCachedChildNodes:1},Gt=Math.random().toString(36).slice(2),Vt="__reactInternalInstance$"+Gt,Wt="__reactEventHandlers$"+Gt,Xt={getClosestInstanceFromNode:h,getInstanceFromNode:function(e){var t=e[Vt];return t?t.tag===Ft||t.tag===Bt?t:t._hostNode===e?t:null:(t=h(e),null!=t&&t._hostNode===e?t:null)},getNodeFromInstance:function(e){if(e.tag===Ft||e.tag===Bt)return e.stateNode;if(void 0===e._hostNode&&r("33"),e._hostNode)return e._hostNode;for(var t=[];!e._hostNode;)t.push(e),e._hostParent||r("34"),e=e._hostParent;for(;t.length;e=t.pop())l(e,e._hostNode);return e._hostNode},precacheChildNodes:l,precacheNode:c,uncacheNode:function(e){var t=e._hostNode;t&&(delete t[Vt],e._hostNode=null)},precacheFiberNode:function(e,t){t[Vt]=e},getFiberCurrentPropsFromNode:function(e){return e[Wt]||null},updateFiberProps:function(e,t){e[Wt]=t}},Yt={remove:function(e){e._reactInternalFiber=void 0},get:function(e){return e._reactInternalFiber},has:function(e){return void 0!==e._reactInternalFiber},set:function(e,t){e._reactInternalFiber=t}},Zt={ReactCurrentOwner:mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner},Kt={NoEffect:0,PerformedWork:1,Placement:2,Update:4,PlacementAndUpdate:6,Deletion:8,ContentReset:16,Callback:32,Err:64,Ref:128},Qt=Dt.HostComponent,Jt=Dt.HostRoot,$t=Dt.HostPortal,en=Dt.HostText,tn=Kt.NoEffect,nn=Kt.Placement,rn={isFiberMounted:function(e){return 2===f(e)},isMounted:function(e){return!!(e=Yt.get(e))&&2===f(e)},findCurrentFiberUsingSlowPath:m,findCurrentHostFiber:function(e){if(!(e=m(e)))return null;for(var t=e;;){if(t.tag===Qt||t.tag===en)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null},findCurrentHostFiberWithNoPortals:function(e){if(!(e=m(e)))return null;for(var t=e;;){if(t.tag===Qt||t.tag===en)return t;if(t.child&&t.tag!==$t)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}},on={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,injection:{injectErrorUtils:function(e){"function"!=typeof e.invokeGuardedCallback&&r("197"),g=e.invokeGuardedCallback}},invokeGuardedCallback:function(e,t,n,r,i,o,a,s,u){g.apply(on,arguments)},invokeGuardedCallbackAndCatchFirstError:function(e,t,n,r,i,o,a,s,u){if(on.invokeGuardedCallback.apply(this,arguments),on.hasCaughtError()){var c=on.clearCaughtError();on._hasRethrowError||(on._hasRethrowError=!0,on._rethrowError=c)}},rethrowCaughtError:function(){return v.apply(on,arguments)},hasCaughtError:function(){return on._hasCaughtError},clearCaughtError:function(){if(on._hasCaughtError){var e=on._caughtError;return on._caughtError=null,on._hasCaughtError=!1,e}r("198")}},an=on,sn={isEndish:function(e){return"topMouseUp"===e||"topTouchEnd"===e||"topTouchCancel"===e},isMoveish:function(e){return"topMouseMove"===e||"topTouchMove"===e},isStartish:function(e){return"topMouseDown"===e||"topTouchStart"===e},executeDirectDispatch:function(e){var t=e._dispatchListeners,n=e._dispatchInstances;return Array.isArray(t)&&r("103"),e.currentTarget=t?sn.getNodeFromInstance(n):null,t=t?t(e):null,e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,t},executeDispatchesInOrder:function(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)y(e,t,n[i],r[i]);else n&&y(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null},executeDispatchesInOrderStopAtTrue:function(e){e:{var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r])){t=n[r];break e}}else if(t&&t(e,n)){t=n;break e}t=null}return e._dispatchInstances=null,e._dispatchListeners=null,t},hasDispatches:function(e){return!!e._dispatchListeners},getFiberCurrentPropsFromNode:function(e){return Tt.getFiberCurrentPropsFromNode(e)},getInstanceFromNode:function(e){return Tt.getInstanceFromNode(e)},getNodeFromInstance:function(e){return Tt.getNodeFromInstance(e)},injection:{injectComponentTree:function(e){Tt=e}}},un=sn,cn=null,ln=null,hn=null,dn={injection:{injectFiberControlledHostComponent:function(e){cn=e}},enqueueStateRestore:function(e){ln?hn?hn.push(e):hn=[e]:ln=e},restoreStateIfNeeded:function(){if(ln){var e=ln,t=hn;if(hn=ln=null,b(e),t)for(e=0;e<t.length;e++)b(t[e])}}},fn=!1,pn={batchedUpdates:function(e,t){if(fn)return x(w,e,t);fn=!0;try{return x(w,e,t)}finally{fn=!1,dn.restoreStateIfNeeded()}},injection:{injectStackBatchedUpdates:function(e){x=e},injectFiberBatchedUpdates:function(e){_=e}}},mn=Ut.TEXT_NODE,gn=Dt.HostRoot,vn=[],yn={_enabled:!0,_handleTopLevel:null,setHandleTopLevel:function(e){yn._handleTopLevel=e},setEnabled:function(e){yn._enabled=!!e},isEnabled:function(){return yn._enabled},trapBubbledEvent:function(e,t,n){return n?yt.listen(n,t,yn.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){return n?yt.capture(n,t,yn.dispatchEvent.bind(null,e)):null},dispatchEvent:function(e,t){if(yn._enabled){var n=E(t);if(n=Xt.getClosestInstanceFromNode(n),null===n||"number"!=typeof n.tag||rn.isFiberMounted(n)||(n=null),vn.length){var r=vn.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{pn.batchedUpdates(M,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>vn.length&&vn.push(e)}}}},bn=yn,xn=null,_n={injection:{injectEventPluginOrder:Lt.injectEventPluginOrder,injectEventPluginsByName:Lt.injectEventPluginsByName},getListener:function(e,t){if("number"==typeof e.tag){var n=e.stateNode;if(!n)return null;var i=un.getFiberCurrentPropsFromNode(n);if(!i)return null;if(n=i[t],R(t,e.type,i))return null}else{if("string"==typeof(i=e._currentElement)||"number"==typeof i||!e._rootNodeID)return null;if(e=i.props,n=e[t],R(t,i.type,e))return null}return n&&"function"!=typeof n&&r("231",t,typeof n),n},extractEvents:function(e,t,n,r){for(var i,o=Lt.plugins,a=0;a<o.length;a++){var s=o[a];s&&(s=s.extractEvents(e,t,n,r))&&(i=T(i,s))}return i},enqueueEvents:function(e){e&&(xn=T(xn,e))},processEventQueue:function(e){var t=xn;xn=null,e?S(t,A):S(t,P),xn&&r("95"),an.rethrowCaughtError()}};gt.canUseDOM&&(St=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""));var wn={animationend:I("Animation","AnimationEnd"),animationiteration:I("Animation","AnimationIteration"),animationstart:I("Animation","AnimationStart"),transitionend:I("Transition","TransitionEnd")},En={},Mn={};gt.canUseDOM&&(Mn=document.createElement("div").style,"AnimationEvent"in window||(delete wn.animationend.animation,delete wn.animationiteration.animation,delete wn.animationstart.animation),"TransitionEvent"in window||delete wn.transitionend.transition);var Tn={topAbort:"abort",topAnimationEnd:O("animationend")||"animationend",topAnimationIteration:O("animationiteration")||"animationiteration",topAnimationStart:O("animationstart")||"animationstart",topBlur:"blur",topCancel:"cancel",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topClose:"close",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoad:"load",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topToggle:"toggle",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:O("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},Sn={},Cn=0,An="_reactListenersID"+(""+Math.random()).slice(2),Pn=vt({},{handleTopLevel:function(e,t,n,r){e=_n.extractEvents(e,t,n,r),_n.enqueueEvents(e),_n.processEventQueue(!1)}},{setEnabled:function(e){bn&&bn.setEnabled(e)},isEnabled:function(){return!(!bn||!bn.isEnabled())},listenTo:function(e,t){var n=N(t);e=Lt.registrationNameDependencies[e];for(var r=0;r<e.length;r++){var i=e[r];n.hasOwnProperty(i)&&n[i]||("topWheel"===i?L("wheel")?bn.trapBubbledEvent("topWheel","wheel",t):L("mousewheel")?bn.trapBubbledEvent("topWheel","mousewheel",t):bn.trapBubbledEvent("topWheel","DOMMouseScroll",t):"topScroll"===i?bn.trapCapturedEvent("topScroll","scroll",t):"topFocus"===i||"topBlur"===i?(bn.trapCapturedEvent("topFocus","focus",t),bn.trapCapturedEvent("topBlur","blur",t),n.topBlur=!0,n.topFocus=!0):"topCancel"===i?(L("cancel",!0)&&bn.trapCapturedEvent("topCancel","cancel",t),n.topCancel=!0):"topClose"===i?(L("close",!0)&&bn.trapCapturedEvent("topClose","close",t),n.topClose=!0):Tn.hasOwnProperty(i)&&bn.trapBubbledEvent(i,Tn[i],t),n[i]=!0)}},isListeningToAllDependencies:function(e,t){t=N(t),e=Lt.registrationNameDependencies[e];for(var n=0;n<e.length;n++){var r=e[n];if(!t.hasOwnProperty(r)||!t[r])return!1}return!0},trapBubbledEvent:function(e,t,n){return bn.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return bn.trapCapturedEvent(e,t,n)}}),Rn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ln=["Webkit","ms","Moz","O"];Object.keys(Rn).forEach(function(e){Ln.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rn[t]=Rn[e]})});var In={isUnitlessNumber:Rn,shorthandPropertyExpansions:{background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}}},On=In.isUnitlessNumber,Nn=!1;if(gt.canUseDOM){var kn=document.createElement("div").style;try{kn.font=""}catch(e){Nn=!0}}var Dn,Un={createDangerousStringForStyles:function(){},setValueForStyles:function(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=n,o=t[n];if(i=null==o||"boolean"==typeof o||""===o?"":r||"number"!=typeof o||0===o||On.hasOwnProperty(i)&&On[i]?(""+o).trim():o+"px","float"===n&&(n="cssFloat"),r)e.setProperty(n,i);else if(i)e[n]=i;else if(r=Nn&&In.shorthandPropertyExpansions[n])for(var a in r)e[a]="";else e[n]=""}}},Fn=new RegExp("^["+kt.ATTRIBUTE_NAME_START_CHAR+"]["+kt.ATTRIBUTE_NAME_CHAR+"]*$"),Bn={},zn={},Hn={setAttributeForID:function(e,t){e.setAttribute(kt.ID_ATTRIBUTE_NAME,t)},setAttributeForRoot:function(e){e.setAttribute(kt.ROOT_ATTRIBUTE_NAME,"")},getValueForProperty:function(){},getValueForAttribute:function(){},setValueForProperty:function(e,t,n){var r=kt.getPropertyInfo(t);if(r&&kt.shouldSetAttribute(t,n)){var i=r.mutationMethod;i?i(e,n):null==n||r.hasBooleanValue&&!n||r.hasNumericValue&&isNaN(n)||r.hasPositiveNumericValue&&1>n||r.hasOverloadedBooleanValue&&!1===n?Hn.deleteValueForProperty(e,t):r.mustUseProperty?e[r.propertyName]=n:(t=r.attributeName,(i=r.attributeNamespace)?e.setAttributeNS(i,t,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&!0===n?e.setAttribute(t,""):e.setAttribute(t,""+n))}else Hn.setValueForAttribute(e,t,kt.shouldSetAttribute(t,n)?n:null)},setValueForAttribute:function(e,t,n){k(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))},deleteValueForAttribute:function(e,t){e.removeAttribute(t)},deleteValueForProperty:function(e,t){var n=kt.getPropertyInfo(t);n?(t=n.mutationMethod)?t(e,void 0):n.mustUseProperty?e[n.propertyName]=!n.hasBooleanValue&&"":e.removeAttribute(n.attributeName):e.removeAttribute(t)}},qn=Hn,jn=Zt.ReactDebugCurrentFrame,Gn={current:null,phase:null,resetCurrentFiber:function(){jn.getCurrentStack=null,Gn.current=null,Gn.phase=null},setCurrentFiber:function(e,t){jn.getCurrentStack=D,Gn.current=e,Gn.phase=t},getCurrentFiberOwnerName:function(){return null},getCurrentFiberStackAddendum:D},Vn=Gn,Wn={getHostProps:function(e,t){var n=t.value,r=t.checked;return vt({type:void 0,step:void 0,min:void 0,max:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked})},initWrapperState:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}},updateWrapper:function(e,t){var n=t.checked;null!=n&&qn.setValueForProperty(e,"checked",n||!1),n=t.value,null!=n?0===n&&""===e.value?e.value="0":"number"===t.type?(t=parseFloat(e.value)||0,(n!=t||n==t&&e.value!=n)&&(e.value=""+n)):e.value!==""+n&&(e.value=""+n):(null==t.value&&null!=t.defaultValue&&e.defaultValue!==""+t.defaultValue&&(e.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked))},postMountWrapper:function(e,t){switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":e.value="",e.value=e.defaultValue;break;default:e.value=e.value}t=e.name,""!==t&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!e.defaultChecked,""!==t&&(e.name=t)},restoreControlledState:function(e,t){Wn.updateWrapper(e,t);var n=t.name;if("radio"===t.type&&null!=n){for(t=e;t.parentNode;)t=t.parentNode;for(n=t.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=Xt.getFiberCurrentPropsFromNode(i);o||r("90"),Wn.updateWrapper(i,o)}}}}},Xn=Wn,Yn={validateProps:function(){},postMountWrapper:function(e,t){null!=t.value&&e.setAttribute("value",t.value)},getHostProps:function(e,t){return e=vt({children:void 0},t),(t=U(t.children))&&(e.children=t),e}},Zn={getHostProps:function(e,t){return vt({},t,{value:void 0})},initWrapperState:function(e,t){var n=t.value;e._wrapperState={initialValue:null!=n?n:t.defaultValue,wasMultiple:!!t.multiple}},postMountWrapper:function(e,t){e.multiple=!!t.multiple;var n=t.value;null!=n?F(e,!!t.multiple,n):null!=t.defaultValue&&F(e,!!t.multiple,t.defaultValue)},postUpdateWrapper:function(e,t){e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=!!t.multiple;var r=t.value;null!=r?F(e,!!t.multiple,r):n!==!!t.multiple&&(null!=t.defaultValue?F(e,!!t.multiple,t.defaultValue):F(e,!!t.multiple,t.multiple?[]:""))},restoreControlledState:function(e,t){var n=t.value;null!=n&&F(e,!!t.multiple,n)}},Kn={getHostProps:function(e,t){return null!=t.dangerouslySetInnerHTML&&r("91"),vt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})},initWrapperState:function(e,t){var n=t.value,i=n;null==n&&(n=t.defaultValue,t=t.children,null!=t&&(null!=n&&r("92"),Array.isArray(t)&&(1>=t.length||r("93"),t=t[0]),n=""+t),null==n&&(n=""),i=n),e._wrapperState={initialValue:""+i}},updateWrapper:function(e,t){var n=t.value;null!=n&&(n=""+n,n!==e.value&&(e.value=n),null==t.defaultValue&&(e.defaultValue=n)),null!=t.defaultValue&&(e.defaultValue=t.defaultValue)},postMountWrapper:function(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)},restoreControlledState:function(e,t){Kn.updateWrapper(e,t)}},Qn=Kn,Jn=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),$n={_getTrackerFromNode:function(e){return e._valueTracker},track:function(e){e._valueTracker||(e._valueTracker=H(e))},updateValueIfChanged:function(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=z(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)},stopTracking:function(e){(e=e._valueTracker)&&e.stopTracking()}},er=Ct.Namespaces,tr=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if(e.namespaceURI!==er.svg||"innerHTML"in e)e.innerHTML=t;else for(Dn=Dn||document.createElement("div"),Dn.innerHTML="<svg>"+t+"</svg>",t=Dn.firstChild;t.firstChild;)e.appendChild(t.firstChild)}),nr=/["'&<>]/,rr=Ut.TEXT_NODE;gt.canUseDOM&&("textContent"in document.documentElement||(j=function(e,t){if(e.nodeType===rr)e.nodeValue=t;else{if("boolean"==typeof t||"number"==typeof t)t=""+t;else{t=""+t;var n=nr.exec(t);if(n){var r,i="",o=0;for(r=n.index;r<t.length;r++){switch(t.charCodeAt(r)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#x27;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}o!==r&&(i+=t.substring(o,r)),o=r+1,i+=n}t=o!==r?i+t.substring(o,r):i}}tr(e,t)}}));var ir=j,or=(Vn.getCurrentFiberOwnerName,Ut.DOCUMENT_NODE),ar=Ut.DOCUMENT_FRAGMENT_NODE,sr=Pn.listenTo,ur=Lt.registrationNameModules,cr=Ct.Namespaces.html,lr=Ct.getIntrinsicNamespace,hr={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},dr={createElement:function(e,t,n,r){return n=n.nodeType===or?n:n.ownerDocument,r===cr&&(r=lr(e)),r===cr?"script"===e?(e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):e="string"==typeof t.is?n.createElement(e,{is:t.is}):n.createElement(e):e=n.createElementNS(r,e),e},createTextNode:function(e,t){return(t.nodeType===or?t:t.ownerDocument).createTextNode(e)},setInitialProperties:function(e,t,n,r){var i=q(t,n);switch(t){case"iframe":case"object":Pn.trapBubbledEvent("topLoad","load",e);var o=n;break;case"video":case"audio":for(o in hr)hr.hasOwnProperty(o)&&Pn.trapBubbledEvent(o,hr[o],e);o=n;break;case"source":Pn.trapBubbledEvent("topError","error",e),o=n;break;case"img":case"image":Pn.trapBubbledEvent("topError","error",e),Pn.trapBubbledEvent("topLoad","load",e),o=n;break;case"form":Pn.trapBubbledEvent("topReset","reset",e),Pn.trapBubbledEvent("topSubmit","submit",e),o=n;break;case"details":Pn.trapBubbledEvent("topToggle","toggle",e),o=n;break;case"input":Xn.initWrapperState(e,n),o=Xn.getHostProps(e,n),Pn.trapBubbledEvent("topInvalid","invalid",e),G(r,"onChange");break;case"option":Yn.validateProps(e,n),o=Yn.getHostProps(e,n);break;case"select":Zn.initWrapperState(e,n),o=Zn.getHostProps(e,n),Pn.trapBubbledEvent("topInvalid","invalid",e),G(r,"onChange");break;case"textarea":Qn.initWrapperState(e,n),o=Qn.getHostProps(e,n),Pn.trapBubbledEvent("topInvalid","invalid",e),G(r,"onChange");break;default:o=n}B(t,o);var a,s=o;for(a in s)if(s.hasOwnProperty(a)){var u=s[a];"style"===a?Un.setValueForStyles(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&tr(e,u):"children"===a?"string"==typeof u?ir(e,u):"number"==typeof u&&ir(e,""+u):"suppressContentEditableWarning"!==a&&(ur.hasOwnProperty(a)?null!=u&&G(r,a):i?qn.setValueForAttribute(e,a,u):null!=u&&qn.setValueForProperty(e,a,u))}switch(t){case"input":$n.track(e),Xn.postMountWrapper(e,n);break;case"textarea":$n.track(e),Qn.postMountWrapper(e,n);break;case"option":Yn.postMountWrapper(e,n);break;case"select":Zn.postMountWrapper(e,n);break;default:"function"==typeof o.onClick&&(e.onclick=bt)}},diffProperties:function(e,t,n,r,i){var o=null;switch(t){case"input":n=Xn.getHostProps(e,n),r=Xn.getHostProps(e,r),o=[];break;case"option":n=Yn.getHostProps(e,n),r=Yn.getHostProps(e,r),o=[];break;case"select":n=Zn.getHostProps(e,n),r=Zn.getHostProps(e,r),o=[];break;case"textarea":n=Qn.getHostProps(e,n),r=Qn.getHostProps(e,r),o=[];break;default:"function"!=typeof n.onClick&&"function"==typeof r.onClick&&(e.onclick=bt)}B(t,r);var a,s;e=null;for(a in n)if(!r.hasOwnProperty(a)&&n.hasOwnProperty(a)&&null!=n[a])if("style"===a)for(s in t=n[a])t.hasOwnProperty(s)&&(e||(e={}),e[s]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&(ur.hasOwnProperty(a)?o||(o=[]):(o=o||[]).push(a,null));for(a in r){var u=r[a];if(t=null!=n?n[a]:void 0,r.hasOwnProperty(a)&&u!==t&&(null!=u||null!=t))if("style"===a)if(t){for(s in t)!t.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(e||(e={}),e[s]="");for(s in u)u.hasOwnProperty(s)&&t[s]!==u[s]&&(e||(e={}),e[s]=u[s])}else e||(o||(o=[]),o.push(a,e)),e=u;else"dangerouslySetInnerHTML"===a?(u=u?u.__html:void 0,t=t?t.__html:void 0,null!=u&&t!==u&&(o=o||[]).push(a,""+u)):"children"===a?t===u||"string"!=typeof u&&"number"!=typeof u||(o=o||[]).push(a,""+u):"suppressContentEditableWarning"!==a&&(ur.hasOwnProperty(a)?(null!=u&&G(i,a),o||t===u||(o=[])):(o=o||[]).push(a,u))}return e&&(o=o||[]).push("style",e),o},updateProperties:function(e,t,n,r,i){q(n,r),r=q(n,i);for(var o=0;o<t.length;o+=2){var a=t[o],s=t[o+1];"style"===a?Un.setValueForStyles(e,s):"dangerouslySetInnerHTML"===a?tr(e,s):"children"===a?ir(e,s):r?null!=s?qn.setValueForAttribute(e,a,s):qn.deleteValueForAttribute(e,a):null!=s?qn.setValueForProperty(e,a,s):qn.deleteValueForProperty(e,a)}switch(n){case"input":Xn.updateWrapper(e,i),$n.updateValueIfChanged(e);break;case"textarea":Qn.updateWrapper(e,i);break;case"select":Zn.postUpdateWrapper(e,i)}},diffHydratedProperties:function(e,t,n,r,i){switch(t){case"iframe":case"object":Pn.trapBubbledEvent("topLoad","load",e);break;case"video":case"audio":for(var o in hr)hr.hasOwnProperty(o)&&Pn.trapBubbledEvent(o,hr[o],e);break;case"source":Pn.trapBubbledEvent("topError","error",e);break;case"img":case"image":Pn.trapBubbledEvent("topError","error",e),Pn.trapBubbledEvent("topLoad","load",e);break;case"form":Pn.trapBubbledEvent("topReset","reset",e),Pn.trapBubbledEvent("topSubmit","submit",e);break;case"details":Pn.trapBubbledEvent("topToggle","toggle",e);break;case"input":Xn.initWrapperState(e,n),Pn.trapBubbledEvent("topInvalid","invalid",e),G(i,"onChange");break;case"option":Yn.validateProps(e,n);break;case"select":Zn.initWrapperState(e,n),Pn.trapBubbledEvent("topInvalid","invalid",e),G(i,"onChange");break;case"textarea":Qn.initWrapperState(e,n),Pn.trapBubbledEvent("topInvalid","invalid",e),G(i,"onChange")}B(t,n),r=null;for(var a in n)n.hasOwnProperty(a)&&(o=n[a],"children"===a?"string"==typeof o?e.textContent!==o&&(r=["children",o]):"number"==typeof o&&e.textContent!==""+o&&(r=["children",""+o]):ur.hasOwnProperty(a)&&null!=o&&G(i,a));switch(t){case"input":$n.track(e),Xn.postMountWrapper(e,n);break;case"textarea":$n.track(e),Qn.postMountWrapper(e,n);break;case"select":case"option":break;default:"function"==typeof n.onClick&&(e.onclick=bt)}return r},diffHydratedText:function(e,t){return e.nodeValue!==t},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(e,t,n){switch(t){case"input":Xn.restoreControlledState(e,n);break;case"textarea":Qn.restoreControlledState(e,n);break;case"select":Zn.restoreControlledState(e,n)}}},fr=void 0;if(gt.canUseDOM)if("function"!=typeof requestIdleCallback){var pr=null,mr=null,gr=!1,vr=!1,yr=0,br=33,xr=33,_r={timeRemaining:"object"==typeof performance&&"function"==typeof performance.now?function(){return yr-performance.now()}:function(){return yr-Date.now()}},wr="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){e.source===window&&e.data===wr&&(gr=!1,e=mr,mr=null,null!==e&&e(_r))},!1);var Er=function(e){vr=!1;var t=e-yr+xr;t<xr&&br<xr?(8>t&&(t=8),xr=t<br?br:t):br=t,yr=e+xr,gr||(gr=!0,window.postMessage(wr,"*")),t=pr,pr=null,null!==t&&t(e)};fr=function(e){return mr=e,vr||(vr=!0,requestAnimationFrame(Er)),0}}else fr=requestIdleCallback;else fr=function(e){return setTimeout(function(){e({timeRemaining:function(){return 1/0}})}),0};var Mr,Tr,Sr={rIC:fr},Cr={enableAsyncSubtreeAPI:!0},Ar={NoWork:0,SynchronousPriority:1,TaskPriority:2,HighPriority:3,LowPriority:4,OffscreenPriority:5},Pr=Kt.Callback,Rr=Ar.NoWork,Lr=Ar.SynchronousPriority,Ir=Ar.TaskPriority,Or=Dt.ClassComponent,Nr=Dt.HostRoot,kr=void 0,Dr=void 0,Ur={addUpdate:function(e,t,n,r){Z(e,{priorityLevel:r,partialState:t,callback:n,isReplace:!1,isForced:!1,isTopLevelUnmount:!1,next:null})},addReplaceUpdate:function(e,t,n,r){Z(e,{priorityLevel:r,partialState:t,callback:n,isReplace:!0,isForced:!1,isTopLevelUnmount:!1,next:null})},addForceUpdate:function(e,t,n){Z(e,{priorityLevel:n,partialState:null,callback:t,isReplace:!1,isForced:!0,isTopLevelUnmount:!1,next:null})},getUpdatePriority:function(e){var t=e.updateQueue;return null===t||e.tag!==Or&&e.tag!==Nr?Rr:null!==t.first?t.first.priorityLevel:Rr},addTopLevelUpdate:function(e,t,n,r){var i=null===t.element;t={priorityLevel:r,partialState:t,callback:n,isReplace:!1,isForced:!1,isTopLevelUnmount:i,next:null},e=Z(e,t),i&&(i=kr,n=Dr,null!==i&&null!==t.next&&(t.next=null,i.last=t),null!==n&&null!==e&&null!==e.next&&(e.next=null,n.last=t))},beginUpdateQueue:function(e,t,n,r,i,o,a){null!==e&&e.updateQueue===n&&(n=t.updateQueue={first:n.first,last:n.last,callbackList:null,hasForceUpdate:!1}),e=n.callbackList;for(var s=n.hasForceUpdate,u=!0,c=n.first;null!==c&&0>=V(c.priorityLevel,a);){n.first=c.next,null===n.first&&(n.last=null);var l;c.isReplace?(i=K(c,r,i,o),u=!0):(l=K(c,r,i,o))&&(i=u?vt({},i,l):vt(i,l),u=!1),c.isForced&&(s=!0),null===c.callback||c.isTopLevelUnmount&&null!==c.next||(e=null!==e?e:[],e.push(c.callback),t.effectTag|=Pr),c=c.next}return n.callbackList=e,n.hasForceUpdate=s,null!==n.first||null!==e||s||(t.updateQueue=null),i},commitCallbacks:function(e,t,n){if(null!==(e=t.callbackList))for(t.callbackList=null,t=0;t<e.length;t++){var i=e[t];"function"!=typeof i&&r("191",i),i.call(n)}}},Fr=[],Br=-1,zr={createCursor:function(e){return{current:e}},isEmpty:function(){return-1===Br},pop:function(e){0>Br||(e.current=Fr[Br],Fr[Br]=null,Br--)},push:function(e,t){Br++,Fr[Br]=e.current,e.current=t},reset:function(){for(;-1<Br;)Fr[Br]=null,Br--}},Hr=rn.isFiberMounted,qr=Dt.ClassComponent,jr=Dt.HostRoot,Gr=zr.createCursor,Vr=zr.pop,Wr=zr.push,Xr=Gr(xt),Yr=Gr(!1),Zr=xt,Kr={getUnmaskedContext:function(e){return J(e)?Zr:Xr.current},cacheContext:Q,getMaskedContext:function(e,t){var n=e.type.contextTypes;if(!n)return xt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&Q(e,t,o),o},hasContextChanged:function(){return Yr.current},isContextConsumer:function(e){return e.tag===qr&&null!=e.type.contextTypes},isContextProvider:J,popContextProvider:function(e){J(e)&&(Vr(Yr,e),Vr(Xr,e))},popTopLevelContextObject:function(e){Vr(Yr,e),Vr(Xr,e)},pushTopLevelContextObject:function(e,t,n){null!=Xr.cursor&&r("168"),Wr(Xr,t,e),Wr(Yr,n,e)},processChildContext:$,pushContextProvider:function(e){if(!J(e))return!1;var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||xt,Zr=Xr.current,Wr(Xr,t,e),Wr(Yr,Yr.current,e),!0},invalidateContextProvider:function(e,t){var n=e.stateNode;if(n||r("169"),t){var i=$(e,Zr);n.__reactInternalMemoizedMergedChildContext=i,Vr(Yr,e),Vr(Xr,e),Wr(Xr,i,e)}else Vr(Yr,e);Wr(Yr,t,e)},resetContext:function(){Zr=xt,Xr.current=xt,Yr.current=!1},findCurrentUnmaskedContext:function(e){for(Hr(e)&&e.tag===qr?void 0:r("170");e.tag!==jr;){if(J(e))return e.stateNode.__reactInternalMemoizedMergedChildContext;(e=e.return)||r("171")}return e.stateNode.context}},Qr={NoContext:0,AsyncUpdates:1},Jr=Dt.IndeterminateComponent,$r=Dt.ClassComponent,ei=Dt.HostRoot,ti=Dt.HostComponent,ni=Dt.HostText,ri=Dt.HostPortal,ii=Dt.CoroutineComponent,oi=Dt.YieldComponent,ai=Dt.Fragment,si=Ar.NoWork,ui=Qr.NoContext,ci=Kt.NoEffect,li={createWorkInProgress:function(e,t){var n=e.alternate;return null===n?(n=new ee(e.tag,e.key,e.internalContextTag),n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.effectTag=ci,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.pendingWorkPriority=t,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n},createHostRootFiber:function(){return new ee(ei,null,ui)},createFiberFromElement:function(e,t,n){return t=te(e.type,e.key,t),t.pendingProps=e.props,t.pendingWorkPriority=n,t},createFiberFromFragment:function(e,t,n){return t=new ee(ai,null,t),t.pendingProps=e,t.pendingWorkPriority=n,t},createFiberFromText:function(e,t,n){return t=new ee(ni,null,t),t.pendingProps=e,t.pendingWorkPriority=n,t},createFiberFromElementType:te,createFiberFromHostInstanceForDeletion:function(){var e=new ee(ti,null,ui);return e.type="DELETED",e},createFiberFromCoroutine:function(e,t,n){return t=new ee(ii,e.key,t),t.type=e.handler,t.pendingProps=e,t.pendingWorkPriority=n,t},createFiberFromYield:function(e,t){return new ee(oi,null,t)},createFiberFromPortal:function(e,t,n){return t=new ee(ri,e.key,t),t.pendingProps=e.children||[],t.pendingWorkPriority=n,t.stateNode={containerInfo:e.containerInfo,implementation:e.implementation},t},largerPriority:function(e,t){return e!==si&&(t===si||t>e)?e:t}},hi=li.createHostRootFiber,di=Dt.IndeterminateComponent,fi=Dt.FunctionalComponent,pi=Dt.ClassComponent,mi=Dt.HostComponent;"function"==typeof Symbol&&Symbol.for?(Mr=Symbol.for("react.coroutine"),Tr=Symbol.for("react.yield")):(Mr=60104,Tr=60105);var gi={createCoroutine:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Mr,key:null==r?null:""+r,children:e,handler:t,props:n}},createYield:function(e){return{$$typeof:Tr,value:e}},isCoroutine:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Mr},isYield:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Tr},REACT_YIELD_TYPE:Tr,REACT_COROUTINE_TYPE:Mr},vi="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.portal")||60106,yi={createPortal:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:vi,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},isPortal:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===vi},REACT_PORTAL_TYPE:vi},bi=gi.REACT_COROUTINE_TYPE,xi=gi.REACT_YIELD_TYPE,_i=yi.REACT_PORTAL_TYPE,wi=li.createWorkInProgress,Ei=li.createFiberFromElement,Mi=li.createFiberFromFragment,Ti=li.createFiberFromText,Si=li.createFiberFromCoroutine,Ci=li.createFiberFromYield,Ai=li.createFiberFromPortal,Pi=Array.isArray,Ri=Dt.FunctionalComponent,Li=Dt.ClassComponent,Ii=Dt.HostText,Oi=Dt.HostPortal,Ni=Dt.CoroutineComponent,ki=Dt.YieldComponent,Di=Dt.Fragment,Ui=Kt.NoEffect,Fi=Kt.Placement,Bi=Kt.Deletion,zi="function"==typeof Symbol&&Symbol.iterator,Hi="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,qi=oe(!0,!0),ji=oe(!1,!0),Gi=oe(!1,!1),Vi={reconcileChildFibers:qi,reconcileChildFibersInPlace:ji,mountChildFibersInPlace:Gi,cloneChildFibers:function(e,t){if(null!==e&&t.child!==e.child&&r("153"),null!==t.child){e=t.child;var n=wi(e,e.pendingWorkPriority);for(n.pendingProps=e.pendingProps,t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,n=n.sibling=wi(e,e.pendingWorkPriority),n.pendingProps=e.pendingProps,n.return=t;n.sibling=null}}},Wi=Kt.Update,Xi=Qr.AsyncUpdates,Yi=Kr.cacheContext,Zi=Kr.getMaskedContext,Ki=Kr.getUnmaskedContext,Qi=Kr.isContextConsumer,Ji=Ur.addUpdate,$i=Ur.addReplaceUpdate,eo=Ur.addForceUpdate,to=Ur.beginUpdateQueue,no=Kr.hasContextChanged,ro=rn.isMounted,io=Vi.mountChildFibersInPlace,oo=Vi.reconcileChildFibers,ao=Vi.reconcileChildFibersInPlace,so=Vi.cloneChildFibers,uo=Ur.beginUpdateQueue,co=Kr.getMaskedContext,lo=Kr.getUnmaskedContext,ho=Kr.hasContextChanged,fo=Kr.pushContextProvider,po=Kr.pushTopLevelContextObject,mo=Kr.invalidateContextProvider,go=Dt.IndeterminateComponent,vo=Dt.FunctionalComponent,yo=Dt.ClassComponent,bo=Dt.HostRoot,xo=Dt.HostComponent,_o=Dt.HostText,wo=Dt.HostPortal,Eo=Dt.CoroutineComponent,Mo=Dt.CoroutineHandlerPhase,To=Dt.YieldComponent,So=Dt.Fragment,Co=Ar.NoWork,Ao=Ar.OffscreenPriority,Po=Kt.PerformedWork,Ro=Kt.Placement,Lo=Kt.ContentReset,Io=Kt.Err,Oo=Kt.Ref,No=Zt.ReactCurrentOwner,ko=Vi.reconcileChildFibers,Do=Kr.popContextProvider,Uo=Kr.popTopLevelContextObject,Fo=Dt.IndeterminateComponent,Bo=Dt.FunctionalComponent,zo=Dt.ClassComponent,Ho=Dt.HostRoot,qo=Dt.HostComponent,jo=Dt.HostText,Go=Dt.HostPortal,Vo=Dt.CoroutineComponent,Wo=Dt.CoroutineHandlerPhase,Xo=Dt.YieldComponent,Yo=Dt.Fragment,Zo=Kt.Placement,Ko=Kt.Ref,Qo=Kt.Update,Jo=Ar.OffscreenPriority,$o=null,ea=null,ta={injectInternals:function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t.supportsFiber)return!0;try{var n=t.inject(e);$o=ce(function(e){return t.onCommitFiberRoot(n,e)}),ea=ce(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}return!0},onCommitRoot:function(e){"function"==typeof $o&&$o(e)},onCommitUnmount:function(e){"function"==typeof ea&&ea(e)}},na=Dt.ClassComponent,ra=Dt.HostRoot,ia=Dt.HostComponent,oa=Dt.HostText,aa=Dt.HostPortal,sa=Dt.CoroutineComponent,ua=Ur.commitCallbacks,ca=ta.onCommitUnmount,la=Kt.Placement,ha=Kt.Update,da=Kt.Callback,fa=Kt.ContentReset,pa=zr.createCursor,ma=zr.pop,ga=zr.push,va={},ya=Dt.HostComponent,ba=Dt.HostText,xa=Dt.HostRoot,_a=Kt.Deletion,wa=Kt.Placement,Ea=li.createFiberFromHostInstanceForDeletion,Ma=Kr.popContextProvider,Ta=zr.reset,Sa=Zt.ReactCurrentOwner,Ca=li.createWorkInProgress,Aa=li.largerPriority,Pa=ta.onCommitRoot,Ra=Ar.NoWork,La=Ar.SynchronousPriority,Ia=Ar.TaskPriority,Oa=Ar.HighPriority,Na=Ar.LowPriority,ka=Ar.OffscreenPriority,Da=Qr.AsyncUpdates,Ua=Kt.PerformedWork,Fa=Kt.Placement,Ba=Kt.Update,za=Kt.PlacementAndUpdate,Ha=Kt.Deletion,qa=Kt.ContentReset,ja=Kt.Callback,Ga=Kt.Err,Va=Kt.Ref,Wa=Dt.HostRoot,Xa=Dt.HostComponent,Ya=Dt.HostPortal,Za=Dt.ClassComponent,Ka=Ur.getUpdatePriority,Qa=Kr.resetContext;me._injectFiber=function(e){pe=e};var Ja=Ur.addTopLevelUpdate,$a=Kr.findCurrentUnmaskedContext,es=Kr.isContextProvider,ts=Kr.processChildContext,ns=Dt.HostComponent,rs=rn.findCurrentHostFiber,is=rn.findCurrentHostFiberWithNoPortals;me._injectFiber(function(e){var t=$a(e);return es(e)?ts(e,t,!1):t});var os=Ut.TEXT_NODE,as=null,ss={getOffsets:function(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,r=t.anchorOffset,i=t.focusNode,o=t.focusOffset,a=t.getRangeAt(0);try{a.startContainer.nodeType,a.endContainer.nodeType}catch(e){return null}t=t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset?0:a.toString().length;var s=a.cloneRange();return s.selectNodeContents(e),s.setEnd(a.startContainer,a.startOffset),e=s.startContainer===s.endContainer&&s.startOffset===s.endOffset?0:s.toString().length,a=e+t,t=document.createRange(),t.setStart(n,r),t.setEnd(i,o),n=t.collapsed,{start:n?a:e,end:n?e:a}},setOffsets:function(e,t){if(window.getSelection){var n=window.getSelection(),r=e[ye()].length,i=Math.min(t.start,r);if(t=void 0===t.end?i:Math.min(t.end,r),!n.extend&&i>t&&(r=t,t=i,i=r),r=ve(e,i),e=ve(e,t),r&&e){var o=document.createRange();o.setStart(r.node,r.offset),n.removeAllRanges(),i>t?(n.addRange(o),n.extend(e.node,e.offset)):(o.setEnd(e.node,e.offset),n.addRange(o))}}}},us=Ut.ELEMENT_NODE,cs={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=Mt();return{focusedElem:e,selectionRange:cs.hasSelectionCapabilities(e)?cs.getSelection(e):null}},restoreSelection:function(e){var t=Mt(),n=e.focusedElem;if(e=e.selectionRange,t!==n&&wt(document.documentElement,n)){for(cs.hasSelectionCapabilities(n)&&cs.setSelection(n,e),t=[],e=n;e=e.parentNode;)e.nodeType===us&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(Et(n),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}},getSelection:function(e){return("selectionStart"in e?{start:e.selectionStart,end:e.selectionEnd}:ss.getOffsets(e))||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;void 0===r&&(r=n),"selectionStart"in e?(e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length)):ss.setOffsets(e,t)}},ls=cs,hs=Ut.ELEMENT_NODE;_e._injectFiber=function(e){be=e},_e._injectStack=function(e){xe=e};var ds=Dt.HostComponent,fs={isAncestor:function(e,t){for(;t;){if(e===t||e===t.alternate)return!0;t=we(t)}return!1},getLowestCommonAncestor:Ee,getParentInstance:function(e){return we(e)},traverseTwoPhase:function(e,t,n){for(var r=[];e;)r.push(e),e=we(e);for(e=r.length;0<e--;)t(r[e],"captured",n);for(e=0;e<r.length;e++)t(r[e],"bubbled",n)},traverseEnterLeave:function(e,t,n,r,i){for(var o=e&&t?Ee(e,t):null,a=[];e&&e!==o;)a.push(e),e=we(e);for(e=[];t&&t!==o;)e.push(t),t=we(t);for(t=0;t<a.length;t++)n(a[t],"bubbled",r);for(t=e.length;0<t--;)n(e[t],"captured",i)}},ps=_n.getListener,ms={accumulateTwoPhaseDispatches:function(e){S(e,Te)},accumulateTwoPhaseDispatchesSkipTarget:function(e){S(e,Se)},accumulateDirectDispatches:function(e){S(e,Ae)},accumulateEnterLeaveDispatches:function(e,t,n,r){fs.traverseEnterLeave(n,r,Ce,e,t)}},gs={_root:null,_startText:null,_fallbackText:null},vs={initialize:function(e){return gs._root=e,gs._startText=vs.getText(),!0},reset:function(){gs._root=null,gs._startText=null,gs._fallbackText=null},getData:function(){if(gs._fallbackText)return gs._fallbackText;var e,t,n=gs._startText,r=n.length,i=vs.getText(),o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return gs._fallbackText=i.slice(e,1<t?1-t:void 0),gs._fallbackText},getText:function(){return"value"in gs._root?gs._root.value:gs._root[ye()]}},ys=vs,bs="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),xs={type:null,target:null,currentTarget:bt.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};vt(Pe.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=bt.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=bt.thatReturnsTrue)},persist:function(){this.isPersistent=bt.thatReturnsTrue},isPersistent:bt.thatReturnsFalse,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;for(t=0;t<bs.length;t++)this[bs[t]]=null}}),Pe.Interface=xs,Pe.augmentClass=function(e,t){function n(){}n.prototype=this.prototype;var r=new n;vt(r,e.prototype),e.prototype=r,e.prototype.constructor=e,e.Interface=vt({},this.Interface,t),e.augmentClass=this.augmentClass,Ie(e)},Ie(Pe),Pe.augmentClass(Oe,{data:null}),Pe.augmentClass(Ne,{data:null});var _s=[9,13,27,32],ws=gt.canUseDOM&&"CompositionEvent"in window,Es=null;gt.canUseDOM&&"documentMode"in document&&(Es=document.documentMode);var Ms;if(Ms=gt.canUseDOM&&"TextEvent"in window&&!Es){var Ts=window.opera;Ms=!("object"==typeof Ts&&"function"==typeof Ts.version&&12>=parseInt(Ts.version(),10))}var Ss=Ms,Cs=gt.canUseDOM&&(!ws||Es&&8<Es&&11>=Es),As=String.fromCharCode(32),Ps={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"topBlur topCompositionEnd topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"topBlur topCompositionStart topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"topBlur topCompositionUpdate topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")}},Rs=!1,Ls=!1,Is={eventTypes:Ps,extractEvents:function(e,t,n,r){var i;if(ws)e:{switch(e){case"topCompositionStart":var o=Ps.compositionStart;break e;case"topCompositionEnd":o=Ps.compositionEnd;break e;case"topCompositionUpdate":o=Ps.compositionUpdate;break e}o=void 0}else Ls?ke(e,n)&&(o=Ps.compositionEnd):"topKeyDown"===e&&229===n.keyCode&&(o=Ps.compositionStart);return o?(Cs&&(Ls||o!==Ps.compositionStart?o===Ps.compositionEnd&&Ls&&(i=ys.getData()):Ls=ys.initialize(r)),o=Oe.getPooled(o,t,n,r),i?o.data=i:null!==(i=De(n))&&(o.data=i),ms.accumulateTwoPhaseDispatches(o),i=o):i=null,(e=Ss?Ue(e,n):Fe(e,n))?(t=Ne.getPooled(Ps.beforeInput,t,n,r),t.data=e,ms.accumulateTwoPhaseDispatches(t)):t=null,[i,t]}},Os={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Ns={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"topBlur topChange topClick topFocus topInput topKeyDown topKeyUp topSelectionChange".split(" ")}},ks=null,Ds=null,Us=!1;gt.canUseDOM&&(Us=L("input")&&(!document.documentMode||9<document.documentMode));var Fs={eventTypes:Ns,_isInputEventSupported:Us,extractEvents:function(e,t,n,r){var i=t?Xt.getNodeFromInstance(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=je;else if(Be(i))if(Us)a=Ze;else{a=Xe;var s=We}else!(o=i.nodeName)||"input"!==o.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type||(a=Ye);if(a&&(a=a(e,t)))return ze(a,n,r);s&&s(e,i,t),"topBlur"===e&&null!=t&&(e=t._wrapperState||i._wrapperState)&&e.controlled&&"number"===i.type&&(e=""+i.value,i.getAttribute("value")!==e&&i.setAttribute("value",e))}};Pe.augmentClass(Ke,{view:function(e){return e.view?e.view:(e=E(e),e.window===e?e:(e=e.ownerDocument)?e.defaultView||e.parentWindow:window)},detail:function(e){return e.detail||0}});var Bs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};Ke.augmentClass($e,{screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Je,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}});var zs={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},Hs={eventTypes:zs,extractEvents:function(e,t,n,r){if("topMouseOver"===e&&(n.relatedTarget||n.fromElement)||"topMouseOut"!==e&&"topMouseOver"!==e)return null;var i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window;if("topMouseOut"===e?(e=t,t=(t=n.relatedTarget||n.toElement)?Xt.getClosestInstanceFromNode(t):null):e=null,e===t)return null;var o=null==e?i:Xt.getNodeFromInstance(e);i=null==t?i:Xt.getNodeFromInstance(t);var a=$e.getPooled(zs.mouseLeave,e,n,r);return a.type="mouseleave",a.target=o,a.relatedTarget=i,n=$e.getPooled(zs.mouseEnter,t,n,r),n.type="mouseenter",n.target=i,n.relatedTarget=o,ms.accumulateEnterLeaveDispatches(a,n,e,t),[a,n]}},qs=Ut.DOCUMENT_NODE,js=gt.canUseDOM&&"documentMode"in document&&11>=document.documentMode,Gs={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"topBlur topContextMenu topFocus topKeyDown topKeyUp topMouseDown topMouseUp topSelectionChange".split(" ")}},Vs=null,Ws=null,Xs=null,Ys=!1,Zs=Pn.isListeningToAllDependencies,Ks={eventTypes:Gs,extractEvents:function(e,t,n,r){var i=r.window===r?r.document:r.nodeType===qs?r:r.ownerDocument;if(!i||!Zs("onSelect",i))return null;switch(i=t?Xt.getNodeFromInstance(t):window,e){case"topFocus":(Be(i)||"true"===i.contentEditable)&&(Vs=i,Ws=t,Xs=null);break;case"topBlur":Xs=Ws=Vs=null;break;case"topMouseDown":Ys=!0;break;case"topContextMenu":case"topMouseUp":return Ys=!1,et(n,r);case"topSelectionChange":if(js)break;case"topKeyDown":case"topKeyUp":return et(n,r)}return null}};Pe.augmentClass(tt,{animationName:null,elapsedTime:null,pseudoElement:null}),Pe.augmentClass(nt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ke.augmentClass(rt,{relatedTarget:null});var Qs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Js={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};Ke.augmentClass(ot,{key:function(e){if(e.key){var t=Qs[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=it(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?Js[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Je,charCode:function(e){return"keypress"===e.type?it(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?it(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),$e.augmentClass(at,{dataTransfer:null}),Ke.augmentClass(st,{touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Je}),Pe.augmentClass(ut,{propertyName:null,elapsedTime:null,pseudoElement:null}),$e.augmentClass(ct,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null});var $s={},eu={};"abort animationEnd animationIteration animationStart blur cancel canPlay canPlayThrough click close contextMenu copy cut doubleClick drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error focus input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing progress rateChange reset scroll seeked seeking stalled submit suspend timeUpdate toggle touchCancel touchEnd touchMove touchStart transitionEnd volumeChange waiting wheel".split(" ").forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),n="on"+t;t="top"+t,n={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[t]},$s[e]=n,eu[t]=n});var tu={eventTypes:$s,extractEvents:function(e,t,n,i){var o=eu[e];if(!o)return null;switch(e){case"topAbort":case"topCancel":case"topCanPlay":case"topCanPlayThrough":case"topClose":case"topDurationChange":case"topEmptied":case"topEncrypted":case"topEnded":case"topError":case"topInput":case"topInvalid":case"topLoad":case"topLoadedData":case"topLoadedMetadata":case"topLoadStart":case"topPause":case"topPlay":case"topPlaying":case"topProgress":case"topRateChange":case"topReset":case"topSeeked":case"topSeeking":case"topStalled":case"topSubmit":case"topSuspend":case"topTimeUpdate":case"topToggle":case"topVolumeChange":case"topWaiting":var a=Pe;break;case"topKeyPress":if(0===it(n))return null;case"topKeyDown":case"topKeyUp":a=ot;break;case"topBlur":case"topFocus":a=rt;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":a=$e;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":a=at;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":a=st;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":a=tt;break;case"topTransitionEnd":a=ut;break;case"topScroll":a=Ke;break;case"topWheel":a=ct;break;case"topCopy":case"topCut":case"topPaste":a=nt}return a||r("86",e),e=a.getPooled(o,t,n,i),ms.accumulateTwoPhaseDispatches(e),e}};bn.setHandleTopLevel(Pn.handleTopLevel),_n.injection.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),un.injection.injectComponentTree(Xt),_n.injection.injectEventPluginsByName({SimpleEventPlugin:tu,EnterLeaveEventPlugin:Hs,ChangeEventPlugin:Fs,SelectEventPlugin:Ks,BeforeInputEventPlugin:Is});var nu=kt.injection.MUST_USE_PROPERTY,ru=kt.injection.HAS_BOOLEAN_VALUE,iu=kt.injection.HAS_NUMERIC_VALUE,ou=kt.injection.HAS_POSITIVE_NUMERIC_VALUE,au=kt.injection.HAS_STRING_BOOLEAN_VALUE,su={Properties:{allowFullScreen:ru,allowTransparency:au,async:ru,autoPlay:ru,capture:ru,checked:nu|ru,cols:ou,contentEditable:au,controls:ru,default:ru,defer:ru,disabled:ru,download:kt.injection.HAS_OVERLOADED_BOOLEAN_VALUE,draggable:au,formNoValidate:ru,hidden:ru,loop:ru,multiple:nu|ru,muted:nu|ru,noValidate:ru,open:ru,playsInline:ru,readOnly:ru,required:ru,reversed:ru,rows:ou,rowSpan:iu,scoped:ru,seamless:ru,selected:nu|ru,size:ou,start:iu,span:ou,spellCheck:au,style:0,itemScope:ru,acceptCharset:0,className:0,htmlFor:0,httpEquiv:0,value:au},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMMutationMethods:{value:function(e,t){if(null==t)return e.removeAttribute("value");"number"!==e.type||!1===e.hasAttribute("value")?e.setAttribute("value",""+t):e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e&&e.setAttribute("value",""+t)}}},uu=kt.injection.HAS_STRING_BOOLEAN_VALUE,cu={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},lu={Properties:{autoReverse:uu,externalResourcesRequired:uu,preserveAlpha:uu},DOMAttributeNames:{autoReverse:"autoReverse",externalResourcesRequired:"externalResourcesRequired",preserveAlpha:"preserveAlpha"},DOMAttributeNamespaces:{xlinkActuate:cu.xlink,xlinkArcrole:cu.xlink,xlinkHref:cu.xlink,xlinkRole:cu.xlink,xlinkShow:cu.xlink,xlinkTitle:cu.xlink,xlinkType:cu.xlink,xmlBase:cu.xml,xmlLang:cu.xml,xmlSpace:cu.xml}},hu=/[\-\:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode x-height xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xmlns:xlink xml:lang xml:space".split(" ").forEach(function(e){var t=e.replace(hu,lt);lu.Properties[t]=0,lu.DOMAttributeNames[t]=e}),kt.injection.injectDOMPropertyConfig(su),kt.injection.injectDOMPropertyConfig(lu);var du=ta.injectInternals,fu=Ut.ELEMENT_NODE,pu=Ut.TEXT_NODE,mu=Ut.COMMENT_NODE,gu=Ut.DOCUMENT_NODE,vu=Ut.DOCUMENT_FRAGMENT_NODE,yu=kt.ROOT_ATTRIBUTE_NAME,bu=Ct.getChildNamespace,xu=dr.createElement,_u=dr.createTextNode,wu=dr.setInitialProperties,Eu=dr.diffProperties,Mu=dr.updateProperties,Tu=dr.diffHydratedProperties,Su=dr.diffHydratedText,Cu=dr.warnForDeletedHydratableElement,Au=dr.warnForDeletedHydratableText,Pu=dr.warnForInsertedHydratedElement,Ru=dr.warnForInsertedHydratedText,Lu=Xt.precacheFiberNode,Iu=Xt.updateFiberProps;dn.injection.injectFiberControlledHostComponent(dr),_e._injectFiber(function(e){return ku.findHostInstance(e)});var Ou=null,Nu=null,ku=function(e){var t=e.getPublicInstance;e=fe(e);var n=e.scheduleUpdate,r=e.getPriorityContext;return{createContainer:function(e){var t=hi();return e={current:t,containerInfo:e,isScheduled:!1,nextScheduledRoot:null,context:null,pendingContext:null},t.stateNode=e},updateContainer:function(e,t,i,o){var a=t.current;i=me(i),null===t.context?t.context=i:t.pendingContext=i,t=o,o=r(a,Cr.enableAsyncSubtreeAPI&&null!=e&&null!=e.type&&null!=e.type.prototype&&!0===e.type.prototype.unstable_isAsyncReactComponent),e={element:e},Ja(a,e,void 0===t?null:t,o),n(a,o)},batchedUpdates:e.batchedUpdates,unbatchedUpdates:e.unbatchedUpdates,deferredUpdates:e.deferredUpdates,flushSync:e.flushSync,getPublicRootInstance:function(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case ns:return t(e.child.stateNode);default:return e.child.stateNode}},findHostInstance:function(e){return e=rs(e),null===e?null:e.stateNode},findHostInstanceWithNoPortals:function(e){return e=is(e),null===e?null:e.stateNode}}}({getRootHostContext:function(e){if(e.nodeType===gu)e=(e=e.documentElement)?e.namespaceURI:bu(null,"");else{var t=e.nodeType===mu?e.parentNode:e;e=t.namespaceURI||null,t=t.tagName,e=bu(e,t)}return e},getChildHostContext:function(e,t){return bu(e,t)},getPublicInstance:function(e){return e},prepareForCommit:function(){Ou=Pn.isEnabled(),Nu=ls.getSelectionInformation(),Pn.setEnabled(!1)},resetAfterCommit:function(){ls.restoreSelection(Nu),Nu=null,Pn.setEnabled(Ou),Ou=null},createInstance:function(e,t,n,r,i){return e=xu(e,t,n,r),Lu(i,e),Iu(e,t),e},appendInitialChild:function(e,t){e.appendChild(t)},finalizeInitialChildren:function(e,t,n,r){wu(e,t,n,r);e:{switch(t){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e}e=!1}return e},prepareUpdate:function(e,t,n,r,i){return Eu(e,t,n,r,i)},commitMount:function(e){e.focus()},commitUpdate:function(e,t,n,r,i){Iu(e,i),Mu(e,t,n,r,i)},shouldSetTextContent:function(e,t){return"textarea"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&"string"==typeof t.dangerouslySetInnerHTML.__html},resetTextContent:function(e){e.textContent=""},shouldDeprioritizeSubtree:function(e,t){return!!t.hidden},createTextInstance:function(e,t,n,r){return e=_u(e,t),Lu(r,e),e},commitTextUpdate:function(e,t,n){e.nodeValue=n},appendChild:function(e,t){e.appendChild(t)},appendChildToContainer:function(e,t){e.nodeType===mu?e.parentNode.insertBefore(t,e):e.appendChild(t)},insertBefore:function(e,t,n){e.insertBefore(t,n)},insertInContainerBefore:function(e,t,n){e.nodeType===mu?e.parentNode.insertBefore(t,n):e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},removeChildFromContainer:function(e,t){e.nodeType===mu?e.parentNode.removeChild(t):e.removeChild(t)},canHydrateInstance:function(e,t){return e.nodeType===fu&&t===e.nodeName.toLowerCase()},canHydrateTextInstance:function(e,t){return""!==t&&e.nodeType===pu},getNextHydratableSibling:function(e){for(e=e.nextSibling;e&&e.nodeType!==fu&&e.nodeType!==pu;)e=e.nextSibling;return e},getFirstHydratableChild:function(e){for(e=e.firstChild;e&&e.nodeType!==fu&&e.nodeType!==pu;)e=e.nextSibling;return e},hydrateInstance:function(e,t,n,r,i,o){return Lu(o,e),Iu(e,n),Tu(e,t,n,i,r)},hydrateTextInstance:function(e,t,n){return Lu(n,e),Su(e,t)},didNotHydrateInstance:function(e,t){1===t.nodeType?Cu(e,t):Au(e,t)},didNotFindHydratableInstance:function(e,t,n){Pu(e,t,n)},didNotFindHydratableTextInstance:function(e,t){Ru(e,t)},scheduleDeferredCallback:Sr.rIC,useSyncScheduling:!0});pn.injection.injectFiberBatchedUpdates(ku.batchedUpdates);var Du={createPortal:pt,hydrate:function(e,t,n){return ft(null,e,t,!0,n)},render:function(e,t,n){return ft(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,i){return null!=e&&Yt.has(e)||r("38"),ft(e,t,n,!1,i)},unmountComponentAtNode:function(e){return ht(e)||r("40"),!!e._reactRootContainer&&(ku.unbatchedUpdates(function(){ft(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},findDOMNode:_e,unstable_createPortal:pt,unstable_batchedUpdates:pn.batchedUpdates,unstable_deferredUpdates:ku.deferredUpdates,flushSync:ku.flushSync,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:_n,EventPluginRegistry:Lt,EventPropagators:ms,ReactControlledComponent:dn,ReactDOMComponentTree:Xt,ReactDOMEventListener:bn}};du({findFiberByHostInstance:Xt.getClosestInstanceFromNode,findHostInstanceByFiber:ku.findHostInstance,bundleType:0,version:"16.0.0",rendererPackageName:"react-dom"}),e.exports=Du},function(e,t,n){"use strict";function r(e){return i(e)&&3==e.nodeType}var i=n(64);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e?e.ownerDocument||e:document,n=t.defaultView||window;return!(!e||!("function"==typeof n.Node?e instanceof n.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=r},function(e,t,n){"use strict";(function(t){/** @license React v16.0.0
 * react-dom.development.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
"production"!==t.env.NODE_ENV&&function(){function t(e){switch(e){case"svg":return ar;case"math":return or;default:return ir}}function r(e,n){return null==e||e===ir?t(n):e===ar&&"foreignObject"===n?ir:e}function i(){if(dr)for(var e in fr){var t=fr[e],n=dr.indexOf(e);if(n>-1||qn(!1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",e),!pr.plugins[n]){t.extractEvents||qn(!1,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",e),pr.plugins[n]=t;var r=t.eventTypes;for(var i in r)o(r[i],t,i)||qn(!1,"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",i,e)}}}function o(e,t,n){pr.eventNameDispatchConfigs.hasOwnProperty(n)&&qn(!1,"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",n),pr.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];a(o,t,n)}return!0}return!!e.registrationName&&(a(e.registrationName,t,n),!0)}function a(e,t,n){pr.registrationNameModules[e]&&qn(!1,"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",e),pr.registrationNameModules[e]=t,pr.registrationNameDependencies[e]=t.eventTypes[n].dependencies;var r=e.toLowerCase();pr.possibleRegistrationNames[r]=e,"onDoubleClick"===e&&(pr.possibleRegistrationNames.ondblclick=e)}function s(e,t){return(e&t)===t}function u(e,t){return e.nodeType===Ar&&e.getAttribute(Rr)===""+t||e.nodeType===Pr&&e.nodeValue===" react-text: "+t+" "||e.nodeType===Pr&&e.nodeValue===" react-empty: "+t+" "}function c(e){for(var t;t=e._renderedComponent;)e=t;return e}function l(e,t){var n=c(e);n._hostNode=t,t[Or]=n}function h(e,t){t[Or]=e}function d(e){var t=e._hostNode;t&&(delete t[Or],e._hostNode=null)}function f(e,t){if(!(e._flags&Lr.hasCachedChildNodes)){var n=e._renderedChildren,r=t.firstChild;e:for(var i in n)if(n.hasOwnProperty(i)){var o=n[i],a=c(o)._domID;if(0!==a){for(;null!==r;r=r.nextSibling)if(u(r,a)){l(o,r);continue e}qn(!1,"Unable to find element with ID %s.",a)}}e._flags|=Lr.hasCachedChildNodes}}function p(e){if(e[Or])return e[Or];for(var t=[];!e[Or];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}var n,r=e[Or];if(r.tag===Sr||r.tag===Cr)return r;for(;e&&(r=e[Or]);e=t.pop())n=r,t.length&&f(r,e);return n}function m(e){var t=e[Or];return t?t.tag===Sr||t.tag===Cr?t:t._hostNode===e?t:null:(t=p(e),null!=t&&t._hostNode===e?t:null)}function g(e){if(e.tag===Sr||e.tag===Cr)return e.stateNode;if(void 0===e._hostNode&&qn(!1,"getNodeFromInstance: Invalid argument."),e._hostNode)return e._hostNode;for(var t=[];!e._hostNode;)t.push(e),e._hostParent||qn(!1,"React DOM tree root should always have a node reference."),e=e._hostParent;for(;t.length;e=t.pop())f(e,e._hostNode);return e._hostNode}function v(e){return e[Nr]||null}function y(e,t){e[Nr]=t}function b(e){if("function"==typeof e.getName){return e.getName()}if("number"==typeof e.tag){var t=e,n=t.type;if("string"==typeof n)return n;if("function"==typeof n)return n.displayName||n.name}return null}function x(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if((t.effectTag&Jr)!==Qr)return $r;for(;t.return;)if(t=t.return,(t.effectTag&Jr)!==Qr)return $r}return t.tag===Yr?ei:ti}function _(e){x(e)!==ei&&qn(!1,"Unable to find node on an unmounted component.")}function w(e){var t=e.alternate;if(!t){var n=x(e);return n===ti&&qn(!1,"Unable to find node on an unmounted component."),n===$r?null:e}for(var r=e,i=t;;){var o=r.return,a=o?o.alternate:null;if(!o||!a)break;if(o.child===a.child){for(var s=o.child;s;){if(s===r)return _(o),e;if(s===i)return _(o),t;s=s.sibling}qn(!1,"Unable to find node on an unmounted component.")}if(r.return!==i.return)r=o,i=a;else{for(var u=!1,c=o.child;c;){if(c===r){u=!0,r=o,i=a;break}if(c===i){u=!0,i=o,r=a;break}c=c.sibling}if(!u){for(c=a.child;c;){if(c===r){u=!0,r=a,i=o;break}if(c===i){u=!0,i=a,r=o;break}c=c.sibling}u||qn(!1,"Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}r.alternate!==i&&qn(!1,"Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}return r.tag!==Yr&&qn(!1,"Unable to find node on an unmounted component."),r.stateNode.current===r?e:t}function E(e){return"topMouseUp"===e||"topTouchEnd"===e||"topTouchCancel"===e}function M(e){return"topMouseMove"===e||"topTouchMove"===e}function T(e){return"topMouseDown"===e||"topTouchStart"===e}function S(e,t,n,r){var i=e.type||"unknown-event";e.currentTarget=yi.getNodeFromInstance(r),pi.invokeGuardedCallbackAndCatchFirstError(i,n,void 0,e),e.currentTarget=null}function C(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(di(e),Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)S(e,t,n[i],r[i]);else n&&S(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null}function A(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(di(e),Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function P(e){var t=A(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function R(e){di(e);var t=e._dispatchListeners,n=e._dispatchInstances;Array.isArray(t)&&qn(!1,"executeDirectDispatch(...): Invalid `event`."),e.currentTarget=t?yi.getNodeFromInstance(n):null;var r=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,r}function L(e){return!!e._dispatchListeners}function I(e){var t=bi.getInstanceFromNode(e);if(t){if("number"==typeof t.tag){xi&&"function"==typeof xi.restoreControlledState||qn(!1,"Fiber needs to be injected to handle a fiber target for controlled events. This error is likely caused by a bug in React. Please file an issue.");var n=bi.getFiberCurrentPropsFromNode(t.stateNode);return void xi.restoreControlledState(t.stateNode,t.type,n)}"function"!=typeof t.restoreControlledState&&qn(!1,"The internal instance must be a React host component. This error is likely caused by a bug in React. Please file an issue."),t.restoreControlledState()}}function O(e,t){return Ci(e,t)}function N(e,t){return Si(O,e,t)}function k(e,t){if(Ai)return N(e,t);Ai=!0;try{return N(e,t)}finally{Ai=!1,Ti.restoreStateIfNeeded()}}function D(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===Ii?t.parentNode:t}function U(e){if("number"==typeof e.tag){for(;e.return;)e=e.return;return e.tag!==Ni?null:e.stateNode.containerInfo}for(;e._hostParent;)e=e._hostParent;return Dr.getNodeFromInstance(e).parentNode}function F(e,t,n){if(Di.length){var r=Di.pop();return r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,r}return{topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]}}function B(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,Di.length<ki&&Di.push(e)}function z(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=U(n);if(!r)break;e.ancestors.push(n),n=Dr.getClosestInstanceFromNode(r)}while(n);for(var i=0;i<e.ancestors.length;i++)t=e.ancestors[i],Ui._handleTopLevel(e.topLevelType,t,e.nativeEvent,Oi(e.nativeEvent))}function H(e,t){return null==t&&qn(!1,"accumulateInto(...): Accumulated items must not be null or undefined."),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function q(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function j(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}function G(e,t,n){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return!(!n.disabled||!j(t));default:return!1}}function V(e){Wi.enqueueEvents(e),Wi.processEventQueue(!1)}/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */
function W(e,t){if(!jn.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var i=document.createElement("div");i.setAttribute(n,"return;"),r="function"==typeof i[n]}return!r&&vi&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}function X(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function Y(e){if(Qi[e])return Qi[e];if(!Ki[e])return e;var t=Ki[e];for(var n in t)if(t.hasOwnProperty(n)&&n in Ji)return Qi[e]=t[n];return""}function Z(e){return Object.prototype.hasOwnProperty.call(e,ao)||(e[ao]=oo++,io[e[ao]]={}),io[e[ao]]}function K(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}function Q(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||vo.hasOwnProperty(e)&&vo[e]?(""+t).trim():t+"px"}function J(e){switch(e.tag){case xo:case _o:case wo:case Eo:var t=e._debugOwner,n=e._debugSource,r=qr(e),i=null;return t&&(i=qr(t)),bo(r,n,i);default:return""}}function $(e){var t="",n=e;do{t+=J(n),n=n.return}while(n);return t}function ee(){var e=Po.current;return null===e?null:null!=e._debugOwner?So(e._debugOwner):null}function te(){var e=Po.current;return null===e?null:Ao(e)}function ne(){To.getCurrentStack=null,Po.current=null,Po.phase=null}function re(e,t){To.getCurrentStack=te,Po.current=e,Po.phase=t}function ie(e){return!!Xa.hasOwnProperty(e)||!Wa.hasOwnProperty(e)&&(Va.test(e)?(Xa[e]=!0,!0):(Wa[e]=!0,Ga(!1,"Invalid attribute name: `%s`",e),!1))}function oe(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&!1===t}function ae(e){return"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}function se(e,t){var n=t.name;if("radio"===t.type&&null!=n){for(var r=e;r.parentNode;)r=r.parentNode;for(var i=r.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),o=0;o<i.length;o++){var a=i[o];if(a!==e&&a.form===e.form){var s=Dr.getFiberCurrentPropsFromNode(a);s||qn(!1,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported."),fs.updateWrapper(a,s)}}}}function ue(e){var t="";return Hn.Children.forEach(e,function(e){null!=e&&("string"!=typeof e&&"number"!=typeof e||(t+=e))}),t}function ce(){var e=ys();return e?"\n\nCheck the render method of `"+e+"`.":""}function le(e){is.checkPropTypes("select",e,ws);for(var t=0;t<Es.length;t++){var n=Es[t];if(null!=e[n]){var r=Array.isArray(e[n]);e.multiple&&!r?xs(!1,"The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",n,ce()):!e.multiple&&r&&xs(!1,"The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",n,ce())}}}function he(e,t,n){var r=e.options;if(t){for(var i=n,o={},a=0;a<i.length;a++)o["$"+i[a]]=!0;for(var s=0;s<r.length;s++){var u=o.hasOwnProperty("$"+r[s].value);r[s].selected!==u&&(r[s].selected=u)}}else{for(var c=""+n,l=null,h=0;h<r.length;h++){if(r[h].value===c)return void(r[h].selected=!0);null!==l||r[h].disabled||(l=r[h])}null!==l&&(l.selected=!0)}}function de(e){var t=e();return t?"\n\nThis DOM node was rendered by `"+t+"`.":""}function fe(e,t,n){t&&(ks[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&qn(!1,"%s is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.%s",e,de(n)),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&qn(!1,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."),"object"==typeof t.dangerouslySetInnerHTML&&Us in t.dangerouslySetInnerHTML||qn(!1,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information.")),Ds(t.suppressContentEditableWarning||!t.contentEditable||null==t.children,"A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),null!=t.style&&"object"!=typeof t.style&&qn(!1,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.%s",de(n)))}function pe(e){var t=e.type,n=e.nodeName;return n&&"input"===n.toLowerCase()&&("checkbox"===t||"radio"===t)}function me(e){return e._valueTracker}function ge(e){e._valueTracker=null}function ve(e){var t="";return e?t=pe(e)?e.checked?"true":"false":e.value:t}function ye(e){var t=pe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"function"==typeof n.get&&"function"==typeof n.set){Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:!0,get:function(){return n.get.call(this)},set:function(e){r=""+e,n.set.call(this,e)}});return{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){ge(e),delete e[t]}}}}function be(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function xe(e){var t=""+e,n=Xs.exec(t);if(!n)return t;var r,i="",o=0,a=0;for(o=n.index;o<t.length;o++){switch(t.charCodeAt(o)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#x27;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}a!==o&&(i+=t.substring(a,o)),a=o+1,i+=r}return a!==o?i+t.substring(a,o):i}function _e(e){return"boolean"==typeof e||"number"==typeof e?""+e:xe(e)}function we(e){if(null!=e)return cu(e);var t=uu.getStackAddendum();return null!=t?t:""}function Ee(e,t,n){if(iu.call(tu,t)&&tu[t])return!0;if(ru.test(t)){var r="aria-"+t.slice(4).toLowerCase(),i=lu.hasOwnProperty(r)?r:null;if(null==i)return ou(!1,"Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.%s",t,we(n)),tu[t]=!0,!0;if(t!==i)return ou(!1,"Invalid ARIA attribute `%s`. Did you mean `%s`?%s",t,i,we(n)),tu[t]=!0,!0}if(nu.test(t)){var o=t.toLowerCase(),a=lu.hasOwnProperty(o)?o:null;if(null==a)return tu[t]=!0,!1;if(t!==a)return ou(!1,"Unknown ARIA attribute `%s`. Did you mean `%s`?%s",t,a,we(n)),tu[t]=!0,!0}return!0}function Me(e,t,n){var r=[];for(var i in t){Ee(e,i,n)||r.push(i)}var o=r.map(function(e){return"`"+e+"`"}).join(", ");1===r.length?ou(!1,"Invalid aria prop %s on <%s> tag. For details, see https://fb.me/invalid-aria-prop%s",o,e,we(n)):r.length>1&&ou(!1,"Invalid aria props %s on <%s> tag. For details, see https://fb.me/invalid-aria-prop%s",o,e,we(n))}function Te(e,t,n){Hs(e,t)||Me(e,t,n)}function Se(e){if(null!=e)return vu(e);var t=gu.getStackAddendum();return null!=t?t:""}function Ce(e,t,n){"input"!==e&&"textarea"!==e&&"select"!==e||null==t||null!==t.value||yu||(fu(!1,"`value` prop on `%s` should not be null. Consider using the empty string to clear the component or `undefined` for uncontrolled components.%s",e,Se(n)),yu=!0)}function Ae(e){if(null!=e)return Cu(e);var t=Su.getStackAddendum();return null!=t?t:""}function Pe(e,t,n){Hs(e,t)||ku(e,t,n)}function Re(e,t){var n=e.nodeType===Bu||e.nodeType===zu,r=n?e:e.ownerDocument;Ju(t,r)}function Le(e){return e.nodeType===Bu?e:e.ownerDocument}function Ie(e){e.onclick=Yn}function Oe(e,t,n,r){for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];if(i===rc)o&&Object.freeze(o),ta.setValueForStyles(e,o);else if(i===ec){var a=o?o[ic]:void 0;null!=a&&Ws(e,a)}else i===nc?"string"==typeof o?Js(e,o):"number"==typeof o&&Js(e,""+o):i===tc||($u.hasOwnProperty(i)?null!=o&&("function"!=typeof o&&dc(i,o),Re(t,i)):r?Za.setValueForAttribute(e,i,o):null!=o&&Za.setValueForProperty(e,i,o))}}function Ne(e,t,n,r){for(var i=0;i<t.length;i+=2){var o=t[i],a=t[i+1];o===rc?ta.setValueForStyles(e,a):o===ec?Ws(e,a):o===nc?Js(e,a):r?null!=a?Za.setValueForAttribute(e,o,a):Za.deleteValueForAttribute(e,o):null!=a?Za.setValueForProperty(e,o,a):Za.deleteValueForProperty(e,o)}}function ke(e,t){return e!==Fc&&e!==Uc||t!==Fc&&t!==Uc?e===Dc&&t!==Dc?-255:e!==Dc&&t===Dc?255:e-t:0}function De(){var e={first:null,last:null,hasForceUpdate:!1,callbackList:null};return e.isProcessing=!1,e}function Ue(e){return{priorityLevel:e.priorityLevel,partialState:e.partialState,callback:e.callback,isReplace:e.isReplace,isForced:e.isForced,isTopLevelUnmount:e.isTopLevelUnmount,next:null}}function Fe(e,t,n,r){null!==n?n.next=t:(t.next=e.first,e.first=t),null!==r?t.next=r:e.last=t}function Be(e,t){var n=t.priorityLevel,r=null,i=null;if(null!==e.last&&ke(e.last.priorityLevel,n)<=0)r=e.last;else for(i=e.first;null!==i&&ke(i.priorityLevel,n)<=0;)r=i,i=i.next;return r}function ze(e){var t=e.alternate,n=e.updateQueue;null===n&&(n=e.updateQueue=De());var r=void 0;null!==t?null===(r=t.updateQueue)&&(r=t.updateQueue=De()):r=null,qc=n,jc=r!==n?r:null}function He(e,t){ze(e);var n=qc,r=jc;(n.isProcessing||null!==r&&r.isProcessing)&&Hc(!1,"An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback.");var i=Be(n,t),o=null!==i?i.next:n.first;if(null===r)return Fe(n,t,i,o),null;var a=Be(r,t),s=null!==a?a.next:r.first;if(Fe(n,t,i,o),o===s&&null!==o||i===a&&null!==i)return null===a&&(r.first=t),null===s&&(r.last=null),null;var u=Ue(t);return Fe(r,u,a,s),u}function qe(e,t,n,r){He(e,{priorityLevel:r,partialState:t,callback:n,isReplace:!1,isForced:!1,isTopLevelUnmount:!1,next:null})}function je(e,t,n,r){He(e,{priorityLevel:r,partialState:t,callback:n,isReplace:!0,isForced:!1,isTopLevelUnmount:!1,next:null})}function Ge(e,t,n){He(e,{priorityLevel:n,partialState:null,callback:t,isReplace:!1,isForced:!0,isTopLevelUnmount:!1,next:null})}function Ve(e){var t=e.updateQueue;return null===t?Dc:e.tag!==Bc&&e.tag!==zc?Dc:null!==t.first?t.first.priorityLevel:Dc}function We(e,t,n,r){var i=null===t.element,o={priorityLevel:r,partialState:t,callback:n,isReplace:!1,isForced:!1,isTopLevelUnmount:i,next:null},a=He(e,o);if(i){var s=qc,u=jc;null!==s&&null!==o.next&&(o.next=null,s.last=o),null!==u&&null!==a&&null!==a.next&&(a.next=null,u.last=o)}}function Xe(e,t,n,r){var i=e.partialState;if("function"==typeof i){return i.call(t,n,r)}return i}function Ye(e,t,n,r,i,o,a){if(null!==e&&e.updateQueue===n){var s=n;n=t.updateQueue={first:s.first,last:s.last,callbackList:null,hasForceUpdate:!1}}n.isProcessing=!0;for(var u=n.callbackList,c=n.hasForceUpdate,l=i,h=!0,d=n.first;null!==d&&ke(d.priorityLevel,a)<=0;){n.first=d.next,null===n.first&&(n.last=null);var f=void 0;d.isReplace?(l=Xe(d,r,l,o),h=!0):(f=Xe(d,r,l,o))&&(l=h?Gn({},l,f):Gn(l,f),h=!1),d.isForced&&(c=!0),null===d.callback||d.isTopLevelUnmount&&null!==d.next||(u=null!==u?u:[],u.push(d.callback),t.effectTag|=kc),d=d.next}return n.callbackList=u,n.hasForceUpdate=c,null!==n.first||null!==u||c||(t.updateQueue=null),n.isProcessing=!1,l}function Ze(e,t,n){var r=t.callbackList;if(null!==r){t.callbackList=null;for(var i=0;i<r.length;i++){var o=r[i];"function"!=typeof o&&qn(!1,"Invalid argument passed as callback. Expected a function. Instead received: %s",o),o.call(n)}}}function Ke(e){return $e(e)?ih:nh.current}function Qe(e,t,n){var r=e.stateNode;r.__reactInternalMemoizedUnmaskedChildContext=t,r.__reactInternalMemoizedMaskedChildContext=n}function Je(e){return e.tag===Gl&&null!=e.type.contextTypes}function $e(e){return e.tag===Gl&&null!=e.type.childContextTypes}function et(e){$e(e)&&(Xl(rh,e),Xl(nh,e))}function tt(e,t,n){var r=e.stateNode,i=e.type.childContextTypes;if("function"!=typeof r.getChildContext){var o=qr(e)||"Unknown";return th[o]||(th[o]=!0,Zl(!1,"%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",o,o)),t}var a=void 0;Ql.setCurrentFiber(e,"getChildContext"),$l(e,"getChildContext"),a=r.getChildContext(),eh(),Ql.resetCurrentFiber();for(var s in a)s in i||qn(!1,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',qr(e)||"Unknown",s);var u=qr(e)||"Unknown",c=n?e:null;return Ql.setCurrentFiber(c,null),Kl(i,a,"child context",u,Ql.getCurrentFiberStackAddendum),Ql.resetCurrentFiber(),Gn({},t,a)}function nt(e,t,n){this.tag=e,this.key=t,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=null,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.internalContextTag=n,this.effectTag=Ih,this.nextEffect=null,this.firstEffect=null,this.lastEffect=null,this.pendingWorkPriority=Rh,this.alternate=null,this._debugID=Fh++,this._debugSource=null,this._debugOwner=null,this._debugIsCurrentlyTiming=!1,Nh||"function"!=typeof Object.preventExtensions||Object.preventExtensions(this)}function rt(e){return!(!e.prototype||!e.prototype.isReactComponent)}function it(e,t,n,r){var i=void 0;if("function"==typeof e)i=rt(e)?Bh(wh,t,n):Bh(_h,t,n),i.type=e;else if("string"==typeof e)i=Bh(Mh,t,n),i.type=e;else if("object"==typeof e&&null!==e&&"number"==typeof e.tag)i=e;else{var o="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(o+=" You likely forgot to export your component from the file it's defined in.");var a=r?Oh(r):null;a&&(o+="\n\nCheck the render method of `"+a+"`."),qn(!1,"Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",null==e?e:typeof e,o)}return i}function ot(e){if(!1!==nd(e)){var t=(e.error,e.componentName),n=e.componentStack,r=e.errorBoundaryName,i=e.errorBoundaryFound,o=e.willRetry,a=t?"The above error occurred in the <"+t+"> component:":"The above error occurred in one of your React components:",s=void 0;s=i&&r?o?"React will try to recreate this component tree from scratch using the error boundary you provided, "+r+".":"This error was initially handled by the error boundary "+r+".\nRecreating the tree from scratch failed so React will unmount the tree.":"Consider adding an error boundary to your tree to customize error handling behavior.\nYou can learn more about error boundaries at https://fb.me/react-error-boundaries.";var u=""+a+n+"\n\n"+s;console.error(u)}}function at(e){if(null===e||void 0===e)return null;var t=Vd&&e[Vd]||e[Wd];return"function"==typeof t?t:null}function st(e,t){var n=t.ref;if(null!==n&&"function"!=typeof n){if(t._owner){var r=t._owner,i=void 0;if(r)if("number"==typeof r.tag){var o=r;o.tag!==Dd&&qn(!1,"Stateless function components cannot have refs."),i=o.stateNode}else i=r.getPublicInstance();i||qn(!1,"Missing owner for string ref %s. This error is likely caused by a bug in React. Please file an issue.",n);var a=""+n;if(null!==e&&null!==e.ref&&e.ref._stringRef===a)return e.ref;var s=function(e){var t=i.refs===Jn?i.refs={}:i.refs;null===e?delete t[a]:t[a]=e};return s._stringRef=a,s}"string"!=typeof n&&qn(!1,"Expected ref to be a function or a string."),t._owner||qn(!1,"Element ref was specified as a string (%s) but no owner was set. You may have multiple copies of React loaded. (details: https://fb.me/react-refs-must-have-owner).",n)}return n}function ut(e,t){if("textarea"!==e.type){var n="";n=" If you meant to render a collection of children, use an array instead."+(wd()||""),qn(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,n)}}function ct(){Ed(!1,"Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it.%s",wd()||"")}function lt(e,t){function n(n,r){if(t){if(!e){if(null===r.alternate)return;r=r.alternate}var i=n.lastEffect;null!==i?(i.nextEffect=r,n.lastEffect=r):n.firstEffect=n.lastEffect=r,r.nextEffect=null,r.effectTag=Gd}}function r(e,r){if(!t)return null;for(var i=r;null!==i;)n(e,i),i=i.sibling;return null}function i(e,t){for(var n=new Map,r=t;null!==r;)null!==r.key?n.set(r.key,r):n.set(r.index,r),r=r.sibling;return n}function o(t,n){if(e){var r=Cd(t,n);return r.index=0,r.sibling=null,r}return t.pendingWorkPriority=n,t.effectTag=qd,t.index=0,t.sibling=null,t}function a(e,n,r){if(e.index=r,!t)return n;var i=e.alternate;if(null!==i){var o=i.index;return o<n?(e.effectTag=jd,n):o}return e.effectTag=jd,n}function s(e){return t&&null===e.alternate&&(e.effectTag=jd),e}function u(e,t,n,r){if(null===t||t.tag!==Ud){var i=Rd(n,e.internalContextTag,r);return i.return=e,i}var a=o(t,r);return a.pendingProps=n,a.return=e,a}function c(e,t,n,r){if(null===t||t.type!==n.type){var i=Ad(n,e.internalContextTag,r);return i.ref=st(t,n),i.return=e,i}var a=o(t,r);return a.ref=st(t,n),a.pendingProps=n.props,a.return=e,a._debugSource=n._source,a._debugOwner=n._owner,a}function l(e,t,n,r){if(null===t||t.tag!==Bd){var i=Ld(n,e.internalContextTag,r);return i.return=e,i}var a=o(t,r);return a.pendingProps=n,a.return=e,a}function h(e,t,n,r){if(null===t||t.tag!==zd){var i=Id(n,e.internalContextTag,r);return i.type=n.value,i.return=e,i}var a=o(t,r);return a.type=n.value,a.return=e,a}function d(e,t,n,r){if(null===t||t.tag!==Fd||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation){var i=Od(n,e.internalContextTag,r);return i.return=e,i}var a=o(t,r);return a.pendingProps=n.children||[],a.return=e,a}function f(e,t,n,r){if(null===t||t.tag!==Hd){var i=Pd(n,e.internalContextTag,r);return i.return=e,i}var a=o(t,r);return a.pendingProps=n,a.return=e,a}function p(e,t,n){if("string"==typeof t||"number"==typeof t){var r=Rd(""+t,e.internalContextTag,n);return r.return=e,r}if("object"==typeof t&&null!==t){switch(t.$$typeof){case Xd:var i=Ad(t,e.internalContextTag,n);return i.ref=st(null,t),i.return=e,i;case yd:var o=Ld(t,e.internalContextTag,n);return o.return=e,o;case bd:var a=Id(t,e.internalContextTag,n);return a.type=t.value,a.return=e,a;case xd:var s=Od(t,e.internalContextTag,n);return s.return=e,s}if(Nd(t)||at(t)){var u=Pd(t,e.internalContextTag,n);return u.return=e,u}ut(e,t)}return"function"==typeof t&&ct(),null}function m(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Xd:return n.key===i?c(e,t,n,r):null;case yd:return n.key===i?l(e,t,n,r):null;case bd:return null===i?h(e,t,n,r):null;case xd:return n.key===i?d(e,t,n,r):null}if(Nd(n)||at(n))return null!==i?null:f(e,t,n,r);ut(e,n)}return"function"==typeof n&&ct(),null}function g(e,t,n,r,i){if("string"==typeof r||"number"==typeof r){return u(t,e.get(n)||null,""+r,i)}if("object"==typeof r&&null!==r){switch(r.$$typeof){case Xd:return c(t,e.get(null===r.key?n:r.key)||null,r,i);case yd:return l(t,e.get(null===r.key?n:r.key)||null,r,i);case bd:return h(t,e.get(n)||null,r,i);case xd:return d(t,e.get(null===r.key?n:r.key)||null,r,i)}if(Nd(r)||at(r)){return f(t,e.get(n)||null,r,i)}ut(t,r)}return"function"==typeof r&&ct(),null}function v(e,t){if("object"!=typeof e||null===e)return t;switch(e.$$typeof){case Xd:case yd:case xd:Sd(e);var n=e.key;if("string"!=typeof n)break;if(null===t){t=new Set,t.add(n);break}if(!t.has(n)){t.add(n);break}Ed(!1,"Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted  the behavior is unsupported and could change in a future version.%s",n,wd())}return t}function y(e,o,s,u){for(var c=null,l=0;l<s.length;l++){c=v(s[l],c)}for(var h=null,d=null,f=o,y=0,b=0,x=null;null!==f&&b<s.length;b++){f.index>b?(x=f,f=null):x=f.sibling;var _=m(e,f,s[b],u);if(null===_){null===f&&(f=x);break}t&&f&&null===_.alternate&&n(e,f),y=a(_,y,b),null===d?h=_:d.sibling=_,d=_,f=x}if(b===s.length)return r(e,f),h;if(null===f){for(;b<s.length;b++){var w=p(e,s[b],u);w&&(y=a(w,y,b),null===d?h=w:d.sibling=w,d=w)}return h}for(var E=i(e,f);b<s.length;b++){var M=g(E,e,b,s[b],u);M&&(t&&null!==M.alternate&&E.delete(null===M.key?b:M.key),y=a(M,y,b),null===d?h=M:d.sibling=M,d=M)}return t&&E.forEach(function(t){return n(e,t)}),h}function b(e,o,s,u){var c=at(s);if("function"!=typeof c&&qn(!1,"An object is not an iterable. This error is likely caused by a bug in React. Please file an issue."),"function"==typeof s.entries){s.entries===c&&(Ed(Md,"Using Maps as children is unsupported and will likely yield unexpected results. Convert it to a sequence/iterable of keyed ReactElements instead.%s",wd()),Md=!0)}var l=c.call(s);if(l)for(var h=null,d=l.next();!d.done;d=l.next()){var f=d.value;h=v(f,h)}var y=c.call(s);null==y&&qn(!1,"An iterable object provided no iterator.");for(var b=null,x=null,_=o,w=0,E=0,M=null,T=y.next();null!==_&&!T.done;E++,T=y.next()){_.index>E?(M=_,_=null):M=_.sibling;var S=m(e,_,T.value,u);if(null===S){_||(_=M);break}t&&_&&null===S.alternate&&n(e,_),w=a(S,w,E),null===x?b=S:x.sibling=S,x=S,_=M}if(T.done)return r(e,_),b;if(null===_){for(;!T.done;E++,T=y.next()){var C=p(e,T.value,u);null!==C&&(w=a(C,w,E),null===x?b=C:x.sibling=C,x=C)}return b}for(var A=i(e,_);!T.done;E++,T=y.next()){var P=g(A,e,E,T.value,u);null!==P&&(t&&null!==P.alternate&&A.delete(null===P.key?E:P.key),w=a(P,w,E),null===x?b=P:x.sibling=P,x=P)}return t&&A.forEach(function(t){return n(e,t)}),b}function x(e,t,n,i){if(null!==t&&t.tag===Ud){r(e,t.sibling);var a=o(t,i);return a.pendingProps=n,a.return=e,a}r(e,t);var s=Rd(n,e.internalContextTag,i);return s.return=e,s}function _(e,t,i,a){for(var s=i.key,u=t;null!==u;){if(u.key===s){if(u.type===i.type){r(e,u.sibling);var c=o(u,a);return c.ref=st(u,i),c.pendingProps=i.props,c.return=e,c._debugSource=i._source,c._debugOwner=i._owner,c}r(e,u);break}n(e,u),u=u.sibling}var l=Ad(i,e.internalContextTag,a);return l.ref=st(t,i),l.return=e,l}function w(e,t,i,a){for(var s=i.key,u=t;null!==u;){if(u.key===s){if(u.tag===Bd){r(e,u.sibling);var c=o(u,a);return c.pendingProps=i,c.return=e,c}r(e,u);break}n(e,u),u=u.sibling}var l=Ld(i,e.internalContextTag,a);return l.return=e,l}function E(e,t,n,i){var a=t;if(null!==a){if(a.tag===zd){r(e,a.sibling);var s=o(a,i);return s.type=n.value,s.return=e,s}r(e,a)}var u=Id(n,e.internalContextTag,i);return u.type=n.value,u.return=e,u}function M(e,t,i,a){for(var s=i.key,u=t;null!==u;){if(u.key===s){if(u.tag===Fd&&u.stateNode.containerInfo===i.containerInfo&&u.stateNode.implementation===i.implementation){r(e,u.sibling);var c=o(u,a);return c.pendingProps=i.children||[],c.return=e,c}r(e,u);break}n(e,u),u=u.sibling}var l=Od(i,e.internalContextTag,a);return l.return=e,l}function T(e,t,n,i){var o="object"==typeof n&&null!==n;if(o)switch(n.$$typeof){case Xd:return s(_(e,t,n,i));case yd:return s(w(e,t,n,i));case bd:return s(E(e,t,n,i));case xd:return s(M(e,t,n,i))}if("string"==typeof n||"number"==typeof n)return s(x(e,t,""+n,i));if(Nd(n))return y(e,t,n,i);if(at(n))return b(e,t,n,i);if(o&&ut(e,n),"function"==typeof n&&ct(),void 0===n)switch(e.tag){case Dd:if(e.stateNode.render._isMockFunction)break;case kd:var a=e.type;qn(!1,"%s(...): Nothing was returned from render. This usually means a return statement is missing. Or, to render nothing, return null.",a.displayName||a.name||"Component")}return r(e,t)}return T}function ht(e){return function(t){try{return e(t)}catch(e){Sp||(Sp=!0,Ep(!1,"React DevTools encountered an error: %s",e))}}}function dt(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t.supportsFiber)return Ep(!1,"The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://fb.me/react-devtools"),!0;try{var n=t.inject(e);Mp=ht(function(e){return t.onCommitFiberRoot(n,e)}),Tp=ht(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){Ep(!1,"React DevTools encountered an error: %s.",e)}return!0}function ft(e){"function"==typeof Mp&&Mp(e)}function pt(e){"function"==typeof Tp&&Tp(e)}function mt(e){if(!e)return Jn;var t=Fr.get(e);return"number"==typeof t.tag?hg(t):t._processChildContext(t._context)}function gt(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vt(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function yt(e,t){for(var n=gt(e),r=0,i=0;n;){if(n.nodeType===Tg){if(i=r+n.textContent.length,r<=t&&i>=t)return{node:n,offset:t-r};r=i}n=gt(vt(n))}}function bt(){return!Cg&&jn.canUseDOM&&(Cg="textContent"in document.documentElement?"textContent":"innerText"),Cg}function xt(e,t,n,r){return e===n&&t===r}function _t(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,r=t.anchorOffset,i=t.focusNode,o=t.focusOffset,a=t.getRangeAt(0);try{a.startContainer.nodeType,a.endContainer.nodeType}catch(e){return null}var s=xt(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),u=s?0:a.toString().length,c=a.cloneRange();c.selectNodeContents(e),c.setEnd(a.startContainer,a.startOffset);var l=xt(c.startContainer,c.startOffset,c.endContainer,c.endOffset),h=l?0:c.toString().length,d=h+u,f=document.createRange();f.setStart(n,r),f.setEnd(i,o);var p=f.collapsed;return{start:p?d:h,end:p?h:d}}function wt(e,t){if(window.getSelection){var n=window.getSelection(),r=e[Ag()].length,i=Math.min(t.start,r),o=void 0===t.end?i:Math.min(t.end,r);if(!n.extend&&i>o){var a=o;o=i,i=a}var s=Sg(e,i),u=Sg(e,o);if(s&&u){var c=document.createRange();c.setStart(s.node,s.offset),n.removeAllRanges(),i>o?(n.addRange(c),n.extend(u.node,u.offset)):(c.setEnd(u.node,u.offset),n.addRange(c))}}}function Et(e){return tr(document.documentElement,e)}function Mt(e){if(void 0!==e._hostParent)return e._hostParent;if("number"==typeof e.tag){do{e=e.return}while(e&&e.tag!==av);if(e)return e}return null}function Tt(e,t){for(var n=0,r=e;r;r=Mt(r))n++;for(var i=0,o=t;o;o=Mt(o))i++;for(;n-i>0;)e=Mt(e),n--;for(;i-n>0;)t=Mt(t),i--;for(var a=n;a--;){if(e===t||e===t.alternate)return e;e=Mt(e),t=Mt(t)}return null}function St(e,t){for(;t;){if(e===t||e===t.alternate)return!0;t=Mt(t)}return!1}function Ct(e){return Mt(e)}function At(e,t,n){for(var r=[];e;)r.push(e),e=Mt(e);var i;for(i=r.length;i-- >0;)t(r[i],"captured",n);for(i=0;i<r.length;i++)t(r[i],"bubbled",n)}function Pt(e,t,n,r,i){for(var o=e&&t?Tt(e,t):null,a=[];e&&e!==o;)a.push(e),e=Mt(e);for(var s=[];t&&t!==o;)s.push(t),t=Mt(t);var u;for(u=0;u<a.length;u++)n(a[u],"bubbled",r);for(u=s.length;u-- >0;)n(s[u],"captured",i)}function Rt(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return uv(e,r)}function Lt(e,t,n){cv(e,"Dispatching inst must not be null");var r=Rt(e,n,t);r&&(n._dispatchListeners=Bi(n._dispatchListeners,r),n._dispatchInstances=Bi(n._dispatchInstances,e))}function It(e){e&&e.dispatchConfig.phasedRegistrationNames&&sv.traverseTwoPhase(e._targetInst,Lt,e)}function Ot(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,n=t?sv.getParentInstance(t):null;sv.traverseTwoPhase(n,Lt,e)}}function Nt(e,t,n){if(e&&n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,i=uv(e,r);i&&(n._dispatchListeners=Bi(n._dispatchListeners,i),n._dispatchInstances=Bi(n._dispatchInstances,e))}}function kt(e){e&&e.dispatchConfig.registrationName&&Nt(e._targetInst,null,e)}function Dt(e){zi(e,It)}function Ut(e){zi(e,Ot)}function Ft(e,t,n,r){sv.traverseEnterLeave(n,r,Nt,e,t)}function Bt(e){zi(e,kt)}function zt(e,t,n,r){delete this.nativeEvent,delete this.preventDefault,delete this.stopPropagation,this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var i=this.constructor.Interface;for(var o in i)if(i.hasOwnProperty(o)){delete this[o];var a=i[o];a?this[o]=a(n):"target"===o?this.target=r:this[o]=n[o]}var s=null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue;return this.isDefaultPrevented=s?Yn.thatReturnsTrue:Yn.thatReturnsFalse,this.isPropagationStopped=Yn.thatReturnsFalse,this}function Ht(e,t){function n(e){return i(o?"setting the method":"setting the property","This is effectively a no-op"),e}function r(){return i(o?"accessing the method":"accessing the property",o?"This is a no-op function":"This is set to null"),t}function i(t,n){yv(!1,"This synthetic event is reused for performance reasons. If you're seeing this, you're %s `%s` on a released/nullified synthetic event. %s. If you must keep the original synthetic event around, use event.persist(). See https://fb.me/react-event-pooling for more information.",t,e,n)}var o="function"==typeof t;return{configurable:!0,set:n,get:r}}function qt(e,t,n,r){var i=this;if(i.eventPool.length){var o=i.eventPool.pop();return i.call(o,e,t,n,r),o}return new i(e,t,n,r)}function jt(e){var t=this;e instanceof t||qn(!1,"Trying to release an event instance  into a pool of a different type."),e.destructor(),t.eventPool.length<vv&&t.eventPool.push(e)}function Gt(e){e.eventPool=[],e.getPooled=qt,e.release=jt}function Vt(e,t,n,r){return _v.call(this,e,t,n,r)}function Wt(e,t,n,r){return _v.call(this,e,t,n,r)}function Xt(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function Yt(e){switch(e){case"topCompositionStart":return Nv.compositionStart;case"topCompositionEnd":return Nv.compositionEnd;case"topCompositionUpdate":return Nv.compositionUpdate}}function Zt(e,t){return"topKeyDown"===e&&t.keyCode===Cv}function Kt(e,t){switch(e){case"topKeyUp":return-1!==Sv.indexOf(t.keyCode);case"topKeyDown":return t.keyCode!==Cv;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function Qt(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function Jt(e,t,n,r){var i,o;if(Av?i=Yt(e):Dv?Kt(e,n)&&(i=Nv.compositionEnd):Zt(e,n)&&(i=Nv.compositionStart),!i)return null;Lv&&(Dv||i!==Nv.compositionStart?i===Nv.compositionEnd&&Dv&&(o=pv.getData()):Dv=pv.initialize(r));var a=Ev.getPooled(i,t,n,r);if(o)a.data=o;else{var s=Qt(n);null!==s&&(a.data=s)}return hv.accumulateTwoPhaseDispatches(a),a}function $t(e,t){switch(e){case"topCompositionEnd":return Qt(t);case"topKeyPress":return t.which!==Iv?null:(kv=!0,Ov);case"topTextInput":var n=t.data;return n===Ov&&kv?null:n;default:return null}}function en(e,t){if(Dv){if("topCompositionEnd"===e||!Av&&Kt(e,t)){var n=pv.getData();return pv.reset(),Dv=!1,n}return null}switch(e){case"topPaste":return null;case"topKeyPress":if(!Xt(t)){if(t.char&&t.char.length>1)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"topCompositionEnd":return Lv?null:t.data;default:return null}}function tn(e,t,n,r){var i;if(!(i=Rv?$t(e,n):en(e,n)))return null;var o=Tv.getPooled(Nv.beforeInput,t,n,r);return o.data=i,hv.accumulateTwoPhaseDispatches(o),o}function nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bv[e.type]:"textarea"===t}function rn(e,t,n){var r=_v.getPooled(Hv.change,e,t,n);return r.type="change",Ti.enqueueStateRestore(n),hv.accumulateTwoPhaseDispatches(r),r}function on(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function an(e){var t=rn(jv,e,Oi(e));Li.batchedUpdates(sn,t)}function sn(e){Wi.enqueueEvents(e),Wi.processEventQueue(!1)}function un(e){var t=Dr.getNodeFromInstance(e);if(zs.updateValueIfChanged(t))return e}function cn(e,t){if("topChange"===e)return t}function ln(e,t){qv=e,jv=t,qv.attachEvent("onpropertychange",dn)}function hn(){qv&&(qv.detachEvent("onpropertychange",dn),qv=null,jv=null)}function dn(e){"value"===e.propertyName&&un(jv)&&an(e)}function fn(e,t,n){"topFocus"===e?(hn(),ln(t,n)):"topBlur"===e&&hn()}function pn(e,t){if("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)return un(jv)}function mn(e){var t=e.nodeName;return t&&"input"===t.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function gn(e,t){if("topClick"===e)return un(t)}function vn(e,t){if("topInput"===e||"topChange"===e)return un(t)}function yn(e,t){if(null!=e){var n=e._wrapperState||t._wrapperState;if(n&&n.controlled&&"number"===t.type){var r=""+t.value;t.getAttribute("value")!==r&&t.setAttribute("value",r)}}}function bn(e,t,n,r){return _v.call(this,e,t,n,r)}function xn(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=Qv[e];return!!r&&!!n[r]}function _n(e){return xn}function wn(e,t,n,r){return Kv.call(this,e,t,n,r)}function En(e){if("selectionStart"in e&&Og.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}}function Mn(e,t){if(ly||null==sy||sy!==rr())return null;var n=En(sy);if(!cy||!er(cy,n)){cy=n;var r=_v.getPooled(ay.select,uy,e,t);return r.type="select",r.target=sy,hv.accumulateTwoPhaseDispatches(r),r}return null}function Tn(e,t,n,r){return _v.call(this,e,t,n,r)}function Sn(e,t,n,r){return _v.call(this,e,t,n,r)}function Cn(e,t,n,r){return Kv.call(this,e,t,n,r)}function An(e){var t,n=e.keyCode;return"charCode"in e?0===(t=e.charCode)&&13===n&&(t=13):t=n,t>=32||13===t?t:0}function Pn(e){if(e.key){var t=_y[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=xy(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?wy[e.keyCode]||"Unidentified":""}function Rn(e,t,n,r){return Kv.call(this,e,t,n,r)}function Ln(e,t,n,r){return ey.call(this,e,t,n,r)}function In(e,t,n,r){return Kv.call(this,e,t,n,r)}function On(e,t,n,r){return _v.call(this,e,t,n,r)}function Nn(e,t,n,r){return ey.call(this,e,t,n,r)}function kn(e){return!(!e||e.nodeType!==eb&&e.nodeType!==rb&&e.nodeType!==ib&&(e.nodeType!==nb||" react-mount-point-unstable "!==e.nodeValue))}function Dn(e){return e?e.nodeType===rb?e.documentElement:e.firstChild:null}function Un(e){var t=Dn(e);return!(!t||t.nodeType!==eb||!t.hasAttribute(ob))}function Fn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Bn(e,t,n,r,i){if(kn(n)||qn(!1,"Target container is not a DOM element."),n._reactRootContainer&&n.nodeType!==nb){var o=Sb.findHostInstanceWithNoPortals(n._reactRootContainer.current);o&&_b(o.parentNode===n,"render(...): It looks like the React-rendered content of this container was removed without using React. This is not supported and will cause errors. Instead, call ReactDOM.unmountComponentAtNode to empty a container.")}var a=!!n._reactRootContainer,s=Dn(n),u=!(!s||!Dr.getInstanceFromNode(s));_b(!u||a,"render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),_b(n.nodeType!==eb||!n.tagName||"BODY"!==n.tagName.toUpperCase(),"render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.");var c=n._reactRootContainer;if(c)Sb.updateContainer(t,c,e,i);else{var l=r||Un(n);if(!l)for(var h=!1,d=void 0;d=n.lastChild;)!h&&d.nodeType===eb&&d.hasAttribute(ob)&&(h=!0,_b(!1,"render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup.")),n.removeChild(d);!l||r||Cb||(Cb=!0,xb(!1,"render(): Calling ReactDOM.render() to hydrate server-rendered markup will stop working in React v17. Replace the ReactDOM.render() call with ReactDOM.hydrate() if you want React to attach to the server HTML."));var f=Sb.createContainer(n);c=n._reactRootContainer=f,Sb.unbatchedUpdates(function(){Sb.updateContainer(t,f,e,i)})}return Sb.getPublicRootInstance(c)}function zn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return kn(t)||qn(!1,"Target container is not a DOM element."),vd.createPortal(e,t,null,n)}var Hn=n(3),qn=n(5),jn=n(21),Gn=n(10),Vn=n(35),Wn=n(14),Xn=n(66),Yn=n(4),Zn=n(68),Kn=n(70),Qn=n(15),Jn=n(13),$n=n(19),er=n(36),tr=n(37),nr=n(38),rr=n(39);Hn||qn(!1,"ReactDOM was loaded before React. Make sure you load the React package before loading ReactDOM.");var ir="http://www.w3.org/1999/xhtml",or="http://www.w3.org/1998/Math/MathML",ar="http://www.w3.org/2000/svg",sr={html:ir,mathml:or,svg:ar},ur=sr,cr=t,lr=r,hr={Namespaces:ur,getIntrinsicNamespace:cr,getChildNamespace:lr},dr=null,fr={},pr={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:{},injectEventPluginOrder:function(e){dr&&qn(!1,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."),dr=Array.prototype.slice.call(e),i()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];fr.hasOwnProperty(n)&&fr[n]===r||(fr[n]&&qn(!1,"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",n),fr[n]=r,t=!0)}t&&i()}},mr=pr,gr={children:!0,dangerouslySetInnerHTML:!0,autoFocus:!0,defaultValue:!0,defaultChecked:!0,innerHTML:!0,suppressContentEditableWarning:!0,style:!0},vr={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,HAS_STRING_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=vr,n=e.Properties||{},r=e.DOMAttributeNamespaces||{},i=e.DOMAttributeNames||{},o=e.DOMMutationMethods||{};for(var a in n){br.properties.hasOwnProperty(a)&&qn(!1,"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",a);var u=a.toLowerCase(),c=n[a],l={attributeName:u,attributeNamespace:null,propertyName:a,mutationMethod:null,mustUseProperty:s(c,t.MUST_USE_PROPERTY),hasBooleanValue:s(c,t.HAS_BOOLEAN_VALUE),hasNumericValue:s(c,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:s(c,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:s(c,t.HAS_OVERLOADED_BOOLEAN_VALUE),hasStringBooleanValue:s(c,t.HAS_STRING_BOOLEAN_VALUE)};if(l.hasBooleanValue+l.hasNumericValue+l.hasOverloadedBooleanValue<=1||qn(!1,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",a),i.hasOwnProperty(a)){var h=i[a];l.attributeName=h}r.hasOwnProperty(a)&&(l.attributeNamespace=r[a]),o.hasOwnProperty(a)&&(l.mutationMethod=o[a]),br.properties[a]=l}}},yr=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",br={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:yr,ATTRIBUTE_NAME_CHAR:yr+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},shouldSetAttribute:function(e,t){if(br.isReservedProp(e))return!1;if(!("o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1]))return!1;if(null===t)return!0;switch(typeof t){case"boolean":return br.shouldAttributeAcceptBooleanValue(e);case"undefined":case"number":case"string":case"object":return!0;default:return!1}},getPropertyInfo:function(e){return br.properties.hasOwnProperty(e)?br.properties[e]:null},shouldAttributeAcceptBooleanValue:function(e){if(br.isReservedProp(e))return!0;var t=br.getPropertyInfo(e);if(t)return t.hasBooleanValue||t.hasStringBooleanValue||t.hasOverloadedBooleanValue;var n=e.toLowerCase().slice(0,5);return"data-"===n||"aria-"===n},isReservedProp:function(e){return gr.hasOwnProperty(e)},injection:vr},xr=br,_r={hasCachedChildNodes:1},wr=_r,Er={IndeterminateComponent:0,FunctionalComponent:1,ClassComponent:2,HostRoot:3,HostPortal:4,HostComponent:5,HostText:6,CoroutineComponent:7,CoroutineHandlerPhase:8,YieldComponent:9,Fragment:10},Mr={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_FRAGMENT_NODE:11},Tr=Mr,Sr=Er.HostComponent,Cr=Er.HostText,Ar=Tr.ELEMENT_NODE,Pr=Tr.COMMENT_NODE,Rr=xr.ID_ATTRIBUTE_NAME,Lr=wr,Ir=Math.random().toString(36).slice(2),Or="__reactInternalInstance$"+Ir,Nr="__reactEventHandlers$"+Ir,kr={getClosestInstanceFromNode:p,getInstanceFromNode:m,getNodeFromInstance:g,precacheChildNodes:f,precacheNode:l,uncacheNode:d,precacheFiberNode:h,getFiberCurrentPropsFromNode:v,updateFiberProps:y},Dr=kr,Ur={remove:function(e){e._reactInternalFiber=void 0},get:function(e){return e._reactInternalFiber},has:function(e){return void 0!==e._reactInternalFiber},set:function(e,t){e._reactInternalFiber=t}},Fr=Ur,Br=Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zr={ReactCurrentOwner:Br.ReactCurrentOwner};Gn(zr,{ReactComponentTreeHook:Br.ReactComponentTreeHook,ReactDebugCurrentFrame:Br.ReactDebugCurrentFrame});var Hr=zr,qr=b,jr={NoEffect:0,PerformedWork:1,Placement:2,Update:4,PlacementAndUpdate:6,Deletion:8,ContentReset:16,Callback:32,Err:64,Ref:128},Gr=Hr.ReactCurrentOwner,Vr=Wn,Wr=Er.ClassComponent,Xr=Er.HostComponent,Yr=Er.HostRoot,Zr=Er.HostPortal,Kr=Er.HostText,Qr=jr.NoEffect,Jr=jr.Placement,$r=1,ei=2,ti=3,ni=function(e){return x(e)===ei},ri=function(e){var t=Gr.current;if(null!==t&&t.tag===Wr){var n=t,r=n.stateNode;Vr(r._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",qr(n)||"A component"),r._warnedAboutRefsInRender=!0}var i=Fr.get(e);return!!i&&x(i)===ei},ii=w,oi=function(e){var t=w(e);if(!t)return null;for(var n=t;;){if(n.tag===Xr||n.tag===Kr)return n;if(n.child)n.child.return=n,n=n.child;else{if(n===t)return null;for(;!n.sibling;){if(!n.return||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}}return null},ai=function(e){var t=w(e);if(!t)return null;for(var n=t;;){if(n.tag===Xr||n.tag===Kr)return n;if(n.child&&n.tag!==Zr)n.child.return=n,n=n.child;else{if(n===t)return null;for(;!n.sibling;){if(!n.return||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}}return null},si={isFiberMounted:ni,isMounted:ri,findCurrentFiberUsingSlowPath:ii,findCurrentHostFiber:oi,findCurrentHostFiberWithNoPortals:ai},ui={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,injection:{injectErrorUtils:function(e){"function"!=typeof e.invokeGuardedCallback&&qn(!1,"Injected invokeGuardedCallback() must be a function."),ci=e.invokeGuardedCallback}},invokeGuardedCallback:function(e,t,n,r,i,o,a,s,u){ci.apply(ui,arguments)},invokeGuardedCallbackAndCatchFirstError:function(e,t,n,r,i,o,a,s,u){if(ui.invokeGuardedCallback.apply(this,arguments),ui.hasCaughtError()){var c=ui.clearCaughtError();ui._hasRethrowError||(ui._hasRethrowError=!0,ui._rethrowError=c)}},rethrowCaughtError:function(){return fi.apply(ui,arguments)},hasCaughtError:function(){return ui._hasCaughtError},clearCaughtError:function(){if(ui._hasCaughtError){var e=ui._caughtError;return ui._caughtError=null,ui._hasCaughtError=!1,e}qn(!1,"clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}},ci=function(e,t,n,r,i,o,a,s,u){ui._hasCaughtError=!1,ui._caughtError=null;var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){ui._caughtError=e,ui._hasCaughtError=!0}};if("undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"undefined"!=typeof document&&"function"==typeof document.createEvent){var li=document.createElement("react");ci=function(e,t,n,r,i,o,a,s,u){function c(){li.removeEventListener(g,c,!1),t.apply(n,d),h=!1}function l(e){f=e.error,p=!0,null===f&&0===e.colno&&0===e.lineno&&(m=!0)}var h=!0,d=Array.prototype.slice.call(arguments,3),f=void 0,p=!1,m=!1,g="react-"+(e||"invokeguardedcallback");window.addEventListener("error",l),li.addEventListener(g,c,!1);var v=document.createEvent("Event");v.initEvent(g,!1,!1),li.dispatchEvent(v),h?(p?m&&(f=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://fb.me/react-crossorigin-error for more information.")):f=new Error("An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the \"Pause on exceptions\" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue."),ui._hasCaughtError=!0,ui._caughtError=f):(ui._hasCaughtError=!1,ui._caughtError=null),window.removeEventListener("error",l)}}var hi,di,fi=function(){if(ui._hasRethrowError){var e=ui._rethrowError;throw ui._rethrowError=null,ui._hasRethrowError=!1,e}},pi=ui,mi=Wn,gi={injectComponentTree:function(e){hi=e,mi(e&&e.getNodeFromInstance&&e.getInstanceFromNode,"EventPluginUtils.injection.injectComponentTree(...): Injected module is missing getNodeFromInstance or getInstanceFromNode.")}};di=function(e){var t=e._dispatchListeners,n=e._dispatchInstances,r=Array.isArray(t),i=r?t.length:t?1:0,o=Array.isArray(n),a=o?n.length:n?1:0;mi(o===r&&a===i,"EventPluginUtils: Invalid `event`.")};var vi,yi={isEndish:E,isMoveish:M,isStartish:T,executeDirectDispatch:R,executeDispatchesInOrder:C,executeDispatchesInOrderStopAtTrue:P,hasDispatches:L,getFiberCurrentPropsFromNode:function(e){return hi.getFiberCurrentPropsFromNode(e)},getInstanceFromNode:function(e){return hi.getInstanceFromNode(e)},getNodeFromInstance:function(e){return hi.getNodeFromInstance(e)},injection:gi},bi=yi,xi=null,_i={injectFiberControlledHostComponent:function(e){xi=e}},wi=null,Ei=null,Mi={injection:_i,enqueueStateRestore:function(e){wi?Ei?Ei.push(e):Ei=[e]:wi=e},restoreStateIfNeeded:function(){if(wi){var e=wi,t=Ei;if(wi=null,Ei=null,I(e),t)for(var n=0;n<t.length;n++)I(t[n])}}},Ti=Mi,Si=function(e,t,n,r,i,o){return e(t,n,r,i,o)},Ci=function(e,t){return e(t)},Ai=!1,Pi={injectStackBatchedUpdates:function(e){Si=e},injectFiberBatchedUpdates:function(e){Ci=e}},Ri={batchedUpdates:k,injection:Pi},Li=Ri,Ii=Tr.TEXT_NODE,Oi=D,Ni=Er.HostRoot,ki=10,Di=[],Ui={_enabled:!0,_handleTopLevel:null,setHandleTopLevel:function(e){Ui._handleTopLevel=e},setEnabled:function(e){Ui._enabled=!!e},isEnabled:function(){return Ui._enabled},trapBubbledEvent:function(e,t,n){return n?Vn.listen(n,t,Ui.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){return n?Vn.capture(n,t,Ui.dispatchEvent.bind(null,e)):null},dispatchEvent:function(e,t){if(Ui._enabled){var n=Oi(t),r=Dr.getClosestInstanceFromNode(n);null===r||"number"!=typeof r.tag||si.isFiberMounted(r)||(r=null);var i=F(e,t,r);try{Li.batchedUpdates(z,i)}finally{B(i)}}}},Fi=Ui,Bi=H,zi=q,Hi=null,qi=function(e,t){e&&(bi.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},ji=function(e){return qi(e,!0)},Gi=function(e){return qi(e,!1)},Vi={injection:{injectEventPluginOrder:mr.injectEventPluginOrder,injectEventPluginsByName:mr.injectEventPluginsByName},getListener:function(e,t){var n;if("number"==typeof e.tag){var r=e.stateNode;if(!r)return null;var i=bi.getFiberCurrentPropsFromNode(r);if(!i)return null;if(n=i[t],G(t,e.type,i))return null}else{var o=e._currentElement;if("string"==typeof o||"number"==typeof o)return null;if(!e._rootNodeID)return null;var a=o.props;if(n=a[t],G(t,o.type,a))return null}return n&&"function"!=typeof n&&qn(!1,"Expected `%s` listener to be a function, instead got a value of `%s` type.",t,typeof n),n},extractEvents:function(e,t,n,r){for(var i,o=mr.plugins,a=0;a<o.length;a++){var s=o[a];if(s){var u=s.extractEvents(e,t,n,r);u&&(i=Bi(i,u))}}return i},enqueueEvents:function(e){e&&(Hi=Bi(Hi,e))},processEventQueue:function(e){var t=Hi;Hi=null,e?zi(t,ji):zi(t,Gi),Hi&&qn(!1,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."),pi.rethrowCaughtError()}},Wi=Vi,Xi={handleTopLevel:function(e,t,n,r){V(Wi.extractEvents(e,t,n,r))}},Yi=Xi;jn.canUseDOM&&(vi=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""));var Zi=W,Ki={animationend:X("Animation","AnimationEnd"),animationiteration:X("Animation","AnimationIteration"),animationstart:X("Animation","AnimationStart"),transitionend:X("Transition","TransitionEnd")},Qi={},Ji={};jn.canUseDOM&&(Ji=document.createElement("div").style,"AnimationEvent"in window||(delete Ki.animationend.animation,delete Ki.animationiteration.animation,delete Ki.animationstart.animation),"TransitionEvent"in window||delete Ki.transitionend.transition);var $i=Y,eo={topAbort:"abort",topAnimationEnd:$i("animationend")||"animationend",topAnimationIteration:$i("animationiteration")||"animationiteration",topAnimationStart:$i("animationstart")||"animationstart",topBlur:"blur",topCancel:"cancel",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topClose:"close",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoad:"load",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topToggle:"toggle",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:$i("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},to={topLevelTypes:eo},no=to,ro=no.topLevelTypes,io={},oo=0,ao="_reactListenersID"+(""+Math.random()).slice(2),so=Gn({},Yi,{setEnabled:function(e){Fi&&Fi.setEnabled(e)},isEnabled:function(){return!(!Fi||!Fi.isEnabled())},listenTo:function(e,t){for(var n=t,r=Z(n),i=mr.registrationNameDependencies[e],o=0;o<i.length;o++){var a=i[o];r.hasOwnProperty(a)&&r[a]||("topWheel"===a?Zi("wheel")?Fi.trapBubbledEvent("topWheel","wheel",n):Zi("mousewheel")?Fi.trapBubbledEvent("topWheel","mousewheel",n):Fi.trapBubbledEvent("topWheel","DOMMouseScroll",n):"topScroll"===a?Fi.trapCapturedEvent("topScroll","scroll",n):"topFocus"===a||"topBlur"===a?(Fi.trapCapturedEvent("topFocus","focus",n),Fi.trapCapturedEvent("topBlur","blur",n),r.topBlur=!0,r.topFocus=!0):"topCancel"===a?(Zi("cancel",!0)&&Fi.trapCapturedEvent("topCancel","cancel",n),r.topCancel=!0):"topClose"===a?(Zi("close",!0)&&Fi.trapCapturedEvent("topClose","close",n),r.topClose=!0):ro.hasOwnProperty(a)&&Fi.trapBubbledEvent(a,ro[a],n),r[a]=!0)}},isListeningToAllDependencies:function(e,t){for(var n=Z(t),r=mr.registrationNameDependencies[e],i=0;i<r.length;i++){var o=r[i];if(!n.hasOwnProperty(o)||!n[o])return!1}return!0},trapBubbledEvent:function(e,t,n){return Fi.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return Fi.trapCapturedEvent(e,t,n)}}),uo=so,co={fiberAsyncScheduling:!1,useFiber:!0},lo=co,ho={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fo=["Webkit","ms","Moz","O"];Object.keys(ho).forEach(function(e){fo.forEach(function(t){ho[K(t,e)]=ho[e]})});var po={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},mo={isUnitlessNumber:ho,shorthandPropertyExpansions:po},go=mo,vo=go.isUnitlessNumber,yo=Q,bo=function(e,t,n){return"\n    in "+(e||"Unknown")+(t?" (at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+")":n?" (created by "+n+")":"")},xo=Er.IndeterminateComponent,_o=Er.FunctionalComponent,wo=Er.ClassComponent,Eo=Er.HostComponent,Mo={getStackAddendumByWorkInProgressFiber:$},To=Hr.ReactDebugCurrentFrame,So=qr,Co=Mo,Ao=Co.getStackAddendumByWorkInProgressFiber,Po={current:null,phase:null,resetCurrentFiber:ne,setCurrentFiber:re,getCurrentFiberOwnerName:ee,getCurrentFiberStackAddendum:te},Ro=Po,Lo=Yn,Io=Zn,Oo=qr,No=Wn,ko=Ro,Do=ko.getCurrentFiberOwnerName,Uo=/^(?:webkit|moz|o)[A-Z]/,Fo=/;\s*$/,Bo={},zo={},Ho=!1,qo=!1,jo=function(e,t){Bo.hasOwnProperty(e)&&Bo[e]||(Bo[e]=!0,No(!1,"Unsupported style property %s. Did you mean %s?%s",e,Io(e),Yo(t)))},Go=function(e,t){Bo.hasOwnProperty(e)&&Bo[e]||(Bo[e]=!0,No(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?%s",e,e.charAt(0).toUpperCase()+e.slice(1),Yo(t)))},Vo=function(e,t,n){zo.hasOwnProperty(t)&&zo[t]||(zo[t]=!0,No(!1,'Style property values shouldn\'t contain a semicolon.%s Try "%s: %s" instead.',Yo(n),e,t.replace(Fo,"")))},Wo=function(e,t,n){Ho||(Ho=!0,No(!1,"`NaN` is an invalid value for the `%s` css style property.%s",e,Yo(n)))},Xo=function(e,t,n){qo||(qo=!0,No(!1,"`Infinity` is an invalid value for the `%s` css style property.%s",e,Yo(n)))},Yo=function(e){var t;return t=null!=e?Oo(e):Do(),t?"\n\nCheck the render method of `"+t+"`.":""};Lo=function(e,t,n){var r;n&&(r=n._currentElement._owner),e.indexOf("-")>-1?jo(e,r):Uo.test(e)?Go(e,r):Fo.test(t)&&Vo(e,t,r),"number"==typeof t&&(isNaN(t)?Wo(e,0,r):isFinite(t)||Xo(e,0,r))};var Zo=Lo,Ko=Xn,Qo=Zo,Jo=!1;if(jn.canUseDOM){var $o=document.createElement("div").style;try{$o.font=""}catch(e){Jo=!0}}var ea={createDangerousStringForStyles:function(e){var t="",n="";for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(null!=i){var o=0===r.indexOf("--");t+=n+Ko(r)+":",t+=yo(r,i,o),n=";"}}return t||null},setValueForStyles:function(e,t,n){var r=e.style;for(var i in t)if(t.hasOwnProperty(i)){var o=0===i.indexOf("--");o||Qo(i,t[i],n);var a=yo(i,t[i],o);if("float"===i&&(i="cssFloat"),o)r.setProperty(i,a);else if(a)r[i]=a;else{var s=Jo&&go.shorthandPropertyExpansions[i];if(s)for(var u in s)r[u]="";else r[i]=""}}}},ta=ea,na={},ra=Wn,ia=!1,oa=function(){ra(!ia,"setState(...): Cannot call setState() inside getChildContext()")};na={onBeginProcessingChildContext:function(){ia=!0},onEndProcessingChildContext:function(){ia=!1},onSetState:function(){oa()}};var aa=na,sa=null,ua=[];sa={onHostOperation:function(e){ua.push(e)},clearHistory:function(){sa._preventClearing||(ua=[])},getHistory:function(){return ua}};var ca=sa,la=Hr.ReactComponentTreeHook,ha=Wn,da=null,fa=[],pa={},ma=function(e,t,n,r,i,o,a,s){try{t.call(n,r,i,o,a,s)}catch(t){ha(pa[e],"Exception thrown by hook while handling %s: %s",e,t+"\n"+t.stack),pa[e]=!0}},ga=function(e,t,n,r,i,o){for(var a=0;a<fa.length;a++){var s=fa[a],u=s[e];u&&ma(e,u,s,t,n,r,i,o)}},va=!1,ya=[],ba=[],xa=0,_a=[],wa=0,Ea=null,Ma=0,Ta=0,Sa=null,Ca=!1,Aa=function(){la.purgeUnmountedComponents(),ca.clearHistory()},Pa=function(e){return e.reduce(function(e,t){var n=la.getOwnerID(t),r=la.getParentID(t);return e[t]={displayName:la.getDisplayName(t),text:la.getText(t),updateCount:la.getUpdateCount(t),childIDs:la.getChildIDs(t),ownerID:n||r&&la.getOwnerID(r)||0,parentID:r},e},{})},Ra=function(){var e=wa,t=_a,n=ca.getHistory();if(0===xa)return wa=0,_a=[],void Aa();if(t.length||n.length){var r=la.getRegisteredIDs();ya.push({duration:Kn()-e,measurements:t||[],operations:n||[],treeSnapshot:Pa(r)})}Aa(),wa=Kn(),_a=[]},La=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&0===e||e||ha(!1,"ReactDebugTool: debugID may not be empty.")},Ia=function(e,t){0!==xa&&(Sa&&!Ca&&(ha(!1,"There is an internal error in the React performance measurement code.\n\nDid not expect %s timer to start while %s timer is still in progress for %s instance.",t,Sa||"no",e===Ea?"the same":"another"),Ca=!0),Ma=Kn(),Ta=0,Ea=e,Sa=t)},Oa=function(e,t){0!==xa&&(Sa===t||Ca||(ha(!1,"There is an internal error in the React performance measurement code. We did not expect %s timer to stop while %s timer is still in progress for %s instance. Please report this as a bug in React.",t,Sa||"no",e===Ea?"the same":"another"),Ca=!0),va&&_a.push({timerType:t,instanceID:e,duration:Kn()-Ma-Ta}),Ma=0,Ta=0,Ea=null,Sa=null)},Na=function(){var e={startTime:Ma,nestedFlushStartTime:Kn(),debugID:Ea,timerType:Sa};ba.push(e),Ma=0,Ta=0,Ea=null,Sa=null},ka=function(){var e=ba.pop(),t=e.startTime,n=e.nestedFlushStartTime,r=e.debugID,i=e.timerType,o=Kn()-n;Ma=t,Ta+=o,Ea=r,Sa=i},Da=0,Ua="undefined"!=typeof performance&&"function"==typeof performance.mark&&"function"==typeof performance.clearMarks&&"function"==typeof performance.measure&&"function"==typeof performance.clearMeasures,Fa=function(e){if(!va||!Ua)return!1;var t=la.getElement(e);return null!=t&&"object"==typeof t&&!("string"==typeof t.type)},Ba=function(e,t){if(Fa(e)){var n=e+"::"+t;Da=Kn(),performance.mark(n)}},za=function(e,t){if(Fa(e)){var n=e+"::"+t,r=la.getDisplayName(e)||"Unknown";if(Kn()-Da>.1){var i=r+" ["+t+"]";performance.measure(i,n)}performance.clearMarks(n),i&&performance.clearMeasures(i)}};da={addHook:function(e){fa.push(e)},removeHook:function(e){for(var t=0;t<fa.length;t++)fa[t]===e&&(fa.splice(t,1),t--)},isProfiling:function(){return va},beginProfiling:function(){va||(va=!0,ya.length=0,Ra(),da.addHook(ca))},endProfiling:function(){va&&(va=!1,Ra(),da.removeHook(ca))},getFlushHistory:function(){return ya},onBeginFlush:function(){xa++,Ra(),Na(),ga("onBeginFlush")},onEndFlush:function(){Ra(),xa--,ka(),ga("onEndFlush")},onBeginLifeCycleTimer:function(e,t){La(e),ga("onBeginLifeCycleTimer",e,t),Ba(e,t),Ia(e,t)},onEndLifeCycleTimer:function(e,t){La(e),Oa(e,t),za(e,t),ga("onEndLifeCycleTimer",e,t)},onBeginProcessingChildContext:function(){ga("onBeginProcessingChildContext")},onEndProcessingChildContext:function(){ga("onEndProcessingChildContext")},onHostOperation:function(e){La(e.instanceID),ga("onHostOperation",e)},onSetState:function(){ga("onSetState")},onSetChildren:function(e,t){La(e),t.forEach(La),ga("onSetChildren",e,t)},onBeforeMountComponent:function(e,t,n){La(e),La(n,!0),ga("onBeforeMountComponent",e,t,n),Ba(e,"mount")},onMountComponent:function(e){La(e),za(e,"mount"),ga("onMountComponent",e)},onBeforeUpdateComponent:function(e,t){La(e),ga("onBeforeUpdateComponent",e,t),Ba(e,"update")},onUpdateComponent:function(e){La(e),za(e,"update"),ga("onUpdateComponent",e)},onBeforeUnmountComponent:function(e){La(e),ga("onBeforeUnmountComponent",e),Ba(e,"unmount")},onUnmountComponent:function(e){La(e),za(e,"unmount"),ga("onUnmountComponent",e)},onTestEvent:function(){ga("onTestEvent")}},da.addHook(aa),da.addHook(la),/[?&]react_perf\b/.test(jn.canUseDOM&&window.location.href||"")&&da.beginProfiling();var Ha=da,qa=null;qa=Ha;var ja={debugTool:qa},Ga=Wn,Va=new RegExp("^["+xr.ATTRIBUTE_NAME_START_CHAR+"]["+xr.ATTRIBUTE_NAME_CHAR+"]*$"),Wa={},Xa={},Ya={setAttributeForID:function(e,t){e.setAttribute(xr.ID_ATTRIBUTE_NAME,t)},setAttributeForRoot:function(e){e.setAttribute(xr.ROOT_ATTRIBUTE_NAME,"")},getValueForProperty:function(e,t,n){var r=xr.getPropertyInfo(t);if(r){if(r.mutationMethod||r.mustUseProperty)return e[r.propertyName];var i=r.attributeName,o=null;if(r.hasOverloadedBooleanValue){if(e.hasAttribute(i)){var a=e.getAttribute(i);return""===a||(oe(r,n)?a:a===""+n?n:a)}}else if(e.hasAttribute(i)){if(oe(r,n))return e.getAttribute(i);if(r.hasBooleanValue)return n;o=e.getAttribute(i)}return oe(r,n)?null===o?n:o:o===""+n?n:o}},getValueForAttribute:function(e,t,n){if(ie(t)){if(!e.hasAttribute(t))return void 0===n?void 0:null;var r=e.getAttribute(t);return r===""+n?n:r}},setValueForProperty:function(e,t,n){var r=xr.getPropertyInfo(t);if(!r||!xr.shouldSetAttribute(t,n))return void Ya.setValueForAttribute(e,t,xr.shouldSetAttribute(t,n)?n:null);var i=r.mutationMethod;if(i)i(e,n);else{if(oe(r,n))return void Ya.deleteValueForProperty(e,t);if(r.mustUseProperty)e[r.propertyName]=n;else{var o=r.attributeName,a=r.attributeNamespace;a?e.setAttributeNS(a,o,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&!0===n?e.setAttribute(o,""):e.setAttribute(o,""+n)}}var s={};s[t]=n,ja.debugTool.onHostOperation({instanceID:Dr.getInstanceFromNode(e)._debugID,type:"update attribute",payload:s})},setValueForAttribute:function(e,t,n){if(ie(t)){null==n?e.removeAttribute(t):e.setAttribute(t,""+n);var r={};r[t]=n,ja.debugTool.onHostOperation({instanceID:Dr.getInstanceFromNode(e)._debugID,type:"update attribute",payload:r})}},deleteValueForAttribute:function(e,t){e.removeAttribute(t),ja.debugTool.onHostOperation({instanceID:Dr.getInstanceFromNode(e)._debugID,type:"remove attribute",payload:t})},deleteValueForProperty:function(e,t){var n=xr.getPropertyInfo(t);if(n){var r=n.mutationMethod;if(r)r(e,void 0);else if(n.mustUseProperty){var i=n.propertyName;n.hasBooleanValue?e[i]=!1:e[i]=""}else e.removeAttribute(n.attributeName)}else e.removeAttribute(t);ja.debugTool.onHostOperation({instanceID:Dr.getInstanceFromNode(e)._debugID,type:"remove attribute",payload:t})}},Za=Ya,Ka={checkPropTypes:null},Qa=Wn,Ja=Yn,$a=Qn;Ka.checkPropTypes=Ja;var es={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},ts={value:function(e,t,n){return!e[t]||es[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:$a.func},ns={};Ka.checkPropTypes=function(e,t,n){for(var r in ts){if(ts.hasOwnProperty(r))var i=ts[r](t,r,e,"prop",null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");i instanceof Error&&!(i.message in ns)&&(ns[i.message]=!0,Qa(!1,"Failed form propType: %s%s",i.message,n()))}};var rs,is=Ka,os=Ro.getCurrentFiberOwnerName,as=Ro,ss=as.getCurrentFiberStackAddendum,us=Wn,cs=!1,ls=!1,hs=!1,ds=!1,fs={getHostProps:function(e,t){var n=e,r=t.value,i=t.checked;return Gn({type:void 0,step:void 0,min:void 0,max:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=r?r:n._wrapperState.initialValue,checked:null!=i?i:n._wrapperState.initialChecked})},initWrapperState:function(e,t){is.checkPropTypes("input",t,ss),void 0===t.checked||void 0===t.defaultChecked||ls||(us(!1,"%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://fb.me/react-controlled-components",os()||"A component",t.type),ls=!0),void 0===t.value||void 0===t.defaultValue||cs||(us(!1,"%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://fb.me/react-controlled-components",os()||"A component",t.type),cs=!0);var n=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:n,controlled:ae(t)}},updateWrapper:function(e,t){var n=e,r=ae(t);n._wrapperState.controlled||!r||ds||(us(!1,"A component is changing an uncontrolled input of type %s to be controlled. Input elements should not switch from uncontrolled to controlled (or vice versa). Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://fb.me/react-controlled-components%s",t.type,ss()),ds=!0),!n._wrapperState.controlled||r||hs||(us(!1,"A component is changing a controlled input of type %s to be uncontrolled. Input elements should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://fb.me/react-controlled-components%s",t.type,ss()),hs=!0);var i=t.checked;null!=i&&Za.setValueForProperty(n,"checked",i||!1);var o=t.value;if(null!=o)if(0===o&&""===n.value)n.value="0";else if("number"===t.type){var a=parseFloat(n.value)||0;(o!=a||o==a&&n.value!=o)&&(n.value=""+o)}else n.value!==""+o&&(n.value=""+o);else null==t.value&&null!=t.defaultValue&&n.defaultValue!==""+t.defaultValue&&(n.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(n.defaultChecked=!!t.defaultChecked)},postMountWrapper:function(e,t){var n=e;switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":n.value="",n.value=n.defaultValue;break;default:n.value=n.value}var r=n.name;""!==r&&(n.name=""),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,""!==r&&(n.name=r)},restoreControlledState:function(e,t){var n=e;fs.updateWrapper(n,t),se(n,t)}},ps=fs,ms=Wn,gs={validateProps:function(e,t){ms(null==t.selected,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>.")},postMountWrapper:function(e,t){null!=t.value&&e.setAttribute("value",t.value)},getHostProps:function(e,t){var n=Gn({children:void 0},t),r=ue(t.children);return r&&(n.children=r),n}},vs=gs,ys=Ro.getCurrentFiberOwnerName,bs=!1,xs=Wn,_s=Ro,ws=_s.getCurrentFiberStackAddendum,Es=["value","defaultValue"],Ms={getHostProps:function(e,t){return Gn({},t,{value:void 0})},initWrapperState:function(e,t){var n=e;le(t);var r=t.value;n._wrapperState={initialValue:null!=r?r:t.defaultValue,wasMultiple:!!t.multiple},void 0===t.value||void 0===t.defaultValue||bs||(xs(!1,"Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://fb.me/react-controlled-components"),bs=!0)},postMountWrapper:function(e,t){var n=e;n.multiple=!!t.multiple;var r=t.value;null!=r?he(n,!!t.multiple,r):null!=t.defaultValue&&he(n,!!t.multiple,t.defaultValue)},postUpdateWrapper:function(e,t){var n=e;n._wrapperState.initialValue=void 0;var r=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!t.multiple;var i=t.value;null!=i?he(n,!!t.multiple,i):r!==!!t.multiple&&(null!=t.defaultValue?he(n,!!t.multiple,t.defaultValue):he(n,!!t.multiple,t.multiple?[]:""))},restoreControlledState:function(e,t){var n=e,r=t.value;null!=r&&he(n,!!t.multiple,r)}},Ts=Ms,Ss=Wn,Cs=Ro,As=Cs.getCurrentFiberStackAddendum,Ps=!1,Rs={getHostProps:function(e,t){var n=e;return null!=t.dangerouslySetInnerHTML&&qn(!1,"`dangerouslySetInnerHTML` does not make sense on <textarea>."),Gn({},t,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})},initWrapperState:function(e,t){var n=e;is.checkPropTypes("textarea",t,As),void 0===t.value||void 0===t.defaultValue||Ps||(Ss(!1,"Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://fb.me/react-controlled-components"),Ps=!0);var r=t.value,i=r;if(null==r){var o=t.defaultValue,a=t.children;null!=a&&(Ss(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."),null!=o&&qn(!1,"If you supply `defaultValue` on a <textarea>, do not pass children."),Array.isArray(a)&&(a.length<=1||qn(!1,"<textarea> can only have at most one child."),a=a[0]),o=""+a),null==o&&(o=""),i=o}n._wrapperState={initialValue:""+i}},updateWrapper:function(e,t){var n=e,r=t.value;if(null!=r){var i=""+r;i!==n.value&&(n.value=i),null==t.defaultValue&&(n.defaultValue=i)}null!=t.defaultValue&&(n.defaultValue=t.defaultValue)},postMountWrapper:function(e,t){var n=e,r=n.textContent;r===n._wrapperState.initialValue&&(n.value=r)},restoreControlledState:function(e,t){Rs.updateWrapper(e,t)}},Ls=Rs,Is={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Os=Is,Ns=Gn({menuitem:!0},Os),ks=Ns,Ds=Wn,Us="__html",Fs=fe,Bs={_getTrackerFromNode:me,track:function(e){me(e)||(e._valueTracker=ye(e))},updateValueIfChanged:function(e){if(!e)return!1;var t=me(e);if(!t)return!0;var n=t.getValue(),r=ve(e);return r!==n&&(t.setValue(r),!0)},stopTracking:function(e){var t=me(e);t&&t.stopTracking()}},zs=Bs,Hs=be,qs=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e},js=qs,Gs=hr.Namespaces,Vs=js(function(e,t){if(e.namespaceURI!==Gs.svg||"innerHTML"in e)e.innerHTML=t;else{rs=rs||document.createElement("div"),rs.innerHTML="<svg>"+t+"</svg>";for(var n=rs.firstChild;n.firstChild;)e.appendChild(n.firstChild)}}),Ws=Vs,Xs=/["'&<>]/,Ys=_e,Zs=Tr.TEXT_NODE,Ks=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===Zs)return void(n.nodeValue=t)}e.textContent=t};jn.canUseDOM&&("textContent"in document.documentElement||(Ks=function(e,t){if(e.nodeType===Zs)return void(e.nodeValue=t);Ws(e,Ys(t))}));var Qs,Js=Ks,$s={"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},eu=$s,tu={},nu=new RegExp("^(aria)-["+xr.ATTRIBUTE_NAME_CHAR+"]*$"),ru=new RegExp("^(aria)[A-Z]["+xr.ATTRIBUTE_NAME_CHAR+"]*$"),iu=Object.prototype.hasOwnProperty,ou=Wn,au=Hr,su=au.ReactComponentTreeHook,uu=au.ReactDebugCurrentFrame,cu=su.getStackAddendumByID,lu=eu,hu={validateProperties:Te,onBeforeMountComponent:function(e,t){null!=t&&"string"==typeof t.type&&Te(t.type,t.props,e)},onBeforeUpdateComponent:function(e,t){null!=t&&"string"==typeof t.type&&Te(t.type,t.props,e)}},du=hu,fu=Wn,pu=Hr,mu=pu.ReactComponentTreeHook,gu=pu.ReactDebugCurrentFrame,vu=mu.getStackAddendumByID,yu=!1,bu={validateProperties:Ce,onBeforeMountComponent:function(e,t){null!=t&&"string"==typeof t.type&&Ce(t.type,t.props,e)},onBeforeUpdateComponent:function(e,t){null!=t&&"string"==typeof t.type&&Ce(t.type,t.props,e)}},xu=bu,_u={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",allowtransparency:"allowTransparency",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",download:"download",draggable:"draggable",enctype:"encType",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},wu=_u,Eu=Wn,Mu=Hr,Tu=Mu.ReactComponentTreeHook,Su=Mu.ReactDebugCurrentFrame,Cu=Tu.getStackAddendumByID,Au={},Pu=Object.prototype.hasOwnProperty,Ru=/^on[A-Z]/,Lu=new RegExp("^(aria)-["+xr.ATTRIBUTE_NAME_CHAR+"]*$"),Iu=new RegExp("^(aria)[A-Z]["+xr.ATTRIBUTE_NAME_CHAR+"]*$"),Ou=wu,Nu=function(e,t,n,r){if(Pu.call(Au,t)&&Au[t])return!0;if(mr.registrationNameModules.hasOwnProperty(t))return!0;if(0===mr.plugins.length&&Ru.test(t))return!0;var i=t.toLowerCase(),o=mr.possibleRegistrationNames.hasOwnProperty(i)?mr.possibleRegistrationNames[i]:null;if(null!=o)return Eu(!1,"Invalid event handler property `%s`. Did you mean `%s`?%s",t,o,Ae(r)),Au[t]=!0,!0;if(0===i.indexOf("on"))return Eu(!1,"Unknown event handler property `%s`. It will be ignored.%s",t,Ae(r)),Au[t]=!0,!0;if(Lu.test(t)||Iu.test(t))return!0;if("onfocusin"===i||"onfocusout"===i)return Eu(!1,"React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),Au[t]=!0,!0;if("innerhtml"===i)return Eu(!1,"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),Au[t]=!0,!0;if("aria"===i)return Eu(!1,"The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),Au[t]=!0,!0;if("is"===i&&null!==n&&void 0!==n&&"string"!=typeof n)return Eu(!1,"Received a `%s` for string attribute `is`. If this is expected, cast the value to a string.%s",typeof n,Ae(r)),Au[t]=!0,!0;if("number"==typeof n&&isNaN(n))return Eu(!1,"Received NaN for numeric attribute `%s`. If this is expected, cast the value to a string.%s",t,Ae(r)),Au[t]=!0,!0;var a=xr.isReservedProp(t);if(Ou.hasOwnProperty(i)){var s=Ou[i];if(s!==t)return Eu(!1,"Invalid DOM property `%s`. Did you mean `%s`?%s",t,s,Ae(r)),Au[t]=!0,!0}else if(!a&&t!==i)return Eu(!1,"React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.%s",t,i,Ae(r)),Au[t]=!0,!0;return"boolean"==typeof n?(Eu(xr.shouldAttributeAcceptBooleanValue(t),"Received `%s` for non-boolean attribute `%s`. If this is expected, cast the value to a string.%s",n,t,Ae(r)),Au[t]=!0,!0):!!a||(!!xr.shouldSetAttribute(t,n)||(Au[t]=!0,!1))},ku=function(e,t,n){var r=[];for(var i in t){Nu(0,i,t[i],n)||r.push(i)}var o=r.map(function(e){return"`"+e+"`"}).join(", ");1===r.length?Eu(!1,"Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://fb.me/react-attribute-behavior%s",o,e,Ae(n)):r.length>1&&Eu(!1,"Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://fb.me/react-attribute-behavior%s",o,e,Ae(n))},Du={validateProperties:Pe,onBeforeMountComponent:function(e,t){null!=t&&"string"==typeof t.type&&Pe(t.type,t.props,e)},onBeforeUpdateComponent:function(e,t){null!=t&&"string"==typeof t.type&&Pe(t.type,t.props,e)}},Uu=Du,Fu=Ro.getCurrentFiberOwnerName,Bu=Tr.DOCUMENT_NODE,zu=Tr.DOCUMENT_FRAGMENT_NODE,Hu=Wn,qu=Ro,ju=qu.getCurrentFiberStackAddendum,Gu=du,Vu=xu,Wu=Uu,Xu=Gu.validateProperties,Yu=Vu.validateProperties,Zu=Wu.validateProperties,Ku=!1,Qu=!1,Ju=uo.listenTo,$u=mr.registrationNameModules,ec="dangerouslySetInnerHTML",tc="suppressContentEditableWarning",nc="children",rc="style",ic="__html",oc=hr.Namespaces.html,ac=hr.getIntrinsicNamespace,sc={time:!0},uc=function(e,t){Xu(e,t),Yu(e,t),Zu(e,t)},cc=function(e,t){Ku||(Ku=!0,Hu(!1,'Text content did not match. Server: "%s" Client: "%s"',e,t))},lc=function(e,t,n){Ku||(Ku=!0,Hu(!1,"Prop `%s` did not match. Server: %s Client: %s",e,JSON.stringify(t),JSON.stringify(n)))},hc=function(e){if(!Ku){Ku=!0;var t=[];e.forEach(function(e){t.push(e)}),Hu(!1,"Extra attributes from the server: %s",t)}},dc=function(e,t){Hu(!1,"Expected `%s` listener to be a function, instead got a value of `%s` type.%s",e,typeof t,ju())},fc=function(e,t){Qs||(Qs=document.implementation.createHTMLDocument());var n=e.namespaceURI===oc?Qs.createElement(e.tagName):Qs.createElementNS(e.namespaceURI,e.tagName);return n.innerHTML=t,n.innerHTML},pc={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},mc={createElement:function(e,t,n,r){var i,o=Le(n),a=r;if(a===oc&&(a=ac(e)),a===oc){var s=Hs(e,t);if(Hu(s||e===e.toLowerCase(),"<%s /> is using uppercase HTML. Always use lowercase HTML tags in React.",e),"script"===e){var u=o.createElement("div");u.innerHTML="<script><\/script>";var c=u.firstChild;i=u.removeChild(c)}else i="string"==typeof t.is?o.createElement(e,{is:t.is}):o.createElement(e)}else i=o.createElementNS(a,e);return a===oc&&(s||"[object HTMLUnknownElement]"!==Object.prototype.toString.call(i)||Object.prototype.hasOwnProperty.call(sc,e)||(sc[e]=!0,Hu(!1,"The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",e))),i},createTextNode:function(e,t){return Le(t).createTextNode(e)},setInitialProperties:function(e,t,n,r){var i=Hs(t,n);uc(t,n),i&&!Qu&&e.shadyRoot&&(Hu(!1,"%s is using shady DOM. Using shady DOM with React can cause things to break subtly.",Fu()||"A component"),Qu=!0);var o;switch(t){case"iframe":case"object":uo.trapBubbledEvent("topLoad","load",e),o=n;break;case"video":case"audio":for(var a in pc)pc.hasOwnProperty(a)&&uo.trapBubbledEvent(a,pc[a],e);o=n;break;case"source":uo.trapBubbledEvent("topError","error",e),o=n;break;case"img":case"image":uo.trapBubbledEvent("topError","error",e),uo.trapBubbledEvent("topLoad","load",e),o=n;break;case"form":uo.trapBubbledEvent("topReset","reset",e),uo.trapBubbledEvent("topSubmit","submit",e),o=n;break;case"details":uo.trapBubbledEvent("topToggle","toggle",e),o=n;break;case"input":ps.initWrapperState(e,n),o=ps.getHostProps(e,n),uo.trapBubbledEvent("topInvalid","invalid",e),Re(r,"onChange");break;case"option":vs.validateProps(e,n),o=vs.getHostProps(e,n);break;case"select":Ts.initWrapperState(e,n),o=Ts.getHostProps(e,n),uo.trapBubbledEvent("topInvalid","invalid",e),Re(r,"onChange");break;case"textarea":Ls.initWrapperState(e,n),o=Ls.getHostProps(e,n),uo.trapBubbledEvent("topInvalid","invalid",e),Re(r,"onChange");break;default:o=n}switch(Fs(t,o,Fu),Oe(e,r,o,i),t){case"input":zs.track(e),ps.postMountWrapper(e,n);break;case"textarea":zs.track(e),Ls.postMountWrapper(e,n);break;case"option":vs.postMountWrapper(e,n);break;case"select":Ts.postMountWrapper(e,n);break;default:"function"==typeof o.onClick&&Ie(e)}},diffProperties:function(e,t,n,r,i){uc(t,r);var o,a,s=null;switch(t){case"input":o=ps.getHostProps(e,n),a=ps.getHostProps(e,r),s=[];break;case"option":o=vs.getHostProps(e,n),a=vs.getHostProps(e,r),s=[];break;case"select":o=Ts.getHostProps(e,n),a=Ts.getHostProps(e,r),s=[];break;case"textarea":o=Ls.getHostProps(e,n),a=Ls.getHostProps(e,r),s=[];break;default:o=n,a=r,"function"!=typeof o.onClick&&"function"==typeof a.onClick&&Ie(e)}Fs(t,a,Fu);var u,c,l=null;for(u in o)if(!a.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if(u===rc){var h=o[u];for(c in h)h.hasOwnProperty(c)&&(l||(l={}),l[c]="")}else u===ec||u===nc||u===tc||($u.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in a){var d=a[u],f=null!=o?o[u]:void 0;if(a.hasOwnProperty(u)&&d!==f&&(null!=d||null!=f))if(u===rc)if(d&&Object.freeze(d),f){for(c in f)!f.hasOwnProperty(c)||d&&d.hasOwnProperty(c)||(l||(l={}),l[c]="");for(c in d)d.hasOwnProperty(c)&&f[c]!==d[c]&&(l||(l={}),l[c]=d[c])}else l||(s||(s=[]),s.push(u,l)),l=d;else if(u===ec){var p=d?d[ic]:void 0,m=f?f[ic]:void 0;null!=p&&m!==p&&(s=s||[]).push(u,""+p)}else u===nc?f===d||"string"!=typeof d&&"number"!=typeof d||(s=s||[]).push(u,""+d):u===tc||($u.hasOwnProperty(u)?(null!=d&&("function"!=typeof d&&dc(u,d),Re(i,u)),s||f===d||(s=[])):(s=s||[]).push(u,d))}return l&&(s=s||[]).push(rc,l),s},updateProperties:function(e,t,n,r,i){switch(Ne(e,t,Hs(n,r),Hs(n,i)),n){case"input":ps.updateWrapper(e,i),zs.updateValueIfChanged(e);break;case"textarea":Ls.updateWrapper(e,i);break;case"select":Ts.postUpdateWrapper(e,i)}},diffHydratedProperties:function(e,t,n,r,i){var o=Hs(t,n);switch(uc(t,n),o&&!Qu&&e.shadyRoot&&(Hu(!1,"%s is using shady DOM. Using shady DOM with React can cause things to break subtly.",Fu()||"A component"),Qu=!0),t){case"iframe":case"object":uo.trapBubbledEvent("topLoad","load",e);break;case"video":case"audio":for(var a in pc)pc.hasOwnProperty(a)&&uo.trapBubbledEvent(a,pc[a],e);break;case"source":uo.trapBubbledEvent("topError","error",e);break;case"img":case"image":uo.trapBubbledEvent("topError","error",e),uo.trapBubbledEvent("topLoad","load",e);break;case"form":uo.trapBubbledEvent("topReset","reset",e),uo.trapBubbledEvent("topSubmit","submit",e);break;case"details":uo.trapBubbledEvent("topToggle","toggle",e);break;case"input":ps.initWrapperState(e,n),uo.trapBubbledEvent("topInvalid","invalid",e),Re(i,"onChange");break;case"option":vs.validateProps(e,n);break;case"select":Ts.initWrapperState(e,n),uo.trapBubbledEvent("topInvalid","invalid",e),Re(i,"onChange");break;case"textarea":Ls.initWrapperState(e,n),uo.trapBubbledEvent("topInvalid","invalid",e),Re(i,"onChange")}Fs(t,n,Fu);for(var s=new Set,u=e.attributes,c=0;c<u.length;c++){switch(u[c].name.toLowerCase()){case"data-reactroot":case"value":case"checked":case"selected":break;default:s.add(u[c].name)}}var l=null;for(var h in n)if(n.hasOwnProperty(h)){var d=n[h];if(h===nc)"string"==typeof d?e.textContent!==d&&(cc(e.textContent,d),l=[nc,d]):"number"==typeof d&&e.textContent!==""+d&&(cc(e.textContent,d),l=[nc,""+d]);else if($u.hasOwnProperty(h))null!=d&&("function"!=typeof d&&dc(h,d),Re(i,h));else{var f,p;if(h===tc||"value"===h||"checked"===h||"selected"===h);else if(h===ec){var m=d?d[ic]||"":"",g=e.innerHTML,v=fc(e,m);v!==g&&lc(h,g,v)}else if(h===rc){s.delete(h);var y=ta.createDangerousStringForStyles(d);f=e.getAttribute("style"),y!==f&&lc(h,f,y)}else if(o)s.delete(h.toLowerCase()),f=Za.getValueForAttribute(e,h,d),d!==f&&lc(h,f,d);else if(xr.shouldSetAttribute(h,d)){if(p=xr.getPropertyInfo(h))s.delete(p.attributeName),f=Za.getValueForProperty(e,h,d);else{var b=r;b===oc&&(b=ac(t)),b===oc?s.delete(h.toLowerCase()):s.delete(h),f=Za.getValueForAttribute(e,h,d)}d!==f&&lc(h,f,d)}}}switch(s.size>0&&hc(s),t){case"input":zs.track(e),ps.postMountWrapper(e,n);break;case"textarea":zs.track(e),Ls.postMountWrapper(e,n);break;case"select":case"option":break;default:"function"==typeof n.onClick&&Ie(e)}return l},diffHydratedText:function(e,t){var n=e.nodeValue!==t;return n&&cc(e.nodeValue,t),n},warnForDeletedHydratableElement:function(e,t){Ku||(Ku=!0,Hu(!1,"Did not expect server HTML to contain a <%s> in <%s>.",t.nodeName.toLowerCase(),e.nodeName.toLowerCase()))},warnForDeletedHydratableText:function(e,t){Ku||(Ku=!0,Hu(!1,'Did not expect server HTML to contain the text node "%s" in <%s>.',t.nodeValue,e.nodeName.toLowerCase()))},warnForInsertedHydratedElement:function(e,t,n){Ku||(Ku=!0,Hu(!1,"Expected server HTML to contain a matching <%s> in <%s>.",t,e.nodeName.toLowerCase()))},warnForInsertedHydratedText:function(e,t){""!==t&&(Ku||(Ku=!0,Hu(!1,'Expected server HTML to contain a matching text node for "%s" in <%s>.',t,e.nodeName.toLowerCase())))},restoreControlledState:function(e,t,n){switch(t){case"input":return void ps.restoreControlledState(e,n);case"textarea":return void Ls.restoreControlledState(e,n);case"select":return void Ts.restoreControlledState(e,n)}}},gc=mc,vc=Wn;jn.canUseDOM&&"function"!=typeof requestAnimationFrame&&vc(!1,"React depends on requestAnimationFrame. Make sure that you load a polyfill in older browsers. http://fb.me/react-polyfills");var yc=void 0;if(jn.canUseDOM)if("function"!=typeof requestIdleCallback){var bc=null,xc=null,_c=!1,wc=!1,Ec=0,Mc=33,Tc=33,Sc={timeRemaining:"object"==typeof performance&&"function"==typeof performance.now?function(){return Ec-performance.now()}:function(){return Ec-Date.now()}},Cc="__reactIdleCallback$"+Math.random().toString(36).slice(2),Ac=function(e){if(e.source===window&&e.data===Cc){_c=!1;var t=xc;xc=null,null!==t&&t(Sc)}};window.addEventListener("message",Ac,!1);var Pc=function(e){wc=!1;var t=e-Ec+Tc;t<Tc&&Mc<Tc?(t<8&&(t=8),Tc=t<Mc?Mc:t):Mc=t,Ec=e+Tc,_c||(_c=!0,window.postMessage(Cc,"*"));var n=bc;bc=null,null!==n&&n(e)};yc=function(e){return xc=e,wc||(wc=!0,requestAnimationFrame(Pc)),0}}else yc=requestIdleCallback;else yc=function(e){return setTimeout(function(){e({timeRemaining:function(){return 1/0}})}),0};var Rc=yc,Lc={rIC:Rc},Ic={enableAsyncSubtreeAPI:!0},Oc=Ic,Nc={NoWork:0,SynchronousPriority:1,TaskPriority:2,HighPriority:3,LowPriority:4,OffscreenPriority:5},kc=jr.Callback,Dc=Nc.NoWork,Uc=Nc.SynchronousPriority,Fc=Nc.TaskPriority,Bc=Er.ClassComponent,zc=Er.HostRoot,Hc=Wn,qc=void 0,jc=void 0,Gc=qe,Vc=je,Wc=Ge,Xc=Ve,Yc=We,Zc=Ye,Kc=Ze,Qc={addUpdate:Gc,addReplaceUpdate:Vc,addForceUpdate:Wc,getUpdatePriority:Xc,addTopLevelUpdate:Yc,beginUpdateQueue:Zc,commitCallbacks:Kc},Jc=Wn,$c=[],el=[],tl=-1,nl=function(e){return{current:e}},rl=function(){return-1===tl},il=function(e,t){if(tl<0)return void Jc(!1,"Unexpected pop.");t!==el[tl]&&Jc(!1,"Unexpected Fiber popped."),e.current=$c[tl],$c[tl]=null,el[tl]=null,tl--},ol=function(e,t,n){tl++,$c[tl]=e.current,el[tl]=n,e.current=t},al=function(){for(;tl>-1;)$c[tl]=null,el[tl]=null,tl--},sl={createCursor:nl,isEmpty:rl,pop:il,push:ol,reset:al},ul=null,cl=Er,ll=cl.HostRoot,hl=cl.HostComponent,dl=cl.HostText,fl=cl.HostPortal,pl=cl.YieldComponent,ml=cl.Fragment,gl=qr,vl="undefined"!=typeof performance&&"function"==typeof performance.mark&&"function"==typeof performance.clearMarks&&"function"==typeof performance.measure&&"function"==typeof performance.clearMeasures,yl=null,bl=null,xl=null,_l=!1,wl=!1,El=!1,Ml=0,Tl=0,Sl=new Set,Cl=function(e){return" "+e},Al=function(e,t){return(t?" ":" ")+e+(t?" Warning: "+t:"")},Pl=function(e){performance.mark(Cl(e))},Rl=function(e){performance.clearMarks(Cl(e))},Ll=function(e,t,n){var r=Cl(t),i=Al(e,n);try{performance.measure(i,r)}catch(e){}performance.clearMarks(r),performance.clearMeasures(i)},Il=function(e,t){return e+" (#"+t+")"},Ol=function(e,t,n){return null===n?e+" ["+(t?"update":"mount")+"]":e+"."+n},Nl=function(e,t){var n=gl(e)||"Unknown",r=e._debugID,i=null!==e.alternate,o=Ol(n,i,t);if(_l&&Sl.has(o))return!1;Sl.add(o);var a=Il(o,r);return Pl(a),!0},kl=function(e,t){var n=gl(e)||"Unknown",r=e._debugID,i=null!==e.alternate,o=Ol(n,i,t),a=Il(o,r);Rl(a)},Dl=function(e,t,n){var r=gl(e)||"Unknown",i=e._debugID,o=null!==e.alternate,a=Ol(r,o,t),s=Il(a,i);Ll(a,s,n)},Ul=function(e){switch(e.tag){case ll:case hl:case dl:case fl:case pl:case ml:return!0;default:return!1}},Fl=function(){null!==bl&&null!==xl&&kl(xl,bl),xl=null,bl=null,El=!1},Bl=function(){for(var e=yl;e;)e._debugIsCurrentlyTiming&&Dl(e,null,null),e=e.return},zl=function(e){null!==e.return&&zl(e.return),e._debugIsCurrentlyTiming&&Nl(e,null)},Hl=function(){null!==yl&&zl(yl)};ul={recordEffect:function(){Tl++},recordScheduleUpdate:function(){_l&&(wl=!0),null!==bl&&"componentWillMount"!==bl&&"componentWillReceiveProps"!==bl&&(El=!0)},startWorkTimer:function(e){vl&&!Ul(e)&&(yl=e,Nl(e,null)&&(e._debugIsCurrentlyTiming=!0))},cancelWorkTimer:function(e){vl&&!Ul(e)&&(e._debugIsCurrentlyTiming=!1,kl(e,null))},stopWorkTimer:function(e){vl&&!Ul(e)&&(yl=e.return,e._debugIsCurrentlyTiming&&(e._debugIsCurrentlyTiming=!1,Dl(e,null,null)))},stopFailedWorkTimer:function(e){if(vl&&!Ul(e)&&(yl=e.return,e._debugIsCurrentlyTiming)){e._debugIsCurrentlyTiming=!1;Dl(e,null,"An error was thrown inside this error boundary")}},startPhaseTimer:function(e,t){vl&&(Fl(),Nl(e,t)&&(xl=e,bl=t))},stopPhaseTimer:function(){if(vl){if(null!==bl&&null!==xl){Dl(xl,bl,El?"Scheduled a cascading update":null)}bl=null,xl=null}},startWorkLoopTimer:function(){vl&&(Ml=0,Pl("(React Tree Reconciliation)"),Hl())},stopWorkLoopTimer:function(){if(vl){var e=Ml>1?"There were cascading updates":null;Ml=0,Bl(),Ll("(React Tree Reconciliation)","(React Tree Reconciliation)",e)}},startCommitTimer:function(){vl&&(_l=!0,wl=!1,Sl.clear(),Pl("(Committing Changes)"))},stopCommitTimer:function(){if(vl){var e=null;wl?e="Lifecycle hook scheduled a cascading update":Ml>0&&(e="Caused by a cascading update in earlier commit"),wl=!1,Ml++,_l=!1,Sl.clear(),Ll("(Committing Changes)","(Committing Changes)",e)}},startCommitHostEffectsTimer:function(){vl&&(Tl=0,Pl("(Committing Host Effects)"))},stopCommitHostEffectsTimer:function(){if(vl){var e=Tl;Tl=0,Ll("(Committing Host Effects: "+e+" Total)","(Committing Host Effects)",null)}},startCommitLifeCyclesTimer:function(){vl&&(Tl=0,Pl("(Calling Lifecycle Methods)"))},stopCommitLifeCyclesTimer:function(){if(vl){var e=Tl;Tl=0,Ll("(Calling Lifecycle Methods: "+e+" Total)","(Calling Lifecycle Methods)",null)}}};var ql=ul,jl=si.isFiberMounted,Gl=Er.ClassComponent,Vl=Er.HostRoot,Wl=sl.createCursor,Xl=sl.pop,Yl=sl.push,Zl=Wn,Kl=$n,Ql=Ro,Jl=ql,$l=Jl.startPhaseTimer,eh=Jl.stopPhaseTimer,th={},nh=Wl(Jn),rh=Wl(!1),ih=Jn,oh=Ke,ah=Qe,sh=function(e,t){var n=e.type,r=n.contextTypes;if(!r)return Jn;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var o={};for(var a in r)o[a]=t[a];var s=qr(e)||"Unknown";return Ql.setCurrentFiber(e,null),Kl(r,o,"context",s,Ql.getCurrentFiberStackAddendum),Ql.resetCurrentFiber(),i&&Qe(e,t,o),o},uh=function(){return rh.current},ch=Je,lh=$e,hh=et,dh=function(e){Xl(rh,e),Xl(nh,e)},fh=function(e,t,n){null!=nh.cursor&&qn(!1,"Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue."),Yl(nh,t,e),Yl(rh,n,e)},ph=tt,mh=function(e){if(!$e(e))return!1;var t=e.stateNode,n=t&&t.__reactInternalMemoizedMergedChildContext||Jn;return ih=nh.current,Yl(nh,n,e),Yl(rh,rh.current,e),!0},gh=function(e,t){var n=e.stateNode;if(n||qn(!1,"Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue."),t){var r=tt(e,ih,!0);n.__reactInternalMemoizedMergedChildContext=r,Xl(rh,e),Xl(nh,e),Yl(nh,r,e),Yl(rh,t,e)}else Xl(rh,e),Yl(rh,t,e)},vh=function(){ih=Jn,nh.current=Jn,rh.current=!1},yh=function(e){jl(e)&&e.tag===Gl||qn(!1,"Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");for(var t=e;t.tag!==Vl;){if($e(t))return t.stateNode.__reactInternalMemoizedMergedChildContext;var n=t.return;n||qn(!1,"Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue."),t=n}return t.stateNode.context},bh={getUnmaskedContext:oh,cacheContext:ah,getMaskedContext:sh,hasContextChanged:uh,isContextConsumer:ch,isContextProvider:lh,popContextProvider:hh,popTopLevelContextObject:dh,pushTopLevelContextObject:fh,processChildContext:ph,pushContextProvider:mh,invalidateContextProvider:gh,resetContext:vh,findCurrentUnmaskedContext:yh},xh={NoContext:0,AsyncUpdates:1},_h=Er.IndeterminateComponent,wh=Er.ClassComponent,Eh=Er.HostRoot,Mh=Er.HostComponent,Th=Er.HostText,Sh=Er.HostPortal,Ch=Er.CoroutineComponent,Ah=Er.YieldComponent,Ph=Er.Fragment,Rh=Nc.NoWork,Lh=xh.NoContext,Ih=jr.NoEffect,Oh=qr,Nh=!1;try{var kh=Object.preventExtensions({});new Map([[kh,null]]),new Set([kh])}catch(e){Nh=!0}var Dh,Uh,Fh=1,Bh=function(e,t,n){return new nt(e,t,n)},zh=function(e,t){var n=e.alternate;return null===n?(n=Bh(e.tag,e.key,e.internalContextTag),n.type=e.type,n.stateNode=e.stateNode,n._debugID=e._debugID,n._debugSource=e._debugSource,n._debugOwner=e._debugOwner,n.alternate=e,e.alternate=n):(n.effectTag=Ih,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.pendingWorkPriority=t,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n},Hh=function(){return Bh(Eh,null,Lh)},qh=function(e,t,n){var r=null;r=e._owner;var i=it(e.type,e.key,t,r);return i.pendingProps=e.props,i.pendingWorkPriority=n,i._debugSource=e._source,i._debugOwner=e._owner,i},jh=function(e,t,n){var r=Bh(Ph,null,t);return r.pendingProps=e,r.pendingWorkPriority=n,r},Gh=function(e,t,n){var r=Bh(Th,null,t);return r.pendingProps=e,r.pendingWorkPriority=n,r},Vh=it,Wh=function(){var e=Bh(Mh,null,Lh);return e.type="DELETED",e},Xh=function(e,t,n){var r=Bh(Ch,e.key,t);return r.type=e.handler,r.pendingProps=e,r.pendingWorkPriority=n,r},Yh=function(e,t,n){return Bh(Ah,null,t)},Zh=function(e,t,n){var r=Bh(Sh,e.key,t);return r.pendingProps=e.children||[],r.pendingWorkPriority=n,r.stateNode={containerInfo:e.containerInfo,implementation:e.implementation},r},Kh=function(e,t){return e!==Rh&&(t===Rh||t>e)?e:t},Qh={createWorkInProgress:zh,createHostRootFiber:Hh,createFiberFromElement:qh,createFiberFromFragment:jh,createFiberFromText:Gh,createFiberFromElementType:Vh,createFiberFromHostInstanceForDeletion:Wh,createFiberFromCoroutine:Xh,createFiberFromYield:Yh,createFiberFromPortal:Zh,largerPriority:Kh},Jh=Qh.createHostRootFiber,$h=function(e){var t=Jh(),n={current:t,containerInfo:e,isScheduled:!1,nextScheduledRoot:null,context:null,pendingContext:null};return t.stateNode=n,n},ed={createFiberRoot:$h},td=function(e){return!0},nd=td,rd={injectDialog:function(e){nd!==td&&qn(!1,"The custom dialog was already injected."),"function"!=typeof e&&qn(!1,"Injected showDialog() must be a function."),nd=e}},id=ot,od={injection:rd,logCapturedError:id};"function"==typeof Symbol&&Symbol.for?(Dh=Symbol.for("react.coroutine"),Uh=Symbol.for("react.yield")):(Dh=60104,Uh=60105);var ad=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i={$$typeof:Dh,key:null==r?null:""+r,children:e,handler:t,props:n};return Object.freeze&&(Object.freeze(i.props),Object.freeze(i)),i},sd=function(e){var t={$$typeof:Uh,value:e};return Object.freeze&&Object.freeze(t),t},ud=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Dh},cd=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Uh},ld=Uh,hd=Dh,dd={createCoroutine:ad,createYield:sd,isCoroutine:ud,isYield:cd,REACT_YIELD_TYPE:ld,REACT_COROUTINE_TYPE:hd},fd="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.portal")||60106,pd=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:fd,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},md=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===fd},gd=fd,vd={createPortal:pd,isPortal:md,REACT_PORTAL_TYPE:gd},yd=dd.REACT_COROUTINE_TYPE,bd=dd.REACT_YIELD_TYPE,xd=vd.REACT_PORTAL_TYPE,_d=Ro,wd=_d.getCurrentFiberStackAddendum,Ed=Wn,Md=!1,Td={},Sd=function(e){if(null!==e&&"object"==typeof e&&e._store&&!e._store.validated&&null==e.key){"object"!=typeof e._store&&qn(!1,"React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue."),e._store.validated=!0;var t='Each child in an array or iterator should have a unique "key" prop. See https://fb.me/react-warning-keys for more information.'+(wd()||"");Td[t]||(Td[t]=!0,Ed(!1,'Each child in an array or iterator should have a unique "key" prop. See https://fb.me/react-warning-keys for more information.%s',wd()))}},Cd=Qh.createWorkInProgress,Ad=Qh.createFiberFromElement,Pd=Qh.createFiberFromFragment,Rd=Qh.createFiberFromText,Ld=Qh.createFiberFromCoroutine,Id=Qh.createFiberFromYield,Od=Qh.createFiberFromPortal,Nd=Array.isArray,kd=Er.FunctionalComponent,Dd=Er.ClassComponent,Ud=Er.HostText,Fd=Er.HostPortal,Bd=Er.CoroutineComponent,zd=Er.YieldComponent,Hd=Er.Fragment,qd=jr.NoEffect,jd=jr.Placement,Gd=jr.Deletion,Vd="function"==typeof Symbol&&Symbol.iterator,Wd="@@iterator",Xd="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Yd=lt(!0,!0),Zd=lt(!1,!0),Kd=lt(!1,!1),Qd=function(e,t){if(null!==e&&t.child!==e.child&&qn(!1,"Resuming work not yet implemented."),null!==t.child){var n=t.child,r=Cd(n,n.pendingWorkPriority);for(r.pendingProps=n.pendingProps,t.child=r,r.return=t;null!==n.sibling;)n=n.sibling,r=r.sibling=Cd(n,n.pendingWorkPriority),r.pendingProps=n.pendingProps,r.return=t;r.sibling=null}},Jd={reconcileChildFibers:Yd,reconcileChildFibersInPlace:Zd,mountChildFibersInPlace:Kd,cloneChildFibers:Qd},$d=jr.Update,ef=xh.AsyncUpdates,tf=bh.cacheContext,nf=bh.getMaskedContext,rf=bh.getUnmaskedContext,of=bh.isContextConsumer,af=Qc.addUpdate,sf=Qc.addReplaceUpdate,uf=Qc.addForceUpdate,cf=Qc.beginUpdateQueue,lf=bh,hf=lf.hasContextChanged,df=si.isMounted,ff={},pf=Array.isArray,mf=ql,gf=mf.startPhaseTimer,vf=mf.stopPhaseTimer,yf=Wn,bf=function(e,t){yf(null===e||"function"==typeof e,"%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",t,e)};Object.defineProperty(ff,"_processChildContext",{enumerable:!1,value:function(){qn(!1,"_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(ff);var xf=function(e,t,n,r){function i(e,t,n,r,i,o){if(null===t||null!==e.updateQueue&&e.updateQueue.hasForceUpdate)return!0;var a=e.stateNode,s=e.type;if("function"==typeof a.shouldComponentUpdate){gf(e,"shouldComponentUpdate");var u=a.shouldComponentUpdate(n,i,o);return vf(),yf(void 0!==u,"%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",qr(e)||"Unknown"),u}return!s.prototype||!s.prototype.isPureReactComponent||(!er(t,n)||!er(r,i))}function o(e){var t=e.stateNode,n=e.type,r=qr(e),i=t.render;yf(i,"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",r);var o=!t.getInitialState||t.getInitialState.isReactClassApproved||t.state;yf(o,"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",r);var a=!t.getDefaultProps||t.getDefaultProps.isReactClassApproved;yf(a,"getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",r);var s=!t.propTypes;yf(s,"propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",r);var u=!t.contextTypes;yf(u,"contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",r);var c="function"!=typeof t.componentShouldUpdate;yf(c,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",r),n.prototype&&n.prototype.isPureReactComponent&&void 0!==t.shouldComponentUpdate&&yf(!1,"%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",qr(e)||"A pure component");var l="function"!=typeof t.componentDidUnmount;yf(l,"%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",r);var h="function"!=typeof t.componentWillRecieveProps;yf(h,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",r);var d=t.props!==e.pendingProps;yf(void 0===t.props||!d,"%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",r,r);var f=!t.defaultProps;yf(f,"Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",r,r);var p=t.state;p&&("object"!=typeof p||pf(p))&&qn(!1,"%s.state: must be set to an object or null",qr(e)),"function"==typeof t.getChildContext&&"object"!=typeof e.type.childContextTypes&&qn(!1,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",qr(e))}function a(e,t){t.props=e.memoizedProps,t.state=e.memoizedState}function s(e,t){t.updater=f,e.stateNode=t,Fr.set(t,e),t._reactInternalInstance=ff}function u(e,t){var n=e.type,r=rf(e),i=of(e),o=i?nf(e,r):Jn,a=new n(t,o);return s(e,a),i&&tf(e,r,o),a}function c(e,t){gf(e,"componentWillMount");var n=t.state;t.componentWillMount(),vf(),n!==t.state&&(yf(!1,"%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",qr(e)),f.enqueueReplaceState(t,t.state,null))}function l(e,t,n,r){gf(e,"componentWillReceiveProps");var i=t.state;t.componentWillReceiveProps(n,r),vf(),t.state!==i&&(yf(!1,"%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",qr(e)),f.enqueueReplaceState(t,t.state,null))}function h(e,t){var n=e.alternate;o(e);var r=e.stateNode,i=r.state||null,a=e.pendingProps;a||qn(!1,"There must be pending props for an initial mount. This error is likely caused by a bug in React. Please file an issue.");var s=rf(e);if(r.props=a,r.state=i,r.refs=Jn,r.context=nf(e,s),Oc.enableAsyncSubtreeAPI&&null!=e.type&&null!=e.type.prototype&&!0===e.type.prototype.unstable_isAsyncReactComponent&&(e.internalContextTag|=ef),"function"==typeof r.componentWillMount){c(e,r);var u=e.updateQueue;null!==u&&(r.state=cf(n,e,u,r,i,a,t))}"function"==typeof r.componentDidMount&&(e.effectTag|=$d)}function d(e,t,o){var s=t.stateNode;a(t,s);var u=t.memoizedProps,c=t.pendingProps;c||null==(c=u)&&qn(!1,"There should always be pending or memoized props. This error is likely caused by a bug in React. Please file an issue.");var h=s.context,d=rf(t),f=nf(t,d);"function"!=typeof s.componentWillReceiveProps||u===c&&h===f||l(t,s,c,f);var p=t.memoizedState,m=void 0;if(m=null!==t.updateQueue?cf(e,t,t.updateQueue,s,p,c,o):p,!(u!==c||p!==m||hf()||null!==t.updateQueue&&t.updateQueue.hasForceUpdate))return"function"==typeof s.componentDidUpdate&&(u===e.memoizedProps&&p===e.memoizedState||(t.effectTag|=$d)),!1;var g=i(t,u,c,p,m,f);return g?("function"==typeof s.componentWillUpdate&&(gf(t,"componentWillUpdate"),s.componentWillUpdate(c,m,f),vf()),"function"==typeof s.componentDidUpdate&&(t.effectTag|=$d)):("function"==typeof s.componentDidUpdate&&(u===e.memoizedProps&&p===e.memoizedState||(t.effectTag|=$d)),n(t,c),r(t,m)),s.props=c,s.state=m,s.context=f,g}var f={isMounted:df,enqueueSetState:function(n,r,i){var o=Fr.get(n),a=t(o,!1);i=void 0===i?null:i,bf(i,"setState"),af(o,r,i,a),e(o,a)},enqueueReplaceState:function(n,r,i){var o=Fr.get(n),a=t(o,!1);i=void 0===i?null:i,bf(i,"replaceState"),sf(o,r,i,a),e(o,a)},enqueueForceUpdate:function(n,r){var i=Fr.get(n),o=t(i,!1);r=void 0===r?null:r,bf(r,"forceUpdate"),uf(i,r,o),e(i,o)}};return{adoptClassInstance:s,constructClassInstance:u,mountClassInstance:h,updateClassInstance:d}},_f=Jd.mountChildFibersInPlace,wf=Jd.reconcileChildFibers,Ef=Jd.reconcileChildFibersInPlace,Mf=Jd.cloneChildFibers,Tf=Qc.beginUpdateQueue,Sf=bh.getMaskedContext,Cf=bh.getUnmaskedContext,Af=bh.hasContextChanged,Pf=bh.pushContextProvider,Rf=bh.pushTopLevelContextObject,Lf=bh.invalidateContextProvider,If=Er.IndeterminateComponent,Of=Er.FunctionalComponent,Nf=Er.ClassComponent,kf=Er.HostRoot,Df=Er.HostComponent,Uf=Er.HostText,Ff=Er.HostPortal,Bf=Er.CoroutineComponent,zf=Er.CoroutineHandlerPhase,Hf=Er.YieldComponent,qf=Er.Fragment,jf=Nc.NoWork,Gf=Nc.OffscreenPriority,Vf=jr.PerformedWork,Wf=jr.Placement,Xf=jr.ContentReset,Yf=jr.Err,Zf=jr.Ref,Kf=Hr.ReactCurrentOwner,Qf=Ro,Jf=ql,$f=Jf.cancelWorkTimer,ep=Wn,tp={},np=function(e,t,n,r,i){function o(e,t,n){a(e,t,n,t.pendingWorkPriority)}function a(e,t,n,r){null===e?t.child=_f(t,t.child,n,r):e.child===t.child?t.child=wf(t,t.child,n,r):t.child=Ef(t,t.child,n,r)}function s(e,t){var n=t.pendingProps;if(Af())null===n&&(n=t.memoizedProps);else if(null===n||t.memoizedProps===n)return b(e,t);return o(e,t,n),_(t,n),t.child}function u(e,t){var n=t.ref;null===n||e&&e.ref===n||(t.effectTag|=Zf)}function c(e,t){var n=t.type,r=t.pendingProps,i=t.memoizedProps;if(Af())null===r&&(r=i);else if(null===r||i===r)return b(e,t);var a,s=Cf(t),u=Sf(t,s);return Kf.current=t,Qf.setCurrentFiber(t,"render"),a=n(r,u),Qf.setCurrentFiber(t,null),t.effectTag|=Vf,o(e,t,a),_(t,r),t.child}function l(e,t,n){var r=Pf(t),i=void 0;return null===e?t.stateNode?qn(!1,"Resuming work not yet implemented."):(k(t,t.pendingProps),D(t,n),i=!0):i=U(e,t,n),h(e,t,i,r)}function h(e,t,n,r){if(u(e,t),!n)return r&&Lf(t,!1),b(e,t);var i=t.stateNode;Kf.current=t;var a=void 0;return Qf.setCurrentFiber(t,"render"),a=i.render(),Qf.setCurrentFiber(t,null),t.effectTag|=Vf,o(e,t,a),w(t,i.state),_(t,i.props),r&&Lf(t,!0),t.child}function d(e){var t=e.stateNode;t.pendingContext?Rf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Rf(e,t.context,!1),P(e,t.containerInfo)}function f(e,t,n){d(t);var r=t.updateQueue;if(null!==r){var i=t.memoizedState,a=Tf(e,t,r,null,i,null,n);if(i===a)return L(),b(e,t);var s=a.element;return null!==e&&null!==e.child||!R(t)?(L(),o(e,t,s)):(t.effectTag|=Wf,t.child=_f(t,t.child,s,n)),w(t,a),t.child}return L(),b(e,t)}function p(e,t,n){A(t),null===e&&I(t);var r=t.type,i=t.memoizedProps,a=t.pendingProps;null===a&&null===(a=i)&&qn(!1,"We should always have pending or current props. This error is likely caused by a bug in React. Please file an issue.");var s=null!==e?e.memoizedProps:null;if(Af());else if(null===a||i===a)return b(e,t);var c=a.children;return T(r,a)?c=null:s&&T(r,s)&&(t.effectTag|=Xf),u(e,t),n!==Gf&&!S&&C(r,a)?(t.pendingWorkPriority=Gf,null):(o(e,t,c),_(t,a),t.child)}function m(e,t){null===e&&I(t);var n=t.pendingProps;return null===n&&(n=t.memoizedProps),_(t,n),null}function g(e,t,n){null!==e&&qn(!1,"An indeterminate component should never have mounted. This error is likely caused by a bug in React. Please file an issue.");var r,i=t.type,a=t.pendingProps,s=Cf(t),u=Sf(t,s);if(Kf.current=t,r=i(a,u),t.effectTag|=Vf,"object"==typeof r&&null!==r&&"function"==typeof r.render){t.tag=Nf;var c=Pf(t);return N(t,r),D(t,n),h(e,t,!0,c)}t.tag=Of;var l=t.type;if(l&&ep(!l.childContextTypes,"%s(...): childContextTypes cannot be defined on a functional component.",l.displayName||l.name||"Component"),null!==t.ref){var d="",f=Qf.getCurrentFiberOwnerName();f&&(d+="\n\nCheck the render method of `"+f+"`.");var p=f||t._debugID||"",m=t._debugSource;m&&(p=m.fileName+":"+m.lineNumber),tp[p]||(tp[p]=!0,ep(!1,"Stateless function components cannot be given refs. Attempts to access this ref will fail.%s%s",d,Qf.getCurrentFiberStackAddendum()))}return o(e,t,r),_(t,a),t.child}function v(e,t){var n=t.pendingProps;Af()?null===n&&null===(n=e&&e.memoizedProps)&&qn(!1,"We should always have pending or current props. This error is likely caused by a bug in React. Please file an issue."):null!==n&&t.memoizedProps!==n||(n=t.memoizedProps);var r=n.children,i=t.pendingWorkPriority;return null===e?t.stateNode=_f(t,t.stateNode,r,i):e.child===t.child?t.stateNode=wf(t,t.stateNode,r,i):t.stateNode=Ef(t,t.stateNode,r,i),_(t,n),t.stateNode}function y(e,t){P(t,t.stateNode.containerInfo);var n=t.pendingWorkPriority,r=t.pendingProps;if(Af())null===r&&null==(r=e&&e.memoizedProps)&&qn(!1,"We should always have pending or current props. This error is likely caused by a bug in React. Please file an issue.");else if(null===r||t.memoizedProps===r)return b(e,t);return null===e?(t.child=Ef(t,t.child,r,n),_(t,r)):(o(e,t,r),_(t,r)),t.child}function b(e,t){return $f(t),Mf(e,t),t.child}function x(e,t){switch($f(t),t.tag){case kf:d(t);break;case Nf:Pf(t);break;case Ff:P(t,t.stateNode.containerInfo)}return null}function _(e,t){e.memoizedProps=t}function w(e,t){e.memoizedState=t}function E(e,t,n){if(t.pendingWorkPriority===jf||t.pendingWorkPriority>n)return x(e,t);switch(Qf.setCurrentFiber(t,null),t.tag){case If:return g(e,t,n);case Of:return c(e,t);case Nf:return l(e,t,n);case kf:return f(e,t,n);case Df:return p(e,t,n);case Uf:return m(e,t);case zf:t.tag=Bf;case Bf:return v(e,t);case Hf:return null;case Ff:return y(e,t);case qf:return s(e,t);default:qn(!1,"Unknown unit of work tag. This error is likely caused by a bug in React. Please file an issue.")}}function M(e,t,n){switch(t.tag){case Nf:Pf(t);break;case kf:d(t);break;default:qn(!1,"Invalid type of work. This error is likely caused by a bug in React. Please file an issue.")}if(t.effectTag|=Yf,null===e?t.child=null:t.child!==e.child&&(t.child=e.child),t.pendingWorkPriority===jf||t.pendingWorkPriority>n)return x(e,t);t.firstEffect=null,t.lastEffect=null;if(a(e,t,null,n),t.tag===Nf){var r=t.stateNode;t.memoizedProps=r.props,t.memoizedState=r.state}return t.child}var T=e.shouldSetTextContent,S=e.useSyncScheduling,C=e.shouldDeprioritizeSubtree,A=t.pushHostContext,P=t.pushHostContainer,R=n.enterHydrationState,L=n.resetHydrationState,I=n.tryToClaimNextHydratableInstance,O=xf(r,i,_,w),N=O.adoptClassInstance,k=O.constructClassInstance,D=O.mountClassInstance,U=O.updateClassInstance;return{beginWork:E,beginFailedWork:M}},rp=Jd.reconcileChildFibers,ip=bh.popContextProvider,op=bh.popTopLevelContextObject,ap=Er.IndeterminateComponent,sp=Er.FunctionalComponent,up=Er.ClassComponent,cp=Er.HostRoot,lp=Er.HostComponent,hp=Er.HostText,dp=Er.HostPortal,fp=Er.CoroutineComponent,pp=Er.CoroutineHandlerPhase,mp=Er.YieldComponent,gp=Er.Fragment,vp=jr.Placement,yp=jr.Ref,bp=jr.Update,xp=Nc.OffscreenPriority,_p=Ro,wp=function(e,t,n){function r(e){e.effectTag|=bp}function i(e){e.effectTag|=yp}function o(e,t){var n=t.stateNode;for(n&&(n.return=t);null!==n;){if(n.tag===lp||n.tag===hp||n.tag===dp)qn(!1,"A coroutine cannot have host component children.");else if(n.tag===mp)e.push(n.type);else if(null!==n.child){n.child.return=n,n=n.child;continue}for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function a(e,t){var n=t.memoizedProps;n||qn(!1,"Should be resolved by now. This error is likely caused by a bug in React. Please file an issue."),t.tag=pp;var r=[];o(r,t);var i=n.handler,a=n.props,s=i(a,r),u=null!==e?e.child:null,c=t.pendingWorkPriority;return t.child=rp(t,u,s,c),t.child}function s(e,t){for(var n=t.child;null!==n;){if(n.tag===lp||n.tag===hp)h(e,n.stateNode);else if(n.tag===dp);else if(null!==n.child){n=n.child;continue}if(n===t)return;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n=n.sibling}}function u(e,t,n){_p.setCurrentFiber(t,null);var o=t.pendingProps;switch(null===o?o=t.memoizedProps:t.pendingWorkPriority===xp&&n!==xp||(t.pendingProps=null),t.tag){case sp:return null;case up:return ip(t),null;case cp:v(t),op(t);var u=t.stateNode;return u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),null!==e&&null!==e.child||(x(t),t.effectTag&=~vp),null;case lp:m(t);var h=p(),_=t.type;if(null!==e&&null!=t.stateNode){var w=e.memoizedProps,E=t.stateNode,M=g(),T=f(E,_,w,o,h,M);t.updateQueue=T,T&&r(t),e.ref!==t.ref&&i(t)}else{if(!o)return null===t.stateNode&&qn(!1,"We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue."),null;var S=g();if(x(t))y(t,h,S)&&r(t);else{var C=c(_,o,h,S,t);s(C,t),d(C,_,o,h)&&r(t),t.stateNode=C}null!==t.ref&&i(t)}return null;case hp:var A=o;if(e&&null!=t.stateNode){e.memoizedProps!==A&&r(t)}else{if("string"!=typeof A)return null===t.stateNode&&qn(!1,"We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue."),null;var P=p(),R=g();x(t)?b(t)&&r(t):t.stateNode=l(A,P,R,t)}return null;case fp:return a(e,t);case pp:return t.tag=fp,null;case mp:case gp:return null;case dp:return r(t),v(t),null;case ap:qn(!1,"An indeterminate component should have become determinate before completing. This error is likely caused by a bug in React. Please file an issue.");default:qn(!1,"Unknown unit of work tag. This error is likely caused by a bug in React. Please file an issue.")}}var c=e.createInstance,l=e.createTextInstance,h=e.appendInitialChild,d=e.finalizeInitialChildren,f=e.prepareUpdate,p=t.getRootHostContainer,m=t.popHostContext,g=t.getHostContext,v=t.popHostContainer,y=n.prepareToHydrateHostInstance,b=n.prepareToHydrateHostTextInstance,x=n.popHydrationState;return{completeWork:u}},Ep=Wn,Mp=null,Tp=null,Sp=!1,Cp=dt,Ap=ft,Pp=pt,Rp={injectInternals:Cp,onCommitRoot:Ap,onCommitUnmount:Pp},Lp=Er.ClassComponent,Ip=Er.HostRoot,Op=Er.HostComponent,Np=Er.HostText,kp=Er.HostPortal,Dp=Er.CoroutineComponent,Up=Qc.commitCallbacks,Fp=Rp.onCommitUnmount,Bp=pi.invokeGuardedCallback,zp=pi.hasCaughtError,Hp=pi.clearCaughtError,qp=jr.Placement,jp=jr.Update,Gp=jr.Callback,Vp=jr.ContentReset,Wp=ql,Xp=Wp.startPhaseTimer,Yp=Wp.stopPhaseTimer,Zp=function(e,t){function n(e,n){if(Bp(null,C,null,e,n),zp()){var r=Hp();t(e,r)}}function r(e){var n=e.ref;if(null!==n&&(Bp(null,n,null,null),zp())){var r=Hp();t(e,r)}}function i(e){for(var t=e.return;null!==t;){if(o(t))return t;t=t.return}qn(!1,"Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}function o(e){return e.tag===Op||e.tag===Ip||e.tag===kp}function a(e){var t=e;e:for(;;){for(;null===t.sibling;){if(null===t.return||o(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==Op&&t.tag!==Np;){if(t.effectTag&qp)continue e;if(null===t.child||t.tag===kp)continue e;t.child.return=t,t=t.child}if(!(t.effectTag&qp))return t.stateNode}}function s(e){var t=i(e),n=void 0,r=void 0;switch(t.tag){case Op:n=t.stateNode,r=!1;break;case Ip:case kp:n=t.stateNode.containerInfo,r=!0;break;default:qn(!1,"Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}t.effectTag&Vp&&(y(n),t.effectTag&=~Vp);for(var o=a(e),s=e;;){if(s.tag===Op||s.tag===Np)o?r?E(n,s.stateNode,o):w(n,s.stateNode,o):r?_(n,s.stateNode):x(n,s.stateNode);else if(s.tag===kp);else if(null!==s.child){s.child.return=s,s=s.child;continue}if(s===e)return;for(;null===s.sibling;){if(null===s.return||s.return===e)return;s=s.return}s.sibling.return=s.return,s=s.sibling}}function u(e){for(var t=e;;)if(h(t),null===t.child||t.tag===kp){if(t===e)return;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}else t.child.return=t,t=t.child}function c(e){for(var t=e,n=!1,r=void 0,i=void 0;;){if(!n){var o=t.return;e:for(;;){switch(null===o&&qn(!1,"Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue."),o.tag){case Op:r=o.stateNode,i=!1;break e;case Ip:case kp:r=o.stateNode.containerInfo,i=!0;break e}o=o.return}n=!0}if(t.tag===Op||t.tag===Np)u(t),i?T(r,t.stateNode):M(r,t.stateNode);else if(t.tag===kp){if(r=t.stateNode.containerInfo,null!==t.child){t.child.return=t,t=t.child;continue}}else if(h(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)return;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return,t.tag===kp&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function l(e){c(e),e.return=null,e.child=null,e.alternate&&(e.alternate.child=null,e.alternate.return=null)}function h(e){switch("function"==typeof Fp&&Fp(e),e.tag){case Lp:r(e);var t=e.stateNode;return void("function"==typeof t.componentWillUnmount&&n(e,t));case Op:return void r(e);case Dp:return void u(e.stateNode);case kp:return void c(e)}}function d(e,t){switch(t.tag){case Lp:return;case Op:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r,o=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&v(n,a,o,i,r,t)}return;case Np:null===t.stateNode&&qn(!1,"This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var s=t.stateNode,u=t.memoizedProps,c=null!==e?e.memoizedProps:u;return void b(s,c,u);case Ip:case kp:return;default:qn(!1,"This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}}function f(e,t){switch(t.tag){case Lp:var n=t.stateNode;if(t.effectTag&jp)if(null===e)Xp(t,"componentDidMount"),n.props=t.memoizedProps,n.state=t.memoizedState,n.componentDidMount(),Yp();else{var r=e.memoizedProps,i=e.memoizedState;Xp(t,"componentDidUpdate"),n.props=t.memoizedProps,n.state=t.memoizedState,n.componentDidUpdate(r,i),Yp()}return void(t.effectTag&Gp&&null!==t.updateQueue&&Up(t,t.updateQueue,n));case Ip:var o=t.updateQueue;if(null!==o){var a=t.child&&t.child.stateNode;Up(t,o,a)}return;case Op:var s=t.stateNode;if(null===e&&t.effectTag&jp){var u=t.type,c=t.memoizedProps;g(s,u,c,t)}return;case Np:case kp:return;default:qn(!1,"This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}}function p(e){var t=e.ref;if(null!==t){var n=e.stateNode;switch(e.tag){case Op:t(S(n));break;default:t(n)}}}function m(e){var t=e.ref;null!==t&&t(null)}var g=e.commitMount,v=e.commitUpdate,y=e.resetTextContent,b=e.commitTextUpdate,x=e.appendChild,_=e.appendChildToContainer,w=e.insertBefore,E=e.insertInContainerBefore,M=e.removeChild,T=e.removeChildFromContainer,S=e.getPublicInstance,C=function(e,t){Xp(e,"componentWillUnmount"),t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount(),Yp()};return{commitPlacement:s,commitDeletion:l,commitWork:d,commitLifeCycles:f,commitAttachRef:p,commitDetachRef:m}},Kp=sl.createCursor,Qp=sl.pop,Jp=sl.push,$p={},em=function(e){function t(e){return e===$p&&qn(!1,"Expected host context to exist. This error is likely caused by a bug in React. Please file an issue."),e}function n(){return t(f.current)}function r(e,t){Jp(f,t,e);var n=l(t);Jp(d,e,e),Jp(h,n,e)}function i(e){Qp(h,e),Qp(d,e),Qp(f,e)}function o(){return t(h.current)}function a(e){var n=t(f.current),r=t(h.current),i=c(r,e.type,n);r!==i&&(Jp(d,e,e),Jp(h,i,e))}function s(e){d.current===e&&(Qp(h,e),Qp(d,e))}function u(){h.current=$p,f.current=$p}var c=e.getChildHostContext,l=e.getRootHostContext,h=Kp($p),d=Kp($p),f=Kp($p);return{getHostContext:o,getRootHostContainer:n,popHostContainer:i,popHostContext:s,pushHostContainer:r,pushHostContext:a,resetHostContainer:u}},tm=Er.HostComponent,nm=Er.HostText,rm=Er.HostRoot,im=jr.Deletion,om=jr.Placement,am=Qh.createFiberFromHostInstanceForDeletion,sm=function(e){function t(e){var t=e.stateNode.containerInfo;return w=m(t),_=e,E=!0,!0}function n(e,t){switch(e.tag){case rm:y(e.stateNode.containerInfo,t);break;case tm:y(e.stateNode,t)}var n=am();n.stateNode=t,n.return=e,n.effectTag=im,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function r(e,t){t.effectTag|=om;var n;switch(e.tag){case tm:n=e.stateNode;break;default:return}switch(t.tag){case tm:var r=t.type,i=t.pendingProps;b(n,r,i);break;case nm:var o=t.pendingProps;x(n,o)}}function i(e,t){switch(e.tag){case tm:var n=e.type,r=e.pendingProps;return d(t,n,r);case nm:var i=e.pendingProps;return f(t,i);default:return!1}}function o(e){if(E){var t=w;if(!t)return r(_,e),E=!1,void(_=e);if(!i(e,t)){if(!(t=p(t))||!i(e,t))return r(_,e),E=!1,void(_=e);n(_,w)}e.stateNode=t,_=e,w=m(t)}}function a(e,t,n){var r=e.stateNode,i=g(r,e.type,e.memoizedProps,t,n,e);return e.updateQueue=i,null!==i}function s(e){var t=e.stateNode;return v(t,e.memoizedProps,e)}function u(e){for(var t=e.return;null!==t&&t.tag!==tm&&t.tag!==rm;)t=t.return;_=t}function c(e){if(e!==_)return!1;if(!E)return u(e),E=!0,!1;var t=e.type;if(e.tag!==tm||"head"!==t&&"body"!==t&&!h(t,e.memoizedProps))for(var r=w;r;)n(e,r),r=p(r);return u(e),w=_?p(e.stateNode):null,!0}function l(){_=null,w=null,E=!1}var h=e.shouldSetTextContent,d=e.canHydrateInstance,f=e.canHydrateTextInstance,p=e.getNextHydratableSibling,m=e.getFirstHydratableChild,g=e.hydrateInstance,v=e.hydrateTextInstance,y=e.didNotHydrateInstance,b=e.didNotFindHydratableInstance,x=e.didNotFindHydratableTextInstance;if(!(d&&f&&p&&m&&g&&v&&y&&b&&x))return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){qn(!1,"Expected prepareToHydrateHostInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.")},prepareToHydrateHostTextInstance:function(){qn(!1,"Expected prepareToHydrateHostTextInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.")},popHydrationState:function(e){return!1}};var _=null,w=null,E=!1;return{enterHydrationState:t,resetHydrationState:l,tryToClaimNextHydratableInstance:o,prepareToHydrateHostInstance:a,prepareToHydrateHostTextInstance:s,popHydrationState:c}},um={debugTool:null},cm=um,lm=bh.popContextProvider,hm=sl.reset,dm=Mo.getStackAddendumByWorkInProgressFiber,fm=od.logCapturedError,pm=pi.invokeGuardedCallback,mm=pi.hasCaughtError,gm=pi.clearCaughtError,vm=Hr.ReactCurrentOwner,ym=Qh.createWorkInProgress,bm=Qh.largerPriority,xm=Rp.onCommitRoot,_m=Nc.NoWork,wm=Nc.SynchronousPriority,Em=Nc.TaskPriority,Mm=Nc.HighPriority,Tm=Nc.LowPriority,Sm=Nc.OffscreenPriority,Cm=xh.AsyncUpdates,Am=jr.PerformedWork,Pm=jr.Placement,Rm=jr.Update,Lm=jr.PlacementAndUpdate,Im=jr.Deletion,Om=jr.ContentReset,Nm=jr.Callback,km=jr.Err,Dm=jr.Ref,Um=Er.HostRoot,Fm=Er.HostComponent,Bm=Er.HostPortal,zm=Er.ClassComponent,Hm=Qc.getUpdatePriority,qm=bh,jm=qm.resetContext,Gm=Wn,Vm=cm,Wm=Ro,Xm=ql,Ym=Xm.recordEffect,Zm=Xm.recordScheduleUpdate,Km=Xm.startWorkTimer,Qm=Xm.stopWorkTimer,Jm=Xm.stopFailedWorkTimer,$m=Xm.startWorkLoopTimer,eg=Xm.stopWorkLoopTimer,tg=Xm.startCommitTimer,ng=Xm.stopCommitTimer,rg=Xm.startCommitHostEffectsTimer,ig=Xm.stopCommitHostEffectsTimer,og=Xm.startCommitLifeCyclesTimer,ag=Xm.stopCommitLifeCyclesTimer,sg=function(e){var t=e.constructor;Gm(!1,"Can only update a mounted or mounting component. This usually means you called setState, replaceState, or forceUpdate on an unmounted component. This is a no-op.\n\nPlease check the code for the %s component.",t&&(t.displayName||t.name)||"ReactClass")},ug=function(e){switch(Wm.phase){case"getChildContext":Gm(!1,"setState(...): Cannot call setState() inside getChildContext()");break;case"render":Gm(!1,"Cannot update during an existing state transition (such as within `render` or another component's constructor). Render methods should be a pure function of props and state; constructor side-effects are an anti-pattern, but can be moved to `componentWillMount`.")}},cg=1,lg=function(e){function t(){hm(),jm(),O()}function n(){for(;null!==oe&&oe.current.pendingWorkPriority===_m;){oe.isScheduled=!1;var e=oe.nextScheduledRoot;if(oe.nextScheduledRoot=null,oe===ae)return oe=null,ae=null,ne=_m,null;oe=e}for(var n=oe,r=null,i=_m;null!==n;)n.current.pendingWorkPriority!==_m&&(i===_m||i>n.current.pendingWorkPriority)&&(i=n.current.pendingWorkPriority,r=n),n=n.nextScheduledRoot;if(null!==r)return ne=i,t(),te=ym(r.current,i),void(r!==ve&&(ge=0,ve=r));ne=_m,te=null,ve=null}function r(){for(;null!==re;){Wm.setCurrentFiber(re,null),Ym();var t=re.effectTag;if(t&Om&&e.resetTextContent(re.stateNode),t&Dm){var n=re.alternate;null!==n&&V(n)}switch(t&~(Nm|km|Om|Dm|Am)){case Pm:z(re),re.effectTag&=~Pm;break;case Lm:z(re),re.effectTag&=~Pm;var r=re.alternate;q(r,re);break;case Rm:var i=re.alternate;q(i,re);break;case Im:pe=!0,H(re),pe=!1}re=re.nextEffect}Wm.resetCurrentFiber()}function i(){for(;null!==re;){var e=re.effectTag;if(e&(Rm|Nm)){Ym();var t=re.alternate;j(t,re)}e&Dm&&(Ym(),G(re)),e&km&&(Ym(),y(re));var n=re.nextEffect;re.nextEffect=null,re=n}}function o(e){fe=!0,tg(),ie=null;var t=e.stateNode;t.current===e&&qn(!1,"Cannot commit the same tree as before. This is probably a bug related to the return field. This error is likely caused by a bug in React. Please file an issue."),ne!==wm&&ne!==Em||ge++,vm.current=null;var o=void 0;for(e.effectTag>Am?null!==e.lastEffect?(e.lastEffect.nextEffect=e,o=e.firstEffect):o=e:o=e.firstEffect,Y(),re=o,rg();null!==re;){var a=!1,s=void 0;pm(null,r,null),mm()&&(a=!0,s=gm()),a&&(null===re&&qn(!1,"Should have next effect. This error is likely caused by a bug in React. Please file an issue."),m(re,s),null!==re&&(re=re.nextEffect))}for(ig(),Z(),t.current=e,re=o,og();null!==re;){var u=!1,c=void 0;pm(null,i,null),mm()&&(u=!0,c=gm()),u&&(null===re&&qn(!1,"Should have next effect. This error is likely caused by a bug in React. Please file an issue."),m(re,c),null!==re&&(re=re.nextEffect))}fe=!1,ag(),ng(),"function"==typeof xm&&xm(e.stateNode),Vm.debugTool&&Vm.debugTool.onCommitWork(e),le&&(le.forEach(M),le=null),n()}function a(e,t){if(!(e.pendingWorkPriority!==_m&&e.pendingWorkPriority>t)){for(var n=Hm(e),r=e.child;null!==r;)n=bm(n,r.pendingWorkPriority),r=r.sibling;e.pendingWorkPriority=n}}function s(e){for(;;){var t=e.alternate,n=F(t,e,ne),r=e.return,i=e.sibling;if(a(e,ne),null!==n)return Qm(e),Vm.debugTool&&Vm.debugTool.onCompleteWork(e),n;if(null!==r){null===r.firstEffect&&(r.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==r.lastEffect&&(r.lastEffect.nextEffect=e.firstEffect),r.lastEffect=e.lastEffect);e.effectTag>Am&&(null!==r.lastEffect?r.lastEffect.nextEffect=e:r.firstEffect=e,r.lastEffect=e)}if(Qm(e),Vm.debugTool&&Vm.debugTool.onCompleteWork(e),null!==i)return i;if(null===r)return ie=e,null;e=r}return null}function u(e){var t=e.alternate;Km(e);var n=k(t,e,ne);return Vm.debugTool&&Vm.debugTool.onBeginWork(e),null===n&&(n=s(e)),vm.current=null,Wm.resetCurrentFiber(),n}function c(e){var t=e.alternate;Km(e);var n=D(t,e,ne);return Vm.debugTool&&Vm.debugTool.onBeginWork(e),null===n&&(n=s(e)),vm.current=null,Wm.resetCurrentFiber(),n}function l(e){p(Sm,e)}function h(){if(null!==ue&&ue.size>0&&ne===Em)for(;null!==te&&(null!==(te=g(te)?c(te):u(te))||(null===ie&&qn(!1,"Should have a pending commit. This error is likely caused by a bug in React. Please file an issue."),K=Em,o(ie),K=ne,null!==ue&&0!==ue.size&&ne===Em)););}function d(e,t){if(null!==ie?(K=Em,o(ie),h()):null===te&&n(),!(ne===_m||ne>e)){K=ne;e:for(;;){if(ne<=Em)for(;null!==te&&!(null===(te=u(te))&&(null===ie&&qn(!1,"Should have a pending commit. This error is likely caused by a bug in React. Please file an issue."),K=Em,o(ie),K=ne,h(),ne===_m||ne>e||ne>Em)););else if(null!==t)for(;null!==te&&!J;)if(t.timeRemaining()>cg){if(null===(te=u(te)))if(null===ie&&qn(!1,"Should have a pending commit. This error is likely caused by a bug in React. Please file an issue."),t.timeRemaining()>cg){if(K=Em,o(ie),K=ne,h(),ne===_m||ne>e||ne<Mm)break}else J=!0}else J=!0;switch(ne){case wm:case Em:if(ne<=e)continue e;break e;case Mm:case Tm:case Sm:if(null===t)break e;if(!J&&ne<=e)continue e;break e;case _m:break e;default:qn(!1,"Switch statement should be exhuastive. This error is likely caused by a bug in React. Please file an issue.")}}}}function f(e,t,n,r){b(e,t),te=c(t),d(n,r)}function p(e,t){$m(),Q&&qn(!1,"performWork was called recursively. This error is likely caused by a bug in React. Please file an issue."),Q=!0;var n=K,r=!1,i=null;for(pm(null,d,null,e,t),mm()&&(r=!0,i=gm());r;){if(de){he=i;break}var o=te;if(null!==o){var a=m(o,i);if(null===a&&qn(!1,"Should have found an error boundary. This error is likely caused by a bug in React. Please file an issue."),!de){if(r=!1,i=null,pm(null,f,null,o,a,e,t),!mm())break;r=!0,i=gm()}}else de=!0}K=n,null!==t&&(se=!1),ne>Em&&!se&&(W(l),se=!0);var s=he;if(Q=!1,J=!1,de=!1,he=null,ue=null,ce=null,ve=null,ge=0,eg(),null!==s)throw s}function m(e,t){vm.current=null,Wm.resetCurrentFiber();var n=null,r=!1,i=!1,o=null;if(e.tag===Um)n=e,v(e)&&(de=!0);else for(var a=e.return;null!==a&&null===n;){if(a.tag===zm){var s=a.stateNode;"function"==typeof s.componentDidCatch&&(r=!0,o=qr(a),n=a,i=!0)}else a.tag===Um&&(n=a);if(v(a)){if(pe)return null;if(null!==le&&(le.has(a)||null!==a.alternate&&le.has(a.alternate)))return null;n=null,i=!1}a=a.return}if(null!==n){null===ce&&(ce=new Set),ce.add(n);var u=dm(e),c=qr(e);null===ue&&(ue=new Map);var l={componentName:c,componentStack:u,error:t,errorBoundary:r?n.stateNode:null,errorBoundaryFound:r,errorBoundaryName:o,willRetry:i};ue.set(n,l);try{fm(l)}catch(e){console.error(e)}return fe?(null===le&&(le=new Set),le.add(n)):M(n),n}return null===he&&(he=t),null}function g(e){return null!==ue&&(ue.has(e)||null!==e.alternate&&ue.has(e.alternate))}function v(e){return null!==ce&&(ce.has(e)||null!==e.alternate&&ce.has(e.alternate))}function y(e){var t=void 0;switch(null!==ue&&(t=ue.get(e),ue.delete(e),null==t&&null!==e.alternate&&(e=e.alternate,t=ue.get(e),ue.delete(e))),null==t&&qn(!1,"No error for given unit of work. This error is likely caused by a bug in React. Please file an issue."),e.tag){case zm:var n=e.stateNode,r={componentStack:t.componentStack};return void n.componentDidCatch(t.error,r);case Um:return void(null===he&&(he=t.error));default:qn(!1,"Invalid type of work. This error is likely caused by a bug in React. Please file an issue.")}}function b(e,t){for(var n=e;null!==n;){switch(n.tag){case zm:lm(n);break;case Fm:I(n);break;case Um:case Bm:L(n)}if(n===t||n.alternate===t){Jm(n);break}Qm(n),n=n.return}}function x(e,t){t!==_m&&(e.isScheduled||(e.isScheduled=!0,ae?(ae.nextScheduledRoot=e,ae=e):(oe=e,ae=e)))}function _(e,t){return w(e,t,!1)}function w(e,t,n){if(Zm(),ge>me&&(de=!0,qn(!1,"Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.")),!Q&&t<=ne&&(te=null),!n&&e.tag===zm){var r=e.stateNode;ug(r)}for(var i=e,o=!0;null!==i&&o;){if(o=!1,(i.pendingWorkPriority===_m||i.pendingWorkPriority>t)&&(o=!0,i.pendingWorkPriority=t),null!==i.alternate&&(i.alternate.pendingWorkPriority===_m||i.alternate.pendingWorkPriority>t)&&(o=!0,i.alternate.pendingWorkPriority=t),null===i.return){if(i.tag!==Um)return void(n||e.tag!==zm||sg(e.stateNode));if(x(i.stateNode,t),!Q)switch(t){case wm:ee?p(wm,null):p(Em,null);break;case Em:$||qn(!1,"Task updates can only be scheduled as a nested update or inside batchedUpdates.");break;default:se||(W(l),se=!0)}}i=i.return}}function E(e,t){var n=K;return n===_m&&(n=!X||e.internalContextTag&Cm||t?Tm:wm),n===wm&&(Q||$)?Em:n}function M(e){w(e,Em,!0)}function T(e,t){var n=$;$=!0;try{return e(t)}finally{$=n,Q||$||p(Em,null)}}function S(e){var t=ee,n=$;ee=$,$=!1;try{return e()}finally{$=n,ee=t}}function C(e){var t=$,n=K;$=!0,K=wm;try{return e()}finally{$=t,K=n,Q&&qn(!1,"flushSync was called from inside a lifecycle method. It cannot be called when React is already rendering."),p(Em,null)}}function A(e){var t=K;K=Tm;try{return e()}finally{K=t}}var P=em(e),R=sm(e),L=P.popHostContainer,I=P.popHostContext,O=P.resetHostContainer,N=np(e,P,R,_,E),k=N.beginWork,D=N.beginFailedWork,U=wp(e,P,R),F=U.completeWork,B=Zp(e,m),z=B.commitPlacement,H=B.commitDeletion,q=B.commitWork,j=B.commitLifeCycles,G=B.commitAttachRef,V=B.commitDetachRef,W=e.scheduleDeferredCallback,X=e.useSyncScheduling,Y=e.prepareForCommit,Z=e.resetAfterCommit,K=_m,Q=!1,J=!1,$=!1,ee=!1,te=null,ne=_m,re=null,ie=null,oe=null,ae=null,se=!1,ue=null,ce=null,le=null,he=null,de=!1,fe=!1,pe=!1,me=1e3,ge=0,ve=null;return{scheduleUpdate:_,getPriorityContext:E,batchedUpdates:T,unbatchedUpdates:S,flushSync:C,deferredUpdates:A}},hg=function(e){qn(!1,"Missing injection for fiber getContextForSubtree")};mt._injectFiber=function(e){hg=e};var dg=mt,fg=Qc.addTopLevelUpdate,pg=bh.findCurrentUnmaskedContext,mg=bh.isContextProvider,gg=bh.processChildContext,vg=ed.createFiberRoot,yg=Er.HostComponent,bg=Wn,xg=cm,_g=Ro,wg=qr,Eg=si.findCurrentHostFiber,Mg=si.findCurrentHostFiberWithNoPortals;dg._injectFiber(function(e){var t=pg(e);return mg(e)?gg(e,t,!1):t});var Tg=Tr.TEXT_NODE,Sg=yt,Cg=null,Ag=bt,Pg={getOffsets:_t,setOffsets:wt},Rg=Pg,Lg=Tr.ELEMENT_NODE,Ig={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=rr();return{focusedElem:e,selectionRange:Ig.hasSelectionCapabilities(e)?Ig.getSelection(e):null}},restoreSelection:function(e){var t=rr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&Et(n)){Ig.hasSelectionCapabilities(n)&&Ig.setSelection(n,r);for(var i=[],o=n;o=o.parentNode;)o.nodeType===Lg&&i.push({element:o,left:o.scrollLeft,top:o.scrollTop});nr(n);for(var a=0;a<i.length;a++){var s=i[a];s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}},getSelection:function(e){return("selectionStart"in e?{start:e.selectionStart,end:e.selectionEnd}:Rg.getOffsets(e))||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;void 0===r&&(r=n),"selectionStart"in e?(e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length)):Rg.setOffsets(e,t)}},Og=Ig,Ng=Tr.ELEMENT_NODE,kg=Hr.ReactCurrentOwner,Dg=Wn,Ug=function(e){qn(!1,"Missing injection for fiber findDOMNode")},Fg=function(e){qn(!1,"Missing injection for stack findDOMNode")},Bg=function(e){var t=kg.current;if(null!==t){var n="number"==typeof t.tag,r=n?t.stateNode._warnedAboutRefsInRender:t._warnedAboutRefsInRender;Dg(r,"%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",qr(t)||"A component"),n?t.stateNode._warnedAboutRefsInRender=!0:t._warnedAboutRefsInRender=!0}if(null==e)return null;if(e.nodeType===Ng)return e;var i=Fr.get(e);if(i)return"number"==typeof i.tag?Ug(i):Fg(i);"function"==typeof e.render?qn(!1,"Unable to find node on an unmounted component."):qn(!1,"Element appears to be neither ReactComponent nor DOMNode. Keys: %s",Object.keys(e))};Bg._injectFiber=function(e){Ug=e},Bg._injectStack=function(e){Fg=e};var zg=Bg,Hg=function(){},qg=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o="Warning: "+e.replace(/%s/g,function(){return n[i++]});"undefined"!=typeof console&&console.warn(o);try{throw new Error(o)}catch(e){}};Hg=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(!e){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];qg.apply(void 0,[t].concat(r))}};var jg=Hg,Gg=Yn,Vg=Wn,Wg=Ro,Xg=Wg.getCurrentFiberStackAddendum,Yg=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],Zg=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],Kg=Zg.concat(["button"]),Qg=["dd","dt","li","option","optgroup","p","rp","rt"],Jg={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null},$g=function(e,t,n){var r=Gn({},e||Jg),i={tag:t,instance:n};return-1!==Zg.indexOf(t)&&(r.aTagInScope=null,r.buttonTagInScope=null,r.nobrTagInScope=null),-1!==Kg.indexOf(t)&&(r.pTagInButtonScope=null),-1!==Yg.indexOf(t)&&"address"!==t&&"div"!==t&&"p"!==t&&(r.listItemTagAutoclosing=null,r.dlItemTagAutoclosing=null),r.current=i,"form"===t&&(r.formTag=i),"a"===t&&(r.aTagInScope=i),"button"===t&&(r.buttonTagInScope=i),"nobr"===t&&(r.nobrTagInScope=i),"p"===t&&(r.pTagInButtonScope=i),"li"===t&&(r.listItemTagAutoclosing=i),"dd"!==t&&"dt"!==t||(r.dlItemTagAutoclosing=i),r},ev=function(e,t){switch(t){case"select":return"option"===e||"optgroup"===e||"#text"===e;case"optgroup":return"option"===e||"#text"===e;case"option":return"#text"===e;case"tr":return"th"===e||"td"===e||"style"===e||"script"===e||"template"===e;case"tbody":case"thead":case"tfoot":return"tr"===e||"style"===e||"script"===e||"template"===e;case"colgroup":return"col"===e||"template"===e;case"table":return"caption"===e||"colgroup"===e||"tbody"===e||"tfoot"===e||"thead"===e||"style"===e||"script"===e||"template"===e;case"head":return"base"===e||"basefont"===e||"bgsound"===e||"link"===e||"meta"===e||"title"===e||"noscript"===e||"noframes"===e||"style"===e||"script"===e||"template"===e;case"html":return"head"===e||"body"===e;case"#document":return"html"===e}switch(e){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t;case"rp":case"rt":return-1===Qg.indexOf(t);case"body":case"caption":case"col":case"colgroup":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return null==t}return!0},tv=function(e,t){switch(e){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return t.pTagInButtonScope;case"form":return t.formTag||t.pTagInButtonScope;case"li":return t.listItemTagAutoclosing;case"dd":case"dt":return t.dlItemTagAutoclosing;case"button":return t.buttonTagInScope;case"a":return t.aTagInScope;case"nobr":return t.nobrTagInScope}return null},nv=function(e){if(!e)return[];var t=[];do{t.push(e)}while(e=e._currentElement._owner);return t.reverse(),t},rv=function(e,t,n,r,i){var o,a=e&&e._currentElement._owner,s=n&&n._currentElement._owner,u=nv(a),c=nv(s),l=Math.min(u.length,c.length),h=-1;for(o=0;o<l&&u[o]===c[o];o++)h=o;var d=u.slice(h+1).map(function(e){return qr(e)||"(unknown)"}),f=c.slice(h+1).map(function(e){return qr(e)||"(unknown)"});return[].concat(-1!==h?qr(u[h])||"(unknown)":[],f,r,i?[]:["..."],d,t).join(" > ")},iv={};Gg=function(e,t,n,r){r=r||Jg;var i=r.current,o=i&&i.tag;null!=t&&(Vg(null==e,"validateDOMNesting: when childText is passed, childTag should be null"),e="#text");var a=ev(e,o)?null:i,s=a?null:tv(e,r),u=a||s;if(u){var c,l=u.instance,h=u.tag;c=null!=n?" See "+rv(n,e,l,h,!!a)+".":Xg();var d=!!a+"|"+e+"|"+h+"|"+c;if(!iv[d]){iv[d]=!0;var f=e,p="";if("#text"===e?/\S/.test(t)?f="Text nodes":(f="Whitespace text nodes",p=" Make sure you don't have any extra whitespace between tags on each line of your source code."):f="<"+e+">",a){var m="";"table"===h&&"tr"===e&&(m+=" Add a <tbody> to your code to match the DOM tree generated by the browser."),Vg(!1,"validateDOMNesting(...): %s cannot appear as a child of <%s>.%s%s%s",f,h,p,m,c)}else Vg(!1,"validateDOMNesting(...): %s cannot appear as a descendant of <%s>.%s",f,h,c)}}},Gg.updatedAncestorInfo=$g,Gg.isTagValidInContext=function(e,t){t=t||Jg;var n=t.current,r=n&&n.tag;return ev(e,r)&&!tv(e,t)};var ov=Gg,av=Er.HostComponent,sv={isAncestor:St,getLowestCommonAncestor:Tt,getParentInstance:Ct,traverseTwoPhase:At,traverseEnterLeave:Pt},uv=Wi.getListener,cv=Wn,lv={accumulateTwoPhaseDispatches:Dt,accumulateTwoPhaseDispatchesSkipTarget:Ut,accumulateDirectDispatches:Bt,accumulateEnterLeaveDispatches:Ft},hv=lv,dv={_root:null,_startText:null,_fallbackText:null},fv={initialize:function(e){return dv._root=e,dv._startText=fv.getText(),!0},reset:function(){dv._root=null,dv._startText=null,dv._fallbackText=null},getData:function(){if(dv._fallbackText)return dv._fallbackText;var e,t,n=dv._startText,r=n.length,i=fv.getText(),o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);var s=t>1?1-t:void 0;return dv._fallbackText=i.slice(e,s),dv._fallbackText},getText:function(){return"value"in dv._root?dv._root.value:dv._root[Ag()]}},pv=fv,mv=!1,gv="function"==typeof Proxy,vv=10,yv=Wn,bv=["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"],xv={type:null,target:null,currentTarget:Yn.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};Gn(zt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yn.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yn.thatReturnsTrue)},persist:function(){this.isPersistent=Yn.thatReturnsTrue},isPersistent:Yn.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)Object.defineProperty(this,t,Ht(t,e[t]));for(var n=0;n<bv.length;n++)this[bv[n]]=null;Object.defineProperty(this,"nativeEvent",Ht("nativeEvent",null)),Object.defineProperty(this,"preventDefault",Ht("preventDefault",Yn)),Object.defineProperty(this,"stopPropagation",Ht("stopPropagation",Yn))}}),zt.Interface=xv,zt.augmentClass=function(e,t){var n=this,r=function(){};r.prototype=n.prototype;var i=new r;Gn(i,e.prototype),e.prototype=i,e.prototype.constructor=e,e.Interface=Gn({},n.Interface,t),e.augmentClass=n.augmentClass,Gt(e)},gv&&(zt=new Proxy(zt,{construct:function(e,t){return this.apply(e,Object.create(e.prototype),t)},apply:function(e,t,n){return new Proxy(e.apply(t,n),{set:function(e,t,n){return"isPersistent"===t||e.constructor.Interface.hasOwnProperty(t)||-1!==bv.indexOf(t)||(yv(mv||e.isPersistent(),"This synthetic event is reused for performance reasons. If you're seeing this, you're adding a new property in the synthetic event object. The property is never released. See https://fb.me/react-event-pooling for more information."),mv=!0),e[t]=n,!0}})}})),Gt(zt);var _v=zt,wv={data:null};_v.augmentClass(Vt,wv);var Ev=Vt,Mv={data:null};_v.augmentClass(Wt,Mv);var Tv=Wt,Sv=[9,13,27,32],Cv=229,Av=jn.canUseDOM&&"CompositionEvent"in window,Pv=null;jn.canUseDOM&&"documentMode"in document&&(Pv=document.documentMode);var Rv=jn.canUseDOM&&"TextEvent"in window&&!Pv&&!function(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}(),Lv=jn.canUseDOM&&(!Av||Pv&&Pv>8&&Pv<=11),Iv=32,Ov=String.fromCharCode(Iv),Nv={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:["topBlur","topCompositionEnd","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:["topBlur","topCompositionStart","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:["topBlur","topCompositionUpdate","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]}},kv=!1,Dv=!1,Uv={eventTypes:Nv,extractEvents:function(e,t,n,r){return[Jt(e,t,n,r),tn(e,t,n,r)]}},Fv=Uv,Bv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},zv=nn,Hv={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:["topBlur","topChange","topClick","topFocus","topInput","topKeyDown","topKeyUp","topSelectionChange"]}},qv=null,jv=null,Gv=!1;jn.canUseDOM&&(Gv=Zi("input")&&(!document.documentMode||document.documentMode>9));var Vv={eventTypes:Hv,_isInputEventSupported:Gv,extractEvents:function(e,t,n,r){var i,o,a=t?Dr.getNodeFromInstance(t):window;if(on(a)?i=cn:zv(a)?Gv?i=vn:(i=pn,o=fn):mn(a)&&(i=gn),i){var s=i(e,t);if(s){return rn(s,n,r)}}o&&o(e,a,t),"topBlur"===e&&yn(t,a)}},Wv=Vv,Xv=["ResponderEventPlugin","SimpleEventPlugin","TapEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin"],Yv=Xv,Zv={view:function(e){if(e.view)return e.view;var t=Oi(e);if(t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};_v.augmentClass(bn,Zv);var Kv=bn,Qv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},Jv=_n,$v={screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Jv,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}};Kv.augmentClass(wn,$v);var ey=wn,ty={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},ny={eventTypes:ty,extractEvents:function(e,t,n,r){if("topMouseOver"===e&&(n.relatedTarget||n.fromElement))return null;if("topMouseOut"!==e&&"topMouseOver"!==e)return null;var i;if(r.window===r)i=r;else{var o=r.ownerDocument;i=o?o.defaultView||o.parentWindow:window}var a,s;if("topMouseOut"===e){a=t;var u=n.relatedTarget||n.toElement;s=u?Dr.getClosestInstanceFromNode(u):null}else a=null,s=t;if(a===s)return null;var c=null==a?i:Dr.getNodeFromInstance(a),l=null==s?i:Dr.getNodeFromInstance(s),h=ey.getPooled(ty.mouseLeave,a,n,r);h.type="mouseleave",h.target=c,h.relatedTarget=l;var d=ey.getPooled(ty.mouseEnter,s,n,r);return d.type="mouseenter",d.target=l,d.relatedTarget=c,hv.accumulateEnterLeaveDispatches(h,d,a,s),[h,d]}},ry=ny,iy=Tr.DOCUMENT_NODE,oy=jn.canUseDOM&&"documentMode"in document&&document.documentMode<=11,ay={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:["topBlur","topContextMenu","topFocus","topKeyDown","topKeyUp","topMouseDown","topMouseUp","topSelectionChange"]}},sy=null,uy=null,cy=null,ly=!1,hy=uo.isListeningToAllDependencies,dy={eventTypes:ay,extractEvents:function(e,t,n,r){var i=r.window===r?r.document:r.nodeType===iy?r:r.ownerDocument;if(!i||!hy("onSelect",i))return null;var o=t?Dr.getNodeFromInstance(t):window;switch(e){case"topFocus":(zv(o)||"true"===o.contentEditable)&&(sy=o,uy=t,cy=null);break;case"topBlur":sy=null,uy=null,cy=null;break;case"topMouseDown":ly=!0;break;case"topContextMenu":case"topMouseUp":return ly=!1,Mn(n,r);case"topSelectionChange":if(oy)break;case"topKeyDown":case"topKeyUp":return Mn(n,r)}return null}},fy=dy,py={animationName:null,elapsedTime:null,pseudoElement:null};_v.augmentClass(Tn,py);var my=Tn,gy={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};_v.augmentClass(Sn,gy);var vy=Sn,yy={relatedTarget:null};Kv.augmentClass(Cn,yy);var by=Cn,xy=An,_y={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ey=Pn,My={key:Ey,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Jv,charCode:function(e){return"keypress"===e.type?xy(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?xy(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};Kv.augmentClass(Rn,My);var Ty=Rn,Sy={dataTransfer:null};ey.augmentClass(Ln,Sy);var Cy=Ln,Ay={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Jv};Kv.augmentClass(In,Ay);var Py=In,Ry={propertyName:null,elapsedTime:null,pseudoElement:null};_v.augmentClass(On,Ry);var Ly=On,Iy={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};ey.augmentClass(Nn,Iy);var Oy=Nn,Ny={},ky={};["abort","animationEnd","animationIteration","animationStart","blur","cancel","canPlay","canPlayThrough","click","close","contextMenu","copy","cut","doubleClick","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","focus","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","progress","rateChange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeUpdate","toggle","touchCancel","touchEnd","touchMove","touchStart","transitionEnd","volumeChange","waiting","wheel"].forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),n="on"+t,r="top"+t,i={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[r]};Ny[e]=i,ky[r]=i});var Dy={eventTypes:Ny,extractEvents:function(e,t,n,r){var i=ky[e];if(!i)return null;var o;switch(e){case"topAbort":case"topCancel":case"topCanPlay":case"topCanPlayThrough":case"topClose":case"topDurationChange":case"topEmptied":case"topEncrypted":case"topEnded":case"topError":case"topInput":case"topInvalid":case"topLoad":case"topLoadedData":case"topLoadedMetadata":case"topLoadStart":case"topPause":case"topPlay":case"topPlaying":case"topProgress":case"topRateChange":case"topReset":case"topSeeked":case"topSeeking":case"topStalled":case"topSubmit":case"topSuspend":case"topTimeUpdate":case"topToggle":case"topVolumeChange":case"topWaiting":o=_v;break;case"topKeyPress":if(0===xy(n))return null;case"topKeyDown":case"topKeyUp":o=Ty;break;case"topBlur":case"topFocus":o=by;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":o=ey;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":o=Cy;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":o=Py;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":o=my;break;case"topTransitionEnd":o=Ly;break;case"topScroll":o=Kv;break;case"topWheel":o=Oy;break;case"topCopy":case"topCut":case"topPaste":o=vy}o||qn(!1,"SimpleEventPlugin: Unhandled event type, `%s`.",e);var a=o.getPooled(i,t,n,r);return hv.accumulateTwoPhaseDispatches(a),a}},Uy=Dy;Fi.setHandleTopLevel(uo.handleTopLevel),Wi.injection.injectEventPluginOrder(Yv),bi.injection.injectComponentTree(Dr),Wi.injection.injectEventPluginsByName({SimpleEventPlugin:Uy,EnterLeaveEventPlugin:ry,ChangeEventPlugin:Wv,SelectEventPlugin:fy,BeforeInputEventPlugin:Fv});var Fy=xr.injection.MUST_USE_PROPERTY,By=xr.injection.HAS_BOOLEAN_VALUE,zy=xr.injection.HAS_NUMERIC_VALUE,Hy=xr.injection.HAS_POSITIVE_NUMERIC_VALUE,qy=xr.injection.HAS_OVERLOADED_BOOLEAN_VALUE,jy=xr.injection.HAS_STRING_BOOLEAN_VALUE,Gy={Properties:{allowFullScreen:By,allowTransparency:jy,async:By,autoPlay:By,capture:By,checked:Fy|By,cols:Hy,contentEditable:jy,controls:By,default:By,defer:By,disabled:By,download:qy,draggable:jy,formNoValidate:By,hidden:By,loop:By,multiple:Fy|By,muted:Fy|By,noValidate:By,open:By,playsInline:By,readOnly:By,required:By,reversed:By,rows:Hy,rowSpan:zy,scoped:By,seamless:By,selected:Fy|By,size:Hy,start:zy,span:Hy,spellCheck:jy,style:0,itemScope:By,acceptCharset:0,className:0,htmlFor:0,httpEquiv:0,value:jy},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMMutationMethods:{value:function(e,t){if(null==t)return e.removeAttribute("value");"number"!==e.type||!1===e.hasAttribute("value")?e.setAttribute("value",""+t):e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e&&e.setAttribute("value",""+t)}}},Vy=Gy,Wy=xr.injection.HAS_STRING_BOOLEAN_VALUE,Xy={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},Yy=["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","x-height","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xmlns:xlink","xml:lang","xml:space"],Zy={Properties:{autoReverse:Wy,externalResourcesRequired:Wy,preserveAlpha:Wy},DOMAttributeNames:{autoReverse:"autoReverse",externalResourcesRequired:"externalResourcesRequired",preserveAlpha:"preserveAlpha"},DOMAttributeNamespaces:{xlinkActuate:Xy.xlink,xlinkArcrole:Xy.xlink,xlinkHref:Xy.xlink,xlinkRole:Xy.xlink,xlinkShow:Xy.xlink,xlinkTitle:Xy.xlink,xlinkType:Xy.xlink,xmlBase:Xy.xml,xmlLang:Xy.xml,xmlSpace:Xy.xml}},Ky=/[\-\:]([a-z])/g,Qy=function(e){return e[1].toUpperCase()};Yy.forEach(function(e){var t=e.replace(Ky,Qy);Zy.Properties[t]=0,Zy.DOMAttributeNames[t]=e});var Jy=Zy;xr.injection.injectDOMPropertyConfig(Vy),xr.injection.injectDOMPropertyConfig(Jy);var $y=Rp.injectInternals,eb=Tr.ELEMENT_NODE,tb=Tr.TEXT_NODE,nb=Tr.COMMENT_NODE,rb=Tr.DOCUMENT_NODE,ib=Tr.DOCUMENT_FRAGMENT_NODE,ob=xr.ROOT_ATTRIBUTE_NAME,ab=hr.getChildNamespace,sb=gc.createElement,ub=gc.createTextNode,cb=gc.setInitialProperties,lb=gc.diffProperties,hb=gc.updateProperties,db=gc.diffHydratedProperties,fb=gc.diffHydratedText,pb=gc.warnForDeletedHydratableElement,mb=gc.warnForDeletedHydratableText,gb=gc.warnForInsertedHydratedElement,vb=gc.warnForInsertedHydratedText,yb=Dr.precacheFiberNode,bb=Dr.updateFiberProps,xb=jg,_b=Wn,wb=ov,Eb=wb.updatedAncestorInfo;"function"==typeof Map&&null!=Map.prototype&&"function"==typeof Map.prototype.forEach&&"function"==typeof Set&&null!=Set.prototype&&"function"==typeof Set.prototype.clear&&"function"==typeof Set.prototype.forEach||_b(!1,"React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. http://fb.me/react-polyfills"),Ti.injection.injectFiberControlledHostComponent(gc),zg._injectFiber(function(e){return Sb.findHostInstance(e)});var Mb=null,Tb=null,Sb=function(e){function t(e,t,n){"render"===_g.phase&&null!==_g.current&&bg(!1,"Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.\n\nCheck the render method of %s.",wg(_g.current)||"Unknown");var r=Oc.enableAsyncSubtreeAPI&&null!=t&&null!=t.type&&null!=t.type.prototype&&!0===t.type.prototype.unstable_isAsyncReactComponent,a=o(e,r),s={element:t};n=void 0===n?null:n,bg(null===n||"function"==typeof n,"render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",n),fg(e,s,n,a),i(e,a)}var n=e.getPublicInstance,r=lg(e),i=r.scheduleUpdate,o=r.getPriorityContext,a=r.batchedUpdates,s=r.unbatchedUpdates,u=r.flushSync,c=r.deferredUpdates;return{createContainer:function(e){return vg(e)},updateContainer:function(e,n,r,i){var o=n.current;xg.debugTool&&(null===o.alternate?xg.debugTool.onMountContainer(n):null===e?xg.debugTool.onUnmountContainer(n):xg.debugTool.onUpdateContainer(n));var a=dg(r);null===n.context?n.context=a:n.pendingContext=a,t(o,e,i)},batchedUpdates:a,unbatchedUpdates:s,deferredUpdates:c,flushSync:u,getPublicRootInstance:function(e){var t=e.current;if(!t.child)return null;switch(t.child.tag){case yg:return n(t.child.stateNode);default:return t.child.stateNode}},findHostInstance:function(e){var t=Eg(e);return null===t?null:t.stateNode},findHostInstanceWithNoPortals:function(e){var t=Mg(e);return null===t?null:t.stateNode}}}({getRootHostContext:function(e){var t=void 0,n=void 0;if(e.nodeType===rb){t="#document";var r=e.documentElement;n=r?r.namespaceURI:ab(null,"")}else{var i=e.nodeType===nb?e.parentNode:e,o=i.namespaceURI||null;t=i.tagName,n=ab(o,t)}var a=t.toLowerCase();return{namespace:n,ancestorInfo:Eb(null,a,null)}},getChildHostContext:function(e,t){var n=e;return{namespace:ab(n.namespace,t),ancestorInfo:Eb(n.ancestorInfo,t,null)}},getPublicInstance:function(e){return e},prepareForCommit:function(){Mb=uo.isEnabled(),Tb=Og.getSelectionInformation(),uo.setEnabled(!1)},resetAfterCommit:function(){Og.restoreSelection(Tb),Tb=null,uo.setEnabled(Mb),Mb=null},createInstance:function(e,t,n,r,i){var o=void 0,a=r;if(wb(e,null,null,a.ancestorInfo),"string"==typeof t.children||"number"==typeof t.children){var s=""+t.children,u=Eb(a.ancestorInfo,e,null);wb(null,s,null,u)}o=a.namespace;var c=sb(e,t,n,o);return yb(i,c),bb(c,t),c},appendInitialChild:function(e,t){e.appendChild(t)},finalizeInitialChildren:function(e,t,n,r){return cb(e,t,n,r),Fn(t,n)},prepareUpdate:function(e,t,n,r,i,o){var a=o;if(typeof r.children!=typeof n.children&&("string"==typeof r.children||"number"==typeof r.children)){var s=""+r.children,u=Eb(a.ancestorInfo,t,null);wb(null,s,null,u)}return lb(e,t,n,r,i)},commitMount:function(e,t,n,r){e.focus()},commitUpdate:function(e,t,n,r,i,o){bb(e,i),hb(e,t,n,r,i)},shouldSetTextContent:function(e,t){return"textarea"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&"string"==typeof t.dangerouslySetInnerHTML.__html},resetTextContent:function(e){e.textContent=""},shouldDeprioritizeSubtree:function(e,t){return!!t.hidden},createTextInstance:function(e,t,n,r){wb(null,e,null,n.ancestorInfo);var i=ub(e,t);return yb(r,i),i},commitTextUpdate:function(e,t,n){e.nodeValue=n},appendChild:function(e,t){e.appendChild(t)},appendChildToContainer:function(e,t){e.nodeType===nb?e.parentNode.insertBefore(t,e):e.appendChild(t)},insertBefore:function(e,t,n){e.insertBefore(t,n)},insertInContainerBefore:function(e,t,n){e.nodeType===nb?e.parentNode.insertBefore(t,n):e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},removeChildFromContainer:function(e,t){e.nodeType===nb?e.parentNode.removeChild(t):e.removeChild(t)},canHydrateInstance:function(e,t,n){return e.nodeType===eb&&t===e.nodeName.toLowerCase()},canHydrateTextInstance:function(e,t){return""!==t&&e.nodeType===tb},getNextHydratableSibling:function(e){for(var t=e.nextSibling;t&&t.nodeType!==eb&&t.nodeType!==tb;)t=t.nextSibling;return t},getFirstHydratableChild:function(e){for(var t=e.firstChild;t&&t.nodeType!==eb&&t.nodeType!==tb;)t=t.nextSibling;return t},hydrateInstance:function(e,t,n,r,i,o){yb(o,e),bb(e,n);var a=void 0;return a=i.namespace,db(e,t,n,a,r)},hydrateTextInstance:function(e,t,n){return yb(n,e),fb(e,t)},didNotHydrateInstance:function(e,t){1===t.nodeType?pb(e,t):mb(e,t)},didNotFindHydratableInstance:function(e,t,n){gb(e,t,n)},didNotFindHydratableTextInstance:function(e,t){vb(e,t)},scheduleDeferredCallback:Lc.rIC,useSyncScheduling:!lo.fiberAsyncScheduling});Li.injection.injectFiberBatchedUpdates(Sb.batchedUpdates);var Cb=!1,Ab={createPortal:zn,hydrate:function(e,t,n){return Bn(null,e,t,!0,n)},render:function(e,t,n){return Bn(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return null!=e&&Fr.has(e)||qn(!1,"parentComponent must be a valid React Component"),Bn(e,t,n,!1,r)},unmountComponentAtNode:function(e){if(kn(e)||qn(!1,"unmountComponentAtNode(...): Target container is not a DOM element."),e._reactRootContainer){var t=Dn(e),n=t&&!Dr.getInstanceFromNode(t);return _b(!n,"unmountComponentAtNode(): The node you're attempting to unmount was rendered by another copy of React."),Sb.unbatchedUpdates(function(){Bn(null,null,e,!1,function(){e._reactRootContainer=null})}),!0}var r=Dn(e),i=!(!r||!Dr.getInstanceFromNode(r)),o=1===e.nodeType&&kn(e.parentNode)&&!!e.parentNode._reactRootContainer;return _b(!i,"unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",o?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component."),!1},findDOMNode:zg,unstable_createPortal:zn,unstable_batchedUpdates:Li.batchedUpdates,unstable_deferredUpdates:Sb.deferredUpdates,flushSync:Sb.flushSync,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:Wi,EventPluginRegistry:mr,EventPropagators:hv,ReactControlledComponent:Ti,ReactDOMComponentTree:Dr,ReactDOMEventListener:Fi}};if(!$y({findFiberByHostInstance:Dr.getClosestInstanceFromNode,findHostInstanceByFiber:Sb.findHostInstance,bundleType:1,version:"16.0.0",rendererPackageName:"react-dom"})&&jn.canUseDOM&&window.top===window.self&&(navigator.userAgent.indexOf("Chrome")>-1&&-1===navigator.userAgent.indexOf("Edge")||navigator.userAgent.indexOf("Firefox")>-1)){var Pb=window.location.protocol;/^(https?|file):$/.test(Pb)&&console.info("%cDownload the React DevTools for a better development experience: https://fb.me/react-devtools"+("file:"===Pb?"\nYou might need to use a local HTTP server (instead of file://): https://fb.me/react-devtools-faq":""),"font-weight:bold")}var Rb=Ab;e.exports=Rb}()}).call(t,n(2))},function(e,t,n){"use strict";function r(e){return i(e).replace(o,"-ms-")}var i=n(67),o=/^ms-/;e.exports=r},function(e,t,n){"use strict";function r(e){return e.replace(i,"-$1").toLowerCase()}var i=/([A-Z])/g;e.exports=r},function(e,t,n){"use strict";function r(e){return i(e.replace(o,"ms-"))}var i=n(69),o=/^-ms-/;e.exports=r},function(e,t,n){"use strict";function r(e){return e.replace(i,function(e,t){return t.toUpperCase()})}var i=/-(.)/g;e.exports=r},function(e,t,n){"use strict";var r,i=n(71);r=i.now?function(){return i.now()}:function(){return Date.now()},e.exports=r},function(e,t,n){"use strict";var r,i=n(21);i.canUseDOM&&(r=window.performance||window.msPerformance||window.webkitPerformance),e.exports=r||{}},function(e,t,n){"use strict";(function(t){var r=n(4),i=n(5),o=n(14),a=n(10),s=n(20),u=n(19);e.exports=function(e,n){function c(e){var t=e&&(C&&e[C]||e[A]);if("function"==typeof t)return t}function l(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function h(e){this.message=e,this.stack=""}function d(e){function r(r,c,l,d,f,p,m){if(d=d||P,p=p||l,m!==s)if(n)i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==t.env.NODE_ENV&&"undefined"!=typeof console){var g=d+":"+l;!a[g]&&u<3&&(o(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",p,d),a[g]=!0,u++)}return null==c[l]?r?new h(null===c[l]?"The "+f+" `"+p+"` is marked as required in `"+d+"`, but its value is `null`.":"The "+f+" `"+p+"` is marked as required in `"+d+"`, but its value is `undefined`."):null:e(c,l,d,f,p)}if("production"!==t.env.NODE_ENV)var a={},u=0;var c=r.bind(null,!1);return c.isRequired=r.bind(null,!0),c}function f(e){function t(t,n,r,i,o,a){var s=t[n];if(E(s)!==e)return new h("Invalid "+i+" `"+o+"` of type `"+M(s)+"` supplied to `"+r+"`, expected `"+e+"`.");return null}return d(t)}function p(e){function t(t,n,r,i,o){if("function"!=typeof e)return new h("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a)){return new h("Invalid "+i+" `"+o+"` of type `"+E(a)+"` supplied to `"+r+"`, expected an array.")}for(var u=0;u<a.length;u++){var c=e(a,u,r,i,o+"["+u+"]",s);if(c instanceof Error)return c}return null}return d(t)}function m(e){function t(t,n,r,i,o){if(!(t[n]instanceof e)){var a=e.name||P;return new h("Invalid "+i+" `"+o+"` of type `"+S(t[n])+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}return null}return d(t)}function g(e){function n(t,n,r,i,o){for(var a=t[n],s=0;s<e.length;s++)if(l(a,e[s]))return null;return new h("Invalid "+i+" `"+o+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?d(n):("production"!==t.env.NODE_ENV&&o(!1,"Invalid argument supplied to oneOf, expected an instance of array."),r.thatReturnsNull)}function v(e){function t(t,n,r,i,o){if("function"!=typeof e)return new h("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=t[n],u=E(a);if("object"!==u)return new h("Invalid "+i+" `"+o+"` of type `"+u+"` supplied to `"+r+"`, expected an object.");for(var c in a)if(a.hasOwnProperty(c)){var l=e(a,c,r,i,o+"."+c,s);if(l instanceof Error)return l}return null}return d(t)}function y(e){function n(t,n,r,i,o){for(var a=0;a<e.length;a++){if(null==(0,e[a])(t,n,r,i,o,s))return null}return new h("Invalid "+i+" `"+o+"` supplied to `"+r+"`.")}if(!Array.isArray(e))return"production"!==t.env.NODE_ENV&&o(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),r.thatReturnsNull;for(var i=0;i<e.length;i++){var a=e[i];if("function"!=typeof a)return o(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",T(a),i),r.thatReturnsNull}return d(n)}function b(e){function t(t,n,r,i,o){var a=t[n],u=E(a);if("object"!==u)return new h("Invalid "+i+" `"+o+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");for(var c in e){var l=e[c];if(l){var d=l(a,c,r,i,o+"."+c,s);if(d)return d}}return null}return d(t)}function x(e){function t(t,n,r,i,o){var u=t[n],c=E(u);if("object"!==c)return new h("Invalid "+i+" `"+o+"` of type `"+c+"` supplied to `"+r+"`, expected `object`.");var l=a({},t[n],e);for(var d in l){var f=e[d];if(!f)return new h("Invalid "+i+" `"+o+"` key `"+d+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var p=f(u,d,r,i,o+"."+d,s);if(p)return p}return null}return d(t)}function _(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(_);if(null===t||e(t))return!0;var n=c(t);if(!n)return!1;var r,i=n.call(t);if(n!==t.entries){for(;!(r=i.next()).done;)if(!_(r.value))return!1}else for(;!(r=i.next()).done;){var o=r.value;if(o&&!_(o[1]))return!1}return!0;default:return!1}}function w(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function E(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":w(t,e)?"symbol":t}function M(e){if(void 0===e||null===e)return""+e;var t=E(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function T(e){var t=M(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function S(e){return e.constructor&&e.constructor.name?e.constructor.name:P}var C="function"==typeof Symbol&&Symbol.iterator,A="@@iterator",P="<<anonymous>>",R={array:f("array"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),symbol:f("symbol"),any:function(){return d(r.thatReturnsNull)}(),arrayOf:p,element:function(){function t(t,n,r,i,o){var a=t[n];if(!e(a)){return new h("Invalid "+i+" `"+o+"` of type `"+E(a)+"` supplied to `"+r+"`, expected a single ReactElement.")}return null}return d(t)}(),instanceOf:m,node:function(){function e(e,t,n,r,i){return _(e[t])?null:new h("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")}return d(e)}(),objectOf:v,oneOf:g,oneOfType:y,shape:b,exact:x};return h.prototype=Error.prototype,R.checkPropTypes=u,R.PropTypes=R,R}}).call(t,n(2))},function(e,t,n){"use strict";var r=n(4),i=n(5),o=n(20);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){var r=n(75);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0};i.transform=void 0;n(17)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(16)(void 0),t.push([e.i,'.mainContent {\n  width: 98vw;\n  height: 98vh;\n  display: grid;\n  grid-template-columns: 160px 960px auto;\n  grid-template-rows: 70px 80%;\n  grid-template-areas: "data-uploader RelationTracer3D rightbar";\n  grid-column-gap: 2px;\n  grid-row-gap: 3px;\n}\n\n.data-uploader{\n  height: 80%;\n\n}\n\n.RelationTracer3D {\n  height: 100%;\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: auto auto;\n  grid-template-areas: "nodes"  "edges";\n}\n\n',""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i))return e;var o;return o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")"})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),l=r(c),h=n(15),d=r(h);n(22);n(40);var f=n(79),p=r(f),m=n(219),g=r(m),v=n(220),y=r(v),b=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.id=e.id;var r=n.instance=new p.default;return r.onNodeSelectedFnArray=e.eventProxy.onNodeSelected.fn,r.showInfoCallback=function(e,t){n.panel.updatePanel(e,t)},n.setColoredBy=n.setColoredBy.bind(n),n.registerPanel=n.registerPanel.bind(n),"object"===s(e.jsondata)?(n.state={dataurl:null},e.jsondata.fn.push(function(e){r.setData(e).update()})):n.state={dataurl:e.jsondata},n.eventProxyObj=e.eventProxyObj,n}return a(t,e),u(t,[{key:"chooseNode",value:function(){}},{key:"setColoredBy",value:function(e){this.instance.setColoredBy(e).update()}},{key:"registerPanel",value:function(e){this.panel=e}},{key:"componentDidMount",value:function(){this.instance.init(this.elm).update()}},{key:"componentWillReceiveProps",value:function(e){return!1}},{key:"render",value:function(){var e=this;return l.default.createElement("div",{className:"RelationTracer3D"},l.default.createElement(g.default,{chooseColoredBy:this.setColoredBy}),l.default.createElement("div",{className:"canvas-container",ref:function(t){return e.elm=t}}),l.default.createElement(y.default,{hookme:this.registerPanel}),l.default.createElement("div",{className:"tip"},l.default.createElement("div",null,l.default.createElement("strong",null,"Click Node")," - show node information"),l.default.createElement("div",null,l.default.createElement("strong",null,"Press Key: f + click Node")," - center the node"),l.default.createElement("div",null,l.default.createElement("strong",null,"Press Key: e")," - edge navigation",l.default.createElement("ul",null,l.default.createElement("li",null,l.default.createElement("strong",null,"Mouse Click")," - show Link info"))),l.default.createElement("div",null,l.default.createElement("strong",null,"Press Key: m")," - view only 1 hop related node (Must center a node first)"),l.default.createElement("div",null,l.default.createElement("strong",null,"Mouse Wheel:")," - zoom in/out"),l.default.createElement("div",null,l.default.createElement("strong",null,"Press Mouse Left Key + move ")," - Drag Scene"),l.default.createElement("hr",null),l.default.createElement("h5",null,"TODO"),l.default.createElement("div",null,l.default.createElement("strong",null,"Press Key: b")," - view node within 3 hop and severity > 6 ... "),l.default.createElement("div",null)))}},{key:"componentWillUnmount",value:function(){this.instance.destory(),this.instance=null}}]),t}(l.default.Component);t.default=b,b.defaultProps={jsondata:d.default.oneOfType([d.default.string,d.default.object])}},function(e,t,n){t=e.exports=n(16)(void 0),t.push([e.i,"\n.RelationTracer3D{\n  position: relative;\n}\n\n.canvas-container{\n  position: relative;\n}\n\n.focus-node-title{\n  position: absolute;\n  left: 50%;\n  bottom: 0;\n  color: white;\n  margin: 0 auto;\n  transform: translate(-50%, -50%); /*shift half width back */\n  font-size: 16px;\n}\n\n.mouseover-object{\n  position: absolute;\n  color: white;\n  font-size: 16px;\n}\n\n.info-panel {\n  margin-top: 20px;\n  position: absolute;\n  right: 0;\n  top: 0;\n  color: white;\n  font-size: 12px;\n  max-width: 400px;\n  width: 350px;\n  \n  color: rgb(232, 232, 232);\n}\n\ntable.info-table {\n  background-color: rgba(148, 148, 148, 0.824);\n  font-family: Helvetica, Arial, sans-serif;\n  max-width: 100%;\n  border-collapse: collapse;\n  border-spacing: 0;\n  text-align: right;\n  float: right;\n}\n\ntable.info-table caption {\n  background-color: rgba(148, 148, 148, 0.824);\n  text-align: center;\n  color: #cccccc;\n}\n\ntable.info-table th {\n  font-weight: bold;\n  text-align: right;\n  width: 80px;\n}\n\ntable.info-table td {\n  padding-left: 8px;\n  text-align: left;\n  width: 140px;\n}\n",""])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(80),u=i(s),c=n(81),l=r(c),h=n(84),d=r(h),f=n(86),p=r(f),m=n(87),g=(i(m),n(144)),v=r(g),y=n(145),b=r(y),x=n(167),_=n(168),w=new u.MeshPhongMaterial({color:12632256,specular:14474460,shininess:30,flatShading:u.SmoothShading}),E=new u.LineBasicMaterial({color:"#ffffa3",transparent:!1,opacity:.5}),M=new u.LineBasicMaterial({color:"#f0f0f0",transparent:!0,opacity:.2}),T=function(){function e(t,n){o(this,e),(0,x.DEBUG_MSG)("MyForceDirected3d init"),this.isInitialized=!1}return a(e,[{key:"init",value:function(e,t){var n=this;this.elm=e,this.width=e.clientWidth||window.innerWidth,this.height=Math.max(600,e.clientHeight,window.innerHeight/2),this.nodeRelSize=6,this.nodeResolution=16,this.lineOpacity=.25,this.cooldownTime=1e4,this.cooldownTick=200,this.focusNodeSphereObj=null,this.clickedObj=null;var r=this.focusNodeTitleElm=document.createElement("div");r.classList.add("focus-node-title"),this.elm.appendChild(r);var i=this.hoverNodeTitleElm=document.createElement("div");i.classList.add("mouseover-object"),this.elm.appendChild(i);var o=this.hoverNodeTitleElm=document.createElement("div");return o.classList.add("mouseover-panel"),this.elm.appendChild(o),this.coloredBy="cid",this.EDGE_MODE=!1,this.FOCUS_MODE=!1,this.DRAG_MODE=!1,this.TRACE_MODE=!1,this._init(e),this._bind_event(),t&&this.setData(t),this.isInitialized=!0,this.hoverObjecgtFn=l.default.throttle(function(e,t){var r=null,o=i;n.EDGE_MODE?n.DRAG_MODE||(r=n._checkIntersects("Line")):r=n._checkIntersects("Mesh"),r&&r.__data?(o.innerText=r.__data.label||"",o.style.left=e+"px",o.style.top=t+"px",n.EDGE_MODE&&!n.DRAG_MODE&&(r.material=E)):(o.innerText="",o.style.left=0,o.style.top=0)},120),this}},{key:"setData",value:function(e){return this.graphData=e,this}},{key:"setColoredBy",value:function(e){return this.coloredBy=e,this}},{key:"onClick",value:function(e,t,n){this.showInfoCallback(e,t),this.onNodeSelectedFnArray&&l.default.isArray(this.onNodeSelectedFnArray)&&this.onNodeSelectedFnArray.forEach(function(e){return e&&e(t)})}},{key:"onMousemove",value:function(e){}},{key:"_bind_event",value:function(){var e=this.elm;this.onClick&&e.addEventListener("click",this._onClick.bind(this)),this.onMousemove&&e.addEventListener("mousemove",this._onMousemove.bind(this)),e.addEventListener("mousedown",this._onMouseDown.bind(this),"passive"),e.addEventListener("mouseup",this._onMouseUp.bind(this)),this.KEYDOWN=this._keydown.bind(this),this.KEYUP=this._keyup.bind(this),window.addEventListener("keydown",this.KEYDOWN,!1),window.addEventListener("keyup",this.KEYUP,!1)}},{key:"_onClick",value:function(e){if(this.EDGE_MODE){var t=this._checkIntersects("Line");if(!t)return;this.onClick("edge",t.__data,t)}else{var n=this._checkIntersects("Mesh");if(!n)return null;this.FOCUS_MODE&&(this.focusNodeSphereObj&&(this.focusNodeSphereObj.material=this.focusNodeMaterialOriginal),this.focusNodeMaterialOriginal=n.material,n.material=w,this.focusNodeSphereObj=n,this.focusNodeTitleElm.innerText=n.__data.label,this.balancedLight.target=n,this.focusPoint(n.position)),this.onClick("node",n.__data,n)}}},{key:"_onMousemove",value:function(e){var t=function(e){var t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+r,left:t.left+n}}(this.elm),n={x:e.pageX-t.left,y:e.pageY-t.top};this.mousePos.x=n.x/this.width*2-1,this.mousePos.y=-n.y/this.height*2+1,this.DRAG_MODE||this.hoverObjecgtFn(n.x-20,n.y-40)}},{key:"_onMouseDown",value:function(){this.DRAG_MODE=!0}},{key:"_onMouseUp",value:function(){this.DRAG_MODE=!1}},{key:"_onZoomChange",value:function(e){}},{key:"_keydown",value:function(e){window.removeEventListener("keydown",this.KEYDOWN),"f"===e.key?(this.FOCUS_MODE=!0,this.EDGE_MODE=!1,this.TRACE_MODE=!1):"e"===e.key?(this.FOCUS_MODE=!1,this.EDGE_MODE=!0,this.TRACE_MODE=!1):"m"===e.key&&(this.FOCUS_MODE=!1,this.EDGE_MODE=!1,this.TRACE_MODE=!0,this._traceMode())}},{key:"_keyup",value:function(e){this.EDGE_MODE&&this._resetEdgeMode(),this.TRACE_MODE&&this._resetTraceMode(),this.FOCUS_MODE=!1,this.EDGE_MODE=!1,window.addEventListener("keydown",this.KEYDOWN,!1)}},{key:"_checkIntersects",value:function(e){this.raycaster.setFromCamera(this.mousePos,this.camera);var t=this.raycaster.intersectObjects(this.graphScene.children);if(!t.length)return null;var n=l.default.find(t,function(t){return t.object.type===e});return n&&n.object?n.object:null}},{key:"_traceMode",value:function(){if(this.focusNodeSphereObj){var e=this.focusNodeSphereObj,t=this.focusNodeSphereObj.__data.id,n=this.graphData.nodes,r=this.graphData.edges,i=l.default.keyBy(n,"id"),o=[e];l.default.reduce(r,function(e,n){return n.from===t&&(e.push(i[n.to].__sphere),e.push(n.__line)),e},o),l.default.reduce(r,function(e,n){return n.to===t&&(e.push(i[n.from].__sphere),e.push(n.__line)),e},o);this.graphScene.children.forEach(function(e){-1===o.indexOf(e)&&(e.visible=!1)})}}},{key:"_resetTraceMode",value:function(){this.focusNodeSphereObj&&this.graphScene.children.forEach(function(e){e.visible=!0})}},{key:"_resetEdgeMode",value:function(){this.graphData.edges.forEach(function(e){e.__line.material=M})}},{key:"_init",value:function(e){var t=this;this.renderer=new u.WebGLRenderer,e.appendChild(this.renderer.domElement);var n=this.raycaster=new u.Raycaster;this.mousePos=new u.Vector2,this.mousePos.x=-2,this.mousePos.y=-2;var r=new u.Scene;r.background=new u.Color(17),r.add(this.graphScene=new u.Group),r.add(new u.AmbientLight(15461355,.8)),r.add(new u.DirectionalLight(15527148,.5)),this.balancedLight=new u.DirectionalLight(15527148,.1),this.balancedLight.position.set(0,0,-1),r.add(this.balancedLight),this.camera=new u.PerspectiveCamera,this.camera.far=17e3;var i=this.control=new d.default(this.camera,this.renderer.domElement);this.control.noPan=!0;!function e(){t.onFrame&&t.onFrame(),n.setFromCamera(t.mousePos,t.camera),i.update(),t.renderer.render(r,t.camera),requestAnimationFrame(e)}(),(0,x.DEBUG_MSG)("End of _init")}},{key:"focusPoint",value:function(e){this.control.target=e}},{key:"update",value:function(){var e=this;if(this.isInitialized&&this.graphData){this.__resizeCanvas(),this.onFrame=null;var t=this.graphData.nodes,n=this.graphData.edges;"severity"===this.coloredBy?(0,_.autoColorBySeverity)(t,(0,p.default)("severity")):(0,_.autoColorNodes)(t,(0,p.default)("cid"));var r=l.default.countBy(t,"cid"),i=(l.default.keyBy(t,"cid"),{});for(l.default.each(r,function(e,t){i[t]=e>100?6:e>60&&e<100?8:e>20&&e<60?10:e>5&&e<20?13:18});this.graphScene.children.length;)this.graphScene.remove(this.graphScene.children[0]);var o=(0,p.default)("id"),a=((0,p.default)("cid"),(0,p.default)("color")),s={},c={};t.forEach(function(t){var n=i[t.cid];s.hasOwnProperty(n)||(s[n]=new u.SphereGeometry(n,e.nodeResolution,e.nodeResolution));var r=a(t);c.hasOwnProperty(r)||(c[r]=new u.MeshLambertMaterial({color:(0,_.colorStr2Hex)(r||"#ffffaa"),transparent:!0,opacity:.8}));var l=new u.Mesh(s[n],c[r]);l.name=o(t),l.__data=t,e.graphScene.add(t.__sphere=l)}),n.forEach(function(t){var n=new u.BufferGeometry;n.addAttribute("position",new u.BufferAttribute(new Float32Array(6),3));var r=new u.Line(n,M);r.renderOrder=10,r.__data=t,e.graphScene.add(t.__line=r)}),0===this.camera.position.x&&0===this.camera.position.y&&(this.camera.lookAt(this.graphScene.position),this.camera.position.z=110*Math.cbrt(t.length));var h=(0,v.default)();t.forEach(function(e){h.addNode(e.id)}),n.forEach(function(e){h.addLink(e.from,e.to)});var d=(0,b.default)(h);d.graph=h;for(var f=0;f<this.warmupTicks;f++)d.step();var m=0,g=new Date,y=function(){(m++>e.cooldownTicks||new Date-g>e.cooldownTime)&&(e.onFrame=null),d.step(),e.graphData.nodes.forEach(function(e){var t=e.__sphere;if(t){var n=d.getNodePosition(e.id);t.position.x=n.x,t.position.y=n.y||0,t.position.z=n.z||0}}),m<40||n.forEach(function(e){var t=e.__line;if(t){var n=d.getLinkPosition(d.graph.getLink(e.from,e.to).id),r=n.from,i=n.to,o=t.geometry.attributes.position;o.array[0]=r.x,o.array[1]=r.y||0,o.array[2]=r.z||0,o.array[3]=i.x,o.array[4]=i.y||0,o.array[5]=i.z||0,o.needsUpdate=!0,t.geometry.computeBoundingSphere()}})};this.onFrame=y}}},{key:"destory",value:function(){this.raycaster=null,this.secen=null,this.renderer=null,this.camera=null}},{key:"__resizeCanvas",value:function(){this.width&&this.height&&(this.renderer.setSize(this.width,this.height),this.camera.aspect=this.width/this.height,this.camera.updateProjectionMatrix())}}]),e}();t.default=T},function(e,t,n){"use strict";function r(){}function i(e,t){this.x=e||0,this.y=t||0}function o(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function a(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==r?r:1}function s(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function u(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function c(e,t,n,r,o,a,s,l,h,d){Object.defineProperty(this,"id",{value:Os++}),this.uuid=Is.generateUUID(),this.name="",this.image=void 0!==e?e:c.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:c.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:Ca,this.wrapT=void 0!==r?r:Ca,this.magFilter=void 0!==o?o:Ia,this.minFilter=void 0!==a?a:Na,this.anisotropy=void 0!==h?h:1,this.format=void 0!==s?s:Za,this.type=void 0!==l?l:ka,this.offset=new i(0,0),this.repeat=new i(1,1),this.center=new i(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new u,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==d?d:ws,this.version=0,this.onUpdate=null}function l(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==r?r:1}function h(e,t,n){this.uuid=Is.generateUUID(),this.width=e,this.height=t,this.scissor=new l(0,0,e,t),this.scissorTest=!1,this.viewport=new l(0,0,e,t),n=n||{},void 0===n.minFilter&&(n.minFilter=Ia),this.texture=new c(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function d(e,t,n){h.call(this,e,t,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function f(e,t,n,r,i,o,a,s,u,l,h,d){c.call(this,null,o,a,s,u,l,r,i,h,d),this.image={data:e,width:t,height:n},this.magFilter=void 0!==u?u:Pa,this.minFilter=void 0!==l?l:Pa,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function p(e,t,n,r,i,o,a,s,u,l){e=void 0!==e?e:[],t=void 0!==t?t:ba,c.call(this,e,t,n,r,i,o,a,s,u,l),this.flipY=!1}function m(){this.seq=[],this.map={}}function g(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,o=Ds[i];if(void 0===o&&(o=new Float32Array(i),Ds[i]=o),0!==t){r.toArray(o,0);for(var a=1,s=0;a!==t;++a)s+=n,e[a].toArray(o,s)}return o}function v(e,t){var n=Us[t];void 0===n&&(n=new Int32Array(t),Us[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocTextureUnit();return n}function y(e,t){e.uniform1f(this.addr,t)}function b(e,t){e.uniform1i(this.addr,t)}function x(e,t){void 0===t.x?e.uniform2fv(this.addr,t):e.uniform2f(this.addr,t.x,t.y)}function _(e,t){void 0!==t.x?e.uniform3f(this.addr,t.x,t.y,t.z):void 0!==t.r?e.uniform3f(this.addr,t.r,t.g,t.b):e.uniform3fv(this.addr,t)}function w(e,t){void 0===t.x?e.uniform4fv(this.addr,t):e.uniform4f(this.addr,t.x,t.y,t.z,t.w)}function E(e,t){e.uniformMatrix2fv(this.addr,!1,t.elements||t)}function M(e,t){void 0===t.elements?e.uniformMatrix3fv(this.addr,!1,t):(Bs.set(t.elements),e.uniformMatrix3fv(this.addr,!1,Bs))}function T(e,t){void 0===t.elements?e.uniformMatrix4fv(this.addr,!1,t):(Fs.set(t.elements),e.uniformMatrix4fv(this.addr,!1,Fs))}function S(e,t,n){var r=n.allocTextureUnit();e.uniform1i(this.addr,r),n.setTexture2D(t||Ns,r)}function C(e,t,n){var r=n.allocTextureUnit();e.uniform1i(this.addr,r),n.setTextureCube(t||ks,r)}function A(e,t){e.uniform2iv(this.addr,t)}function P(e,t){e.uniform3iv(this.addr,t)}function R(e,t){e.uniform4iv(this.addr,t)}function L(e){switch(e){case 5126:return y;case 35664:return x;case 35665:return _;case 35666:return w;case 35674:return E;case 35675:return M;case 35676:return T;case 35678:case 36198:return S;case 35680:return C;case 5124:case 35670:return b;case 35667:case 35671:return A;case 35668:case 35672:return P;case 35669:case 35673:return R}}function I(e,t){e.uniform1fv(this.addr,t)}function O(e,t){e.uniform1iv(this.addr,t)}function N(e,t){e.uniform2fv(this.addr,g(t,this.size,2))}function k(e,t){e.uniform3fv(this.addr,g(t,this.size,3))}function D(e,t){e.uniform4fv(this.addr,g(t,this.size,4))}function U(e,t){e.uniformMatrix2fv(this.addr,!1,g(t,this.size,4))}function F(e,t){e.uniformMatrix3fv(this.addr,!1,g(t,this.size,9))}function B(e,t){e.uniformMatrix4fv(this.addr,!1,g(t,this.size,16))}function z(e,t,n){var r=t.length,i=v(n,r);e.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTexture2D(t[o]||Ns,i[o])}function H(e,t,n){var r=t.length,i=v(n,r);e.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTextureCube(t[o]||ks,i[o])}function q(e){switch(e){case 5126:return I;case 35664:return N;case 35665:return k;case 35666:return D;case 35674:return U;case 35675:return F;case 35676:return B;case 35678:return z;case 35680:return H;case 5124:case 35670:return O;case 35667:case 35671:return A;case 35668:case 35672:return P;case 35669:case 35673:return R}}function j(e,t,n){this.id=e,this.addr=n,this.setValue=L(t.type)}function G(e,t,n){this.id=e,this.addr=n,this.size=t.size,this.setValue=q(t.type)}function V(e){this.id=e,m.call(this)}function W(e,t){e.seq.push(t),e.map[t.id]=t}function X(e,t,n){var r=e.name,i=r.length;for(zs.lastIndex=0;;){var o=zs.exec(r),a=zs.lastIndex,s=o[1],u="]"===o[2],c=o[3];if(u&&(s|=0),void 0===c||"["===c&&a+2===i){W(n,void 0===c?new j(s,e,t):new G(s,e,t));break}var l=n.map,h=l[s];void 0===h&&(h=new V(s),W(n,h)),n=h}}function Y(e,t,n){m.call(this),this.renderer=n;for(var r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<r;++i){var o=e.getActiveUniform(t,i),a=o.name;X(o,e.getUniformLocation(t,a),this)}}function Z(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}function K(e,t){this.min=void 0!==e?e:new i(1/0,1/0),this.max=void 0!==t?t:new i(-1/0,-1/0)}function Q(e,t,n,r,o){function a(){var e=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),r=new Uint16Array([0,1,2,0,2,3]);c=t.createBuffer(),l=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,c),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,l),t.bufferData(t.ELEMENT_ARRAY_BUFFER,r,t.STATIC_DRAW),m=t.createTexture(),g=t.createTexture(),n.bindTexture(t.TEXTURE_2D,m),t.texImage2D(t.TEXTURE_2D,0,t.RGB,16,16,0,t.RGB,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),n.bindTexture(t.TEXTURE_2D,g),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,16,16,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),h={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","\tvUV = uv;","\tvec2 pos = position;","\tif ( renderType == 2 ) {","\t\tvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","\t\tvVisibility =        visibility.r / 9.0;","\t\tvVisibility *= 1.0 - visibility.g / 9.0;","\t\tvVisibility *=       visibility.b / 9.0;","\t\tvVisibility *= 1.0 - visibility.a / 9.0;","\t\tpos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","\t\tpos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","\t}","\tgl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","\tif ( renderType == 0 ) {","\t\tgl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","\t} else if ( renderType == 1 ) {","\t\tgl_FragColor = texture2D( map, vUV );","\t} else {","\t\tvec4 texture = texture2D( map, vUV );","\t\ttexture.a *= opacity * vVisibility;","\t\tgl_FragColor = texture;","\t\tgl_FragColor.rgb *= color;","\t}","}"].join("\n")},d=u(h),f={vertex:t.getAttribLocation(d,"position"),uv:t.getAttribLocation(d,"uv")},p={renderType:t.getUniformLocation(d,"renderType"),map:t.getUniformLocation(d,"map"),occlusionMap:t.getUniformLocation(d,"occlusionMap"),opacity:t.getUniformLocation(d,"opacity"),color:t.getUniformLocation(d,"color"),scale:t.getUniformLocation(d,"scale"),rotation:t.getUniformLocation(d,"rotation"),screenPosition:t.getUniformLocation(d,"screenPosition")}}function u(e){var n=t.createProgram(),r=t.createShader(t.FRAGMENT_SHADER),i=t.createShader(t.VERTEX_SHADER),a="precision "+o.precision+" float;\n";return t.shaderSource(r,a+e.fragmentShader),t.shaderSource(i,a+e.vertexShader),t.compileShader(r),t.compileShader(i),t.attachShader(n,r),t.attachShader(n,i),t.linkProgram(n),n}var c,l,h,d,f,p,m,g;this.render=function(e,o,u,h){if(0!==e.length){var v=new s,y=h.w/h.z,b=.5*h.z,x=.5*h.w,_=16/h.w,w=new i(_*y,_),E=new s(1,1,0),M=new i(1,1),T=new K;T.min.set(h.x,h.y),T.max.set(h.x+(h.z-16),h.y+(h.w-16)),void 0===d&&a(),n.useProgram(d),n.initAttributes(),n.enableAttribute(f.vertex),n.enableAttribute(f.uv),n.disableUnusedAttributes(),t.uniform1i(p.occlusionMap,0),t.uniform1i(p.map,1),t.bindBuffer(t.ARRAY_BUFFER,c),t.vertexAttribPointer(f.vertex,2,t.FLOAT,!1,16,0),t.vertexAttribPointer(f.uv,2,t.FLOAT,!1,16,8),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,l),n.disable(t.CULL_FACE),n.buffers.depth.setMask(!1);for(var S=0,C=e.length;S<C;S++){_=16/h.w,w.set(_*y,_);var A=e[S];if(v.set(A.matrixWorld.elements[12],A.matrixWorld.elements[13],A.matrixWorld.elements[14]),v.applyMatrix4(u.matrixWorldInverse),v.applyMatrix4(u.projectionMatrix),E.copy(v),M.x=h.x+E.x*b+b-8,M.y=h.y+E.y*x+x-8,!0===T.containsPoint(M)){n.activeTexture(t.TEXTURE0),n.bindTexture(t.TEXTURE_2D,null),n.activeTexture(t.TEXTURE1),n.bindTexture(t.TEXTURE_2D,m),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGB,M.x,M.y,16,16,0),t.uniform1i(p.renderType,0),t.uniform2f(p.scale,w.x,w.y),t.uniform3f(p.screenPosition,E.x,E.y,E.z),n.disable(t.BLEND),n.enable(t.DEPTH_TEST),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),n.activeTexture(t.TEXTURE0),n.bindTexture(t.TEXTURE_2D,g),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGBA,M.x,M.y,16,16,0),t.uniform1i(p.renderType,1),n.disable(t.DEPTH_TEST),n.activeTexture(t.TEXTURE1),n.bindTexture(t.TEXTURE_2D,m),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),A.positionScreen.copy(E),A.customUpdateCallback?A.customUpdateCallback(A):A.updateLensFlares(),t.uniform1i(p.renderType,2),n.enable(t.BLEND);for(var P=0,R=A.lensFlares.length;P<R;P++){var L=A.lensFlares[P];L.opacity>.001&&L.scale>.001&&(E.x=L.x,E.y=L.y,E.z=L.z,_=L.size*L.scale/h.w,w.x=_*y,w.y=_,t.uniform3f(p.screenPosition,E.x,E.y,E.z),t.uniform2f(p.scale,w.x,w.y),t.uniform1f(p.rotation,L.rotation),t.uniform1f(p.opacity,L.opacity),t.uniform3f(p.color,L.color.r,L.color.g,L.color.b),n.setBlending(L.blending,L.blendEquation,L.blendSrc,L.blendDst),r.setTexture2D(L.texture,1),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0))}}}n.enable(t.CULL_FACE),n.enable(t.DEPTH_TEST),n.buffers.depth.setMask(!0),n.reset()}}}function J(e,t,n,r,i,o,a,s,u){c.call(this,e,t,n,r,i,o,a,s,u),this.needsUpdate=!0}function $(e,t,n,r,i){function o(){var e=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),n=new Uint16Array([0,1,2,0,2,3]);l=t.createBuffer(),h=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,l),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,h),t.bufferData(t.ELEMENT_ARRAY_BUFFER,n,t.STATIC_DRAW),d=u(),f={position:t.getAttribLocation(d,"position"),uv:t.getAttribLocation(d,"uv")},p={uvOffset:t.getUniformLocation(d,"uvOffset"),uvScale:t.getUniformLocation(d,"uvScale"),rotation:t.getUniformLocation(d,"rotation"),scale:t.getUniformLocation(d,"scale"),color:t.getUniformLocation(d,"color"),map:t.getUniformLocation(d,"map"),opacity:t.getUniformLocation(d,"opacity"),modelViewMatrix:t.getUniformLocation(d,"modelViewMatrix"),projectionMatrix:t.getUniformLocation(d,"projectionMatrix"),fogType:t.getUniformLocation(d,"fogType"),fogDensity:t.getUniformLocation(d,"fogDensity"),fogNear:t.getUniformLocation(d,"fogNear"),fogFar:t.getUniformLocation(d,"fogFar"),fogColor:t.getUniformLocation(d,"fogColor"),fogDepth:t.getUniformLocation(d,"fogDepth"),alphaTest:t.getUniformLocation(d,"alphaTest")};var r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");r.width=8,r.height=8;var i=r.getContext("2d");i.fillStyle="white",i.fillRect(0,0,8,8),m=new J(r)}function u(){var e=t.createProgram(),n=t.createShader(t.VERTEX_SHADER),r=t.createShader(t.FRAGMENT_SHADER);return t.shaderSource(n,["precision "+i.precision+" float;","#define SHADER_NAME SpriteMaterial","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float fogDepth;","void main() {","\tvUV = uvOffset + uv * uvScale;","\tvec2 alignedPosition = position * scale;","\tvec2 rotatedPosition;","\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","\tvec4 mvPosition;","\tmvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","\tmvPosition.xy += rotatedPosition;","\tgl_Position = projectionMatrix * mvPosition;","\tfogDepth = - mvPosition.z;","}"].join("\n")),t.shaderSource(r,["precision "+i.precision+" float;","#define SHADER_NAME SpriteMaterial","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","varying float fogDepth;","void main() {","\tvec4 texture = texture2D( map, vUV );","\tgl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","\tif ( gl_FragColor.a < alphaTest ) discard;","\tif ( fogType > 0 ) {","\t\tfloat fogFactor = 0.0;","\t\tif ( fogType == 1 ) {","\t\t\tfogFactor = smoothstep( fogNear, fogFar, fogDepth );","\t\t} else {","\t\t\tconst float LOG2 = 1.442695;","\t\t\tfogFactor = exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 );","\t\t\tfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","\t\t}","\t\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );","\t}","}"].join("\n")),t.compileShader(n),t.compileShader(r),t.attachShader(e,n),t.attachShader(e,r),t.linkProgram(e),e}function c(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:t.id-e.id}var l,h,d,f,p,m,g=new s,v=new a,y=new s;this.render=function(i,a,s){if(0!==i.length){void 0===d&&o(),n.useProgram(d),n.initAttributes(),n.enableAttribute(f.position),n.enableAttribute(f.uv),n.disableUnusedAttributes(),n.disable(t.CULL_FACE),n.enable(t.BLEND),t.bindBuffer(t.ARRAY_BUFFER,l),t.vertexAttribPointer(f.position,2,t.FLOAT,!1,16,0),t.vertexAttribPointer(f.uv,2,t.FLOAT,!1,16,8),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,h),t.uniformMatrix4fv(p.projectionMatrix,!1,s.projectionMatrix.elements),n.activeTexture(t.TEXTURE0),t.uniform1i(p.map,0);var u=0,b=0,x=a.fog;x?(t.uniform3f(p.fogColor,x.color.r,x.color.g,x.color.b),x.isFog?(t.uniform1f(p.fogNear,x.near),t.uniform1f(p.fogFar,x.far),t.uniform1i(p.fogType,1),u=1,b=1):x.isFogExp2&&(t.uniform1f(p.fogDensity,x.density),t.uniform1i(p.fogType,2),u=2,b=2)):(t.uniform1i(p.fogType,0),u=0,b=0);for(var _=0,w=i.length;_<w;_++){var E=i[_];E.modelViewMatrix.multiplyMatrices(s.matrixWorldInverse,E.matrixWorld),E.z=-E.modelViewMatrix.elements[14]}i.sort(c);for(var M=[],_=0,w=i.length;_<w;_++){var E=i[_],T=E.material;if(!1!==T.visible){E.onBeforeRender(e,a,s,void 0,T,void 0),t.uniform1f(p.alphaTest,T.alphaTest),t.uniformMatrix4fv(p.modelViewMatrix,!1,E.modelViewMatrix.elements),E.matrixWorld.decompose(g,v,y),M[0]=y.x,M[1]=y.y;var S=0;a.fog&&T.fog&&(S=b),u!==S&&(t.uniform1i(p.fogType,S),u=S),null!==T.map?(t.uniform2f(p.uvOffset,T.map.offset.x,T.map.offset.y),t.uniform2f(p.uvScale,T.map.repeat.x,T.map.repeat.y)):(t.uniform2f(p.uvOffset,0,0),t.uniform2f(p.uvScale,1,1)),t.uniform1f(p.opacity,T.opacity),t.uniform3f(p.color,T.color.r,T.color.g,T.color.b),t.uniform1f(p.rotation,T.rotation),t.uniform2fv(p.scale,M),n.setBlending(T.blending,T.blendEquation,T.blendSrc,T.blendDst,T.blendEquationAlpha,T.blendSrcAlpha,T.blendDstAlpha,T.premultipliedAlpha),n.buffers.depth.setTest(T.depthTest),n.buffers.depth.setMask(T.depthWrite),n.buffers.color.setMask(T.colorWrite),r.setTexture2D(T.map||m,0),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),E.onAfterRender(e,a,s,void 0,T,void 0)}}n.enable(t.CULL_FACE),n.reset()}}}function ee(){Object.defineProperty(this,"id",{value:Ws++}),this.uuid=Is.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=ko,this.side=So,this.flatShading=!1,this.vertexColors=Lo,this.opacity=1,this.transparent=!1,this.blendSrc=Zo,this.blendDst=Ko,this.blendEquation=zo,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=oa,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this.userData={},this.needsUpdate=!0}function te(e){ee.call(this),this.type="MeshDepthMaterial",this.depthPacking=Rs,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(e)}function ne(e){ee.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new s,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(e)}function re(e,t){this.min=void 0!==e?e:new s(1/0,1/0,1/0),this.max=void 0!==t?t:new s(-1/0,-1/0,-1/0)}function ie(e,t){this.center=void 0!==e?e:new s,this.radius=void 0!==t?t:0}function oe(e,t){this.normal=void 0!==e?e:new s(1,0,0),this.constant=void 0!==t?t:0}function ae(e,t,n,r,i,o){this.planes=[void 0!==e?e:new oe,void 0!==t?t:new oe,void 0!==n?n:new oe,void 0!==r?r:new oe,void 0!==i?i:new oe,void 0!==o?o:new oe]}function se(e,t,n){function r(t,n,r,i,o,a){var s=t.geometry,u=null,c=b,l=t.customDepthMaterial;if(r&&(c=x,l=t.customDistanceMaterial),l)u=l;else{var h=!1;n.morphTargets&&(s&&s.isBufferGeometry?h=s.morphAttributes&&s.morphAttributes.position&&s.morphAttributes.position.length>0:s&&s.isGeometry&&(h=s.morphTargets&&s.morphTargets.length>0)),t.isSkinnedMesh&&!1===n.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t);var d=t.isSkinnedMesh&&n.skinning,f=0;h&&(f|=g),d&&(f|=v),u=c[f]}if(e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var p=u.uuid,m=n.uuid,y=_[p];void 0===y&&(y={},_[p]=y);var w=y[m];void 0===w&&(w=u.clone(),y[m]=w),u=w}u.visible=n.visible,u.wireframe=n.wireframe;var E=n.side;return R.renderSingleSided&&E==Ao&&(E=So),R.renderReverseSided&&(E===So?E=Co:E===Co&&(E=So)),u.side=E,u.clipShadows=n.clipShadows,u.clippingPlanes=n.clippingPlanes,u.clipIntersection=n.clipIntersection,u.wireframeLinewidth=n.wireframeLinewidth,u.linewidth=n.linewidth,r&&u.isMeshDistanceMaterial&&(u.referencePosition.copy(i),u.nearDistance=o,u.farDistance=a),u}function a(n,i,o,s){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&n.castShadow&&(!n.frustumCulled||u.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);var c=t.update(n),l=n.material;if(Array.isArray(l))for(var h=c.groups,d=0,f=h.length;d<f;d++){var p=h[d],g=l[p.materialIndex];if(g&&g.visible){var v=r(n,g,s,m,o.near,o.far);e.renderBufferDirect(o,null,c,v,n,p)}}else if(l.visible){var v=r(n,l,s,m,o.near,o.far);e.renderBufferDirect(o,null,c,v,n,null)}}for(var y=n.children,b=0,x=y.length;b<x;b++)a(y[b],i,o,s)}}for(var u=new ae,c=new o,d=new i,f=new i(n,n),p=new s,m=new s,g=1,v=2,y=1+(g|v),b=new Array(y),x=new Array(y),_={},w=[new s(1,0,0),new s(-1,0,0),new s(0,0,1),new s(0,0,-1),new s(0,1,0),new s(0,-1,0)],E=[new s(0,1,0),new s(0,1,0),new s(0,1,0),new s(0,1,0),new s(0,0,1),new s(0,0,-1)],M=[new l,new l,new l,new l,new l,new l],T=0;T!==y;++T){var S=0!=(T&g),C=0!=(T&v),A=new te({depthPacking:Ls,morphTargets:S,skinning:C});b[T]=A;var P=new ne({morphTargets:S,skinning:C});x[T]=P}var R=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Mo,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function(t,n,r){if(!1!==R.enabled&&(!1!==R.autoUpdate||!1!==R.needsUpdate)&&0!==t.length){var i=e.context,o=e.state;o.disable(i.BLEND),o.buffers.color.setClear(1,1,1,1),o.buffers.depth.setTest(!0),o.setScissorTest(!1);for(var s,l=0,g=t.length;l<g;l++){var v=t[l],y=v.shadow,b=v&&v.isPointLight;if(void 0!==y){var x=y.camera;if(d.copy(y.mapSize),d.min(f),b){var _=d.x,T=d.y;M[0].set(2*_,T,_,T),M[1].set(0,T,_,T),M[2].set(3*_,T,_,T),M[3].set(_,T,_,T),M[4].set(3*_,0,_,T),M[5].set(_,0,_,T),d.x*=4,d.y*=2}if(null===y.map){var S={minFilter:Pa,magFilter:Pa,format:Za};y.map=new h(d.x,d.y,S),y.map.texture.name=v.name+".shadowMap",x.updateProjectionMatrix()}y.isSpotLightShadow&&y.update(v);var C=y.map,A=y.matrix;m.setFromMatrixPosition(v.matrixWorld),x.position.copy(m),b?(s=6,A.makeTranslation(-m.x,-m.y,-m.z)):(s=1,p.setFromMatrixPosition(v.target.matrixWorld),x.lookAt(p),x.updateMatrixWorld(),A.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),A.multiply(x.projectionMatrix),A.multiply(x.matrixWorldInverse)),e.setRenderTarget(C),e.clear();for(var P=0;P<s;P++){if(b){p.copy(x.position),p.add(w[P]),x.up.copy(E[P]),x.lookAt(p),x.updateMatrixWorld();var L=M[P];o.viewport(L)}c.multiplyMatrices(x.projectionMatrix,x.matrixWorldInverse),u.setFromMatrix(c),a(n,r,x,b)}}else console.warn("THREE.WebGLShadowMap:",v,"has no shadow.")}R.needsUpdate=!1}}}function ue(e){function t(t,n){var r=t.array,i=t.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW,o=e.createBuffer();e.bindBuffer(n,o),e.bufferData(n,r,i),t.onUploadCallback();var a=e.FLOAT;return r instanceof Float32Array?a=e.FLOAT:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?a=e.UNSIGNED_SHORT:r instanceof Int16Array?a=e.SHORT:r instanceof Uint32Array?a=e.UNSIGNED_INT:r instanceof Int32Array?a=e.INT:r instanceof Int8Array?a=e.BYTE:r instanceof Uint8Array&&(a=e.UNSIGNED_BYTE),{buffer:o,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}function n(t,n,r){var i=n.array,o=n.updateRange;e.bindBuffer(r,t),!1===n.dynamic?e.bufferData(r,i,e.STATIC_DRAW):-1===o.count?e.bufferSubData(r,0,i):0===o.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(e.bufferSubData(r,o.offset*i.BYTES_PER_ELEMENT,i.subarray(o.offset,o.offset+o.count)),o.count=-1)}function r(e){return e.isInterleavedBufferAttribute&&(e=e.data),a[e.uuid]}function i(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=a[t.uuid];n&&(e.deleteBuffer(n.buffer),delete a[t.uuid])}function o(e,r){e.isInterleavedBufferAttribute&&(e=e.data);var i=a[e.uuid];void 0===i?a[e.uuid]=t(e,r):i.version<e.version&&(n(i.buffer,e,r),i.version=e.version)}var a={};return{get:r,remove:i,update:o}}function ce(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._order=r||ce.DefaultOrder}function le(){this.mask=1}function he(){function e(){i.setFromEuler(r,!1)}function t(){r.setFromQuaternion(i,void 0,!1)}Object.defineProperty(this,"id",{value:Xs++}),this.uuid=Is.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=he.DefaultUp.clone();var n=new s,r=new ce,i=new a,c=new s(1,1,1);r.onChange(e),i.onChange(t),Object.defineProperties(this,{position:{enumerable:!0,value:n},rotation:{enumerable:!0,value:r},quaternion:{enumerable:!0,value:i},scale:{enumerable:!0,value:c},modelViewMatrix:{value:new o},normalMatrix:{value:new u}}),this.matrix=new o,this.matrixWorld=new o,this.matrixAutoUpdate=he.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new le,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function de(){he.call(this),this.type="Camera",this.matrixWorldInverse=new o,this.projectionMatrix=new o}function fe(e,t,n,r,i,o){de.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function pe(e,t,n,r,i,o){this.a=e,this.b=t,this.c=n,this.normal=r&&r.isVector3?r:new s,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new Z,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}function me(){Object.defineProperty(this,"id",{value:Ys+=2}),this.uuid=Is.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function ge(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=Is.generateUUID(),this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function ve(e,t,n){ge.call(this,new Int8Array(e),t,n)}function ye(e,t,n){ge.call(this,new Uint8Array(e),t,n)}function be(e,t,n){ge.call(this,new Uint8ClampedArray(e),t,n)}function xe(e,t,n){ge.call(this,new Int16Array(e),t,n)}function _e(e,t,n){ge.call(this,new Uint16Array(e),t,n)}function we(e,t,n){ge.call(this,new Int32Array(e),t,n)}function Ee(e,t,n){ge.call(this,new Uint32Array(e),t,n)}function Me(e,t,n){ge.call(this,new Float32Array(e),t,n)}function Te(e,t,n){ge.call(this,new Float64Array(e),t,n)}function Se(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Ce(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}function Ae(){Object.defineProperty(this,"id",{value:Zs+=2}),this.uuid=Is.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}function Pe(e,t,n,r,i,o){me.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new Re(e,t,n,r,i,o)),this.mergeVertices()}function Re(e,t,n,r,i,o){function a(e,t,n,r,i,o,a,m,g,v,y){var b,x,_=o/g,w=a/v,E=o/2,M=a/2,T=m/2,S=g+1,C=v+1,A=0,P=0,R=new s;for(x=0;x<C;x++){var L=x*w-M;for(b=0;b<S;b++){var I=b*_-E;R[e]=I*r,R[t]=L*i,R[n]=T,l.push(R.x,R.y,R.z),R[e]=0,R[t]=0,R[n]=m>0?1:-1,h.push(R.x,R.y,R.z),d.push(b/g),d.push(1-x/v),A+=1}}for(x=0;x<v;x++)for(b=0;b<g;b++){var O=f+b+S*x,N=f+b+S*(x+1),k=f+(b+1)+S*(x+1),D=f+(b+1)+S*x;c.push(O,N,D),c.push(N,k,D),P+=6}u.addGroup(p,P,y),p+=P,f+=A}Ae.call(this),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};var u=this;e=e||1,t=t||1,n=n||1,r=Math.floor(r)||1,i=Math.floor(i)||1,o=Math.floor(o)||1;var c=[],l=[],h=[],d=[],f=0,p=0;a("z","y","x",-1,-1,n,t,e,o,i,0),a("z","y","x",1,-1,n,t,-e,o,i,1),a("x","z","y",1,1,e,n,t,r,o,2),a("x","z","y",1,-1,e,n,-t,r,o,3),a("x","y","z",1,-1,e,t,n,r,i,4),a("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(c),this.addAttribute("position",new Me(l,3)),this.addAttribute("normal",new Me(h,3)),this.addAttribute("uv",new Me(d,2))}function Le(e,t,n,r){me.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new Ie(e,t,n,r)),this.mergeVertices()}function Ie(e,t,n,r){Ae.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},e=e||1,t=t||1;var i,o,a=e/2,s=t/2,u=Math.floor(n)||1,c=Math.floor(r)||1,l=u+1,h=c+1,d=e/u,f=t/c,p=[],m=[],g=[],v=[];for(o=0;o<h;o++){var y=o*f-s;for(i=0;i<l;i++){var b=i*d-a;m.push(b,-y,0),g.push(0,0,1),v.push(i/u),v.push(1-o/c)}}for(o=0;o<c;o++)for(i=0;i<u;i++){var x=i+l*o,_=i+l*(o+1),w=i+1+l*(o+1),E=i+1+l*o;p.push(x,_,E),p.push(_,w,E)}this.setIndex(p),this.addAttribute("position",new Me(m,3)),this.addAttribute("normal",new Me(g,3)),this.addAttribute("uv",new Me(v,2))}function Oe(e){ee.call(this),this.type="MeshBasicMaterial",this.color=new Z(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=la,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function Ne(e){ee.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function ke(e,t){this.origin=void 0!==e?e:new s,this.direction=void 0!==t?t:new s}function De(e,t){this.start=void 0!==e?e:new s,this.end=void 0!==t?t:new s}function Ue(e,t,n){this.a=void 0!==e?e:new s,this.b=void 0!==t?t:new s,this.c=void 0!==n?n:new s}function Fe(e,t){he.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new Ae,this.material=void 0!==t?t:new Oe({color:16777215*Math.random()}),this.drawMode=bs,this.updateMorphTargets()}function Be(e,t,n,r){function i(t,r,i,h){var d=r.background;null===d?o(c,l):d&&d.isColor&&(o(d,1),h=!0),(e.autoClear||h)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),d&&d.isCubeTexture?(void 0===u&&(u=new Fe(new Re(1,1,1),new Ne({uniforms:Vs.cube.uniforms,vertexShader:Vs.cube.vertexShader,fragmentShader:Vs.cube.fragmentShader,side:Co,depthTest:!0,depthWrite:!1,fog:!1})),u.geometry.removeAttribute("normal"),u.geometry.removeAttribute("uv"),u.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},n.update(u.geometry)),u.material.uniforms.tCube.value=d,t.push(u,u.geometry,u.material,0,null)):d&&d.isTexture&&(void 0===a&&(a=new fe(-1,1,1,-1,0,1),s=new Fe(new Ie(2,2),new Oe({depthTest:!1,depthWrite:!1,fog:!1})),n.update(s.geometry)),s.material.map=d,e.renderBufferDirect(a,null,s.geometry,s.material,s,null))}function o(e,n){t.buffers.color.setClear(e.r,e.g,e.b,n,r)}var a,s,u,c=new Z(0),l=0;return{getClearColor:function(){return c},setClearColor:function(e,t){c.set(e),l=void 0!==t?t:1,o(c,l)},getClearAlpha:function(){return l},setClearAlpha:function(e){l=e,o(c,l)},render:i}}function ze(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program&&t.program&&e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function He(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function qe(){function e(){i=0,o.length=0,a.length=0}function t(e,t,n,s,u){var c=r[i];void 0===c?(c={id:e.id,object:e,geometry:t,material:n,program:n.program,renderOrder:e.renderOrder,z:s,group:u},r[i]=c):(c.id=e.id,c.object=e,c.geometry=t,c.material=n,c.program=n.program,c.renderOrder=e.renderOrder,c.z=s,c.group=u),(!0===n.transparent?a:o).push(c),i++}function n(){o.length>1&&o.sort(ze),a.length>1&&a.sort(He)}var r=[],i=0,o=[],a=[];return{opaque:o,transparent:a,init:e,push:t,sort:n}}function je(){function e(e,t){var r=e.id+","+t.id,i=n[r];return void 0===i&&(i=new qe,n[r]=i),i}function t(){n={}}var n={};return{get:e,dispose:t}}function Ge(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Ve(e){function t(t,i,o,a){var s=t.morphTargetInfluences,u=s.length,c=n[i.id];if(void 0===c){c=[];for(var l=0;l<u;l++)c[l]=[l,0];n[i.id]=c}for(var h=o.morphTargets&&i.morphAttributes.position,d=o.morphNormals&&i.morphAttributes.normal,l=0;l<u;l++){var f=c[l];0!==f[1]&&(h&&i.removeAttribute("morphTarget"+l),d&&i.removeAttribute("morphNormal"+l))}for(var l=0;l<u;l++){var f=c[l];f[0]=l,f[1]=s[l]}c.sort(Ge);for(var l=0;l<8;l++){var f=c[l];if(f){var p=f[0],m=f[1];if(m){h&&i.addAttribute("morphTarget"+l,h[p]),d&&i.addAttribute("morphNormal"+l,d[p]),r[l]=m;continue}}r[l]=0}a.getUniforms().setValue(e,"morphTargetInfluences",r)}var n={},r=new Float32Array(8);return{update:t}}function We(e,t,n){function r(e){s=e}function i(e){u=e.type,c=e.bytesPerElement}function o(t,r){e.drawElements(s,r,u,t*c),n.calls++,n.vertices+=r,s===e.TRIANGLES?n.faces+=r/3:s===e.POINTS&&(n.points+=r)}function a(r,i,o){var a=t.get("ANGLE_instanced_arrays");if(null===a)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");a.drawElementsInstancedANGLE(s,o,u,i*c,r.maxInstancedCount),n.calls++,n.vertices+=o*r.maxInstancedCount,s===e.TRIANGLES?n.faces+=r.maxInstancedCount*o/3:s===e.POINTS&&(n.points+=r.maxInstancedCount*o)}var s,u,c;this.setMode=r,this.setIndex=i,this.render=o,this.renderInstances=a}function Xe(e,t,n){function r(e){a=e}function i(t,r){e.drawArrays(a,t,r),n.calls++,n.vertices+=r,a===e.TRIANGLES?n.faces+=r/3:a===e.POINTS&&(n.points+=r)}function o(r,i,o){var s=t.get("ANGLE_instanced_arrays");if(null===s)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");var u=r.attributes.position;u.isInterleavedBufferAttribute?(o=u.data.count,s.drawArraysInstancedANGLE(a,0,o,r.maxInstancedCount)):s.drawArraysInstancedANGLE(a,i,o,r.maxInstancedCount),n.calls++,n.vertices+=o*r.maxInstancedCount,a===e.TRIANGLES?n.faces+=r.maxInstancedCount*o/3:a===e.POINTS&&(n.points+=r.maxInstancedCount*o)}var a;this.setMode=r,this.render=i,this.renderInstances=o}function Ye(e,t,n){function r(e){var i=e.target,o=s[i.id];null!==o.index&&t.remove(o.index);for(var a in o.attributes)t.remove(o.attributes[a]);i.removeEventListener("dispose",r),delete s[i.id];var c=u[i.id];c&&(t.remove(c),delete u[i.id]),c=u[o.id],c&&(t.remove(c),delete u[o.id]),n.geometries--}function i(e,t){var i=s[t.id];return i||(t.addEventListener("dispose",r),t.isBufferGeometry?i=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new Ae).setFromObject(e)),i=t._bufferGeometry),s[t.id]=i,n.geometries++,i)}function o(n){var r=n.index,i=n.attributes;null!==r&&t.update(r,e.ELEMENT_ARRAY_BUFFER);for(var o in i)t.update(i[o],e.ARRAY_BUFFER);var a=n.morphAttributes;for(var o in a)for(var s=a[o],u=0,c=s.length;u<c;u++)t.update(s[u],e.ARRAY_BUFFER)}function a(n){var r=u[n.id];if(r)return r;var i=[],o=n.index,a=n.attributes;if(null!==o)for(var s=o.array,c=0,l=s.length;c<l;c+=3){var h=s[c+0],d=s[c+1],f=s[c+2];i.push(h,d,d,f,f,h)}else for(var s=a.position.array,c=0,l=s.length/3-1;c<l;c+=3){var h=c+0,d=c+1,f=c+2;i.push(h,d,d,f,f,h)}return r=new(Ce(i)>65535?Ee:_e)(i,1),t.update(r,e.ELEMENT_ARRAY_BUFFER),u[n.id]=r,r}var s={},u={};return{get:i,update:o,getWireframeAttribute:a}}function Ze(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new s,color:new Z,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i};break;case"SpotLight":n={position:new s,direction:new s,color:new Z,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i};break;case"PointLight":n={position:new s,color:new Z,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new s,skyColor:new Z,groundColor:new Z};break;case"RectAreaLight":n={color:new Z,position:new s,halfWidth:new s,halfHeight:new s}}return e[t.id]=n,n}}}function Ke(){function e(e,o,s){for(var u=0,c=0,l=0,h=0,d=0,f=0,p=0,m=0,g=s.matrixWorldInverse,v=0,y=e.length;v<y;v++){var b=e[v],x=b.color,_=b.intensity,w=b.distance,E=b.shadow&&b.shadow.map?b.shadow.map.texture:null;if(b.isAmbientLight)u+=x.r*_,c+=x.g*_,l+=x.b*_;else if(b.isDirectionalLight){var M=t.get(b);if(M.color.copy(b.color).multiplyScalar(b.intensity),M.direction.setFromMatrixPosition(b.matrixWorld),r.setFromMatrixPosition(b.target.matrixWorld),M.direction.sub(r),M.direction.transformDirection(g),M.shadow=b.castShadow,b.castShadow){var T=b.shadow;M.shadowBias=T.bias,M.shadowRadius=T.radius,M.shadowMapSize=T.mapSize}n.directionalShadowMap[h]=E,n.directionalShadowMatrix[h]=b.shadow.matrix,n.directional[h]=M,h++}else if(b.isSpotLight){var M=t.get(b);if(M.position.setFromMatrixPosition(b.matrixWorld),M.position.applyMatrix4(g),M.color.copy(x).multiplyScalar(_),M.distance=w,M.direction.setFromMatrixPosition(b.matrixWorld),r.setFromMatrixPosition(b.target.matrixWorld),M.direction.sub(r),M.direction.transformDirection(g),M.coneCos=Math.cos(b.angle),M.penumbraCos=Math.cos(b.angle*(1-b.penumbra)),M.decay=0===b.distance?0:b.decay,M.shadow=b.castShadow,b.castShadow){var T=b.shadow;M.shadowBias=T.bias,M.shadowRadius=T.radius,M.shadowMapSize=T.mapSize}n.spotShadowMap[f]=E,n.spotShadowMatrix[f]=b.shadow.matrix,n.spot[f]=M,f++}else if(b.isRectAreaLight){var M=t.get(b);M.color.copy(x).multiplyScalar(_/(b.width*b.height)),M.position.setFromMatrixPosition(b.matrixWorld),M.position.applyMatrix4(g),a.identity(),i.copy(b.matrixWorld),i.premultiply(g),a.extractRotation(i),M.halfWidth.set(.5*b.width,0,0),M.halfHeight.set(0,.5*b.height,0),M.halfWidth.applyMatrix4(a),M.halfHeight.applyMatrix4(a),n.rectArea[p]=M,p++}else if(b.isPointLight){var M=t.get(b);if(M.position.setFromMatrixPosition(b.matrixWorld),M.position.applyMatrix4(g),M.color.copy(b.color).multiplyScalar(b.intensity),M.distance=b.distance,M.decay=0===b.distance?0:b.decay,M.shadow=b.castShadow,b.castShadow){var T=b.shadow;M.shadowBias=T.bias,M.shadowRadius=T.radius,M.shadowMapSize=T.mapSize,M.shadowCameraNear=T.camera.near,M.shadowCameraFar=T.camera.far}n.pointShadowMap[d]=E,n.pointShadowMatrix[d]=b.shadow.matrix,n.point[d]=M,d++}else if(b.isHemisphereLight){var M=t.get(b);M.direction.setFromMatrixPosition(b.matrixWorld),M.direction.transformDirection(g),M.direction.normalize(),M.skyColor.copy(b.color).multiplyScalar(_),M.groundColor.copy(b.groundColor).multiplyScalar(_),n.hemi[m]=M,m++}}n.ambient[0]=u,n.ambient[1]=c,n.ambient[2]=l,n.directional.length=h,n.spot.length=f,n.rectArea.length=p,n.point.length=d,n.hemi.length=m,n.hash=h+","+d+","+f+","+p+","+m+","+o.length}var t=new Ze,n={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},r=new s,i=new o,a=new o;return{setup:e,state:n}}function Qe(e,t){function n(n){var r=t.frame,o=n.geometry,a=e.get(n,o);return i[a.id]!==r&&(o.isGeometry&&a.updateFromObject(n),e.update(a),i[a.id]=r),a}function r(){i={}}var i={};return{update:n,clear:r}}function Je(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}function $e(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),!1===e.getShaderParameter(r,e.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==e.getShaderInfoLog(r)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",t===e.VERTEX_SHADER?"vertex":"fragment",e.getShaderInfoLog(r),Je(n)),r}function et(e){switch(e){case ws:return["Linear","( value )"];case Es:return["sRGB","( value )"];case Ts:return["RGBE","( value )"];case Cs:return["RGBM","( value, 7.0 )"];case As:return["RGBM","( value, 16.0 )"];case Ps:return["RGBD","( value, 256.0 )"];case Ms:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+e)}}function tt(e,t){var n=et(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function nt(e,t){var n=et(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function rt(e,t){var n;switch(t){case pa:n="Linear";break;case ma:n="Reinhard";break;case ga:n="Uncharted2";break;case va:n="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function it(e,t,n){return e=e||{},[e.derivatives||t.envMapCubeUV||t.bumpMap||t.normalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(st).join("\n")}function ot(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}function at(e,t){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var o=e.getActiveAttrib(t,i),a=o.name;n[a]=e.getAttribLocation(t,a)}return n}function st(e){return""!==e}function ut(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function ct(e){function t(e,t){var n=Gs[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return ct(n)}var n=/^[ \t]*#include +<([\w\d.]+)>/gm;return e.replace(n,t)}function lt(e){function t(e,t,n,r){for(var i="",o=parseInt(t);o<parseInt(n);o++)i+=r.replace(/\[ i \]/g,"[ "+o+" ]");return i}var n=/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;return e.replace(n,t)}function ht(e,t,n,r,i,o){var a=e.context,s=r.defines,u=i.vertexShader,c=i.fragmentShader,l="SHADOWMAP_TYPE_BASIC";o.shadowMapType===Mo?l="SHADOWMAP_TYPE_PCF":o.shadowMapType===To&&(l="SHADOWMAP_TYPE_PCF_SOFT");var h="ENVMAP_TYPE_CUBE",d="ENVMAP_MODE_REFLECTION",f="ENVMAP_BLENDING_MULTIPLY";if(o.envMap){switch(r.envMap.mapping){case ba:case xa:h="ENVMAP_TYPE_CUBE";break;case Ma:case Ta:h="ENVMAP_TYPE_CUBE_UV";break;case _a:case wa:h="ENVMAP_TYPE_EQUIREC";break;case Ea:h="ENVMAP_TYPE_SPHERE"}switch(r.envMap.mapping){case xa:case wa:d="ENVMAP_MODE_REFRACTION"}switch(r.combine){case la:f="ENVMAP_BLENDING_MULTIPLY";break;case ha:f="ENVMAP_BLENDING_MIX";break;case da:f="ENVMAP_BLENDING_ADD"}}var p,m,g=e.gammaFactor>0?e.gammaFactor:1,v=it(r.extensions,o,t),y=ot(s),b=a.createProgram();r.isRawShaderMaterial?(p=[y].filter(st).join("\n"),p.length>0&&(p+="\n"),m=[v,y].filter(st).join("\n"),m.length>0&&(m+="\n")):(p=["precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+i.name,y,o.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+g,"#define MAX_BONES "+o.maxBones,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+d:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.displacementMap&&o.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.flatShading?"#define FLAT_SHADED":"",o.skinning?"#define USE_SKINNING":"",o.useVertexTexture?"#define BONE_TEXTURE":"",o.morphTargets?"#define USE_MORPHTARGETS":"",o.morphNormals&&!1===o.flatShading?"#define USE_MORPHNORMALS":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+o.numClippingPlanes,o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+l:"",o.sizeAttenuation?"#define USE_SIZEATTENUATION":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&t.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(st).join("\n"),m=[v,"precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+i.name,y,o.alphaTest?"#define ALPHATEST "+o.alphaTest:"","#define GAMMA_FACTOR "+g,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+h:"",o.envMap?"#define "+d:"",o.envMap?"#define "+f:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.gradientMap?"#define USE_GRADIENTMAP":"",o.flatShading?"#define FLAT_SHADED":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+o.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(o.numClippingPlanes-o.numClipIntersection),o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+l:"",o.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",o.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&t.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",o.envMap&&t.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",o.toneMapping!==fa?"#define TONE_MAPPING":"",o.toneMapping!==fa?Gs.tonemapping_pars_fragment:"",o.toneMapping!==fa?rt("toneMapping",o.toneMapping):"",o.dithering?"#define DITHERING":"",o.outputEncoding||o.mapEncoding||o.envMapEncoding||o.emissiveMapEncoding?Gs.encodings_pars_fragment:"",o.mapEncoding?tt("mapTexelToLinear",o.mapEncoding):"",o.envMapEncoding?tt("envMapTexelToLinear",o.envMapEncoding):"",o.emissiveMapEncoding?tt("emissiveMapTexelToLinear",o.emissiveMapEncoding):"",o.outputEncoding?nt("linearToOutputTexel",o.outputEncoding):"",o.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(st).join("\n")),u=ct(u),u=ut(u,o),c=ct(c),c=ut(c,o),r.isShaderMaterial||(u=lt(u),c=lt(c));var x=p+u,_=m+c,w=$e(a,a.VERTEX_SHADER,x),E=$e(a,a.FRAGMENT_SHADER,_);a.attachShader(b,w),a.attachShader(b,E),void 0!==r.index0AttributeName?a.bindAttribLocation(b,0,r.index0AttributeName):!0===o.morphTargets&&a.bindAttribLocation(b,0,"position"),a.linkProgram(b);var M=a.getProgramInfoLog(b),T=a.getShaderInfoLog(w),S=a.getShaderInfoLog(E),C=!0,A=!0;!1===a.getProgramParameter(b,a.LINK_STATUS)?(C=!1,console.error("THREE.WebGLProgram: shader error: ",a.getError(),"gl.VALIDATE_STATUS",a.getProgramParameter(b,a.VALIDATE_STATUS),"gl.getProgramInfoLog",M,T,S)):""!==M?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",M):""!==T&&""!==S||(A=!1),A&&(this.diagnostics={runnable:C,material:r,programLog:M,vertexShader:{log:T,prefix:p},fragmentShader:{log:S,prefix:m}}),a.deleteShader(w),a.deleteShader(E);var P;this.getUniforms=function(){return void 0===P&&(P=new Y(a,b,e)),P};var R;return this.getAttributes=function(){return void 0===R&&(R=at(a,b)),R},this.destroy=function(){a.deleteProgram(b),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=Ks++,this.code=n,this.usedTimes=1,this.program=b,this.vertexShader=w,this.fragmentShader=E,this}function dt(e,t,n){function r(e){var t=e.skeleton,r=t.bones;if(n.floatVertexTextures)return 1024;var i=n.maxVertexUniforms,o=Math.floor((i-20)/4),a=Math.min(o,r.length);return a<r.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+r.length+" bones. This GPU supports "+a+"."),0):a}function i(e,t){var n;return e?e.isTexture?n=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=e.texture.encoding):n=ws,n===ws&&t&&(n=Ms),n}var o=[],a={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow"},s=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];this.getParameters=function(t,o,s,u,c,l,h){var d=a[t.type],f=h.isSkinnedMesh?r(h):0,p=n.precision;null!==t.precision&&(p=n.getMaxPrecision(t.precision))!==t.precision&&console.warn("THREE.WebGLProgram.getParameters:",t.precision,"not supported, using",p,"instead.");var m=e.getRenderTarget();return{shaderID:d,precision:p,supportsVertexTextures:n.vertexTextures,outputEncoding:i(m?m.texture:null,e.gammaOutput),map:!!t.map,mapEncoding:i(t.map,e.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:i(t.envMap,e.gammaInput),envMapCubeUV:!!t.envMap&&(t.envMap.mapping===Ma||t.envMap.mapping===Ta),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:i(t.emissiveMap,e.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,combine:t.combine,vertexColors:t.vertexColors,fog:!!u,useFog:t.fog,fogExp:u&&u.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:t.skinning&&f>0,maxBones:f,useVertexTexture:n.floatVertexTextures,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numClippingPlanes:c,numClipIntersection:l,dithering:t.dithering,shadowMapEnabled:e.shadowMap.enabled&&h.receiveShadow&&s.length>0,shadowMapType:e.shadowMap.type,toneMapping:e.toneMapping,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:t.side===Ao,flipSided:t.side===Co,depthPacking:void 0!==t.depthPacking&&t.depthPacking}},this.getProgramCode=function(t,n){var r=[];if(n.shaderID?r.push(n.shaderID):(r.push(t.fragmentShader),r.push(t.vertexShader)),void 0!==t.defines)for(var i in t.defines)r.push(i),r.push(t.defines[i]);for(var o=0;o<s.length;o++)r.push(n[s[o]]);return r.push(t.onBeforeCompile.toString()),r.push(e.gammaOutput),r.join()},this.acquireProgram=function(n,r,i,a){for(var s,u=0,c=o.length;u<c;u++){var l=o[u];if(l.code===a){s=l,++s.usedTimes;break}}return void 0===s&&(s=new ht(e,t,a,n,r,i),o.push(s)),s},this.releaseProgram=function(e){if(0==--e.usedTimes){var t=o.indexOf(e);o[t]=o[o.length-1],o.pop(),e.destroy()}},this.programs=o}function ft(e,t,n,r,i,o,a){function s(e,t){if(e.width>t||e.height>t){var n=t/Math.max(e.width,e.height),r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");r.width=Math.floor(e.width*n),r.height=Math.floor(e.height*n);return r.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,r.width,r.height),console.warn("THREE.WebGLRenderer: image is too big ("+e.width+"x"+e.height+"). Resized to "+r.width+"x"+r.height,e),r}return e}function u(e){return Is.isPowerOfTwo(e.width)&&Is.isPowerOfTwo(e.height)}function c(e){if(e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof ImageBitmap){var t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");t.width=Is.floorPowerOfTwo(e.width),t.height=Is.floorPowerOfTwo(e.height);return t.getContext("2d").drawImage(e,0,0,t.width,t.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+e.width+"x"+e.height+"). Resized to "+t.width+"x"+t.height,e),t}return e}function l(e){return e.wrapS!==Ca||e.wrapT!==Ca||e.minFilter!==Pa&&e.minFilter!==Ia}function h(e,t){return e.generateMipmaps&&t&&e.minFilter!==Pa&&e.minFilter!==Ia}function d(t){return t===Pa||t===Ra||t===La?e.NEAREST:e.LINEAR}function f(e){var t=e.target;t.removeEventListener("dispose",f),m(t),a.textures--}function p(e){var t=e.target;t.removeEventListener("dispose",p),g(t),a.textures--}function m(t){var n=r.get(t);if(t.image&&n.__image__webglTextureCube)e.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture)}r.remove(t)}function g(t){var n=r.get(t),i=r.get(t.texture);if(t){if(void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLRenderTargetCube)for(var o=0;o<6;o++)e.deleteFramebuffer(n.__webglFramebuffer[o]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[o]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer);r.remove(t.texture),r.remove(t)}}function v(t,i){var o=r.get(t);if(t.version>0&&o.__version!==t.version){var a=t.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",t);else{if(!1!==a.complete)return void _(o,t,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",t)}}n.activeTexture(e.TEXTURE0+i),n.bindTexture(e.TEXTURE_2D,o.__webglTexture)}function y(t,c){var l=r.get(t);if(6===t.image.length)if(t.version>0&&l.__version!==t.version){l.__image__webglTextureCube||(t.addEventListener("dispose",f),l.__image__webglTextureCube=e.createTexture(),a.textures++),n.activeTexture(e.TEXTURE0+c),n.bindTexture(e.TEXTURE_CUBE_MAP,l.__image__webglTextureCube),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.flipY);for(var d=t&&t.isCompressedTexture,p=t.image[0]&&t.image[0].isDataTexture,m=[],g=0;g<6;g++)m[g]=d||p?p?t.image[g].image:t.image[g]:s(t.image[g],i.maxCubemapSize);var v=m[0],y=u(v),b=o.convert(t.format),_=o.convert(t.type);x(e.TEXTURE_CUBE_MAP,t,y);for(var g=0;g<6;g++)if(d)for(var w,E=m[g].mipmaps,M=0,T=E.length;M<T;M++)w=E[M],t.format!==Za&&t.format!==Ya?n.getCompressedTextureFormats().indexOf(b)>-1?n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+g,M,b,w.width,w.height,0,w.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+g,M,b,w.width,w.height,0,b,_,w.data);else p?n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+g,0,b,m[g].width,m[g].height,0,b,_,m[g].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+g,0,b,b,_,m[g]);h(t,y)&&e.generateMipmap(e.TEXTURE_CUBE_MAP),l.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(e.TEXTURE0+c),n.bindTexture(e.TEXTURE_CUBE_MAP,l.__image__webglTextureCube)}function b(t,i){n.activeTexture(e.TEXTURE0+i),n.bindTexture(e.TEXTURE_CUBE_MAP,r.get(t).__webglTexture)}function x(n,a,s){var u;if(s?(e.texParameteri(n,e.TEXTURE_WRAP_S,o.convert(a.wrapS)),e.texParameteri(n,e.TEXTURE_WRAP_T,o.convert(a.wrapT)),e.texParameteri(n,e.TEXTURE_MAG_FILTER,o.convert(a.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,o.convert(a.minFilter))):(e.texParameteri(n,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(n,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),a.wrapS===Ca&&a.wrapT===Ca||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",a),e.texParameteri(n,e.TEXTURE_MAG_FILTER,d(a.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,d(a.minFilter)),a.minFilter!==Pa&&a.minFilter!==Ia&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",a)),u=t.get("EXT_texture_filter_anisotropic")){if(a.type===Ha&&null===t.get("OES_texture_float_linear"))return;if(a.type===qa&&null===t.get("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,u.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function _(t,r,d){void 0===t.__webglInit&&(t.__webglInit=!0,r.addEventListener("dispose",f),t.__webglTexture=e.createTexture(),a.textures++),n.activeTexture(e.TEXTURE0+d),n.bindTexture(e.TEXTURE_2D,t.__webglTexture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,r.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,r.unpackAlignment);var p=s(r.image,i.maxTextureSize);l(r)&&!1===u(p)&&(p=c(p));var m=u(p),g=o.convert(r.format),v=o.convert(r.type);x(e.TEXTURE_2D,r,m);var y,b=r.mipmaps;if(r.isDepthTexture){var _=e.DEPTH_COMPONENT;if(r.type===Ha){if(!A)throw new Error("Float Depth Texture only supported in WebGL2.0");_=e.DEPTH_COMPONENT32F}else A&&(_=e.DEPTH_COMPONENT16);r.format===$a&&_===e.DEPTH_COMPONENT&&r.type!==Fa&&r.type!==za&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=Fa,v=o.convert(r.type)),r.format===es&&(_=e.DEPTH_STENCIL,r.type!==Wa&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=Wa,v=o.convert(r.type))),n.texImage2D(e.TEXTURE_2D,0,_,p.width,p.height,0,g,v,null)}else if(r.isDataTexture)if(b.length>0&&m){for(var w=0,E=b.length;w<E;w++)y=b[w],n.texImage2D(e.TEXTURE_2D,w,g,y.width,y.height,0,g,v,y.data);r.generateMipmaps=!1}else n.texImage2D(e.TEXTURE_2D,0,g,p.width,p.height,0,g,v,p.data);else if(r.isCompressedTexture)for(var w=0,E=b.length;w<E;w++)y=b[w],r.format!==Za&&r.format!==Ya?n.getCompressedTextureFormats().indexOf(g)>-1?n.compressedTexImage2D(e.TEXTURE_2D,w,g,y.width,y.height,0,y.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(e.TEXTURE_2D,w,g,y.width,y.height,0,g,v,y.data);else if(b.length>0&&m){for(var w=0,E=b.length;w<E;w++)y=b[w],n.texImage2D(e.TEXTURE_2D,w,g,g,v,y);r.generateMipmaps=!1}else n.texImage2D(e.TEXTURE_2D,0,g,g,v,p);h(r,m)&&e.generateMipmap(e.TEXTURE_2D),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function w(t,i,a,s){var u=o.convert(i.texture.format),c=o.convert(i.texture.type);n.texImage2D(s,0,u,i.width,i.height,0,u,c,null),e.bindFramebuffer(e.FRAMEBUFFER,t),e.framebufferTexture2D(e.FRAMEBUFFER,a,s,r.get(i.texture).__webglTexture,0),e.bindFramebuffer(e.FRAMEBUFFER,null)}function E(t,n){e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer&&!n.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)):n.depthBuffer&&n.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)):e.renderbufferStorage(e.RENDERBUFFER,e.RGBA4,n.width,n.height),e.bindRenderbuffer(e.RENDERBUFFER,null)}function M(t,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(e.FRAMEBUFFER,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),v(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===$a)e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,i,0);else{if(n.depthTexture.format!==es)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,i,0)}}function T(t){var n=r.get(t),i=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");M(n.__webglFramebuffer,t)}else if(i){n.__webglDepthbuffer=[];for(var o=0;o<6;o++)e.bindFramebuffer(e.FRAMEBUFFER,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=e.createRenderbuffer(),E(n.__webglDepthbuffer[o],t)}else e.bindFramebuffer(e.FRAMEBUFFER,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),E(n.__webglDepthbuffer,t);e.bindFramebuffer(e.FRAMEBUFFER,null)}function S(t){var i=r.get(t),o=r.get(t.texture);t.addEventListener("dispose",p),o.__webglTexture=e.createTexture(),a.textures++;var s=!0===t.isWebGLRenderTargetCube,c=u(t);if(s){i.__webglFramebuffer=[];for(var l=0;l<6;l++)i.__webglFramebuffer[l]=e.createFramebuffer()}else i.__webglFramebuffer=e.createFramebuffer();if(s){n.bindTexture(e.TEXTURE_CUBE_MAP,o.__webglTexture),x(e.TEXTURE_CUBE_MAP,t.texture,c);for(var l=0;l<6;l++)w(i.__webglFramebuffer[l],t,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+l);h(t.texture,c)&&e.generateMipmap(e.TEXTURE_CUBE_MAP),n.bindTexture(e.TEXTURE_CUBE_MAP,null)}else n.bindTexture(e.TEXTURE_2D,o.__webglTexture),x(e.TEXTURE_2D,t.texture,c),w(i.__webglFramebuffer,t,e.COLOR_ATTACHMENT0,e.TEXTURE_2D),h(t.texture,c)&&e.generateMipmap(e.TEXTURE_2D),n.bindTexture(e.TEXTURE_2D,null);t.depthBuffer&&T(t)}function C(t){var i=t.texture;if(h(i,u(t))){var o=t.isWebGLRenderTargetCube?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,a=r.get(i).__webglTexture;n.bindTexture(o,a),e.generateMipmap(o),n.bindTexture(o,null)}}var A="undefined"!=typeof WebGL2RenderingContext&&e instanceof window.WebGL2RenderingContext;this.setTexture2D=v,this.setTextureCube=y,this.setTextureCubeDynamic=b,this.setupRenderTarget=S,this.updateRenderTargetMipmap=C}function pt(){function e(e){var t=e.uuid,n=r[t];return void 0===n&&(n={},r[t]=n),n}function t(e){delete r[e.uuid]}function n(){r={}}var r={};return{get:e,remove:t,clear:n}}function mt(e,t,n){function r(){var t=!1,n=new l,r=null,i=new l(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,o,a,s){!0===s&&(t*=a,r*=a,o*=a),n.set(t,r,o,a),!1===i.equals(n)&&(e.clearColor(t,r,o,a),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}}function i(){var t=!1,n=null,r=null,i=null;return{setTest:function(t){t?d(e.DEPTH_TEST):f(e.DEPTH_TEST)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case na:e.depthFunc(e.NEVER);break;case ra:e.depthFunc(e.ALWAYS);break;case ia:e.depthFunc(e.LESS);break;case oa:e.depthFunc(e.LEQUAL);break;case aa:e.depthFunc(e.EQUAL);break;case sa:e.depthFunc(e.GEQUAL);break;case ua:e.depthFunc(e.GREATER);break;case ca:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}else e.depthFunc(e.LEQUAL);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}}function o(){var t=!1,n=null,r=null,i=null,o=null,a=null,s=null,u=null,c=null;return{setTest:function(t){t?d(e.STENCIL_TEST):f(e.STENCIL_TEST)},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,a){r===t&&i===n&&o===a||(e.stencilFunc(t,n,a),r=t,i=n,o=a)},setOp:function(t,n,r){a===t&&s===n&&u===r||(e.stencilOp(t,n,r),a=t,s=n,u=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,r=null,i=null,o=null,a=null,s=null,u=null,c=null}}}function a(t,n,r){var i=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(var a=0;a<r;a++)e.texImage2D(n+a,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,i);return o}function s(){for(var e=0,t=N.length;e<t;e++)N[e]=0}function u(n){if(N[n]=1,0===k[n]&&(e.enableVertexAttribArray(n),k[n]=1),0!==D[n]){t.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n,0),D[n]=0}}function c(n,r){if(N[n]=1,0===k[n]&&(e.enableVertexAttribArray(n),k[n]=1),D[n]!==r){t.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n,r),D[n]=r}}function h(){for(var t=0,n=k.length;t!==n;++t)k[t]!==N[t]&&(e.disableVertexAttribArray(t),k[t]=0)}function d(t){!0!==U[t]&&(e.enable(t),U[t]=!0)}function f(t){!1!==U[t]&&(e.disable(t),U[t]=!1)}function p(){if(null===F&&(F=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")))for(var n=e.getParameter(e.COMPRESSED_TEXTURE_FORMATS),r=0;r<n.length;r++)F.push(n[r]);return F}function m(t){return B!==t&&(e.useProgram(t),B=t,!0)}function g(t,r,i,o,a,s,u,c){if(t!==No?d(e.BLEND):f(e.BLEND),t!==Bo){if(t!==z||c!==X)switch(t){case Do:c?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE,e.ONE,e.ONE)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE));break;case Uo:c?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.ONE_MINUS_SRC_COLOR));break;case Fo:c?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.SRC_COLOR));break;default:c?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA))}H=null,q=null,j=null,G=null,V=null,W=null}else a=a||r,s=s||i,u=u||o,r===H&&a===G||(e.blendEquationSeparate(n.convert(r),n.convert(a)),H=r,G=a),i===q&&o===j&&s===V&&u===W||(e.blendFuncSeparate(n.convert(i),n.convert(o),n.convert(s),n.convert(u)),q=i,j=o,V=s,W=u);z=t,X=c}function v(t){t.side===Ao?f(e.CULL_FACE):d(e.CULL_FACE),y(t.side===Co),!0===t.transparent?g(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha):g(No),L.setFunc(t.depthFunc),L.setTest(t.depthTest),L.setMask(t.depthWrite),R.setMask(t.colorWrite),_(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)}function y(t){Y!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),Y=t)}function b(t){t!==vo?(d(e.CULL_FACE),t!==Z&&(t===yo?e.cullFace(e.BACK):t===bo?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):f(e.CULL_FACE),Z=t}function x(t){t!==K&&(te&&e.lineWidth(t),K=t)}function _(t,n,r){t?(d(e.POLYGON_OFFSET_FILL),Q===n&&J===r||(e.polygonOffset(n,r),Q=n,J=r)):f(e.POLYGON_OFFSET_FILL)}function w(t){t?d(e.SCISSOR_TEST):f(e.SCISSOR_TEST)}function E(t){void 0===t&&(t=e.TEXTURE0+$-1),ne!==t&&(e.activeTexture(t),ne=t)}function M(t,n){null===ne&&E();var r=re[ne];void 0===r&&(r={type:void 0,texture:void 0},re[ne]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||ae[t]),r.type=t,r.texture=n)}function T(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}}function S(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}}function C(t){!1===ie.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),ie.copy(t))}function A(t){!1===oe.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),oe.copy(t))}function P(){for(var t=0;t<k.length;t++)1===k[t]&&(e.disableVertexAttribArray(t),k[t]=0);U={},F=null,ne=null,re={},B=null,z=null,Y=null,Z=null,R.reset(),L.reset(),I.reset()}var R=new r,L=new i,I=new o,O=e.getParameter(e.MAX_VERTEX_ATTRIBS),N=new Uint8Array(O),k=new Uint8Array(O),D=new Uint8Array(O),U={},F=null,B=null,z=null,H=null,q=null,j=null,G=null,V=null,W=null,X=!1,Y=null,Z=null,K=null,Q=null,J=null,$=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),ee=parseFloat(/^WebGL\ ([0-9])/.exec(e.getParameter(e.VERSION))[1]),te=parseFloat(ee)>=1,ne=null,re={},ie=new l,oe=new l,ae={};return ae[e.TEXTURE_2D]=a(e.TEXTURE_2D,e.TEXTURE_2D,1),ae[e.TEXTURE_CUBE_MAP]=a(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),R.setClear(0,0,0,1),L.setClear(1),I.setClear(0),d(e.DEPTH_TEST),L.setFunc(oa),y(!1),b(yo),d(e.CULL_FACE),d(e.BLEND),g(ko),{buffers:{color:R,depth:L,stencil:I},initAttributes:s,enableAttribute:u,enableAttributeAndDivisor:c,disableUnusedAttributes:h,enable:d,disable:f,getCompressedTextureFormats:p,useProgram:m,setBlending:g,setMaterial:v,setFlipSided:y,setCullFace:b,setLineWidth:x,setPolygonOffset:_,setScissorTest:w,activeTexture:E,bindTexture:M,compressedTexImage2D:T,texImage2D:S,scissor:C,viewport:A,reset:P}}function gt(e,t,n){function r(){if(void 0!==o)return o;var n=t.get("EXT_texture_filter_anisotropic");return o=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var o,a=void 0!==n.precision?n.precision:"highp",s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var u=!0===n.logarithmicDepthBuffer,c=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),l=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=e.getParameter(e.MAX_TEXTURE_SIZE),d=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),f=e.getParameter(e.MAX_VERTEX_ATTRIBS),p=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),m=e.getParameter(e.MAX_VARYING_VECTORS),g=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),v=l>0,y=!!t.get("OES_texture_float");return{getMaxAnisotropy:r,getMaxPrecision:i,precision:a,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:l,maxTextureSize:h,maxCubemapSize:d,maxAttributes:f,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:v,floatFragmentTextures:y,floatVertexTextures:v&&y}}function vt(e,t,n,r){de.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function yt(e){vt.call(this),this.cameras=e||[]}function bt(e){function t(){if(null!==r&&r.isPresenting){var t=r.getEyeParameters("left"),i=t.renderWidth,o=t.renderHeight;p=e.getPixelRatio(),f=e.getSize(),e.setDrawingBufferSize(2*i,o,1)}else n.enabled&&e.setDrawingBufferSize(f.width,f.height,p)}var n=this,r=null,i=null;"undefined"!=typeof window&&"VRFrameData"in window&&(i=new window.VRFrameData);var a=new o,s=new o,u=new o,c=new vt;c.bounds=new l(0,0,.5,1),c.layers.enable(1);var h=new vt;h.bounds=new l(.5,0,.5,1),h.layers.enable(2);var d=new yt([c,h]);d.layers.enable(1),d.layers.enable(2);var f,p;"undefined"!=typeof window&&window.addEventListener("vrdisplaypresentchange",t,!1),this.enabled=!1,this.standing=!1,this.getDevice=function(){return r},this.setDevice=function(e){void 0!==e&&(r=e)},this.getCamera=function(e){if(null===r)return e;r.depthNear=e.near,r.depthFar=e.far,r.getFrameData(i);var t=i.pose;null!==t.position?e.position.fromArray(t.position):e.position.set(0,0,0),null!==t.orientation&&e.quaternion.fromArray(t.orientation),e.updateMatrixWorld();var n=r.stageParameters;if(this.standing&&n&&(s.fromArray(n.sittingToStandingTransform),u.getInverse(s),e.matrixWorld.multiply(s),e.matrixWorldInverse.multiply(u)),!1===r.isPresenting)return e;c.near=e.near,h.near=e.near,c.far=e.far,h.far=e.far,d.matrixWorld.copy(e.matrixWorld),d.matrixWorldInverse.copy(e.matrixWorldInverse),c.matrixWorldInverse.fromArray(i.leftViewMatrix),h.matrixWorldInverse.fromArray(i.rightViewMatrix),this.standing&&n&&(c.matrixWorldInverse.multiply(u),h.matrixWorldInverse.multiply(u));var o=e.parent;null!==o&&(a.getInverse(o.matrixWorld),c.matrixWorldInverse.multiply(a),h.matrixWorldInverse.multiply(a)),c.matrixWorld.getInverse(c.matrixWorldInverse),h.matrixWorld.getInverse(h.matrixWorldInverse),c.projectionMatrix.fromArray(i.leftProjectionMatrix),h.projectionMatrix.fromArray(i.rightProjectionMatrix),d.projectionMatrix.copy(c.projectionMatrix);var l=r.getLayers();if(l.length){var f=l[0];null!==f.leftBounds&&4===f.leftBounds.length&&c.bounds.fromArray(f.leftBounds),null!==f.rightBounds&&4===f.rightBounds.length&&h.bounds.fromArray(f.rightBounds)}return d},this.getStandingMatrix=function(){return s},this.submitFrame=function(){r&&r.isPresenting&&r.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",t)}}function xt(e){var t={};return{get:function(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":r=e.getExtension("WEBGL_compressed_texture_etc1");break;default:r=e.getExtension(n)}return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=r,r}}}function _t(){function e(){l.value!==r&&(l.value=r,l.needsUpdate=i>0),n.numPlanes=i,n.numIntersection=0}function t(e,t,r,i){var o=null!==e?e.length:0,a=null;if(0!==o){if(a=l.value,!0!==i||null===a){var u=r+4*o,h=t.matrixWorldInverse;c.getNormalMatrix(h),(null===a||a.length<u)&&(a=new Float32Array(u));for(var d=0,f=r;d!==o;++d,f+=4)s.copy(e[d]).applyMatrix4(h,c),s.normal.toArray(a,f),a[f+3]=s.constant}l.value=a,l.needsUpdate=!0}return n.numPlanes=o,a}var n=this,r=null,i=0,o=!1,a=!1,s=new oe,c=new u,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,n,a){var s=0!==e.length||n||0!==i||o;return o=n,r=t(e,a,0),i=e.length,s},this.beginShadows=function(){a=!0,t(null)},this.endShadows=function(){a=!1,e()},this.setState=function(n,s,u,c,h,d){if(!o||null===n||0===n.length||a&&!u)a?t(null):e();else{var f=a?0:i,p=4*f,m=h.clippingState||null;l.value=m,m=t(n,c,p,d);for(var g=0;g!==p;++g)m[g]=r[g];h.clippingState=m,this.numIntersection=s?this.numPlanes:0,this.numPlanes+=f}}}function wt(e,t){function n(n){var r;if(n===Sa)return e.REPEAT;if(n===Ca)return e.CLAMP_TO_EDGE;if(n===Aa)return e.MIRRORED_REPEAT;if(n===Pa)return e.NEAREST;if(n===Ra)return e.NEAREST_MIPMAP_NEAREST;if(n===La)return e.NEAREST_MIPMAP_LINEAR;if(n===Ia)return e.LINEAR;if(n===Oa)return e.LINEAR_MIPMAP_NEAREST;if(n===Na)return e.LINEAR_MIPMAP_LINEAR;if(n===ka)return e.UNSIGNED_BYTE;if(n===ja)return e.UNSIGNED_SHORT_4_4_4_4;if(n===Ga)return e.UNSIGNED_SHORT_5_5_5_1;if(n===Va)return e.UNSIGNED_SHORT_5_6_5;if(n===Da)return e.BYTE;if(n===Ua)return e.SHORT;if(n===Fa)return e.UNSIGNED_SHORT;if(n===Ba)return e.INT;if(n===za)return e.UNSIGNED_INT;if(n===Ha)return e.FLOAT;if(n===qa&&null!==(r=t.get("OES_texture_half_float")))return r.HALF_FLOAT_OES;if(n===Xa)return e.ALPHA;if(n===Ya)return e.RGB;if(n===Za)return e.RGBA;if(n===Ka)return e.LUMINANCE;if(n===Qa)return e.LUMINANCE_ALPHA;if(n===$a)return e.DEPTH_COMPONENT;if(n===es)return e.DEPTH_STENCIL;if(n===zo)return e.FUNC_ADD;if(n===Ho)return e.FUNC_SUBTRACT;if(n===qo)return e.FUNC_REVERSE_SUBTRACT;if(n===Vo)return e.ZERO;if(n===Wo)return e.ONE;if(n===Xo)return e.SRC_COLOR;if(n===Yo)return e.ONE_MINUS_SRC_COLOR;if(n===Zo)return e.SRC_ALPHA;if(n===Ko)return e.ONE_MINUS_SRC_ALPHA;if(n===Qo)return e.DST_ALPHA;if(n===Jo)return e.ONE_MINUS_DST_ALPHA;if(n===$o)return e.DST_COLOR;if(n===ea)return e.ONE_MINUS_DST_COLOR;if(n===ta)return e.SRC_ALPHA_SATURATE;if((n===ts||n===ns||n===rs||n===is)&&null!==(r=t.get("WEBGL_compressed_texture_s3tc"))){if(n===ts)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===ns)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===rs)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===is)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((n===os||n===as||n===ss||n===us)&&null!==(r=t.get("WEBGL_compressed_texture_pvrtc"))){if(n===os)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===as)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===ss)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===us)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===cs&&null!==(r=t.get("WEBGL_compressed_texture_etc1")))return r.COMPRESSED_RGB_ETC1_WEBGL;if((n===jo||n===Go)&&null!==(r=t.get("EXT_blend_minmax"))){if(n===jo)return r.MIN_EXT;if(n===Go)return r.MAX_EXT}return n===Wa&&null!==(r=t.get("WEBGL_depth_texture"))?r.UNSIGNED_INT_24_8_WEBGL:0}return{convert:n}}function Et(e){function t(){return null===ee?me:1}function n(){Pe=new xt(Ce),Pe.get("WEBGL_depth_texture"),Pe.get("OES_texture_float"),Pe.get("OES_texture_float_linear"),Pe.get("OES_texture_half_float"),Pe.get("OES_texture_half_float_linear"),Pe.get("OES_standard_derivatives"),Pe.get("OES_element_index_uint"),Pe.get("ANGLE_instanced_arrays"),et=new wt(Ce,Pe),Re=new gt(Ce,Pe,e),Le=new mt(Ce,Pe,et),Le.scissor(le.copy(ve).multiplyScalar(me)),Le.viewport(ce.copy(ge).multiplyScalar(me)),Ie=new pt,Oe=new ft(Ce,Pe,Le,Ie,Re,et,Te),Ne=new ue(Ce),ke=new Ye(Ce,Ne,Te),De=new Qe(ke,Se),qe=new Ve(Ce),Fe=new dt(K,Pe,Re),Ue=new Ke,ze=new je,He=new Be(K,Le,ke,q),Ge=new Xe(Ce,Pe,Se),Ze=new We(Ce,Pe,Se),Je=new Q(K,Ce,Le,Oe,Re),$e=new $(K,Ce,Le,Oe,Re),K.info.programs=Fe.programs,K.context=Ce,K.capabilities=Re,K.extensions=Pe,K.properties=Ie,K.renderLists=ze,K.state=Le}function r(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),J=!0}function i(){console.log("THREE.WebGLRenderer: Context Restored."),J=!1,n()}function a(e){var t=e.target;t.removeEventListener("dispose",a),u(t)}function u(e){c(e),Ie.remove(e)}function c(e){var t=Ie.get(e).program;e.program=void 0,void 0!==t&&Fe.releaseProgram(t)}function h(e,t,n){e.render(function(e){K.renderBufferImmediate(e,t,n)})}function d(e,t,n,r){if(n&&n.isInstancedBufferGeometry&&null===Pe.get("ANGLE_instanced_arrays"))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");void 0===r&&(r=0),Le.initAttributes();var i=n.attributes,o=t.getAttributes(),a=e.defaultAttributeValues;for(var s in o){var u=o[s];if(u>=0){var c=i[s];if(void 0!==c){var l=c.normalized,h=c.itemSize,d=Ne.get(c);if(void 0===d)continue;var f=d.buffer,p=d.type,m=d.bytesPerElement;if(c.isInterleavedBufferAttribute){var g=c.data,v=g.stride,y=c.offset;g&&g.isInstancedInterleavedBuffer?(Le.enableAttributeAndDivisor(u,g.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=g.meshPerAttribute*g.count)):Le.enableAttribute(u),Ce.bindBuffer(Ce.ARRAY_BUFFER,f),Ce.vertexAttribPointer(u,h,p,l,v*m,(r*v+y)*m)}else c.isInstancedBufferAttribute?(Le.enableAttributeAndDivisor(u,c.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=c.meshPerAttribute*c.count)):Le.enableAttribute(u),Ce.bindBuffer(Ce.ARRAY_BUFFER,f),Ce.vertexAttribPointer(u,h,p,l,0,r*h*m)}else if(void 0!==a){var b=a[s];if(void 0!==b)switch(b.length){case 2:Ce.vertexAttrib2fv(u,b);break;case 3:Ce.vertexAttrib3fv(u,b);break;case 4:Ce.vertexAttrib4fv(u,b);break;default:Ce.vertexAttrib1fv(u,b)}}}}Le.disableUnusedAttributes()}function p(){if(!rt){var e=tt.getDevice();e&&e.isPresenting?e.requestAnimationFrame(m):window.requestAnimationFrame(m),rt=!0}}function m(e){null!==it&&it(e);var t=tt.getDevice();t&&t.isPresenting?t.requestAnimationFrame(m):window.requestAnimationFrame(m)}function g(e,t,n){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isLight)G.push(e),e.castShadow&&V.push(e);else if(e.isSprite)e.frustumCulled&&!be.intersectsSprite(e)||X.push(e);else if(e.isLensFlare)Z.push(e);else if(e.isImmediateRenderObject)n&&Me.setFromMatrixPosition(e.matrixWorld).applyMatrix4(Ee),W.push(e,null,e.material,Me.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.update(),!e.frustumCulled||be.intersectsObject(e))){n&&Me.setFromMatrixPosition(e.matrixWorld).applyMatrix4(Ee);var r=De.update(e),i=e.material;if(Array.isArray(i))for(var o=r.groups,a=0,s=o.length;a<s;a++){var u=o[a],c=i[u.materialIndex];c&&c.visible&&W.push(e,r,c,Me.z,u)}else i.visible&&W.push(e,r,i,Me.z,null)}for(var l=e.children,a=0,s=l.length;a<s;a++)g(l[a],t,n)}}function v(e,t,n,r){for(var i=0,o=e.length;i<o;i++){var a=e[i],s=a.object,u=a.geometry,c=void 0===r?a.material:r,l=a.group;if(n.isArrayCamera){oe=n;for(var h=n.cameras,d=0,f=h.length;d<f;d++){var p=h[d];if(s.layers.test(p.layers)){var m=p.bounds,g=m.x*fe,v=m.y*pe,b=m.z*fe,x=m.w*pe;Le.viewport(ce.set(g,v,b,x).multiplyScalar(me)),y(s,t,p,u,c,l)}}}else oe=null,y(s,t,n,u,c,l)}}function y(e,t,n,r,i,o){if(e.onBeforeRender(K,t,n,r,i,o),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){Le.setMaterial(i);var a=x(n,t.fog,i,e);re="",h(e,a,i)}else K.renderBufferDirect(n,t.fog,r,i,e,o);e.onAfterRender(K,t,n,r,i,o)}function b(e,t,n){var r=Ie.get(e),i=Fe.getParameters(e,Ue.state,V,t,xe.numPlanes,xe.numIntersection,n),o=Fe.getProgramCode(e,i),s=r.program,u=!0;if(void 0===s)e.addEventListener("dispose",a);else if(s.code!==o)c(e);else{if(void 0!==i.shaderID)return;u=!1}if(u){if(i.shaderID){var l=Vs[i.shaderID];r.shader={name:e.type,uniforms:js.clone(l.uniforms),vertexShader:l.vertexShader,fragmentShader:l.fragmentShader}}else r.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(r.shader),s=Fe.acquireProgram(e,r.shader,i,o),r.program=s,e.program=s}var h=s.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var d=0;d<K.maxMorphTargets;d++)h["morphTarget"+d]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(var d=0;d<K.maxMorphNormals;d++)h["morphNormal"+d]>=0&&e.numSupportedMorphNormals++}var f=r.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(r.numClippingPlanes=xe.numPlanes,r.numIntersection=xe.numIntersection,f.clippingPlanes=xe.uniform),r.fog=t,r.lightsHash=Ue.state.hash,e.lights&&(f.ambientLightColor.value=Ue.state.ambient,f.directionalLights.value=Ue.state.directional,f.spotLights.value=Ue.state.spot,f.rectAreaLights.value=Ue.state.rectArea,f.pointLights.value=Ue.state.point,f.hemisphereLights.value=Ue.state.hemi,f.directionalShadowMap.value=Ue.state.directionalShadowMap,f.directionalShadowMatrix.value=Ue.state.directionalShadowMatrix,f.spotShadowMap.value=Ue.state.spotShadowMap,f.spotShadowMatrix.value=Ue.state.spotShadowMatrix,f.pointShadowMap.value=Ue.state.pointShadowMap,f.pointShadowMatrix.value=Ue.state.pointShadowMatrix);var p=r.program.getUniforms(),m=Y.seqWithValue(p.seq,f);r.uniformsList=m}function x(e,t,n,r){de=0;var i=Ie.get(n);if(_e&&(we||e!==ie)){var o=e===ie&&n.id===ne;xe.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,i,o)}!1===n.needsUpdate&&(void 0===i.program?n.needsUpdate=!0:n.fog&&i.fog!==t?n.needsUpdate=!0:n.lights&&i.lightsHash!==Ue.state.hash?n.needsUpdate=!0:void 0===i.numClippingPlanes||i.numClippingPlanes===xe.numPlanes&&i.numIntersection===xe.numIntersection||(n.needsUpdate=!0)),n.needsUpdate&&(b(n,t,r),n.needsUpdate=!1);var a=!1,s=!1,u=!1,c=i.program,l=c.getUniforms(),h=i.shader.uniforms;if(Le.useProgram(c.program)&&(a=!0,s=!0,u=!0),n.id!==ne&&(ne=n.id,s=!0),a||e!==ie){if(l.setValue(Ce,"projectionMatrix",e.projectionMatrix),Re.logarithmicDepthBuffer&&l.setValue(Ce,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),ie!==(oe||e)&&(ie=oe||e,s=!0,u=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var d=l.map.cameraPosition;void 0!==d&&d.setValue(Ce,Me.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&l.setValue(Ce,"viewMatrix",e.matrixWorldInverse)}if(n.skinning){l.setOptional(Ce,r,"bindMatrix"),l.setOptional(Ce,r,"bindMatrixInverse");var p=r.skeleton;if(p){var m=p.bones;if(Re.floatVertexTextures){if(void 0===p.boneTexture){var g=Math.sqrt(4*m.length);g=Is.ceilPowerOfTwo(g),g=Math.max(g,4);var v=new Float32Array(g*g*4);v.set(p.boneMatrices);var y=new f(v,g,g,Za,Ha);p.boneMatrices=v,p.boneTexture=y,p.boneTextureSize=g}l.setValue(Ce,"boneTexture",p.boneTexture),l.setValue(Ce,"boneTextureSize",p.boneTextureSize)}else l.setOptional(Ce,p,"boneMatrices")}}return s&&(l.setValue(Ce,"toneMappingExposure",K.toneMappingExposure),l.setValue(Ce,"toneMappingWhitePoint",K.toneMappingWhitePoint),n.lights&&N(h,u),t&&n.fog&&T(h,t),n.isMeshBasicMaterial?_(h,n):n.isMeshLambertMaterial?(_(h,n),S(h,n)):n.isMeshPhongMaterial?(_(h,n),n.isMeshToonMaterial?A(h,n):C(h,n)):n.isMeshStandardMaterial?(_(h,n),n.isMeshPhysicalMaterial?R(h,n):P(h,n)):n.isMeshDepthMaterial?(_(h,n),L(h,n)):n.isMeshDistanceMaterial?(_(h,n),I(h,n)):n.isMeshNormalMaterial?(_(h,n),O(h,n)):n.isLineBasicMaterial?(w(h,n),n.isLineDashedMaterial&&E(h,n)):n.isPointsMaterial?M(h,n):n.isShadowMaterial&&(h.color.value=n.color,h.opacity.value=n.opacity),void 0!==h.ltcMat&&(h.ltcMat.value=qs.LTC_MAT_TEXTURE),void 0!==h.ltcMag&&(h.ltcMag.value=qs.LTC_MAG_TEXTURE),Y.upload(Ce,i.uniformsList,h,K)),l.setValue(Ce,"modelViewMatrix",r.modelViewMatrix),l.setValue(Ce,"normalMatrix",r.normalMatrix),l.setValue(Ce,"modelMatrix",r.matrixWorld),c}function _(e,t){e.opacity.value=t.opacity,t.color&&(e.diffuse.value=t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap&&t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity);var n;if(t.map?n=t.map:t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap),void 0!==n){if(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate){var r=n.offset,i=n.repeat,o=n.rotation,a=n.center;n.matrix.setUvTransform(r.x,r.y,i.x,i.y,o,a.x,a.y)}e.uvTransform.value.copy(n.matrix)}}function w(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity}function E(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}function M(e,t){if(e.diffuse.value=t.color,e.opacity.value=t.opacity,e.size.value=t.size*me,e.scale.value=.5*pe,e.map.value=t.map,null!==t.map){if(!0===t.map.matrixAutoUpdate){var n=t.map.offset,r=t.map.repeat,i=t.map.rotation,o=t.map.center;t.map.matrix.setUvTransform(n.x,n.y,r.x,r.y,i,o.x,o.y)}e.uvTransform.value.copy(t.map.matrix)}}function T(e,t){e.fogColor.value=t.color,t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}function S(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}function C(e,t){e.specular.value=t.specular,e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function A(e,t){C(e,t),t.gradientMap&&(e.gradientMap.value=t.gradientMap)}function P(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}function R(e,t){e.clearCoat.value=t.clearCoat,e.clearCoatRoughness.value=t.clearCoatRoughness,P(e,t)}function L(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function I(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}function O(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function N(e,t){e.ambientLightColor.needsUpdate=t,e.directionalLights.needsUpdate=t,e.pointLights.needsUpdate=t,e.spotLights.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}function k(){var e=de;return e>=Re.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+e+" texture units while this GPU supports only "+Re.maxTextures),de+=1,e}console.log("THREE.WebGLRenderer",mo),e=e||{};var D=void 0!==e.canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),U=void 0!==e.context?e.context:null,F=void 0!==e.alpha&&e.alpha,B=void 0===e.depth||e.depth,z=void 0===e.stencil||e.stencil,H=void 0!==e.antialias&&e.antialias,q=void 0===e.premultipliedAlpha||e.premultipliedAlpha,j=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,G=[],V=[],W=null,X=[],Z=[];this.domElement=D,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=pa,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var K=this,J=!1,ee=null,te=null,ne=-1,re="",ie=null,oe=null,ce=new l,le=new l,he=null,de=0,fe=D.width,pe=D.height,me=1,ge=new l(0,0,fe,pe),ve=new l(0,0,fe,pe),ye=!1,be=new ae,xe=new _t,_e=!1,we=!1,Ee=new o,Me=new s,Te={geometries:0,textures:0},Se={frame:0,calls:0,vertices:0,faces:0,points:0};this.info={render:Se,memory:Te,programs:null};var Ce;try{var Ae={alpha:F,depth:B,stencil:z,antialias:H,premultipliedAlpha:q,preserveDrawingBuffer:j};if(null===(Ce=U||D.getContext("webgl",Ae)||D.getContext("experimental-webgl",Ae)))throw null!==D.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";void 0===Ce.getShaderPrecisionFormat&&(Ce.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),D.addEventListener("webglcontextlost",r,!1),D.addEventListener("webglcontextrestored",i,!1)}catch(e){console.error("THREE.WebGLRenderer: "+e)}var Pe,Re,Le,Ie,Oe,Ne,ke,De,Ue,Fe,ze,He,qe,Ge,Ze,Je,$e,et;n();var tt=new bt(K);this.vr=tt;var nt=new se(K,De,Re.maxTextureSize);this.shadowMap=nt,this.getContext=function(){return Ce},this.getContextAttributes=function(){return Ce.getContextAttributes()},this.forceContextLoss=function(){var e=Pe.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=Pe.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return me},this.setPixelRatio=function(e){void 0!==e&&(me=e,this.setSize(fe,pe,!1))},this.getSize=function(){return{width:fe,height:pe}},this.setSize=function(e,t,n){var r=tt.getDevice();if(r&&r.isPresenting)return void console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");fe=e,pe=t,D.width=e*me,D.height=t*me,!1!==n&&(D.style.width=e+"px",D.style.height=t+"px"),this.setViewport(0,0,e,t)},this.getDrawingBufferSize=function(){return{width:fe*me,height:pe*me}},this.setDrawingBufferSize=function(e,t,n){fe=e,pe=t,me=n,D.width=e*n,D.height=t*n,this.setViewport(0,0,e,t)},this.setViewport=function(e,t,n,r){ge.set(e,pe-t-r,n,r),Le.viewport(ce.copy(ge).multiplyScalar(me))},this.setScissor=function(e,t,n,r){ve.set(e,pe-t-r,n,r),Le.scissor(le.copy(ve).multiplyScalar(me))},this.setScissorTest=function(e){Le.setScissorTest(ye=e)},this.getClearColor=function(){return He.getClearColor()},this.setClearColor=function(){He.setClearColor.apply(He,arguments)},this.getClearAlpha=function(){return He.getClearAlpha()},this.setClearAlpha=function(){He.setClearAlpha.apply(He,arguments)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=Ce.COLOR_BUFFER_BIT),(void 0===t||t)&&(r|=Ce.DEPTH_BUFFER_BIT),(void 0===n||n)&&(r|=Ce.STENCIL_BUFFER_BIT),Ce.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(e,t,n,r){this.setRenderTarget(e),this.clear(t,n,r)},this.dispose=function(){D.removeEventListener("webglcontextlost",r,!1),D.removeEventListener("webglcontextrestored",i,!1),ze.dispose(),tt.dispose()},this.renderBufferImmediate=function(e,t,n){Le.initAttributes();var r=Ie.get(e);e.hasPositions&&!r.position&&(r.position=Ce.createBuffer()),e.hasNormals&&!r.normal&&(r.normal=Ce.createBuffer()),e.hasUvs&&!r.uv&&(r.uv=Ce.createBuffer()),e.hasColors&&!r.color&&(r.color=Ce.createBuffer());var i=t.getAttributes();if(e.hasPositions&&(Ce.bindBuffer(Ce.ARRAY_BUFFER,r.position),Ce.bufferData(Ce.ARRAY_BUFFER,e.positionArray,Ce.DYNAMIC_DRAW),Le.enableAttribute(i.position),Ce.vertexAttribPointer(i.position,3,Ce.FLOAT,!1,0,0)),e.hasNormals){if(Ce.bindBuffer(Ce.ARRAY_BUFFER,r.normal),!n.isMeshPhongMaterial&&!n.isMeshStandardMaterial&&!n.isMeshNormalMaterial&&!0===n.flatShading)for(var o=0,a=3*e.count;o<a;o+=9){var s=e.normalArray,u=(s[o+0]+s[o+3]+s[o+6])/3,c=(s[o+1]+s[o+4]+s[o+7])/3,l=(s[o+2]+s[o+5]+s[o+8])/3;s[o+0]=u,s[o+1]=c,s[o+2]=l,s[o+3]=u,s[o+4]=c,s[o+5]=l,s[o+6]=u,s[o+7]=c,s[o+8]=l}Ce.bufferData(Ce.ARRAY_BUFFER,e.normalArray,Ce.DYNAMIC_DRAW),Le.enableAttribute(i.normal),Ce.vertexAttribPointer(i.normal,3,Ce.FLOAT,!1,0,0)}e.hasUvs&&n.map&&(Ce.bindBuffer(Ce.ARRAY_BUFFER,r.uv),Ce.bufferData(Ce.ARRAY_BUFFER,e.uvArray,Ce.DYNAMIC_DRAW),Le.enableAttribute(i.uv),Ce.vertexAttribPointer(i.uv,2,Ce.FLOAT,!1,0,0)),e.hasColors&&n.vertexColors!==Lo&&(Ce.bindBuffer(Ce.ARRAY_BUFFER,r.color),Ce.bufferData(Ce.ARRAY_BUFFER,e.colorArray,Ce.DYNAMIC_DRAW),Le.enableAttribute(i.color),Ce.vertexAttribPointer(i.color,3,Ce.FLOAT,!1,0,0)),Le.disableUnusedAttributes(),Ce.drawArrays(Ce.TRIANGLES,0,e.count),e.count=0},this.renderBufferDirect=function(e,n,r,i,o,a){Le.setMaterial(i);var s=x(e,n,i,o),u=r.id+"_"+s.id+"_"+(!0===i.wireframe),c=!1;u!==re&&(re=u,c=!0),o.morphTargetInfluences&&(qe.update(o,r,i,s),c=!0);var l=r.index,h=r.attributes.position,f=1;!0===i.wireframe&&(l=ke.getWireframeAttribute(r),f=2);var p,m=Ge;null!==l&&(p=Ne.get(l),m=Ze,m.setIndex(p)),c&&(d(i,s,r),null!==l&&Ce.bindBuffer(Ce.ELEMENT_ARRAY_BUFFER,p.buffer));var g=0;null!==l?g=l.count:void 0!==h&&(g=h.count);var v=r.drawRange.start*f,y=r.drawRange.count*f,b=null!==a?a.start*f:0,_=null!==a?a.count*f:1/0,w=Math.max(v,b),E=Math.min(g,v+y,b+_)-1,M=Math.max(0,E-w+1);if(0!==M){if(o.isMesh)if(!0===i.wireframe)Le.setLineWidth(i.wireframeLinewidth*t()),m.setMode(Ce.LINES);else switch(o.drawMode){case bs:m.setMode(Ce.TRIANGLES);break;case xs:m.setMode(Ce.TRIANGLE_STRIP);break;case _s:m.setMode(Ce.TRIANGLE_FAN)}else if(o.isLine){var T=i.linewidth;void 0===T&&(T=1),Le.setLineWidth(T*t()),o.isLineSegments?m.setMode(Ce.LINES):o.isLineLoop?m.setMode(Ce.LINE_LOOP):m.setMode(Ce.LINE_STRIP)}else o.isPoints&&m.setMode(Ce.POINTS);r&&r.isInstancedBufferGeometry?r.maxInstancedCount>0&&m.renderInstances(r,w,M):m.render(w,M)}},this.compile=function(e,t){G.length=0,V.length=0,e.traverse(function(e){e.isLight&&(G.push(e),e.castShadow&&V.push(e))}),Ue.setup(G,V,t),e.traverse(function(t){if(t.material)if(Array.isArray(t.material))for(var n=0;n<t.material.length;n++)b(t.material[n],e.fog,t);else b(t.material,e.fog,t)})};var rt=!1,it=null;this.animate=function(e){it=e,p()},this.render=function(e,t,n,r){if(!t||!t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!J){re="",ne=-1,ie=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),tt.enabled&&(t=tt.getCamera(t)),Ee.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),be.setFromMatrix(Ee),G.length=0,V.length=0,X.length=0,Z.length=0,we=this.localClippingEnabled,_e=xe.init(this.clippingPlanes,we,t),W=ze.get(e,t),W.init(),g(e,t,K.sortObjects),!0===K.sortObjects&&W.sort(),_e&&xe.beginShadows(),nt.render(V,e,t),Ue.setup(G,V,t),_e&&xe.endShadows(),Se.frame++,Se.calls=0,Se.vertices=0,Se.faces=0,Se.points=0,void 0===n&&(n=null),this.setRenderTarget(n),He.render(W,e,t,r);var i=W.opaque,o=W.transparent;if(e.overrideMaterial){var a=e.overrideMaterial;i.length&&v(i,e,t,a),o.length&&v(o,e,t,a)}else i.length&&v(i,e,t),o.length&&v(o,e,t);$e.render(X,e,t),Je.render(Z,e,t,ce),n&&Oe.updateRenderTargetMipmap(n),Le.buffers.depth.setTest(!0),Le.buffers.depth.setMask(!0),Le.buffers.color.setMask(!0),Le.setPolygonOffset(!1),tt.enabled&&tt.submitFrame()}},this.setFaceCulling=function(e,t){Le.setCullFace(e),Le.setFlipSided(t===_o)},this.allocTextureUnit=k,this.setTexture2D=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTarget&&(e||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),Oe.setTexture2D(t,n)}}(),this.setTexture=function(){var e=!1;return function(t,n){e||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),e=!0),Oe.setTexture2D(t,n)}}(),this.setTextureCube=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTargetCube&&(e||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?Oe.setTextureCube(t,n):Oe.setTextureCubeDynamic(t,n)}}(),this.getRenderTarget=function(){return ee},this.setRenderTarget=function(e){ee=e,e&&void 0===Ie.get(e).__webglFramebuffer&&Oe.setupRenderTarget(e);var t=null,n=!1;if(e){var r=Ie.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(t=r[e.activeCubeFace],n=!0):t=r,ce.copy(e.viewport),le.copy(e.scissor),he=e.scissorTest}else ce.copy(ge).multiplyScalar(me),le.copy(ve).multiplyScalar(me),he=ye;if(te!==t&&(Ce.bindFramebuffer(Ce.FRAMEBUFFER,t),te=t),Le.viewport(ce),Le.scissor(le),Le.setScissorTest(he),n){var i=Ie.get(e.texture);Ce.framebufferTexture2D(Ce.FRAMEBUFFER,Ce.COLOR_ATTACHMENT0,Ce.TEXTURE_CUBE_MAP_POSITIVE_X+e.activeCubeFace,i.__webglTexture,e.activeMipMapLevel)}},this.readRenderTargetPixels=function(e,t,n,r,i,o){if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");var a=Ie.get(e).__webglFramebuffer;if(a){var s=!1;a!==te&&(Ce.bindFramebuffer(Ce.FRAMEBUFFER,a),s=!0);try{var u=e.texture,c=u.format,l=u.type;if(c!==Za&&et.convert(c)!==Ce.getParameter(Ce.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(l===ka||et.convert(l)===Ce.getParameter(Ce.IMPLEMENTATION_COLOR_READ_TYPE)||l===Ha&&(Pe.get("OES_texture_float")||Pe.get("WEBGL_color_buffer_float"))||l===qa&&Pe.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Ce.checkFramebufferStatus(Ce.FRAMEBUFFER)===Ce.FRAMEBUFFER_COMPLETE?t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&Ce.readPixels(t,n,r,i,et.convert(c),et.convert(l),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&Ce.bindFramebuffer(Ce.FRAMEBUFFER,te)}}}}function Mt(e,t){this.name="",this.color=new Z(e),this.density=void 0!==t?t:25e-5}function Tt(e,t,n){this.name="",this.color=new Z(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}function St(){he.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function Ct(e,t,n,r,i){he.call(this),this.lensFlares=[],this.positionScreen=new s,this.customUpdateCallback=void 0,void 0!==e&&this.add(e,t,n,r,i)}function At(e){ee.call(this),this.type="SpriteMaterial",this.color=new Z(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(e)}function Pt(e){he.call(this),this.type="Sprite",this.material=void 0!==e?e:new At}function Rt(){he.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function Lt(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new o)}}function It(){he.call(this),this.type="Bone"}function Ot(e,t){Fe.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new o,this.bindMatrixInverse=new o;var n=this.initBones(),r=new Lt(n);this.bind(r,this.matrixWorld),this.normalizeSkinWeights()}function Nt(e){ee.call(this),this.type="LineBasicMaterial",this.color=new Z(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(e)}function kt(e,t,n){if(1===n)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new Dt(e,t);he.call(this),this.type="Line",this.geometry=void 0!==e?e:new Ae,this.material=void 0!==t?t:new Nt({color:16777215*Math.random()})}function Dt(e,t){kt.call(this,e,t),this.type="LineSegments"}function Ut(e,t){kt.call(this,e,t),this.type="LineLoop"}function Ft(e){ee.call(this),this.type="PointsMaterial",this.color=new Z(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(e)}function Bt(e,t){he.call(this),this.type="Points",this.geometry=void 0!==e?e:new Ae,this.material=void 0!==t?t:new Ft({color:16777215*Math.random()})}function zt(){he.call(this),this.type="Group"}function Ht(e,t,n,r,i,o,a,s,u){function l(){var e=h.image;e.readyState>=e.HAVE_CURRENT_DATA&&(h.needsUpdate=!0),requestAnimationFrame(l)}c.call(this,e,t,n,r,i,o,a,s,u),this.generateMipmaps=!1;var h=this;requestAnimationFrame(l)}function qt(e,t,n,r,i,o,a,s,u,l,h,d){c.call(this,null,o,a,s,u,l,r,i,h,d),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function jt(e,t,n,r,i,o,a,s,u,l){if((l=void 0!==l?l:$a)!==$a&&l!==es)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&l===$a&&(n=Fa),void 0===n&&l===es&&(n=Wa),c.call(this,null,r,i,o,a,s,l,n,u),this.image={width:e,height:t},this.magFilter=void 0!==a?a:Pa,this.minFilter=void 0!==s?s:Pa,this.flipY=!1,this.generateMipmaps=!1}function Gt(e){Ae.call(this),this.type="WireframeGeometry";var t,n,r,i,o,a,u,c,l,h,d=[],f=[0,0],p={},m=["a","b","c"];if(e&&e.isGeometry){var g=e.faces;for(t=0,r=g.length;t<r;t++){var v=g[t];for(n=0;n<3;n++)u=v[m[n]],c=v[m[(n+1)%3]],f[0]=Math.min(u,c),f[1]=Math.max(u,c),l=f[0]+","+f[1],void 0===p[l]&&(p[l]={index1:f[0],index2:f[1]})}for(l in p)a=p[l],h=e.vertices[a.index1],d.push(h.x,h.y,h.z),h=e.vertices[a.index2],d.push(h.x,h.y,h.z)}else if(e&&e.isBufferGeometry){var y,b,x,_,w,E,M,T;if(h=new s,null!==e.index){for(y=e.attributes.position,b=e.index,x=e.groups,0===x.length&&(x=[{start:0,count:b.count,materialIndex:0}]),i=0,o=x.length;i<o;++i)for(_=x[i],w=_.start,E=_.count,t=w,r=w+E;t<r;t+=3)for(n=0;n<3;n++)u=b.getX(t+n),c=b.getX(t+(n+1)%3),f[0]=Math.min(u,c),f[1]=Math.max(u,c),l=f[0]+","+f[1],void 0===p[l]&&(p[l]={index1:f[0],index2:f[1]});for(l in p)a=p[l],h.fromBufferAttribute(y,a.index1),d.push(h.x,h.y,h.z),h.fromBufferAttribute(y,a.index2),d.push(h.x,h.y,h.z)}else for(y=e.attributes.position,t=0,r=y.count/3;t<r;t++)for(n=0;n<3;n++)M=3*t+n,h.fromBufferAttribute(y,M),d.push(h.x,h.y,h.z),T=3*t+(n+1)%3,h.fromBufferAttribute(y,T),d.push(h.x,h.y,h.z)}this.addAttribute("position",new Me(d,3))}function Vt(e,t,n){me.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new Wt(e,t,n)),this.mergeVertices()}function Wt(e,t,n){Ae.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var r,i,o=[],a=[],u=[],c=[],l=new s,h=new s,d=new s,f=new s,p=new s,m=t+1;for(r=0;r<=n;r++){var g=r/n;for(i=0;i<=t;i++){var v=i/t;h=e(v,g,h),a.push(h.x,h.y,h.z),v-1e-5>=0?(d=e(v-1e-5,g,d),f.subVectors(h,d)):(d=e(v+1e-5,g,d),f.subVectors(d,h)),g-1e-5>=0?(d=e(v,g-1e-5,d),p.subVectors(h,d)):(d=e(v,g+1e-5,d),p.subVectors(d,h)),l.crossVectors(f,p).normalize(),u.push(l.x,l.y,l.z),c.push(v,g)}}for(r=0;r<n;r++)for(i=0;i<t;i++){var y=r*m+i,b=r*m+i+1,x=(r+1)*m+i+1,_=(r+1)*m+i;o.push(y,b,_),o.push(b,x,_)}this.setIndex(o),this.addAttribute("position",new Me(a,3)),this.addAttribute("normal",new Me(u,3)),this.addAttribute("uv",new Me(c,2))}function Xt(e,t,n,r){me.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},this.fromBufferGeometry(new Yt(e,t,n,r)),this.mergeVertices()}function Yt(e,t,n,r){function o(e,t,n,r){var i,o,a=Math.pow(2,r),s=[];for(i=0;i<=a;i++){s[i]=[];var c=e.clone().lerp(n,i/a),l=t.clone().lerp(n,i/a),h=a-i;for(o=0;o<=h;o++)s[i][o]=0===o&&i===a?c:c.clone().lerp(l,o/h)}for(i=0;i<a;i++)for(o=0;o<2*(a-i)-1;o++){var d=Math.floor(o/2);o%2==0?(u(s[i][d+1]),u(s[i+1][d]),u(s[i][d])):(u(s[i][d+1]),u(s[i+1][d+1]),u(s[i+1][d]))}}function a(){for(var e=0;e<m.length;e+=6){var t=m[e+0],n=m[e+2],r=m[e+4],i=Math.max(t,n,r),o=Math.min(t,n,r);i>.9&&o<.1&&(t<.2&&(m[e+0]+=1),n<.2&&(m[e+2]+=1),r<.2&&(m[e+4]+=1))}}function u(e){p.push(e.x,e.y,e.z)}function c(t,n){var r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function l(){for(var e=new s,t=new s,n=new s,r=new s,o=new i,a=new i,u=new i,c=0,l=0;c<p.length;c+=9,l+=6){e.set(p[c+0],p[c+1],p[c+2]),t.set(p[c+3],p[c+4],p[c+5]),n.set(p[c+6],p[c+7],p[c+8]),o.set(m[l+0],m[l+1]),a.set(m[l+2],m[l+3]),u.set(m[l+4],m[l+5]),r.copy(e).add(t).add(n).divideScalar(3);var f=d(r);h(o,l+0,e,f),h(a,l+2,t,f),h(u,l+4,n,f)}}function h(e,t,n,r){r<0&&1===e.x&&(m[t]=e.x-1),0===n.x&&0===n.z&&(m[t]=r/2/Math.PI+.5)}function d(e){return Math.atan2(e.z,-e.x)}function f(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}Ae.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},n=n||1,r=r||0;var p=[],m=[];!function(e){for(var n=new s,r=new s,i=new s,a=0;a<t.length;a+=3)c(t[a+0],n),c(t[a+1],r),c(t[a+2],i),o(n,r,i,e)}(r),function(e){for(var t=new s,n=0;n<p.length;n+=3)t.x=p[n+0],t.y=p[n+1],t.z=p[n+2],t.normalize().multiplyScalar(e),p[n+0]=t.x,p[n+1]=t.y,p[n+2]=t.z}(n),function(){for(var e=new s,t=0;t<p.length;t+=3){e.x=p[t+0],e.y=p[t+1],e.z=p[t+2];var n=d(e)/2/Math.PI+.5,r=f(e)/Math.PI+.5;m.push(n,1-r)}l(),a()}(),this.addAttribute("position",new Me(p,3)),this.addAttribute("normal",new Me(p.slice(),3)),this.addAttribute("uv",new Me(m,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function Zt(e,t){me.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Kt(e,t)),this.mergeVertices()}function Kt(e,t){var n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];Yt.call(this,n,r,e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Qt(e,t){me.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Jt(e,t)),this.mergeVertices()}function Jt(e,t){var n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];Yt.call(this,n,r,e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function $t(e,t){me.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new en(e,t)),this.mergeVertices()}function en(e,t){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],i=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];Yt.call(this,r,i,e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function tn(e,t){me.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new nn(e,t)),this.mergeVertices()}function nn(e,t){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];Yt.call(this,i,o,e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function rn(e,t,n,r,i,o){me.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new on(e,t,n,r,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function on(e,t,n,r,o){function a(i){g=e.getPointAt(i/t,g);var o=l.normals[i],a=l.binormals[i];for(d=0;d<=r;d++){var s=d/r*Math.PI*2,u=Math.sin(s),c=-Math.cos(s);p.x=c*o.x+u*a.x,p.y=c*o.y+u*a.y,p.z=c*o.z+u*a.z,p.normalize(),y.push(p.x,p.y,p.z),f.x=g.x+n*p.x,f.y=g.y+n*p.y,f.z=g.z+n*p.z,v.push(f.x,f.y,f.z)}}function u(){for(d=1;d<=t;d++)for(h=1;h<=r;h++){var e=(r+1)*(d-1)+(h-1),n=(r+1)*d+(h-1),i=(r+1)*d+h,o=(r+1)*(d-1)+h;x.push(e,n,o),x.push(n,i,o)}}function c(){for(h=0;h<=t;h++)for(d=0;d<=r;d++)m.x=h/t,m.y=d/r,b.push(m.x,m.y)}Ae.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:o},t=t||64,n=n||1,r=r||8,o=o||!1;var l=e.computeFrenetFrames(t,o);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;var h,d,f=new s,p=new s,m=new i,g=new s,v=[],y=[],b=[],x=[];!function(){for(h=0;h<t;h++)a(h);a(!1===o?t:0),c(),u()}(),this.setIndex(x),this.addAttribute("position",new Me(v,3)),this.addAttribute("normal",new Me(y,3)),this.addAttribute("uv",new Me(b,2))}function an(e,t,n,r,i,o,a){me.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new sn(e,t,n,r,i,o)),this.mergeVertices()}function sn(e,t,n,r,i,o){function a(e,t,n,r,i){var o=Math.cos(e),a=Math.sin(e),s=n/t*e,u=Math.cos(s);i.x=r*(2+u)*.5*o,i.y=r*(2+u)*a*.5,i.z=r*Math.sin(s)*.5}Ae.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},e=e||1,t=t||.4,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,o=o||3;var u,c,l=[],h=[],d=[],f=[],p=new s,m=new s,g=new s,v=new s,y=new s,b=new s,x=new s;for(u=0;u<=n;++u){var _=u/n*i*Math.PI*2;for(a(_,i,o,e,g),a(_+.01,i,o,e,v),b.subVectors(v,g),x.addVectors(v,g),y.crossVectors(b,x),x.crossVectors(y,b),y.normalize(),x.normalize(),c=0;c<=r;++c){var w=c/r*Math.PI*2,E=-t*Math.cos(w),M=t*Math.sin(w);p.x=g.x+(E*x.x+M*y.x),p.y=g.y+(E*x.y+M*y.y),p.z=g.z+(E*x.z+M*y.z),h.push(p.x,p.y,p.z),m.subVectors(p,g).normalize(),d.push(m.x,m.y,m.z),f.push(u/n),f.push(c/r)}}for(c=1;c<=n;c++)for(u=1;u<=r;u++){var T=(r+1)*(c-1)+(u-1),S=(r+1)*c+(u-1),C=(r+1)*c+u,A=(r+1)*(c-1)+u;l.push(T,S,A),l.push(S,C,A)}this.setIndex(l),this.addAttribute("position",new Me(h,3)),this.addAttribute("normal",new Me(d,3)),this.addAttribute("uv",new Me(f,2))}function un(e,t,n,r,i){me.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new cn(e,t,n,r,i)),this.mergeVertices()}function cn(e,t,n,r,i){Ae.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},e=e||1,t=t||.4,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var o,a,u=[],c=[],l=[],h=[],d=new s,f=new s,p=new s;for(o=0;o<=n;o++)for(a=0;a<=r;a++){var m=a/r*i,g=o/n*Math.PI*2;f.x=(e+t*Math.cos(g))*Math.cos(m),f.y=(e+t*Math.cos(g))*Math.sin(m),f.z=t*Math.sin(g),c.push(f.x,f.y,f.z),d.x=e*Math.cos(m),d.y=e*Math.sin(m),p.subVectors(f,d).normalize(),l.push(p.x,p.y,p.z),h.push(a/r),h.push(o/n)}for(o=1;o<=n;o++)for(a=1;a<=r;a++){var v=(r+1)*o+a-1,y=(r+1)*(o-1)+a-1,b=(r+1)*(o-1)+a,x=(r+1)*o+a;u.push(v,y,x),u.push(y,b,x)}this.setIndex(u),this.addAttribute("position",new Me(c,3)),this.addAttribute("normal",new Me(l,3)),this.addAttribute("uv",new Me(h,2))}function ln(e,t){me.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new hn(e,t)),this.mergeVertices()}function hn(e,t){void 0!==e&&(Ae.call(this),this.type="ExtrudeBufferGeometry",e=Array.isArray(e)?e:[e],this.addShapeList(e,t),this.computeVertexNormals())}function dn(e,t){me.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new fn(e,t)),this.mergeVertices()}function fn(e,t){t=t||{};var n=t.font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new me;var r=n.generateShapes(e,t.size,t.curveSegments);t.amount=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),hn.call(this,r,t),this.type="TextBufferGeometry"}function pn(e,t,n,r,i,o,a){me.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new mn(e,t,n,r,i,o,a)),this.mergeVertices()}function mn(e,t,n,r,i,o,a){Ae.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI,o=void 0!==o?o:0,a=void 0!==a?a:Math.PI;var u,c,l=o+a,h=0,d=[],f=new s,p=new s,m=[],g=[],v=[],y=[];for(c=0;c<=n;c++){var b=[],x=c/n;for(u=0;u<=t;u++){var _=u/t;f.x=-e*Math.cos(r+_*i)*Math.sin(o+x*a),f.y=e*Math.cos(o+x*a),f.z=e*Math.sin(r+_*i)*Math.sin(o+x*a),g.push(f.x,f.y,f.z),p.set(f.x,f.y,f.z).normalize(),v.push(p.x,p.y,p.z),y.push(_,1-x),b.push(h++)}d.push(b)}for(c=0;c<n;c++)for(u=0;u<t;u++){var w=d[c][u+1],E=d[c][u],M=d[c+1][u],T=d[c+1][u+1];(0!==c||o>0)&&m.push(w,E,T),(c!==n-1||l<Math.PI)&&m.push(E,M,T)}this.setIndex(m),this.addAttribute("position",new Me(g,3)),this.addAttribute("normal",new Me(v,3)),this.addAttribute("uv",new Me(y,2))}function gn(e,t,n,r,i,o){me.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new vn(e,t,n,r,i,o)),this.mergeVertices()}function vn(e,t,n,r,o,a){Ae.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:o,thetaLength:a},e=e||.5,t=t||1,o=void 0!==o?o:0,a=void 0!==a?a:2*Math.PI,n=void 0!==n?Math.max(3,n):8,r=void 0!==r?Math.max(1,r):1;var u,c,l,h=[],d=[],f=[],p=[],m=e,g=(t-e)/r,v=new s,y=new i;for(c=0;c<=r;c++){for(l=0;l<=n;l++)u=o+l/n*a,v.x=m*Math.cos(u),v.y=m*Math.sin(u),d.push(v.x,v.y,v.z),f.push(0,0,1),y.x=(v.x/t+1)/2,y.y=(v.y/t+1)/2,p.push(y.x,y.y);m+=g}for(c=0;c<r;c++){var b=c*(n+1);for(l=0;l<n;l++){u=l+b;var x=u,_=u+n+1,w=u+n+2,E=u+1;h.push(x,_,E),h.push(_,w,E)}}this.setIndex(h),this.addAttribute("position",new Me(d,3)),this.addAttribute("normal",new Me(f,3)),this.addAttribute("uv",new Me(p,2))}function yn(e,t,n,r){me.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},this.fromBufferGeometry(new bn(e,t,n,r)),this.mergeVertices()}function bn(e,t,n,r){Ae.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t)||12,n=n||0,r=r||2*Math.PI,r=Is.clamp(r,0,2*Math.PI);var o,a,u,c=[],l=[],h=[],d=1/t,f=new s,p=new i;for(a=0;a<=t;a++){var m=n+a*d*r,g=Math.sin(m),v=Math.cos(m);for(u=0;u<=e.length-1;u++)f.x=e[u].x*g,f.y=e[u].y,f.z=e[u].x*v,l.push(f.x,f.y,f.z),p.x=a/t,p.y=u/(e.length-1),h.push(p.x,p.y)}for(a=0;a<t;a++)for(u=0;u<e.length-1;u++){o=u+a*e.length;var y=o,b=o+e.length,x=o+e.length+1,_=o+1;c.push(y,b,_),c.push(b,x,_)}if(this.setIndex(c),this.addAttribute("position",new Me(l,3)),this.addAttribute("uv",new Me(h,2)),this.computeVertexNormals(),r===2*Math.PI){var w=this.attributes.normal.array,E=new s,M=new s,T=new s;for(o=t*e.length*3,a=0,u=0;a<e.length;a++,u+=3)E.x=w[u+0],E.y=w[u+1],E.z=w[u+2],M.x=w[o+u+0],M.y=w[o+u+1],M.z=w[o+u+2],T.addVectors(E,M).normalize(),w[u+0]=w[o+u+0]=T.x,w[u+1]=w[o+u+1]=T.y,w[u+2]=w[o+u+2]=T.z}}function xn(e,t){me.call(this),this.type="ShapeGeometry","object"==typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new _n(e,t)),this.mergeVertices()}function _n(e,t){function n(e){var n,s,c,l=i.length/3,h=e.extractPoints(t),d=h.shape,f=h.holes;if(!1===Qs.isClockWise(d))for(d=d.reverse(),n=0,s=f.length;n<s;n++)c=f[n],!0===Qs.isClockWise(c)&&(f[n]=c.reverse());var p=Qs.triangulateShape(d,f);for(n=0,s=f.length;n<s;n++)c=f[n],d=d.concat(c);for(n=0,s=d.length;n<s;n++){var m=d[n];i.push(m.x,m.y,0),o.push(0,0,1),a.push(m.x,m.y)}for(n=0,s=p.length;n<s;n++){var g=p[n],v=g[0]+l,y=g[1]+l,b=g[2]+l;r.push(v,y,b),u+=3}}Ae.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var r=[],i=[],o=[],a=[],s=0,u=0;if(!1===Array.isArray(e))n(e);else for(var c=0;c<e.length;c++)n(e[c]),this.addGroup(s,u,c),s+=u,u=0;this.setIndex(r),this.addAttribute("position",new Me(i,3)),this.addAttribute("normal",new Me(o,3)),this.addAttribute("uv",new Me(a,2))}function wn(e,t){Ae.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var n,r,i,o,a=[],s=Math.cos(Is.DEG2RAD*t),u=[0,0],c={},l=["a","b","c"];e.isBufferGeometry?(o=new me,o.fromBufferGeometry(e)):o=e.clone(),o.mergeVertices(),o.computeFaceNormals();for(var h=o.vertices,d=o.faces,f=0,p=d.length;f<p;f++)for(var m=d[f],g=0;g<3;g++)n=m[l[g]],r=m[l[(g+1)%3]],u[0]=Math.min(n,r),u[1]=Math.max(n,r),i=u[0]+","+u[1],void 0===c[i]?c[i]={index1:u[0],index2:u[1],face1:f,face2:void 0}:c[i].face2=f;for(i in c){var v=c[i];if(void 0===v.face2||d[v.face1].normal.dot(d[v.face2].normal)<=s){var y=h[v.index1];a.push(y.x,y.y,y.z),y=h[v.index2],a.push(y.x,y.y,y.z)}}this.addAttribute("position",new Me(a,3))}function En(e,t,n,r,i,o,a,s){me.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new Mn(e,t,n,r,i,o,a,s)),this.mergeVertices()}function Mn(e,t,n,r,o,a,u,c){function l(n){var o,a,l,v=new i,x=new s,_=0,w=!0===n?e:t,E=!0===n?1:-1;for(a=g,o=1;o<=r;o++)f.push(0,y*E,0),p.push(0,E,0),m.push(.5,.5),g++;for(l=g,o=0;o<=r;o++){var M=o/r,T=M*c+u,S=Math.cos(T),C=Math.sin(T);x.x=w*C,x.y=y*E,x.z=w*S,f.push(x.x,x.y,x.z),p.push(0,E,0),v.x=.5*S+.5,v.y=.5*C*E+.5,m.push(v.x,v.y),g++}for(o=0;o<r;o++){var A=a+o,P=l+o;!0===n?d.push(P,P+1,A):d.push(P+1,P,A),_+=3}h.addGroup(b,_,!0===n?1:2),b+=_}Ae.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:o,openEnded:a,thetaStart:u,thetaLength:c};var h=this;e=void 0!==e?e:1,t=void 0!==t?t:1,n=n||1,r=Math.floor(r)||8,o=Math.floor(o)||1,a=void 0!==a&&a,u=void 0!==u?u:0,c=void 0!==c?c:2*Math.PI;var d=[],f=[],p=[],m=[],g=0,v=[],y=n/2,b=0;!function(){var i,a,l=new s,x=new s,_=0,w=(t-e)/n;for(a=0;a<=o;a++){var E=[],M=a/o,T=M*(t-e)+e;for(i=0;i<=r;i++){var S=i/r,C=S*c+u,A=Math.sin(C),P=Math.cos(C);x.x=T*A,x.y=-M*n+y,x.z=T*P,f.push(x.x,x.y,x.z),l.set(A,w,P).normalize(),p.push(l.x,l.y,l.z),m.push(S,1-M),E.push(g++)}v.push(E)}for(i=0;i<r;i++)for(a=0;a<o;a++){var R=v[a][i],L=v[a+1][i],I=v[a+1][i+1],O=v[a][i+1];d.push(R,L,O),d.push(L,I,O),_+=6}h.addGroup(b,_,0),b+=_}(),!1===a&&(e>0&&l(!0),t>0&&l(!1)),this.setIndex(d),this.addAttribute("position",new Me(f,3)),this.addAttribute("normal",new Me(p,3)),this.addAttribute("uv",new Me(m,2))}function Tn(e,t,n,r,i,o,a){En.call(this,0,e,t,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function Sn(e,t,n,r,i,o,a){Mn.call(this,0,e,t,n,r,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function Cn(e,t,n,r){me.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new An(e,t,n,r)),this.mergeVertices()}function An(e,t,n,r){Ae.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},e=e||1,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var o,a,u=[],c=[],l=[],h=[],d=new s,f=new i;for(c.push(0,0,0),l.push(0,0,1),h.push(.5,.5),a=0,o=3;a<=t;a++,o+=3){var p=n+a/t*r;d.x=e*Math.cos(p),d.y=e*Math.sin(p),c.push(d.x,d.y,d.z),l.push(0,0,1),f.x=(c[o]/e+1)/2,f.y=(c[o+1]/e+1)/2,h.push(f.x,f.y)}for(o=1;o<=t;o++)u.push(o,o+1,0);this.setIndex(u),this.addAttribute("position",new Me(c,3)),this.addAttribute("normal",new Me(l,3)),this.addAttribute("uv",new Me(h,2))}function Pn(e){ee.call(this),this.type="ShadowMaterial",this.color=new Z(0),this.opacity=1,this.lights=!0,this.transparent=!0,this.setValues(e)}function Rn(e){Ne.call(this,e),this.type="RawShaderMaterial"}function Ln(e){ee.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Z(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Z(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function In(e){Ln.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(e)}function On(e){ee.call(this),this.type="MeshPhongMaterial",this.color=new Z(16777215),this.specular=new Z(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Z(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=la,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Nn(e){On.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}function kn(e){ee.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Dn(e){ee.call(this),this.type="MeshLambertMaterial",this.color=new Z(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Z(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=la,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Un(e){Nt.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}function Fn(e,t,n){var r=this,i=!1,o=0,a=0,s=void 0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){a++,!1===i&&void 0!==r.onStart&&r.onStart(e,o,a),i=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,a),o===a&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){s=e}}function Bn(e){this.manager=void 0!==e?e:tu}function zn(e){this.manager=void 0!==e?e:tu,this._parser=null}function Hn(e){this.manager=void 0!==e?e:tu,this._parser=null}function qn(e){this.manager=void 0!==e?e:tu}function jn(e){this.manager=void 0!==e?e:tu}function Gn(e){this.manager=void 0!==e?e:tu}function Vn(e,t){he.call(this),this.type="Light",this.color=new Z(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function Wn(e,t,n){Vn.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(he.DefaultUp),this.updateMatrix(),this.groundColor=new Z(t)}function Xn(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new i(512,512),this.map=null,this.matrix=new o}function Yn(){Xn.call(this,new vt(50,1,.5,500))}function Zn(e,t,n,r,i,o){Vn.call(this,e,t),this.type="SpotLight",this.position.copy(he.DefaultUp),this.updateMatrix(),this.target=new he,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new Yn}function Kn(e,t,n,r){Vn.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new Xn(new vt(90,1,.5,500))}function Qn(){Xn.call(this,new fe(-5,5,5,-5,.5,500))}function Jn(e,t){Vn.call(this,e,t),this.type="DirectionalLight",this.position.copy(he.DefaultUp),this.updateMatrix(),this.target=new he,this.shadow=new Qn}function $n(e,t){Vn.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function er(e,t,n,r){Vn.call(this,e,t),this.type="RectAreaLight",this.position.set(0,1,0),this.updateMatrix(),this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function tr(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function nr(e,t,n,r){tr.call(this,e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function rr(e,t,n,r){tr.call(this,e,t,n,r)}function ir(e,t,n,r){tr.call(this,e,t,n,r)}function or(e,t,n,r){if(void 0===e)throw new Error("track name is undefined");if(void 0===t||0===t.length)throw new Error("no keyframes in track named "+e);this.name=e,this.times=ru.convertArray(t,this.TimeBufferType),this.values=ru.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation),this.validate(),this.optimize()}function ar(e,t,n,r){or.call(this,e,t,n,r)}function sr(e,t,n,r){tr.call(this,e,t,n,r)}function ur(e,t,n,r){or.call(this,e,t,n,r)}function cr(e,t,n,r){or.call(this,e,t,n,r)}function lr(e,t,n,r){or.call(this,e,t,n,r)}function hr(e,t,n){or.call(this,e,t,n)}function dr(e,t,n,r){or.call(this,e,t,n,r)}function fr(e,t,n,r){or.apply(this,e,t,n,r)}function pr(e,t,n){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.uuid=Is.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function mr(e){this.manager=void 0!==e?e:tu,this.textures={}}function gr(e){this.manager=void 0!==e?e:tu}function vr(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function yr(e){"boolean"==typeof e&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),e=void 0),this.manager=void 0!==e?e:tu,this.withCredentials=!1}function br(e){this.manager=void 0!==e?e:tu,this.texturePath=""}function xr(e,t,n,r,i){var o=.5*(r-t),a=.5*(i-n),s=e*e;return(2*n-2*r+o+a)*(e*s)+(-3*n+3*r-2*o-a)*s+o*e+n}function _r(e,t){var n=1-e;return n*n*t}function wr(e,t){return 2*(1-e)*e*t}function Er(e,t){return e*e*t}function Mr(e,t,n,r){return _r(e,t)+wr(e,n)+Er(e,r)}function Tr(e,t){var n=1-e;return n*n*n*t}function Sr(e,t){var n=1-e;return 3*n*n*e*t}function Cr(e,t){return 3*(1-e)*e*e*t}function Ar(e,t){return e*e*e*t}function Pr(e,t,n,r,i){return Tr(e,t)+Sr(e,n)+Cr(e,r)+Ar(e,i)}function Rr(){this.type="Curve",this.arcLengthDivisions=200}function Lr(e,t){Rr.call(this),this.type="LineCurve",this.v1=e||new i,this.v2=t||new i}function Ir(){Rr.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Or(e,t,n,r,i,o,a,s){Rr.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=a||!1,this.aRotation=s||0}function Nr(e){Rr.call(this),this.type="SplineCurve",this.points=e||[]}function kr(e,t,n,r){Rr.call(this),this.type="CubicBezierCurve",this.v0=e||new i,this.v1=t||new i,this.v2=n||new i,this.v3=r||new i}function Dr(e,t,n){Rr.call(this),this.type="QuadraticBezierCurve",this.v0=e||new i,this.v1=t||new i,this.v2=n||new i}function Ur(e){Ir.call(this),this.type="Path",this.currentPoint=new i,e&&this.setFromPoints(e)}function Fr(e){Ur.call(this,e),this.type="Shape",this.holes=[]}function Br(){this.type="ShapePath",this.subPaths=[],this.currentPath=null}function zr(e){this.type="Font",this.data=e}function Hr(e){this.manager=void 0!==e?e:tu}function qr(e){this.manager=void 0!==e?e:tu}function jr(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new vt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new vt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function Gr(e,t,n){he.call(this),this.type="CubeCamera";var r=new vt(90,1,e,t);r.up.set(0,-1,0),r.lookAt(new s(1,0,0)),this.add(r);var i=new vt(90,1,e,t);i.up.set(0,-1,0),i.lookAt(new s(-1,0,0)),this.add(i);var o=new vt(90,1,e,t);o.up.set(0,0,1),o.lookAt(new s(0,1,0)),this.add(o);var a=new vt(90,1,e,t);a.up.set(0,0,-1),a.lookAt(new s(0,-1,0)),this.add(a);var u=new vt(90,1,e,t);u.up.set(0,-1,0),u.lookAt(new s(0,0,1)),this.add(u);var c=new vt(90,1,e,t);c.up.set(0,-1,0),c.lookAt(new s(0,0,-1)),this.add(c);var l={format:Ya,magFilter:Ia,minFilter:Ia};this.renderTarget=new d(n,n,l),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,s=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,e.render(t,r,n),n.activeCubeFace=1,e.render(t,i,n),n.activeCubeFace=2,e.render(t,o,n),n.activeCubeFace=3,e.render(t,a,n),n.activeCubeFace=4,e.render(t,u,n),n.texture.generateMipmaps=s,n.activeCubeFace=5,e.render(t,c,n),e.setRenderTarget(null)},this.clear=function(e,t,n,r){for(var i=this.renderTarget,o=0;o<6;o++)i.activeCubeFace=o,e.setRenderTarget(i),e.clear(t,n,r);e.setRenderTarget(null)}}function Vr(){he.call(this),this.type="AudioListener",this.context=hu.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function Wr(e){he.call(this),this.type="Audio",this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function Xr(e){Wr.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function Yr(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function Zr(e,t,n){this.binding=e,this.valueSize=n;var r,i=Float64Array;switch(t){case"quaternion":r=this._slerp;break;case"string":case"bool":i=Array,r=this._select;break;default:r=this._lerp}this.buffer=new i(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function Kr(e,t,n){var r=n||Qr.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}function Qr(e,t,n){this.path=t,this.parsedPath=n||Qr.parseTrackName(t),this.node=Qr.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function Jr(){this.uuid=Is.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}function $r(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null;for(var r=t.tracks,i=r.length,o=new Array(i),a={endingStart:gs,endingEnd:gs},s=0;s!==i;++s){var u=r[s].createInterpolant(null);o[s]=u,u.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=hs,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function ei(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function ti(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function ni(){Ae.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function ri(e,t,n,r){this.uuid=Is.generateUUID(),this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}function ii(e,t){this.uuid=Is.generateUUID(),this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function oi(e,t,n){ii.call(this,e,t),this.meshPerAttribute=n||1}function ai(e,t,n){ge.call(this,e,t),this.meshPerAttribute=n||1}function si(e,t,n,r){this.ray=new ke(e,t),this.near=n||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function ui(e,t){return e.distance-t.distance}function ci(e,t,n,r){if(!1!==e.visible&&(e.raycast(t,n),!0===r))for(var i=e.children,o=0,a=i.length;o<a;o++)ci(i[o],t,n,!0)}function li(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function hi(e,t,n){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==n?n:0,this}function di(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}function fi(e){he.call(this),this.material=e,this.render=function(){}}function pi(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:16711680,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var u=new Ae,c=new Me(2*a*3,3);u.addAttribute("position",c),Dt.call(this,u,new Nt({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function mi(e,t){he.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var n=new Ae,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,o=1;i<32;i++,o++){var a=i/32*Math.PI*2,s=o/32*Math.PI*2;r.push(Math.cos(a),Math.sin(a),1,Math.cos(s),Math.sin(s),1)}n.addAttribute("position",new Me(r,3));var u=new Nt({fog:!1});this.cone=new Dt(n,u),this.add(this.cone),this.update()}function gi(e){var t=[];e&&e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,gi(e.children[n]));return t}function vi(e){for(var t=gi(e),n=new Ae,r=[],i=[],o=new Z(0,0,1),a=new Z(0,1,0),s=0;s<t.length;s++){var u=t[s];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(o.r,o.g,o.b),i.push(a.r,a.g,a.b))}n.addAttribute("position",new Me(r,3)),n.addAttribute("color",new Me(i,3));var c=new Nt({vertexColors:Oo,depthTest:!1,depthWrite:!1,transparent:!0});Dt.call(this,n,c),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function yi(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;var r=new mn(t,4,2),i=new Oe({wireframe:!0,fog:!1});Fe.call(this,r,i),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function bi(e,t){he.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;var n=new Nt({fog:!1}),r=new Ae;r.addAttribute("position",new ge(new Float32Array(15),3)),this.line=new kt(r,n),this.add(this.line),this.update()}function xi(e,t,n){he.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var r=new Jt(t);r.rotateY(.5*Math.PI),this.material=new Oe({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=Oo);var i=r.getAttribute("position"),o=new Float32Array(3*i.count);r.addAttribute("color",new ge(o,3)),this.add(new Fe(r,this.material)),this.update()}function _i(e,t,n,r){e=e||10,t=t||10,n=new Z(void 0!==n?n:4473924),r=new Z(void 0!==r?r:8947848);for(var i=t/2,o=e/t,a=e/2,s=[],u=[],c=0,l=0,h=-a;c<=t;c++,h+=o){s.push(-a,0,h,a,0,h),s.push(h,0,-a,h,0,a);var d=c===i?n:r;d.toArray(u,l),l+=3,d.toArray(u,l),l+=3,d.toArray(u,l),l+=3,d.toArray(u,l),l+=3}var f=new Ae;f.addAttribute("position",new Me(s,3)),f.addAttribute("color",new Me(u,3));var p=new Nt({vertexColors:Oo});Dt.call(this,f,p)}function wi(e,t,n,r,i,o){e=e||10,t=t||16,n=n||8,r=r||64,i=new Z(void 0!==i?i:4473924),o=new Z(void 0!==o?o:8947848);var a,s,u,c,l,h,d,f=[],p=[];for(c=0;c<=t;c++)u=c/t*(2*Math.PI),a=Math.sin(u)*e,s=Math.cos(u)*e,f.push(0,0,0),f.push(a,0,s),d=1&c?i:o,p.push(d.r,d.g,d.b),p.push(d.r,d.g,d.b);for(c=0;c<=n;c++)for(d=1&c?i:o,h=e-e/n*c,l=0;l<r;l++)u=l/r*(2*Math.PI),a=Math.sin(u)*h,s=Math.cos(u)*h,f.push(a,0,s),p.push(d.r,d.g,d.b),u=(l+1)/r*(2*Math.PI),a=Math.sin(u)*h,s=Math.cos(u)*h,f.push(a,0,s),p.push(d.r,d.g,d.b);var m=new Ae;m.addAttribute("position",new Me(f,3)),m.addAttribute("color",new Me(p,3));var g=new Nt({vertexColors:Oo});Dt.call(this,m,g)}function Ei(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:16776960,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var u=new Ae,c=new Me(2*a*3,3);u.addAttribute("position",c),Dt.call(this,u,new Nt({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function Mi(e,t,n){he.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1);var r=new Ae;r.addAttribute("position",new Me([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var i=new Nt({fog:!1});this.lightPlane=new kt(r,i),this.add(this.lightPlane),r=new Ae,r.addAttribute("position",new Me([0,0,0,0,0,1],3)),this.targetLine=new kt(r,i),this.add(this.targetLine),this.update()}function Ti(e){function t(e,t,r){n(e,r),n(t,r)}function n(e,t){o.push(0,0,0),a.push(t.r,t.g,t.b),void 0===s[e]&&(s[e]=[]),s[e].push(o.length/3-1)}var r=new Ae,i=new Nt({color:16777215,vertexColors:Io}),o=[],a=[],s={},u=new Z(16755200),c=new Z(16711680),l=new Z(43775),h=new Z(16777215),d=new Z(3355443);t("n1","n2",u),t("n2","n4",u),t("n4","n3",u),t("n3","n1",u),t("f1","f2",u),t("f2","f4",u),t("f4","f3",u),t("f3","f1",u),t("n1","f1",u),t("n2","f2",u),t("n3","f3",u),t("n4","f4",u),t("p","n1",c),t("p","n2",c),t("p","n3",c),t("p","n4",c),t("u1","u2",l),t("u2","u3",l),t("u3","u1",l),t("c","t",h),t("p","c",d),t("cn1","cn2",d),t("cn3","cn4",d),t("cf1","cf2",d),t("cf3","cf4",d),r.addAttribute("position",new Me(o,3)),r.addAttribute("color",new Me(a,3)),Dt.call(this,r,i),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}function Si(e,t){this.object=e,void 0===t&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new Ae;i.setIndex(new ge(n,1)),i.addAttribute("position",new ge(r,3)),Dt.call(this,i,new Nt({color:t})),this.matrixAutoUpdate=!1,this.update()}function Ci(e,t){this.type="Box3Helper",this.box=e;var n=void 0!==t?t:16776960,r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new Ae;o.setIndex(new ge(r,1)),o.addAttribute("position",new Me(i,3)),Dt.call(this,o,new Nt({color:n})),this.geometry.computeBoundingSphere()}function Ai(e,t,n){this.type="PlaneHelper",this.plane=e,this.size=void 0===t?1:t;var r=void 0!==n?n:16776960,i=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],o=new Ae;o.addAttribute("position",new Me(i,3)),o.computeBoundingSphere(),kt.call(this,o,new Nt({color:r}));var a=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],s=new Ae;s.addAttribute("position",new Me(a,3)),s.computeBoundingSphere(),this.add(new Fe(s,new Oe({color:r,opacity:.2,transparent:!0,depthWrite:!1})))}function Pi(e,t,n,r,i,o){he.call(this),void 0===r&&(r=16776960),void 0===n&&(n=1),void 0===i&&(i=.2*n),void 0===o&&(o=.2*i),void 0===du&&(du=new Ae,du.addAttribute("position",new Me([0,0,0,0,1,0],3)),fu=new Mn(0,.5,1,5,1),fu.translate(0,-.5,0)),this.position.copy(t),this.line=new kt(du,new Nt({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Fe(fu,new Oe({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,o)}function Ri(e){e=e||1;var t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Ae;r.addAttribute("position",new Me(t,3)),r.addAttribute("color",new Me(n,3));var i=new Nt({vertexColors:Oo});Dt.call(this,r,i)}function Li(){function e(e,o,a,s){t=e,n=a,r=-3*e+3*o-2*a-s,i=2*e-2*o+a+s}var t=0,n=0,r=0,i=0;return{initCatmullRom:function(t,n,r,i,o){e(n,r,o*(r-t),o*(i-n))},initNonuniformCatmullRom:function(t,n,r,i,o,a,s){var u=(n-t)/o-(r-t)/(o+a)+(r-n)/a,c=(r-n)/a-(i-n)/(a+s)+(i-r)/s;u*=a,c*=a,e(n,r,u,c)},calc:function(e){var o=e*e;return t+n*e+r*o+i*(o*e)}}}function Ii(e,t,n,r){Rr.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=r||.5}function Oi(e,t,n,r){Rr.call(this),this.type="CubicBezierCurve3",this.v0=e||new s,this.v1=t||new s,this.v2=n||new s,this.v3=r||new s}function Ni(e,t,n){Rr.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new s,this.v1=t||new s,this.v2=n||new s}function ki(e,t){Rr.call(this),this.type="LineCurve3",this.v1=e||new s,this.v2=t||new s}function Di(e,t,n,r,i,o){Or.call(this,e,t,n,n,r,i,o),this.type="ArcCurve"}function Ui(e,t,n,r,i,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new pe(e,t,n,i,o,a)}function Fi(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e}function Bi(e){return void 0===e&&(e=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function zi(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Bt(e,t)}function Hi(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Pt(e)}function qi(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Bt(e,t)}function ji(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Ft(e)}function Gi(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Ft(e)}function Vi(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Ft(e)}function Wi(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new s(e,t,n)}function Xi(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new ge(e,t).setDynamic(!0)}function Yi(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new ve(e,t)}function Zi(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new ye(e,t)}function Ki(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new be(e,t)}function Qi(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new xe(e,t)}function Ji(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new _e(e,t)}function $i(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new we(e,t)}function eo(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Ee(e,t)}function to(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Me(e,t)}function no(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Te(e,t)}function ro(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Ii.call(this,e),this.type="catmullrom",this.closed=!0}function io(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Ii.call(this,e),this.type="catmullrom"}function oo(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Ii.call(this,e),this.type="catmullrom"}function ao(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new Ri(e)}function so(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Si(e,t)}function uo(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Dt(new wn(e.geometry),new Nt({color:void 0!==t?t:16777215}))}function co(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Dt(new Gt(e.geometry),new Nt({color:void 0!==t?t:16777215}))}function lo(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Bn(e)}function ho(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Hn(e)}function fo(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(e,t){console.warn("THREE.Projector: .projectVector() is now vector.project()."),e.project(t)},this.unprojectVector=function(e,t){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),e.unproject(t)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}}function po(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"WebGLRenderTargetCube",function(){return d}),n.d(t,"WebGLRenderTarget",function(){return h}),n.d(t,"WebGLRenderer",function(){return Et}),n.d(t,"ShaderLib",function(){return Vs}),n.d(t,"UniformsLib",function(){return qs}),n.d(t,"UniformsUtils",function(){return js}),n.d(t,"ShaderChunk",function(){return Gs}),n.d(t,"FogExp2",function(){return Mt}),n.d(t,"Fog",function(){return Tt}),n.d(t,"Scene",function(){return St}),n.d(t,"LensFlare",function(){return Ct}),n.d(t,"Sprite",function(){return Pt}),n.d(t,"LOD",function(){return Rt}),n.d(t,"SkinnedMesh",function(){return Ot}),n.d(t,"Skeleton",function(){return Lt}),n.d(t,"Bone",function(){return It}),n.d(t,"Mesh",function(){return Fe}),n.d(t,"LineSegments",function(){return Dt}),n.d(t,"LineLoop",function(){return Ut}),n.d(t,"Line",function(){return kt}),n.d(t,"Points",function(){return Bt}),n.d(t,"Group",function(){return zt}),n.d(t,"VideoTexture",function(){return Ht}),n.d(t,"DataTexture",function(){return f}),n.d(t,"CompressedTexture",function(){return qt}),n.d(t,"CubeTexture",function(){return p}),n.d(t,"CanvasTexture",function(){return J}),n.d(t,"DepthTexture",function(){return jt}),n.d(t,"Texture",function(){return c}),n.d(t,"CompressedTextureLoader",function(){return zn}),n.d(t,"DataTextureLoader",function(){return Hn}),n.d(t,"CubeTextureLoader",function(){return jn}),n.d(t,"TextureLoader",function(){return Gn}),n.d(t,"ObjectLoader",function(){return br}),n.d(t,"MaterialLoader",function(){return mr}),n.d(t,"BufferGeometryLoader",function(){return gr}),n.d(t,"DefaultLoadingManager",function(){return tu}),n.d(t,"LoadingManager",function(){return Fn}),n.d(t,"JSONLoader",function(){return yr}),n.d(t,"ImageLoader",function(){return qn}),n.d(t,"FontLoader",function(){return Hr}),n.d(t,"FileLoader",function(){return Bn}),n.d(t,"Loader",function(){return vr}),n.d(t,"Cache",function(){return eu}),n.d(t,"AudioLoader",function(){return qr}),n.d(t,"SpotLightShadow",function(){return Yn}),n.d(t,"SpotLight",function(){return Zn}),n.d(t,"PointLight",function(){return Kn}),n.d(t,"RectAreaLight",function(){return er}),n.d(t,"HemisphereLight",function(){return Wn}),n.d(t,"DirectionalLightShadow",function(){return Qn}),n.d(t,"DirectionalLight",function(){return Jn}),n.d(t,"AmbientLight",function(){return $n}),n.d(t,"LightShadow",function(){return Xn}),n.d(t,"Light",function(){return Vn}),n.d(t,"StereoCamera",function(){return jr}),n.d(t,"PerspectiveCamera",function(){return vt}),n.d(t,"OrthographicCamera",function(){return fe}),n.d(t,"CubeCamera",function(){return Gr}),n.d(t,"ArrayCamera",function(){return yt}),n.d(t,"Camera",function(){return de}),n.d(t,"AudioListener",function(){return Vr}),n.d(t,"PositionalAudio",function(){return Xr}),n.d(t,"AudioContext",function(){return hu}),n.d(t,"AudioAnalyser",function(){return Yr}),n.d(t,"Audio",function(){return Wr}),n.d(t,"VectorKeyframeTrack",function(){return ar}),n.d(t,"StringKeyframeTrack",function(){return lr}),n.d(t,"QuaternionKeyframeTrack",function(){return ur}),n.d(t,"NumberKeyframeTrack",function(){return cr}),n.d(t,"ColorKeyframeTrack",function(){return dr}),n.d(t,"BooleanKeyframeTrack",function(){return hr}),n.d(t,"PropertyMixer",function(){return Zr}),n.d(t,"PropertyBinding",function(){return Qr}),n.d(t,"KeyframeTrack",function(){return fr}),n.d(t,"AnimationUtils",function(){return ru}),n.d(t,"AnimationObjectGroup",function(){return Jr}),n.d(t,"AnimationMixer",function(){return ei}),n.d(t,"AnimationClip",function(){return pr}),n.d(t,"Uniform",function(){return ti}),n.d(t,"InstancedBufferGeometry",function(){return ni}),n.d(t,"BufferGeometry",function(){return Ae}),n.d(t,"Geometry",function(){return me}),n.d(t,"InterleavedBufferAttribute",function(){return ri}),n.d(t,"InstancedInterleavedBuffer",function(){return oi}),n.d(t,"InterleavedBuffer",function(){return ii}),n.d(t,"InstancedBufferAttribute",function(){return ai}),n.d(t,"Face3",function(){return pe}),n.d(t,"Object3D",function(){return he}),n.d(t,"Raycaster",function(){return si}),n.d(t,"Layers",function(){return le}),n.d(t,"EventDispatcher",function(){return r}),n.d(t,"Clock",function(){return li}),n.d(t,"QuaternionLinearInterpolant",function(){return sr}),n.d(t,"LinearInterpolant",function(){return rr}),n.d(t,"DiscreteInterpolant",function(){return ir}),n.d(t,"CubicInterpolant",function(){return nr}),n.d(t,"Interpolant",function(){return tr}),n.d(t,"Triangle",function(){return Ue}),n.d(t,"Math",function(){return Is}),n.d(t,"Spherical",function(){return hi}),n.d(t,"Cylindrical",function(){return di}),n.d(t,"Plane",function(){return oe}),n.d(t,"Frustum",function(){return ae}),n.d(t,"Sphere",function(){return ie}),n.d(t,"Ray",function(){return ke}),n.d(t,"Matrix4",function(){return o}),n.d(t,"Matrix3",function(){return u}),n.d(t,"Box3",function(){return re}),n.d(t,"Box2",function(){return K}),n.d(t,"Line3",function(){return De}),n.d(t,"Euler",function(){return ce}),n.d(t,"Vector4",function(){return l}),n.d(t,"Vector3",function(){return s}),n.d(t,"Vector2",function(){return i}),n.d(t,"Quaternion",function(){return a}),n.d(t,"Color",function(){return Z}),n.d(t,"ImmediateRenderObject",function(){return fi}),n.d(t,"VertexNormalsHelper",function(){return pi}),n.d(t,"SpotLightHelper",function(){return mi}),n.d(t,"SkeletonHelper",function(){return vi}),n.d(t,"PointLightHelper",function(){return yi}),n.d(t,"RectAreaLightHelper",function(){return bi}),n.d(t,"HemisphereLightHelper",function(){return xi}),n.d(t,"GridHelper",function(){return _i}),n.d(t,"PolarGridHelper",function(){return wi}),n.d(t,"FaceNormalsHelper",function(){return Ei}),n.d(t,"DirectionalLightHelper",function(){return Mi}),n.d(t,"CameraHelper",function(){return Ti}),n.d(t,"BoxHelper",function(){return Si}),n.d(t,"Box3Helper",function(){return Ci}),n.d(t,"PlaneHelper",function(){return Ai}),n.d(t,"ArrowHelper",function(){return Pi}),n.d(t,"AxesHelper",function(){return Ri}),n.d(t,"CatmullRomCurve3",function(){return Ii}),n.d(t,"CubicBezierCurve3",function(){return Oi}),n.d(t,"QuadraticBezierCurve3",function(){return Ni}),n.d(t,"LineCurve3",function(){return ki}),n.d(t,"ArcCurve",function(){return Di}),n.d(t,"EllipseCurve",function(){return Or}),n.d(t,"SplineCurve",function(){return Nr}),n.d(t,"CubicBezierCurve",function(){return kr}),n.d(t,"QuadraticBezierCurve",function(){return Dr}),n.d(t,"LineCurve",function(){return Lr}),n.d(t,"Shape",function(){return Fr}),n.d(t,"Path",function(){return Ur}),n.d(t,"ShapePath",function(){return Br}),n.d(t,"Font",function(){return zr}),n.d(t,"CurvePath",function(){return Ir}),n.d(t,"Curve",function(){return Rr}),n.d(t,"ShapeUtils",function(){return Qs}),n.d(t,"SceneUtils",function(){return yu}),n.d(t,"WebGLUtils",function(){return wt}),n.d(t,"WireframeGeometry",function(){return Gt}),n.d(t,"ParametricGeometry",function(){return Vt}),n.d(t,"ParametricBufferGeometry",function(){return Wt}),n.d(t,"TetrahedronGeometry",function(){return Zt}),n.d(t,"TetrahedronBufferGeometry",function(){return Kt}),n.d(t,"OctahedronGeometry",function(){return Qt}),n.d(t,"OctahedronBufferGeometry",function(){return Jt}),n.d(t,"IcosahedronGeometry",function(){return $t}),n.d(t,"IcosahedronBufferGeometry",function(){return en}),n.d(t,"DodecahedronGeometry",function(){return tn}),n.d(t,"DodecahedronBufferGeometry",function(){return nn}),n.d(t,"PolyhedronGeometry",function(){return Xt}),n.d(t,"PolyhedronBufferGeometry",function(){return Yt}),n.d(t,"TubeGeometry",function(){return rn}),n.d(t,"TubeBufferGeometry",function(){return on}),n.d(t,"TorusKnotGeometry",function(){return an}),n.d(t,"TorusKnotBufferGeometry",function(){return sn}),n.d(t,"TorusGeometry",function(){return un}),n.d(t,"TorusBufferGeometry",function(){return cn}),n.d(t,"TextGeometry",function(){return dn}),n.d(t,"TextBufferGeometry",function(){return fn}),n.d(t,"SphereGeometry",function(){return pn}),n.d(t,"SphereBufferGeometry",function(){return mn}),n.d(t,"RingGeometry",function(){return gn}),n.d(t,"RingBufferGeometry",function(){return vn}),n.d(t,"PlaneGeometry",function(){return Le}),n.d(t,"PlaneBufferGeometry",function(){return Ie}),n.d(t,"LatheGeometry",function(){return yn}),n.d(t,"LatheBufferGeometry",function(){return bn}),n.d(t,"ShapeGeometry",function(){return xn}),n.d(t,"ShapeBufferGeometry",function(){return _n}),n.d(t,"ExtrudeGeometry",function(){return ln}),n.d(t,"ExtrudeBufferGeometry",function(){return hn}),n.d(t,"EdgesGeometry",function(){return wn}),n.d(t,"ConeGeometry",function(){return Tn}),n.d(t,"ConeBufferGeometry",function(){return Sn}),n.d(t,"CylinderGeometry",function(){return En}),n.d(t,"CylinderBufferGeometry",function(){return Mn}),n.d(t,"CircleGeometry",function(){return Cn}),n.d(t,"CircleBufferGeometry",function(){return An}),n.d(t,"BoxGeometry",function(){return Pe}),n.d(t,"BoxBufferGeometry",function(){return Re}),n.d(t,"ShadowMaterial",function(){return Pn}),n.d(t,"SpriteMaterial",function(){return At}),n.d(t,"RawShaderMaterial",function(){return Rn}),n.d(t,"ShaderMaterial",function(){return Ne});n.d(t,"PointsMaterial",function(){return Ft}),n.d(t,"MeshPhysicalMaterial",function(){return In}),n.d(t,"MeshStandardMaterial",function(){return Ln}),n.d(t,"MeshPhongMaterial",function(){return On}),n.d(t,"MeshToonMaterial",function(){return Nn}),n.d(t,"MeshNormalMaterial",function(){return kn}),n.d(t,"MeshLambertMaterial",function(){return Dn}),n.d(t,"MeshDepthMaterial",function(){return te}),n.d(t,"MeshDistanceMaterial",function(){return ne}),n.d(t,"MeshBasicMaterial",function(){return Oe}),n.d(t,"LineDashedMaterial",function(){return Un}),n.d(t,"LineBasicMaterial",function(){return Nt}),n.d(t,"Material",function(){return ee}),n.d(t,"Float64BufferAttribute",function(){return Te}),n.d(t,"Float32BufferAttribute",function(){return Me}),n.d(t,"Uint32BufferAttribute",function(){return Ee}),n.d(t,"Int32BufferAttribute",function(){return we}),n.d(t,"Uint16BufferAttribute",function(){return _e}),n.d(t,"Int16BufferAttribute",function(){return xe}),n.d(t,"Uint8ClampedBufferAttribute",function(){return be}),n.d(t,"Uint8BufferAttribute",function(){return ye}),n.d(t,"Int8BufferAttribute",function(){return ve}),n.d(t,"BufferAttribute",function(){return ge}),n.d(t,"REVISION",function(){return mo}),n.d(t,"MOUSE",function(){return go}),n.d(t,"CullFaceNone",function(){return vo}),n.d(t,"CullFaceBack",function(){return yo}),n.d(t,"CullFaceFront",function(){return bo}),n.d(t,"CullFaceFrontBack",function(){return xo}),n.d(t,"FrontFaceDirectionCW",function(){return _o}),n.d(t,"FrontFaceDirectionCCW",function(){return wo}),n.d(t,"BasicShadowMap",function(){return Eo}),n.d(t,"PCFShadowMap",function(){return Mo}),n.d(t,"PCFSoftShadowMap",function(){return To}),n.d(t,"FrontSide",function(){return So}),n.d(t,"BackSide",function(){return Co}),n.d(t,"DoubleSide",function(){return Ao}),n.d(t,"FlatShading",function(){return Po}),n.d(t,"SmoothShading",function(){return Ro}),n.d(t,"NoColors",function(){return Lo}),n.d(t,"FaceColors",function(){return Io}),n.d(t,"VertexColors",function(){return Oo}),n.d(t,"NoBlending",function(){return No}),n.d(t,"NormalBlending",function(){return ko}),n.d(t,"AdditiveBlending",function(){return Do}),n.d(t,"SubtractiveBlending",function(){return Uo}),n.d(t,"MultiplyBlending",function(){return Fo}),n.d(t,"CustomBlending",function(){return Bo}),n.d(t,"AddEquation",function(){return zo}),n.d(t,"SubtractEquation",function(){return Ho}),n.d(t,"ReverseSubtractEquation",function(){return qo}),n.d(t,"MinEquation",function(){return jo}),n.d(t,"MaxEquation",function(){return Go}),n.d(t,"ZeroFactor",function(){return Vo}),n.d(t,"OneFactor",function(){return Wo}),n.d(t,"SrcColorFactor",function(){return Xo}),n.d(t,"OneMinusSrcColorFactor",function(){return Yo}),n.d(t,"SrcAlphaFactor",function(){return Zo}),n.d(t,"OneMinusSrcAlphaFactor",function(){return Ko}),n.d(t,"DstAlphaFactor",function(){return Qo}),n.d(t,"OneMinusDstAlphaFactor",function(){return Jo}),n.d(t,"DstColorFactor",function(){return $o}),n.d(t,"OneMinusDstColorFactor",function(){return ea}),n.d(t,"SrcAlphaSaturateFactor",function(){return ta}),n.d(t,"NeverDepth",function(){return na}),n.d(t,"AlwaysDepth",function(){return ra}),n.d(t,"LessDepth",function(){return ia}),n.d(t,"LessEqualDepth",function(){return oa}),n.d(t,"EqualDepth",function(){return aa}),n.d(t,"GreaterEqualDepth",function(){return sa}),n.d(t,"GreaterDepth",function(){return ua}),n.d(t,"NotEqualDepth",function(){return ca}),n.d(t,"MultiplyOperation",function(){return la}),n.d(t,"MixOperation",function(){return ha}),n.d(t,"AddOperation",function(){return da}),n.d(t,"NoToneMapping",function(){return fa}),n.d(t,"LinearToneMapping",function(){return pa}),n.d(t,"ReinhardToneMapping",function(){return ma}),n.d(t,"Uncharted2ToneMapping",function(){return ga}),n.d(t,"CineonToneMapping",function(){return va}),n.d(t,"UVMapping",function(){return ya}),n.d(t,"CubeReflectionMapping",function(){return ba}),n.d(t,"CubeRefractionMapping",function(){return xa}),n.d(t,"EquirectangularReflectionMapping",function(){return _a}),n.d(t,"EquirectangularRefractionMapping",function(){return wa}),n.d(t,"SphericalReflectionMapping",function(){return Ea}),n.d(t,"CubeUVReflectionMapping",function(){return Ma}),n.d(t,"CubeUVRefractionMapping",function(){return Ta}),n.d(t,"RepeatWrapping",function(){return Sa}),n.d(t,"ClampToEdgeWrapping",function(){return Ca}),n.d(t,"MirroredRepeatWrapping",function(){return Aa}),n.d(t,"NearestFilter",function(){return Pa}),n.d(t,"NearestMipMapNearestFilter",function(){return Ra}),n.d(t,"NearestMipMapLinearFilter",function(){return La}),n.d(t,"LinearFilter",function(){return Ia}),n.d(t,"LinearMipMapNearestFilter",function(){return Oa}),n.d(t,"LinearMipMapLinearFilter",function(){return Na}),n.d(t,"UnsignedByteType",function(){return ka}),n.d(t,"ByteType",function(){return Da}),n.d(t,"ShortType",function(){return Ua}),n.d(t,"UnsignedShortType",function(){return Fa}),n.d(t,"IntType",function(){return Ba}),n.d(t,"UnsignedIntType",function(){return za}),n.d(t,"FloatType",function(){return Ha}),n.d(t,"HalfFloatType",function(){return qa}),n.d(t,"UnsignedShort4444Type",function(){return ja}),n.d(t,"UnsignedShort5551Type",function(){return Ga}),n.d(t,"UnsignedShort565Type",function(){return Va}),n.d(t,"UnsignedInt248Type",function(){return Wa}),n.d(t,"AlphaFormat",function(){return Xa}),n.d(t,"RGBFormat",function(){return Ya}),n.d(t,"RGBAFormat",function(){return Za}),n.d(t,"LuminanceFormat",function(){return Ka}),n.d(t,"LuminanceAlphaFormat",function(){return Qa}),n.d(t,"RGBEFormat",function(){return Ja}),n.d(t,"DepthFormat",function(){return $a}),n.d(t,"DepthStencilFormat",function(){return es}),n.d(t,"RGB_S3TC_DXT1_Format",function(){return ts}),n.d(t,"RGBA_S3TC_DXT1_Format",function(){return ns}),n.d(t,"RGBA_S3TC_DXT3_Format",function(){return rs}),n.d(t,"RGBA_S3TC_DXT5_Format",function(){return is}),n.d(t,"RGB_PVRTC_4BPPV1_Format",function(){return os}),n.d(t,"RGB_PVRTC_2BPPV1_Format",function(){return as}),n.d(t,"RGBA_PVRTC_4BPPV1_Format",function(){return ss}),n.d(t,"RGBA_PVRTC_2BPPV1_Format",function(){return us}),n.d(t,"RGB_ETC1_Format",function(){return cs}),n.d(t,"LoopOnce",function(){return ls}),n.d(t,"LoopRepeat",function(){return hs}),n.d(t,"LoopPingPong",function(){return ds}),n.d(t,"InterpolateDiscrete",function(){return fs}),n.d(t,"InterpolateLinear",function(){return ps}),n.d(t,"InterpolateSmooth",function(){return ms}),n.d(t,"ZeroCurvatureEnding",function(){return gs}),n.d(t,"ZeroSlopeEnding",function(){return vs}),n.d(t,"WrapAroundEnding",function(){return ys}),n.d(t,"TrianglesDrawMode",function(){return bs}),n.d(t,"TriangleStripDrawMode",function(){return xs}),n.d(t,"TriangleFanDrawMode",function(){return _s}),n.d(t,"LinearEncoding",function(){return ws}),n.d(t,"sRGBEncoding",function(){return Es}),n.d(t,"GammaEncoding",function(){return Ms}),n.d(t,"RGBEEncoding",function(){return Ts}),n.d(t,"LogLuvEncoding",function(){return Ss}),n.d(t,"RGBM7Encoding",function(){return Cs}),n.d(t,"RGBM16Encoding",function(){return As}),n.d(t,"RGBDEncoding",function(){return Ps}),n.d(t,"BasicDepthPacking",function(){return Rs}),n.d(t,"RGBADepthPacking",function(){return Ls}),n.d(t,"CubeGeometry",function(){return Pe}),n.d(t,"Face4",function(){return Ui}),n.d(t,"LineStrip",function(){return bu}),n.d(t,"LinePieces",function(){return xu}),n.d(t,"MeshFaceMaterial",function(){return Fi}),n.d(t,"MultiMaterial",function(){return Bi}),n.d(t,"PointCloud",function(){return zi}),n.d(t,"Particle",function(){return Hi}),n.d(t,"ParticleSystem",function(){return qi}),n.d(t,"PointCloudMaterial",function(){return ji}),n.d(t,"ParticleBasicMaterial",function(){return Gi}),n.d(t,"ParticleSystemMaterial",function(){return Vi}),n.d(t,"Vertex",function(){return Wi}),n.d(t,"DynamicBufferAttribute",function(){return Xi}),n.d(t,"Int8Attribute",function(){return Yi}),n.d(t,"Uint8Attribute",function(){return Zi}),n.d(t,"Uint8ClampedAttribute",function(){return Ki}),n.d(t,"Int16Attribute",function(){return Qi}),n.d(t,"Uint16Attribute",function(){return Ji}),n.d(t,"Int32Attribute",function(){return $i}),n.d(t,"Uint32Attribute",function(){return eo}),n.d(t,"Float32Attribute",function(){return to}),n.d(t,"Float64Attribute",function(){return no}),n.d(t,"ClosedSplineCurve3",function(){return ro}),n.d(t,"SplineCurve3",function(){return io}),n.d(t,"Spline",function(){return oo}),n.d(t,"AxisHelper",function(){return ao}),n.d(t,"BoundingBoxHelper",function(){return so}),n.d(t,"EdgesHelper",function(){return uo}),n.d(t,"WireframeHelper",function(){return co}),n.d(t,"XHRLoader",function(){return lo}),n.d(t,"BinaryTextureLoader",function(){return ho}),n.d(t,"GeometryUtils",function(){return _u}),n.d(t,"ImageUtils",function(){return wu}),n.d(t,"Projector",function(){return fo}),n.d(t,"CanvasRenderer",function(){return po}),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),"name"in Function.prototype==!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&function(){Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}}(),Object.assign(r.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners,r=n[e];if(void 0!==r){var i=r.indexOf(t);-1!==i&&r.splice(i,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners,n=t[e.type];if(void 0!==n){e.target=this;for(var r=n.slice(0),i=0,o=r.length;i<o;i++)r[i].call(this,e)}}}});var mo="88",go={LEFT:0,MIDDLE:1,RIGHT:2},vo=0,yo=1,bo=2,xo=3,_o=0,wo=1,Eo=0,Mo=1,To=2,So=0,Co=1,Ao=2,Po=1,Ro=2,Lo=0,Io=1,Oo=2,No=0,ko=1,Do=2,Uo=3,Fo=4,Bo=5,zo=100,Ho=101,qo=102,jo=103,Go=104,Vo=200,Wo=201,Xo=202,Yo=203,Zo=204,Ko=205,Qo=206,Jo=207,$o=208,ea=209,ta=210,na=0,ra=1,ia=2,oa=3,aa=4,sa=5,ua=6,ca=7,la=0,ha=1,da=2,fa=0,pa=1,ma=2,ga=3,va=4,ya=300,ba=301,xa=302,_a=303,wa=304,Ea=305,Ma=306,Ta=307,Sa=1e3,Ca=1001,Aa=1002,Pa=1003,Ra=1004,La=1005,Ia=1006,Oa=1007,Na=1008,ka=1009,Da=1010,Ua=1011,Fa=1012,Ba=1013,za=1014,Ha=1015,qa=1016,ja=1017,Ga=1018,Va=1019,Wa=1020,Xa=1021,Ya=1022,Za=1023,Ka=1024,Qa=1025,Ja=Za,$a=1026,es=1027,ts=2001,ns=2002,rs=2003,is=2004,os=2100,as=2101,ss=2102,us=2103,cs=2151,ls=2200,hs=2201,ds=2202,fs=2300,ps=2301,ms=2302,gs=2400,vs=2401,ys=2402,bs=0,xs=1,_s=2,ws=3e3,Es=3001,Ms=3007,Ts=3002,Ss=3003,Cs=3004,As=3005,Ps=3006,Rs=3200,Ls=3201,Is={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=0;return function(){for(var r="",i=0;i<36;i++)8===i||13===i||18===i||23===i?r+="-":14===i?r+="4":(n<=2&&(n=33554432+16777216*Math.random()|0),e=15&n,n>>=4,r+=t[19===i?3&e|8:e]);return r}}(),clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*Is.DEG2RAD},radToDeg:function(e){return e*Is.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}};Object.defineProperties(i.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(i.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(){var e=new i,t=new i;return function(n,r){return e.set(n,n),t.set(r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this}}),Object.assign(o.prototype,{isMatrix4:!0,set:function(e,t,n,r,i,o,a,s,u,c,l,h,d,f,p,m){var g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=u,g[6]=c,g[10]=l,g[14]=h,g[3]=d,g[7]=f,g[11]=p,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new o).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(){var e=new s;return function(t){var n=this.elements,r=t.elements,i=1/e.setFromMatrixColumn(t,0).length(),o=1/e.setFromMatrixColumn(t,1).length(),a=1/e.setFromMatrixColumn(t,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,this}}(),makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),u=Math.sin(r),c=Math.cos(i),l=Math.sin(i);if("XYZ"===e.order){var h=o*c,d=o*l,f=a*c,p=a*l;t[0]=s*c,t[4]=-s*l,t[8]=u,t[1]=d+f*u,t[5]=h-p*u,t[9]=-a*s,t[2]=p-h*u,t[6]=f+d*u,t[10]=o*s}else if("YXZ"===e.order){var m=s*c,g=s*l,v=u*c,y=u*l;t[0]=m+y*a,t[4]=v*a-g,t[8]=o*u,t[1]=o*l,t[5]=o*c,t[9]=-a,t[2]=g*a-v,t[6]=y+m*a,t[10]=o*s}else if("ZXY"===e.order){var m=s*c,g=s*l,v=u*c,y=u*l;t[0]=m-y*a,t[4]=-o*l,t[8]=v+g*a,t[1]=g+v*a,t[5]=o*c,t[9]=y-m*a,t[2]=-o*u,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){var h=o*c,d=o*l,f=a*c,p=a*l;t[0]=s*c,t[4]=f*u-d,t[8]=h*u+p,t[1]=s*l,t[5]=p*u+h,t[9]=d*u-f,t[2]=-u,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){var b=o*s,x=o*u,_=a*s,w=a*u;t[0]=s*c,t[4]=w-b*l,t[8]=_*l+x,t[1]=l,t[5]=o*c,t[9]=-a*c,t[2]=-u*c,t[6]=x*l+_,t[10]=b-w*l}else if("XZY"===e.order){var b=o*s,x=o*u,_=a*s,w=a*u;t[0]=s*c,t[4]=-l,t[8]=u*c,t[1]=b*l+w,t[5]=o*c,t[9]=x*l-_,t[2]=_*l-x,t[6]=a*c,t[10]=w*l+b}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){var t=this.elements,n=e._x,r=e._y,i=e._z,o=e._w,a=n+n,s=r+r,u=i+i,c=n*a,l=n*s,h=n*u,d=r*s,f=r*u,p=i*u,m=o*a,g=o*s,v=o*u;return t[0]=1-(d+p),t[4]=l-v,t[8]=h+g,t[1]=l+v,t[5]=1-(c+p),t[9]=f-m,t[2]=h-g,t[6]=f+m,t[10]=1-(c+d),t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},lookAt:function(){var e=new s,t=new s,n=new s;return function(r,i,o){var a=this.elements;return n.subVectors(r,i),0===n.lengthSq()&&(n.z=1),n.normalize(),e.crossVectors(o,n),0===e.lengthSq()&&(1===Math.abs(o.z)?n.x+=1e-4:n.z+=1e-4,n.normalize(),e.crossVectors(o,n)),e.normalize(),t.crossVectors(n,e),a[0]=e.x,a[4]=t.x,a[8]=n.x,a[1]=e.y,a[5]=t.y,a[9]=n.y,a[2]=e.z,a[6]=t.z,a[10]=n.z,this}}(),multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[4],s=n[8],u=n[12],c=n[1],l=n[5],h=n[9],d=n[13],f=n[2],p=n[6],m=n[10],g=n[14],v=n[3],y=n[7],b=n[11],x=n[15],_=r[0],w=r[4],E=r[8],M=r[12],T=r[1],S=r[5],C=r[9],A=r[13],P=r[2],R=r[6],L=r[10],I=r[14],O=r[3],N=r[7],k=r[11],D=r[15];return i[0]=o*_+a*T+s*P+u*O,i[4]=o*w+a*S+s*R+u*N,i[8]=o*E+a*C+s*L+u*k,i[12]=o*M+a*A+s*I+u*D,i[1]=c*_+l*T+h*P+d*O,i[5]=c*w+l*S+h*R+d*N,i[9]=c*E+l*C+h*L+d*k,i[13]=c*M+l*A+h*I+d*D,i[2]=f*_+p*T+m*P+g*O,i[6]=f*w+p*S+m*R+g*N,i[10]=f*E+p*C+m*L+g*k,i[14]=f*M+p*A+m*I+g*D,i[3]=v*_+y*T+b*P+x*O,i[7]=v*w+y*S+b*R+x*N,i[11]=v*E+y*C+b*L+x*k,i[15]=v*M+y*A+b*I+x*D,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(){var e=new s;return function(t){for(var n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix4(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),determinant:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],s=e[9],u=e[13],c=e[2],l=e[6],h=e[10],d=e[14];return e[3]*(+i*s*l-r*u*l-i*a*h+n*u*h+r*a*d-n*s*d)+e[7]*(+t*s*d-t*u*h+i*o*h-r*o*d+r*u*c-i*s*c)+e[11]*(+t*u*l-t*a*d-i*o*l+n*o*d+i*a*c-n*u*c)+e[15]*(-r*a*c-t*s*l+t*a*h+r*o*l-n*o*h+n*s*c)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var n=this.elements,r=e.elements,i=r[0],o=r[1],a=r[2],s=r[3],u=r[4],c=r[5],l=r[6],h=r[7],d=r[8],f=r[9],p=r[10],m=r[11],g=r[12],v=r[13],y=r[14],b=r[15],x=f*y*h-v*p*h+v*l*m-c*y*m-f*l*b+c*p*b,_=g*p*h-d*y*h-g*l*m+u*y*m+d*l*b-u*p*b,w=d*v*h-g*f*h+g*c*m-u*v*m-d*c*b+u*f*b,E=g*f*l-d*v*l-g*c*p+u*v*p+d*c*y-u*f*y,M=i*x+o*_+a*w+s*E;if(0===M){var T="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(T);return console.warn(T),this.identity()}var S=1/M;return n[0]=x*S,n[1]=(v*p*s-f*y*s-v*a*m+o*y*m+f*a*b-o*p*b)*S,n[2]=(c*y*s-v*l*s+v*a*h-o*y*h-c*a*b+o*l*b)*S,n[3]=(f*l*s-c*p*s-f*a*h+o*p*h+c*a*m-o*l*m)*S,n[4]=_*S,n[5]=(d*y*s-g*p*s+g*a*m-i*y*m-d*a*b+i*p*b)*S,n[6]=(g*l*s-u*y*s-g*a*h+i*y*h+u*a*b-i*l*b)*S,n[7]=(u*p*s-d*l*s+d*a*h-i*p*h-u*a*m+i*l*m)*S,n[8]=w*S,n[9]=(g*f*s-d*v*s-g*o*m+i*v*m+d*o*b-i*f*b)*S,n[10]=(u*v*s-g*c*s+g*o*h-i*v*h-u*o*b+i*c*b)*S,n[11]=(d*c*s-u*f*s-d*o*h+i*f*h+u*o*m-i*c*m)*S,n[12]=E*S,n[13]=(d*v*a-g*f*a+g*o*p-i*v*p-d*o*y+i*f*y)*S,n[14]=(g*c*a-u*v*a-g*o*l+i*v*l+u*o*y-i*c*y)*S,n[15]=(u*f*a-d*c*a+d*o*l-i*f*l-u*o*p+i*c*p)*S,this},scale:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,a=e.y,s=e.z,u=i*o,c=i*a;return this.set(u*o+n,u*a-r*s,u*s+r*a,0,u*a+r*s,c*a+n,c*s-r*o,0,u*s-r*a,c*s+r*o,i*s*s+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){return this.makeRotationFromQuaternion(t),this.scale(n),this.setPosition(e),this},decompose:function(){var e=new s,t=new o;return function(n,r,i){var o=this.elements,a=e.set(o[0],o[1],o[2]).length(),s=e.set(o[4],o[5],o[6]).length(),u=e.set(o[8],o[9],o[10]).length();this.determinant()<0&&(a=-a),n.x=o[12],n.y=o[13],n.z=o[14],t.copy(this);var c=1/a,l=1/s,h=1/u;return t.elements[0]*=c,t.elements[1]*=c,t.elements[2]*=c,t.elements[4]*=l,t.elements[5]*=l,t.elements[6]*=l,t.elements[8]*=h,t.elements[9]*=h,t.elements[10]*=h,r.setFromRotationMatrix(t),i.x=a,i.y=s,i.z=u,this}}(),makePerspective:function(e,t,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*i/(t-e),u=2*i/(n-r),c=(t+e)/(t-e),l=(n+r)/(n-r),h=-(o+i)/(o-i),d=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=l,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=d,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(e,t,n,r,i,o){var a=this.elements,s=1/(t-e),u=1/(n-r),c=1/(o-i),l=(t+e)*s,h=(n+r)*u,d=(o+i)*c;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-l,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-d,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}),Object.assign(a,{slerp:function(e,t,n,r){return n.copy(e).slerp(t,r)},slerpFlat:function(e,t,n,r,i,o,a){var s=n[r+0],u=n[r+1],c=n[r+2],l=n[r+3],h=i[o+0],d=i[o+1],f=i[o+2],p=i[o+3];if(l!==p||s!==h||u!==d||c!==f){var m=1-a,g=s*h+u*d+c*f+l*p,v=g>=0?1:-1,y=1-g*g;if(y>Number.EPSILON){var b=Math.sqrt(y),x=Math.atan2(b,g*v);m=Math.sin(m*x)/b,a=Math.sin(a*x)/b}var _=a*v;if(s=s*m+h*_,u=u*m+d*_,c=c*m+f*_,l=l*m+p*_,m===1-a){var w=1/Math.sqrt(s*s+u*u+c*c+l*l);s*=w,u*=w,c*=w,l*=w}}e[t]=s,e[t+1]=u,e[t+2]=c,e[t+3]=l}}),Object.defineProperties(a.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this.onChangeCallback()}}}),Object.assign(a.prototype,{set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z,o=e.order,a=Math.cos,s=Math.sin,u=a(n/2),c=a(r/2),l=a(i/2),h=s(n/2),d=s(r/2),f=s(i/2);return"XYZ"===o?(this._x=h*c*l+u*d*f,this._y=u*d*l-h*c*f,this._z=u*c*f+h*d*l,this._w=u*c*l-h*d*f):"YXZ"===o?(this._x=h*c*l+u*d*f,this._y=u*d*l-h*c*f,this._z=u*c*f-h*d*l,this._w=u*c*l+h*d*f):"ZXY"===o?(this._x=h*c*l-u*d*f,this._y=u*d*l+h*c*f,this._z=u*c*f+h*d*l,this._w=u*c*l-h*d*f):"ZYX"===o?(this._x=h*c*l-u*d*f,this._y=u*d*l+h*c*f,this._z=u*c*f-h*d*l,this._w=u*c*l+h*d*f):"YZX"===o?(this._x=h*c*l+u*d*f,this._y=u*d*l+h*c*f,this._z=u*c*f-h*d*l,this._w=u*c*l-h*d*f):"XZY"===o&&(this._x=h*c*l-u*d*f,this._y=u*d*l-h*c*f,this._z=u*c*f+h*d*l,this._w=u*c*l+h*d*f),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t,n=e.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],u=n[9],c=n[2],l=n[6],h=n[10],d=r+s+h;return d>0?(t=.5/Math.sqrt(d+1),this._w=.25/t,this._x=(l-u)*t,this._y=(o-c)*t,this._z=(a-i)*t):r>s&&r>h?(t=2*Math.sqrt(1+r-s-h),this._w=(l-u)/t,this._x=.25*t,this._y=(i+a)/t,this._z=(o+c)/t):s>h?(t=2*Math.sqrt(1+s-r-h),this._w=(o-c)/t,this._x=(i+a)/t,this._y=.25*t,this._z=(u+l)/t):(t=2*Math.sqrt(1+h-r-s),this._w=(a-i)/t,this._x=(o+c)/t,this._y=(u+l)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,t=new s;return function(n,r){return void 0===t&&(t=new s),e=n.dot(r)+1,e<1e-6?(e=0,Math.abs(n.x)>Math.abs(n.z)?t.set(-n.y,n.x,0):t.set(0,-n.z,n.y)):t.crossVectors(n,r),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,r=e._y,i=e._z,o=e._w,a=t._x,s=t._y,u=t._z,c=t._w;return this._x=n*c+o*a+r*u-i*s,this._y=r*c+o*s+i*a-n*u,this._z=i*c+o*u+n*s-r*a,this._w=o*c-n*a-r*s-i*u,this.onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*e._w+n*e._x+r*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=Math.sqrt(1-a*a);if(Math.abs(s)<.001)return this._w=.5*(o+this._w),this._x=.5*(n+this._x),this._y=.5*(r+this._y),this._z=.5*(i+this._z),this;var u=Math.atan2(s,a),c=Math.sin((1-t)*u)/s,l=Math.sin(t*u)/s;return this._w=o*c+this._w*l,this._x=n*c+this._x*l,this._y=r*c+this._y*l,this._z=i*c+this._z*l,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(s.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(){var e=new a;return function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(e.setFromEuler(t))}}(),applyAxisAngle:function(){var e=new a;return function(t,n){return this.applyQuaternion(e.setFromAxisAngle(t,n))}}(),applyMatrix3:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,u=s*t+o*r-a*n,c=s*n+a*t-i*r,l=s*r+i*n-o*t,h=-i*t-o*n-a*r;return this.x=u*s+h*-i+c*-a-l*-o,this.y=c*s+h*-o+l*-i-u*-a,this.z=l*s+h*-a+u*-o-c*-i,this},project:function(){var e=new o;return function(t){return e.multiplyMatrices(t.projectionMatrix,e.getInverse(t.matrixWorld)),this.applyMatrix4(e)}}(),unproject:function(){var e=new o;return function(t){return e.multiplyMatrices(t.matrixWorld,e.getInverse(t.projectionMatrix)),this.applyMatrix4(e)}}(),transformDirection:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(){var e=new s,t=new s;return function(n,r){return e.set(n,n,n),t.set(r,r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(){var e=new s;return function(t){return e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e=new s;return function(t){return this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq());return Math.acos(Is.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){var t=Math.sin(e.phi)*e.radius;return this.x=t*Math.sin(e.theta),this.y=Math.cos(e.phi)*e.radius,this.z=t*Math.cos(e.theta),this},setFromCylindrical:function(e){return this.x=e.radius*Math.sin(e.theta),this.y=e.y,this.z=e.radius*Math.cos(e.theta),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}}),Object.assign(u.prototype,{isMatrix3:!0,set:function(e,t,n,r,i,o,a,s,u){var c=this.elements;return c[0]=e,c[1]=r,c[2]=a,c[3]=t,c[4]=i,c[5]=s,c[6]=n,c[7]=o,c[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:function(){var e=new s;return function(t){for(var n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix3(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[3],s=n[6],u=n[1],c=n[4],l=n[7],h=n[2],d=n[5],f=n[8],p=r[0],m=r[3],g=r[6],v=r[1],y=r[4],b=r[7],x=r[2],_=r[5],w=r[8];return i[0]=o*p+a*v+s*x,i[3]=o*m+a*y+s*_,i[6]=o*g+a*b+s*w,i[1]=u*p+c*v+l*x,i[4]=u*m+c*y+l*_,i[7]=u*g+c*b+l*w,i[2]=h*p+d*v+f*x,i[5]=h*m+d*y+f*_,i[8]=h*g+d*b+f*w,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],c=e[8];return t*o*c-t*a*u-n*i*c+n*a*s+r*i*u-r*o*s},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=e.elements,r=this.elements,i=n[0],o=n[1],a=n[2],s=n[3],u=n[4],c=n[5],l=n[6],h=n[7],d=n[8],f=d*u-c*h,p=c*l-d*s,m=h*s-u*l,g=i*f+o*p+a*m;if(0===g){var v="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(v);return console.warn(v),this.identity()}var y=1/g;return r[0]=f*y,r[1]=(a*h-d*o)*y,r[2]=(c*o-a*u)*y,r[3]=p*y,r[4]=(d*i-a*l)*y,r[5]=(a*s-c*i)*y,r[6]=m*y,r[7]=(o*l-h*i)*y,r[8]=(u*i-o*s)*y,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,r,i,o,a){var s=Math.cos(i),u=Math.sin(i);this.set(n*s,n*u,-n*(s*o+u*a)+o+e,-r*u,r*s,-r*(-u*o+s*a)+a+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],o=r[3],a=r[6],s=r[1],u=r[4],c=r[7];return r[0]=t*i+n*s,r[3]=t*o+n*u,r[6]=t*a+n*c,r[1]=-n*i+t*s,r[4]=-n*o+t*u,r[7]=-n*a+t*c,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var Os=0;c.DEFAULT_IMAGE=void 0,c.DEFAULT_MAPPING=ya,Object.defineProperty(c.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(c.prototype,r.prototype,{constructor:c,isTexture:!0,clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var r=this.image;void 0===r.uuid&&(r.uuid=Is.generateUUID()),t||void 0!==e.images[r.uuid]||(e.images[r.uuid]={uuid:r.uuid,url:function(e){var t;if(e instanceof HTMLCanvasElement)t=e;else{t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),t.width=e.width,t.height=e.height;var n=t.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height)}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}(r)}),n.image=r.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping===ya){if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Sa:e.x=e.x-Math.floor(e.x);break;case Ca:e.x=e.x<0?0:1;break;case Aa:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Sa:e.y=e.y-Math.floor(e.y);break;case Ca:e.y=e.y<0?0:1;break;case Aa:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}this.flipY&&(e.y=1-e.y)}}}),Object.assign(l.prototype,{isVector4:!0,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,r,i,o=e.elements,a=o[0],s=o[4],u=o[8],c=o[1],l=o[5],h=o[9],d=o[2],f=o[6],p=o[10];if(Math.abs(s-c)<.01&&Math.abs(u-d)<.01&&Math.abs(h-f)<.01){if(Math.abs(s+c)<.1&&Math.abs(u+d)<.1&&Math.abs(h+f)<.1&&Math.abs(a+l+p-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var m=(a+1)/2,g=(l+1)/2,v=(p+1)/2,y=(s+c)/4,b=(u+d)/4,x=(h+f)/4;return m>g&&m>v?m<.01?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(m),r=y/n,i=b/n):g>v?g<.01?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(g),n=y/r,i=x/r):v<.01?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(v),n=b/i,r=x/i),this.set(n,r,i,t),this}var _=Math.sqrt((f-h)*(f-h)+(u-d)*(u-d)+(c-s)*(c-s));return Math.abs(_)<.001&&(_=1),this.x=(f-h)/_,this.y=(u-d)/_,this.z=(c-s)/_,this.w=Math.acos((a+l+p-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(){var e,t;return function(n,r){return void 0===e&&(e=new l,t=new l),e.set(n,n,n,n),t.set(r,r,r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),Object.assign(h.prototype,r.prototype,{isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),d.prototype=Object.create(h.prototype),d.prototype.constructor=d,d.prototype.isWebGLRenderTargetCube=!0,f.prototype=Object.create(c.prototype),f.prototype.constructor=f,f.prototype.isDataTexture=!0,p.prototype=Object.create(c.prototype),p.prototype.constructor=p,p.prototype.isCubeTexture=!0,Object.defineProperty(p.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});var Ns=new c,ks=new p,Ds=[],Us=[],Fs=new Float32Array(16),Bs=new Float32Array(9);V.prototype.setValue=function(e,t){for(var n=this.seq,r=0,i=n.length;r!==i;++r){var o=n[r];o.setValue(e,t[o.id])}};var zs=/([\w\d_]+)(\])?(\[|\.)?/g;Y.prototype.setValue=function(e,t,n){var r=this.map[t];void 0!==r&&r.setValue(e,n,this.renderer)},Y.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},Y.upload=function(e,t,n,r){for(var i=0,o=t.length;i!==o;++i){var a=t[i],s=n[a.id];!1!==s.needsUpdate&&a.setValue(e,s.value,r)}},Y.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var o=e[r];o.id in t&&n.push(o)}return n};var Hs={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object.assign(Z.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(){function e(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}return function(t,n,r){if(t=Is.euclideanModulo(t,1),n=Is.clamp(n,0,1),r=Is.clamp(r,0,1),0===n)this.r=this.g=this.b=r;else{var i=r<=.5?r*(1+n):r+n-r*n,o=2*r-i;this.r=e(o,i,t+1/3),this.g=e(o,i,t),this.b=e(o,i,t-1/3)}return this}}(),setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r,i=n[1],o=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,u=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(a,s,u)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var c=n[1],l=c.length;if(3===l)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===l)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}if(e&&e.length>0){var c=Hs[e];void 0!==c?this.setHex(c):console.warn("THREE.Color: Unknown color "+e)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(){var e=this.r,t=this.g,n=this.b;return this.r=e*e,this.g=t*t,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){var t,n,r=e||{h:0,s:0,l:0},i=this.r,o=this.g,a=this.b,s=Math.max(i,o,a),u=Math.min(i,o,a),c=(u+s)/2;if(u===s)t=0,n=0;else{var l=s-u;switch(n=c<=.5?l/(s+u):l/(2-s-u),s){case i:t=(o-a)/l+(o<a?6:0);break;case o:t=(a-i)/l+2;break;case a:t=(i-o)/l+4}t/=6}return r.h=t,r.s=n,r.l=c,r},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,n){var r=this.getHSL();return r.h+=e,r.s+=t,r.l+=n,this.setHSL(r.h,r.s,r.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}});var qs={common:{diffuse:{value:new Z(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new u},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new i(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Z(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Z(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new u}}},js={merge:function(e){for(var t={},n=0;n<e.length;n++){var r=this.clone(e[n]);for(var i in r)t[i]=r[i]}return t},clone:function(e){var t={};for(var n in e){t[n]={};for(var r in e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}}return t}},Gs={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.86267 + (0.49788 + 0.01436 * y ) * y;\n\tfloat b = 3.45068 + (4.18814 + y) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = (x > 0.0) ? v : 0.5 * inversesqrt( 1.0 - x * x ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tvec3 result = vec3( LTC_ClippedSphereFormFactor( vectorFormFactor ) );\n\treturn result;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\n",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",encodings_fragment:"  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",fog_vertex:"\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",lights_pars:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tfloat norm = texture2D( ltcMag, uv ).a;\n\t\tvec4 t = texture2D( ltcMat, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3(   1,   0, t.y ),\n\t\t\tvec3(   0, t.z,   0 ),\n\t\t\tvec3( t.w,   0, t.x )\n\t\t);\n\t\treflectedLight.directSpecular += lightColor * material.specularColor * norm * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",lights_template:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif\n",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif\n",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",normal_fragment:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n",dithering_fragment:"#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\n",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",cube_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}\n",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}\n",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}\n",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",equirect_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}\n",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n"},Vs={basic:{uniforms:js.merge([qs.common,qs.specularmap,qs.envmap,qs.aomap,qs.lightmap,qs.fog]),vertexShader:Gs.meshbasic_vert,fragmentShader:Gs.meshbasic_frag},lambert:{uniforms:js.merge([qs.common,qs.specularmap,qs.envmap,qs.aomap,qs.lightmap,qs.emissivemap,qs.fog,qs.lights,{emissive:{value:new Z(0)}}]),vertexShader:Gs.meshlambert_vert,fragmentShader:Gs.meshlambert_frag},phong:{uniforms:js.merge([qs.common,qs.specularmap,qs.envmap,qs.aomap,qs.lightmap,qs.emissivemap,qs.bumpmap,qs.normalmap,qs.displacementmap,qs.gradientmap,qs.fog,qs.lights,{emissive:{value:new Z(0)},specular:{value:new Z(1118481)},shininess:{value:30}}]),vertexShader:Gs.meshphong_vert,fragmentShader:Gs.meshphong_frag},standard:{uniforms:js.merge([qs.common,qs.envmap,qs.aomap,qs.lightmap,qs.emissivemap,qs.bumpmap,qs.normalmap,qs.displacementmap,qs.roughnessmap,qs.metalnessmap,qs.fog,qs.lights,{emissive:{value:new Z(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:Gs.meshphysical_vert,fragmentShader:Gs.meshphysical_frag},points:{uniforms:js.merge([qs.points,qs.fog]),vertexShader:Gs.points_vert,fragmentShader:Gs.points_frag},dashed:{uniforms:js.merge([qs.common,qs.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Gs.linedashed_vert,fragmentShader:Gs.linedashed_frag},depth:{uniforms:js.merge([qs.common,qs.displacementmap]),vertexShader:Gs.depth_vert,fragmentShader:Gs.depth_frag},normal:{uniforms:js.merge([qs.common,qs.bumpmap,qs.normalmap,qs.displacementmap,{opacity:{value:1}}]),vertexShader:Gs.normal_vert,fragmentShader:Gs.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Gs.cube_vert,fragmentShader:Gs.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Gs.equirect_vert,fragmentShader:Gs.equirect_frag},distanceRGBA:{uniforms:js.merge([qs.common,qs.displacementmap,{referencePosition:{value:new s},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Gs.distanceRGBA_vert,fragmentShader:Gs.distanceRGBA_frag},shadow:{uniforms:js.merge([qs.lights,qs.fog,{color:{value:new Z(0)},opacity:{value:1}}]),vertexShader:Gs.shadow_vert,fragmentShader:Gs.shadow_frag}};Vs.physical={uniforms:js.merge([Vs.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Gs.meshphysical_vert,fragmentShader:Gs.meshphysical_frag},Object.assign(K.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new i;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){var t=e||new i;return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){var t=e||new i;return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return(t||new i).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return(t||new i).copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new i;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),J.prototype=Object.create(c.prototype),J.prototype.constructor=J;var Ws=0;Object.assign(ee.prototype,r.prototype,{isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]="overdraw"===t?Number(n):n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===Po;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){function t(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}var n=void 0===e||"string"==typeof e;n&&(e={textures:{},images:{}});var r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearCoat&&(r.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(r.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,r.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(r.size=this.size),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==ko&&(r.blending=this.blending),!0===this.flatShading&&(r.flatShading=this.flatShading),this.side!==So&&(r.side=this.side),this.vertexColors!==Lo&&(r.vertexColors=this.vertexColors),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,0!==this.rotation&&(r.rotation=this.rotation),1!==this.linewidth&&(r.linewidth=this.linewidth),void 0!==this.dashSize&&(r.dashSize=this.dashSize),void 0!==this.gapSize&&(r.gapSize=this.gapSize),void 0!==this.scale&&(r.scale=this.scale),!0===this.dithering&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(r.morphTargets=!0),!0===this.skinning&&(r.skinning=!0),!1===this.visible&&(r.visible=!1),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),n){var i=t(e.textures),o=t(e.images);i.length>0&&(r.textures=i),o.length>0&&(r.images=o)}return r},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.lights=e.lights,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.overdraw=e.overdraw,this.visible=e.visible,this.userData=JSON.parse(JSON.stringify(e.userData)),this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),te.prototype=Object.create(ee.prototype),te.prototype.constructor=te,te.prototype.isMeshDepthMaterial=!0,te.prototype.copy=function(e){return ee.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},ne.prototype=Object.create(ee.prototype),ne.prototype.constructor=ne,ne.prototype.isMeshDistanceMaterial=!0,ne.prototype.copy=function(e){return ee.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this},Object.assign(re.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=e.length;s<u;s+=3){var c=e[s],l=e[s+1],h=e[s+2];c<t&&(t=c),l<n&&(n=l),h<r&&(r=h),c>i&&(i=c),l>o&&(o=l),h>a&&(a=h)}return this.min.set(t,n,r),this.max.set(i,o,a),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=e.count;s<u;s++){var c=e.getX(s),l=e.getY(s),h=e.getZ(s);c<t&&(t=c),l<n&&(n=l),h<r&&(r=h),c>i&&(i=c),l>o&&(o=l),h>a&&(a=h)}return this.min.set(t,n,r),this.max.set(i,o,a),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new s;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){var t=e||new s;return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){var t=e||new s;return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(){function e(e){var o=e.geometry;if(void 0!==o)if(o.isGeometry){var a=o.vertices;for(n=0,r=a.length;n<r;n++)i.copy(a[n]),i.applyMatrix4(e.matrixWorld),t.expandByPoint(i)}else if(o.isBufferGeometry){var s=o.attributes.position;if(void 0!==s)for(n=0,r=s.count;n<r;n++)i.fromBufferAttribute(s,n).applyMatrix4(e.matrixWorld),t.expandByPoint(i)}}var t,n,r,i=new s;return function(n){return t=this,n.updateMatrixWorld(!0),n.traverse(e),this}}(),containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return(t||new s).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(){var e=new s;return function(t){return this.clampPoint(t.center,e),e.distanceToSquared(t.center)<=t.radius*t.radius}}(),intersectsPlane:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=e.constant&&n>=e.constant},clampPoint:function(e,t){return(t||new s).copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new s;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),getBoundingSphere:function(){var e=new s;return function(t){var n=t||new ie;return this.getCenter(n.center),n.radius=.5*this.getSize(e).length(),n}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new s,new s,new s,new s,new s,new s,new s,new s];return function(t){return this.isEmpty()?this:(e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(e),this)}}(),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(ie.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(){var e=new re;return function(t,n){var r=this.center;void 0!==n?r.copy(n):e.setFromPoints(t).getCenter(r);for(var i=0,o=0,a=t.length;o<a;o++)i=Math.max(i,r.distanceToSquared(t[o]));return this.radius=Math.sqrt(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e),r=t||new s;return r.copy(e),n>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r},getBoundingBox:function(e){var t=e||new re;return t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}}),Object.assign(oe.prototype,{set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new s,t=new s;return function(n,r,i){var o=e.subVectors(i,r).cross(t.subVectors(n,r)).normalize();return this.setFromNormalAndCoplanarPoint(o,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return(t||new s).copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(){var e=new s;return function(t,n){var r=n||new s,i=t.delta(e),o=this.normal.dot(i);if(0!==o){var a=-(t.start.dot(this.normal)+this.constant)/o;if(!(a<0||a>1))return r.copy(i).multiplyScalar(a).add(t.start)}else if(0===this.distanceToPoint(t.start))return r.copy(t.start)}}(),intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return(e||new s).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new s,t=new u;return function(n,r){var i=r||t.getNormalMatrix(n),o=this.coplanarPoint(e).applyMatrix4(n),a=this.normal.applyMatrix3(i).normalize();return this.constant=-o.dot(a),this}}(),translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}),Object.assign(ae.prototype,{set:function(e,t,n,r,i,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5],c=n[6],l=n[7],h=n[8],d=n[9],f=n[10],p=n[11],m=n[12],g=n[13],v=n[14],y=n[15];return t[0].setComponents(a-r,l-s,p-h,y-m).normalize(),t[1].setComponents(a+r,l+s,p+h,y+m).normalize(),t[2].setComponents(a+i,l+u,p+d,y+g).normalize(),t[3].setComponents(a-i,l-u,p-d,y-g).normalize(),t[4].setComponents(a-o,l-c,p-f,y-v).normalize(),t[5].setComponents(a+o,l+c,p+f,y+v).normalize(),this},intersectsObject:function(){var e=new ie;return function(t){var n=t.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),e.copy(n.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSprite:function(){var e=new ie;return function(t){return e.center.set(0,0,0),e.radius=.7071067811865476,e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0},intersectsBox:function(){var e=new s,t=new s;return function(n){for(var r=this.planes,i=0;i<6;i++){var o=r[i];e.x=o.normal.x>0?n.min.x:n.max.x,t.x=o.normal.x>0?n.max.x:n.min.x,e.y=o.normal.y>0?n.min.y:n.max.y,t.y=o.normal.y>0?n.max.y:n.min.y,e.z=o.normal.z>0?n.min.z:n.max.z,t.z=o.normal.z>0?n.max.z:n.min.z;var a=o.distanceToPoint(e),s=o.distanceToPoint(t);if(a<0&&s<0)return!1}return!0}}(),containsPoint:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}}),ce.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],ce.DefaultOrder="XYZ",Object.defineProperties(ce.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this.onChangeCallback()}}}),Object.assign(ce.prototype,{isEuler:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var r=Is.clamp,i=e.elements,o=i[0],a=i[4],s=i[8],u=i[1],c=i[5],l=i[9],h=i[2],d=i[6],f=i[10];return t=t||this._order,"XYZ"===t?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-l,f),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(d,c),this._z=0)):"YXZ"===t?(this._x=Math.asin(-r(l,-1,1)),Math.abs(l)<.99999?(this._y=Math.atan2(s,f),this._z=Math.atan2(u,c)):(this._y=Math.atan2(-h,o),this._z=0)):"ZXY"===t?(this._x=Math.asin(r(d,-1,1)),Math.abs(d)<.99999?(this._y=Math.atan2(-h,f),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(u,o))):"ZYX"===t?(this._y=Math.asin(-r(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(d,f),this._z=Math.atan2(u,o)):(this._x=0,this._z=Math.atan2(-a,c))):"YZX"===t?(this._z=Math.asin(r(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-l,c),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(s,f))):"XZY"===t?(this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(d,c),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-l,f),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var e=new o;return function(t,n,r){return e.makeRotationFromQuaternion(t),this.setFromRotationMatrix(e,n,r)}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(){var e=new a;return function(t){return e.setFromEuler(this),this.setFromQuaternion(e,t)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new s(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(le.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},test:function(e){return 0!=(this.mask&e.mask)}});var Xs=0;he.DefaultUp=new s(0,1,0),he.DefaultMatrixAutoUpdate=!0,Object.assign(he.prototype,r.prototype,{isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var e=new a;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.multiply(e),this}}(),rotateOnWorldAxis:function(){var e=new a;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.premultiply(e),this}}(),rotateX:function(){var e=new s(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new s(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new s(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new s;return function(t,n){return e.copy(t).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(n)),this}}(),translateX:function(){var e=new s(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new s(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new s(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new o;return function(t){return t.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new o,t=new s;return function(n,r,i){n.isVector3?t.copy(n):t.set(n,r,i),this.isCamera?e.lookAt(this.position,t,this.up):e.lookAt(t,this.position,this.up),this.quaternion.setFromRotationMatrix(e)}}(),add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(n,1)),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n],o=i.getObjectByProperty(e,t);if(void 0!==o)return o}},getWorldPosition:function(e){var t=e||new s;return this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var e=new s,t=new s;return function(n){var r=n||new a;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,r,t),r}}(),getWorldRotation:function(){var e=new a;return function(t){var n=t||new ce;return this.getWorldQuaternion(e),n.setFromQuaternion(e,this.rotation.order,!1)}}(),getWorldScale:function(){var e=new s,t=new a;return function(n){var r=n||new s;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,r),r}}(),getWorldDirection:function(){var e=new a;return function(t){var n=t||new s;return this.getWorldQuaternion(e),n.set(0,0,1).applyQuaternion(e)}}(),raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},toJSON:function(e){function t(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}function n(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}var r=void 0===e||"string"==typeof e,i={};r&&(e={geometries:{},materials:{},textures:{},images:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var o={};if(o.uuid=this.uuid,o.type=this.type,""!==this.name&&(o.name=this.name),!0===this.castShadow&&(o.castShadow=!0),!0===this.receiveShadow&&(o.receiveShadow=!0),!1===this.visible&&(o.visible=!1),"{}"!==JSON.stringify(this.userData)&&(o.userData=this.userData),o.matrix=this.matrix.toArray(),void 0!==this.geometry&&(o.geometry=t(e.geometries,this.geometry)),void 0!==this.material)if(Array.isArray(this.material)){for(var a=[],s=0,u=this.material.length;s<u;s++)a.push(t(e.materials,this.material[s]));o.material=a}else o.material=t(e.materials,this.material);if(this.children.length>0){o.children=[];for(var s=0;s<this.children.length;s++)o.children.push(this.children[s].toJSON(e).object)}if(r){var c=n(e.geometries),l=n(e.materials),h=n(e.textures),d=n(e.images);c.length>0&&(i.geometries=c),l.length>0&&(i.materials=l),h.length>0&&(i.textures=h),d.length>0&&(i.images=d)}return i.object=o,i},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}),de.prototype=Object.assign(Object.create(he.prototype),{constructor:de,isCamera:!0,copy:function(e,t){return he.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this},getWorldDirection:function(){var e=new a;return function(t){var n=t||new s;return this.getWorldQuaternion(e),n.set(0,0,-1).applyQuaternion(e)}}(),updateMatrixWorld:function(e){he.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),fe.prototype=Object.assign(Object.create(de.prototype),{constructor:fe,isOrthographicCamera:!0,copy:function(e,t){return de.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,o=n+e,a=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var u=this.zoom/(this.view.width/this.view.fullWidth),c=this.zoom/(this.view.height/this.view.fullHeight),l=(this.right-this.left)/this.view.width,h=(this.top-this.bottom)/this.view.height;i+=l*(this.view.offsetX/u),o=i+l*(this.view.width/u),a-=h*(this.view.offsetY/c),s=a-h*(this.view.height/c)}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far)},toJSON:function(e){var t=he.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),Object.assign(pe.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(var t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});var Ys=0;Object.assign(me.prototype,r.prototype,{isGeometry:!0,applyMatrix:function(e){for(var t=(new u).getNormalMatrix(e),n=0,r=this.vertices.length;n<r;n++){this.vertices[n].applyMatrix4(e)}for(var n=0,r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(t).normalize();for(var o=0,a=i.vertexNormals.length;o<a;o++)i.vertexNormals[o].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var e=new o;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new o;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new o;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new o;return function(t,n,r){return e.makeTranslation(t,n,r),this.applyMatrix(e),this}}(),scale:function(){var e=new o;return function(t,n,r){return e.makeScale(t,n,r),this.applyMatrix(e),this}}(),lookAt:function(){var e=new he;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),fromBufferGeometry:function(e){function t(e,t,r,i){var o=void 0!==u?[d[e].clone(),d[t].clone(),d[r].clone()]:[],a=void 0!==c?[n.colors[e].clone(),n.colors[t].clone(),n.colors[r].clone()]:[],s=new pe(e,t,r,o,a,i);n.faces.push(s),void 0!==l&&n.faceVertexUvs[0].push([f[e].clone(),f[t].clone(),f[r].clone()]),void 0!==h&&n.faceVertexUvs[1].push([p[e].clone(),p[t].clone(),p[r].clone()])}var n=this,r=null!==e.index?e.index.array:void 0,o=e.attributes,a=o.position.array,u=void 0!==o.normal?o.normal.array:void 0,c=void 0!==o.color?o.color.array:void 0,l=void 0!==o.uv?o.uv.array:void 0,h=void 0!==o.uv2?o.uv2.array:void 0;void 0!==h&&(this.faceVertexUvs[1]=[]);for(var d=[],f=[],p=[],m=0,g=0;m<a.length;m+=3,g+=2)n.vertices.push(new s(a[m],a[m+1],a[m+2])),void 0!==u&&d.push(new s(u[m],u[m+1],u[m+2])),void 0!==c&&n.colors.push(new Z(c[m],c[m+1],c[m+2])),void 0!==l&&f.push(new i(l[g],l[g+1])),void 0!==h&&p.push(new i(h[g],h[g+1]));var v=e.groups;if(v.length>0)for(var m=0;m<v.length;m++)for(var y=v[m],b=y.start,x=y.count,g=b,_=b+x;g<_;g+=3)void 0!==r?t(r[g],r[g+1],r[g+2],y.materialIndex):t(g,g+1,g+2,y.materialIndex);else if(void 0!==r)for(var m=0;m<r.length;m+=3)t(r[m],r[m+1],r[m+2]);else for(var m=0;m<a.length/3;m+=3)t(m,m+1,m+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();return this.translate(e.x,e.y,e.z),e},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,r=new o;return r.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var e=new s,t=new s,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],o=this.vertices[i.a],a=this.vertices[i.b],u=this.vertices[i.c];e.subVectors(u,a),t.subVectors(o,a),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){void 0===e&&(e=!0);var t,n,r,i,o,a;for(a=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)a[t]=new s;if(e){var u,c,l,h=new s,d=new s;for(r=0,i=this.faces.length;r<i;r++)o=this.faces[r],u=this.vertices[o.a],c=this.vertices[o.b],l=this.vertices[o.c],h.subVectors(l,c),d.subVectors(u,c),h.cross(d),a[o.a].add(h),a[o.b].add(h),a[o.c].add(h)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)o=this.faces[r],a[o.a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(t=0,n=this.vertices.length;t<n;t++)a[t].normalize();for(r=0,i=this.faces.length;r<i;r++){o=this.faces[r];var f=o.vertexNormals;3===f.length?(f[0].copy(a[o.a]),f[1].copy(a[o.b]),f[2].copy(a[o.c])):(f[0]=a[o.a].clone(),f[1]=a[o.b].clone(),f[2]=a[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){n=this.faces[e];var r=n.vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for(i=this.faces[n],i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),e=0,t=i.vertexNormals.length;e<t;e++)i.__originalVertexNormals[e]?i.__originalVertexNormals[e].copy(i.vertexNormals[e]):i.__originalVertexNormals[e]=i.vertexNormals[e].clone();var o=new me;for(o.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var a,u,c=this.morphNormals[e].faceNormals,l=this.morphNormals[e].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)a=new s,u={a:new s,b:new s,c:new s},c.push(a),l.push(u)}var h=this.morphNormals[e];o.vertices=this.morphTargets[e].vertices,o.computeFaceNormals(),o.computeVertexNormals();var a,u;for(n=0,r=this.faces.length;n<r;n++)i=this.faces[n],a=h.faceNormals[n],u=h.vertexNormals[n],a.copy(i.normal),u.a.copy(i.vertexNormals[0]),u.b.copy(i.vertexNormals[1]),u.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)i=this.faces[n],i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeLineDistances:function(){for(var e=0,t=this.vertices,n=0,r=t.length;n<r;n++)n>0&&(e+=t[n].distanceTo(t[n-1])),this.lineDistances[n]=e},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new re),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new ie),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(!e||!e.isGeometry)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);var r,i=this.vertices.length,o=this.vertices,a=e.vertices,s=this.faces,c=e.faces,l=this.faceVertexUvs[0],h=e.faceVertexUvs[0],d=this.colors,f=e.colors;void 0===n&&(n=0),void 0!==t&&(r=(new u).getNormalMatrix(t));for(var p=0,m=a.length;p<m;p++){var g=a[p],v=g.clone();void 0!==t&&v.applyMatrix4(t),o.push(v)}for(var p=0,m=f.length;p<m;p++)d.push(f[p].clone());for(p=0,m=c.length;p<m;p++){var y,b,x,_=c[p],w=_.vertexNormals,E=_.vertexColors;y=new pe(_.a+i,_.b+i,_.c+i),y.normal.copy(_.normal),void 0!==r&&y.normal.applyMatrix3(r).normalize();for(var M=0,T=w.length;M<T;M++)b=w[M].clone(),void 0!==r&&b.applyMatrix3(r).normalize(),y.vertexNormals.push(b);y.color.copy(_.color);for(var M=0,T=E.length;M<T;M++)x=E[M],y.vertexColors.push(x.clone());y.materialIndex=_.materialIndex+n,s.push(y)}for(p=0,m=h.length;p<m;p++){var S=h[p],C=[];if(void 0!==S){for(var M=0,T=S.length;M<T;M++)C.push(S[M].clone());l.push(C)}}},mergeMesh:function(e){if(!e||!e.isMesh)return void console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e);e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)},mergeVertices:function(){var e,t,n,r,i,o,a,s,u={},c=[],l=[],h=Math.pow(10,4);for(n=0,r=this.vertices.length;n<r;n++)e=this.vertices[n],t=Math.round(e.x*h)+"_"+Math.round(e.y*h)+"_"+Math.round(e.z*h),void 0===u[t]?(u[t]=n,c.push(this.vertices[n]),l[n]=c.length-1):l[n]=l[u[t]];var d=[];for(n=0,r=this.faces.length;n<r;n++){i=this.faces[n],i.a=l[i.a],i.b=l[i.b],i.c=l[i.c],o=[i.a,i.b,i.c];for(var f=0;f<3;f++)if(o[f]===o[(f+1)%3]){d.push(n);break}}for(n=d.length-1;n>=0;n--){var p=d[n];for(this.faces.splice(p,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(p,1)}var m=this.vertices.length-c.length;return this.vertices=c,m},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];this.vertices.push(new s(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){function e(e,t){return e.materialIndex-t.materialIndex}for(var t=this.faces,n=t.length,r=0;r<n;r++)t[r]._id=r;t.sort(e);var i,o,a=this.faceVertexUvs[0],s=this.faceVertexUvs[1];a&&a.length===n&&(i=[]),s&&s.length===n&&(o=[]);for(var r=0;r<n;r++){var u=t[r]._id;i&&i.push(a[u]),o&&o.push(s[u])}i&&(this.faceVertexUvs[0]=i),o&&(this.faceVertexUvs[1]=o)},toJSON:function(){function e(e,t,n){return n?e|1<<t:e&~(1<<t)}function t(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==d[t]?d[t]:(d[t]=h.length/3,h.push(e.x,e.y,e.z),d[t])}function n(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==p[t]?p[t]:(p[t]=f.length,f.push(e.getHex()),p[t])}function r(e){var t=e.x.toString()+e.y.toString();return void 0!==g[t]?g[t]:(g[t]=m.length/2,m.push(e.x,e.y),g[t])}var i={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),void 0!==this.parameters){var o=this.parameters;for(var a in o)void 0!==o[a]&&(i[a]=o[a]);return i}for(var s=[],u=0;u<this.vertices.length;u++){var c=this.vertices[u];s.push(c.x,c.y,c.z)}for(var l=[],h=[],d={},f=[],p={},m=[],g={},u=0;u<this.faces.length;u++){var v=this.faces[u],y=void 0!==this.faceVertexUvs[0][u],b=v.normal.length()>0,x=v.vertexNormals.length>0,_=1!==v.color.r||1!==v.color.g||1!==v.color.b,w=v.vertexColors.length>0,E=0;if(E=e(E,0,0),E=e(E,1,!0),E=e(E,2,!1),E=e(E,3,y),E=e(E,4,b),E=e(E,5,x),E=e(E,6,_),E=e(E,7,w),l.push(E),l.push(v.a,v.b,v.c),l.push(v.materialIndex),y){var M=this.faceVertexUvs[0][u];l.push(r(M[0]),r(M[1]),r(M[2]))}if(b&&l.push(t(v.normal)),x){var T=v.vertexNormals;l.push(t(T[0]),t(T[1]),t(T[2]))}if(_&&l.push(n(v.color)),w){var S=v.vertexColors;l.push(n(S[0]),n(S[1]),n(S[2]))}}return i.data={},i.data.vertices=s,i.data.normals=h,f.length>0&&(i.data.colors=f),m.length>0&&(i.data.uvs=[m]),i.data.faces=l,i},clone:function(){return(new me).copy(this)},copy:function(e){var t,n,r,i,o,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var s=e.vertices;for(t=0,n=s.length;t<n;t++)this.vertices.push(s[t].clone());var u=e.colors;for(t=0,n=u.length;t<n;t++)this.colors.push(u[t].clone());var c=e.faces;for(t=0,n=c.length;t<n;t++)this.faces.push(c[t].clone());for(t=0,n=e.faceVertexUvs.length;t<n;t++){var l=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),r=0,i=l.length;r<i;r++){var h=l[r],d=[];for(o=0,a=h.length;o<a;o++){var f=h[o];d.push(f.clone())}this.faceVertexUvs[t].push(d)}}var p=e.morphTargets;for(t=0,n=p.length;t<n;t++){var m={};if(m.name=p[t].name,void 0!==p[t].vertices)for(m.vertices=[],r=0,i=p[t].vertices.length;r<i;r++)m.vertices.push(p[t].vertices[r].clone());if(void 0!==p[t].normals)for(m.normals=[],r=0,i=p[t].normals.length;r<i;r++)m.normals.push(p[t].normals[r].clone());this.morphTargets.push(m)}var g=e.morphNormals;for(t=0,n=g.length;t<n;t++){var v={};if(void 0!==g[t].vertexNormals)for(v.vertexNormals=[],r=0,i=g[t].vertexNormals.length;r<i;r++){var y=g[t].vertexNormals[r],b={};b.a=y.a.clone(),b.b=y.b.clone(),b.c=y.c.clone(),v.vertexNormals.push(b)}if(void 0!==g[t].faceNormals)for(v.faceNormals=[],r=0,i=g[t].faceNormals.length;r<i;r++)v.faceNormals.push(g[t].faceNormals[r].clone());this.morphNormals.push(v)}var x=e.skinWeights;for(t=0,n=x.length;t<n;t++)this.skinWeights.push(x[t].clone());var _=e.skinIndices;for(t=0,n=_.length;t<n;t++)this.skinIndices.push(_[t].clone());var w=e.lineDistances;for(t=0,n=w.length;t<n;t++)this.lineDistances.push(w[t]);var E=e.boundingBox;null!==E&&(this.boundingBox=E.clone());var M=e.boundingSphere;return null!==M&&(this.boundingSphere=M.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(ge.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(ge.prototype,{isBufferAttribute:!0,setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==e?e.length/this.itemSize:0,this.array=e},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new Z),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this},copyIndicesArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];t[n++]=o.a,t[n++]=o.b,t[n++]=o.c}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,r=0,o=e.length;r<o;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),a=new i),t[n++]=a.x,t[n++]=a.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new s),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new l),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),ve.prototype=Object.create(ge.prototype),ve.prototype.constructor=ve,ye.prototype=Object.create(ge.prototype),ye.prototype.constructor=ye,be.prototype=Object.create(ge.prototype),be.prototype.constructor=be,xe.prototype=Object.create(ge.prototype),xe.prototype.constructor=xe,_e.prototype=Object.create(ge.prototype),_e.prototype.constructor=_e,we.prototype=Object.create(ge.prototype),we.prototype.constructor=we,Ee.prototype=Object.create(ge.prototype),Ee.prototype.constructor=Ee,Me.prototype=Object.create(ge.prototype),Me.prototype.constructor=Me,Te.prototype=Object.create(ge.prototype),Te.prototype.constructor=Te,Object.assign(Se.prototype,{computeGroups:function(e){for(var t,n=[],r=void 0,i=e.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==r&&(r=a.materialIndex,void 0!==t&&(t.count=3*o-t.start,n.push(t)),t={start:3*o,materialIndex:r})}void 0!==t&&(t.count=3*o-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t,n=e.faces,r=e.vertices,o=e.faceVertexUvs,a=o[0]&&o[0].length>0,s=o[1]&&o[1].length>0,u=e.morphTargets,c=u.length;if(c>0){t=[];for(var l=0;l<c;l++)t[l]=[];this.morphTargets.position=t}var h,d=e.morphNormals,f=d.length;if(f>0){h=[];for(var l=0;l<f;l++)h[l]=[];this.morphTargets.normal=h}for(var p=e.skinIndices,m=e.skinWeights,g=p.length===r.length,v=m.length===r.length,l=0;l<n.length;l++){var y=n[l];this.vertices.push(r[y.a],r[y.b],r[y.c]);var b=y.vertexNormals;if(3===b.length)this.normals.push(b[0],b[1],b[2]);else{var x=y.normal;this.normals.push(x,x,x)}var _=y.vertexColors;if(3===_.length)this.colors.push(_[0],_[1],_[2]);else{var w=y.color;this.colors.push(w,w,w)}if(!0===a){var E=o[0][l];void 0!==E?this.uvs.push(E[0],E[1],E[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",l),this.uvs.push(new i,new i,new i))}if(!0===s){var E=o[1][l];void 0!==E?this.uvs2.push(E[0],E[1],E[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",l),this.uvs2.push(new i,new i,new i))}for(var M=0;M<c;M++){var T=u[M].vertices;t[M].push(T[y.a],T[y.b],T[y.c])}for(var M=0;M<f;M++){var S=d[M].vertexNormals[l];h[M].push(S.a,S.b,S.c)}g&&this.skinIndices.push(p[y.a],p[y.b],p[y.c]),v&&this.skinWeights.push(m[y.a],m[y.b],m[y.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}});var Zs=1;Object.assign(Ae.prototype,r.prototype,{isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(Ce(e)>65535?Ee:_e)(e,1):this.index=e},addAttribute:function(e,t){return t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),void this.setIndex(t)):(this.attributes[e]=t,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void this.addAttribute(e,new ge(arguments[1],arguments[2])))},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){(new u).getNormalMatrix(e).applyToBufferAttribute(n),n.needsUpdate=!0}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var e=new o;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new o;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new o;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new o;return function(t,n,r){return e.makeTranslation(t,n,r),this.applyMatrix(e),this}}(),scale:function(){var e=new o;return function(t,n,r){return e.makeScale(t,n,r),this.applyMatrix(e),this}}(),lookAt:function(){var e=new he;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();return this.translate(e.x,e.y,e.z),e},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new Me(3*t.vertices.length,3),r=new Me(3*t.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(t.vertices)),this.addAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new Me(t.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.addAttribute("position",new Me(t,3)),this},updateFromObject:function(e){var t=e.geometry;if(e.isMesh){var n=t.__directGeometry;if(!0===t.elementsNeedUpdate&&(n=void 0,t.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(t);n.verticesNeedUpdate=t.verticesNeedUpdate,n.normalsNeedUpdate=t.normalsNeedUpdate,n.colorsNeedUpdate=t.colorsNeedUpdate,n.uvsNeedUpdate=t.uvsNeedUpdate,n.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=n}var r;return!0===t.verticesNeedUpdate&&(r=this.attributes.position,void 0!==r&&(r.copyVector3sArray(t.vertices),r.needsUpdate=!0),t.verticesNeedUpdate=!1),!0===t.normalsNeedUpdate&&(r=this.attributes.normal,void 0!==r&&(r.copyVector3sArray(t.normals),r.needsUpdate=!0),t.normalsNeedUpdate=!1),!0===t.colorsNeedUpdate&&(r=this.attributes.color,void 0!==r&&(r.copyColorsArray(t.colors),r.needsUpdate=!0),t.colorsNeedUpdate=!1),t.uvsNeedUpdate&&(r=this.attributes.uv,void 0!==r&&(r.copyVector2sArray(t.uvs),r.needsUpdate=!0),t.uvsNeedUpdate=!1),t.lineDistancesNeedUpdate&&(r=this.attributes.lineDistance,void 0!==r&&(r.copyArray(t.lineDistances),r.needsUpdate=!0),t.lineDistancesNeedUpdate=!1),t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new Se).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute("position",new ge(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(3*e.normals.length);this.addAttribute("normal",new ge(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var r=new Float32Array(3*e.colors.length);this.addAttribute("color",new ge(r,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var i=new Float32Array(2*e.uvs.length);this.addAttribute("uv",new ge(i,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var o=new Float32Array(2*e.uvs2.length);this.addAttribute("uv2",new ge(o,2).copyVector2sArray(e.uvs2))}if(e.indices.length>0){var a=Ce(e.indices)>65535?Uint32Array:Uint16Array,s=new a(3*e.indices.length);this.setIndex(new ge(s,1).copyIndicesArray(e.indices))}this.groups=e.groups;for(var u in e.morphTargets){for(var c=[],l=e.morphTargets[u],h=0,d=l.length;h<d;h++){var f=l[h],p=new Me(3*f.length,3);c.push(p.copyVector3sArray(f))}this.morphAttributes[u]=c}if(e.skinIndices.length>0){var m=new Me(4*e.skinIndices.length,4);this.addAttribute("skinIndex",m.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var g=new Me(4*e.skinWeights.length,4);this.addAttribute("skinWeight",g.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new re);var e=this.attributes.position;void 0!==e?this.boundingBox.setFromBufferAttribute(e):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var e=new re,t=new s;return function(){null===this.boundingSphere&&(this.boundingSphere=new ie);var n=this.attributes.position;if(n){var r=this.boundingSphere.center;e.setFromBufferAttribute(n),e.getCenter(r);for(var i=0,o=0,a=n.count;o<a;o++)t.x=n.getX(o),t.y=n.getY(o),t.z=n.getZ(o),i=Math.max(i,r.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes,n=this.groups;if(t.position){var r=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new ge(new Float32Array(r.length),3));else for(var i=t.normal.array,o=0,a=i.length;o<a;o++)i[o]=0;var u,c,l,h=t.normal.array,d=new s,f=new s,p=new s,m=new s,g=new s;if(e){var v=e.array;0===n.length&&this.addGroup(0,v.length);for(var y=0,b=n.length;y<b;++y)for(var x=n[y],_=x.start,w=x.count,o=_,a=_+w;o<a;o+=3)u=3*v[o+0],c=3*v[o+1],l=3*v[o+2],d.fromArray(r,u),f.fromArray(r,c),p.fromArray(r,l),m.subVectors(p,f),g.subVectors(d,f),m.cross(g),h[u]+=m.x,h[u+1]+=m.y,h[u+2]+=m.z,h[c]+=m.x,h[c+1]+=m.y,h[c+2]+=m.z,h[l]+=m.x,h[l+1]+=m.y,h[l+2]+=m.z}else for(var o=0,a=r.length;o<a;o+=9)d.fromArray(r,o),f.fromArray(r,o+3),p.fromArray(r,o+6),m.subVectors(p,f),g.subVectors(d,f),m.cross(g),h[o]=m.x,h[o+1]=m.y,h[o+2]=m.z,h[o+3]=m.x,h[o+4]=m.y,h[o+5]=m.z,h[o+6]=m.x,h[o+7]=m.y,h[o+8]=m.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(!e||!e.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);void 0===t&&(t=0);var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var i=n[r],o=i.array,a=e.attributes[r],s=a.array,u=a.itemSize,c=0,l=u*t;c<s.length;c++,l++)o[l]=s[c];return this},normalizeNormals:function(){var e=new s;return function(){for(var t=this.attributes.normal,n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.normalize(),t.setXYZ(n,e.x,e.y,e.z)}}(),toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var e=new Ae,t=this.index.array,n=this.attributes;for(var r in n){for(var i=n[r],o=i.array,a=i.itemSize,s=new o.constructor(t.length*a),u=0,c=0,l=0,h=t.length;l<h;l++){u=t[l]*a;for(var d=0;d<a;d++)s[c++]=o[u++]}e.addAttribute(r,new ge(s,a))}return e},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;if(null!==r){var i=Array.prototype.slice.call(r.array);e.data.index={type:r.array.constructor.name,array:i}}var o=this.attributes;for(var n in o){var a=o[n],i=Array.prototype.slice.call(a.array);e.data.attributes[n]={itemSize:a.itemSize,type:a.array.constructor.name,array:i,normalized:a.normalized}}var s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));var u=this.boundingSphere;return null!==u&&(e.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),e},clone:function(){return(new Ae).copy(this)},copy:function(e){var t,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var i=e.index;null!==i&&this.setIndex(i.clone());var o=e.attributes;for(t in o){var a=o[t];this.addAttribute(t,a.clone())}var s=e.morphAttributes;for(t in s){var u=[],c=s[t];for(n=0,r=c.length;n<r;n++)u.push(c[n].clone());this.morphAttributes[t]=u}var l=e.groups;for(n=0,r=l.length;n<r;n++){var h=l[n];this.addGroup(h.start,h.count,h.materialIndex)}var d=e.boundingBox;null!==d&&(this.boundingBox=d.clone());var f=e.boundingSphere;return null!==f&&(this.boundingSphere=f.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Pe.prototype=Object.create(me.prototype),Pe.prototype.constructor=Pe,Re.prototype=Object.create(Ae.prototype),Re.prototype.constructor=Re,Le.prototype=Object.create(me.prototype),Le.prototype.constructor=Le,Ie.prototype=Object.create(Ae.prototype),Ie.prototype.constructor=Ie,Oe.prototype=Object.create(ee.prototype),Oe.prototype.constructor=Oe,Oe.prototype.isMeshBasicMaterial=!0,Oe.prototype.copy=function(e){return ee.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},Ne.prototype=Object.create(ee.prototype),Ne.prototype.constructor=Ne,Ne.prototype.isShaderMaterial=!0,Ne.prototype.copy=function(e){return ee.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=js.clone(e.uniforms),this.defines=e.defines,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},Ne.prototype.toJSON=function(e){var t=ee.prototype.toJSON.call(this,e);return t.uniforms=this.uniforms,t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t},Object.assign(ke.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return(t||new s).copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(){var e=new s;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){var n=t||new s;n.subVectors(e,this.origin);var r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new s;return function(t){var n=e.subVectors(t,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(n).add(this.origin),e.distanceToSquared(t))}}(),distanceSqToSegment:function(){var e=new s,t=new s,n=new s;return function(r,i,o,a){e.copy(r).add(i).multiplyScalar(.5),t.copy(i).sub(r).normalize(),n.copy(this.origin).sub(e);var s,u,c,l,h=.5*r.distanceTo(i),d=-this.direction.dot(t),f=n.dot(this.direction),p=-n.dot(t),m=n.lengthSq(),g=Math.abs(1-d*d);if(g>0)if(s=d*p-f,u=d*f-p,l=h*g,s>=0)if(u>=-l)if(u<=l){var v=1/g;s*=v,u*=v,c=s*(s+d*u+2*f)+u*(d*s+u+2*p)+m}else u=h,s=Math.max(0,-(d*u+f)),c=-s*s+u*(u+2*p)+m;else u=-h,s=Math.max(0,-(d*u+f)),c=-s*s+u*(u+2*p)+m;else u<=-l?(s=Math.max(0,-(-d*h+f)),u=s>0?-h:Math.min(Math.max(-h,-p),h),c=-s*s+u*(u+2*p)+m):u<=l?(s=0,u=Math.min(Math.max(-h,-p),h),c=u*(u+2*p)+m):(s=Math.max(0,-(d*h+f)),u=s>0?h:Math.min(Math.max(-h,-p),h),c=-s*s+u*(u+2*p)+m);else u=d>0?-h:h,s=Math.max(0,-(d*u+f)),c=-s*s+u*(u+2*p)+m;return o&&o.copy(this.direction).multiplyScalar(s).add(this.origin),a&&a.copy(t).multiplyScalar(u).add(e),c}}(),intersectSphere:function(){var e=new s;return function(t,n){e.subVectors(t.center,this.origin);var r=e.dot(this.direction),i=e.dot(e)-r*r,o=t.radius*t.radius;if(i>o)return null;var a=Math.sqrt(o-i),s=r-a,u=r+a;return s<0&&u<0?null:s<0?this.at(u,n):this.at(s,n)}}(),intersectsSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var n,r,i,o,a,s,u=1/this.direction.x,c=1/this.direction.y,l=1/this.direction.z,h=this.origin;return u>=0?(n=(e.min.x-h.x)*u,r=(e.max.x-h.x)*u):(n=(e.max.x-h.x)*u,r=(e.min.x-h.x)*u),c>=0?(i=(e.min.y-h.y)*c,o=(e.max.y-h.y)*c):(i=(e.max.y-h.y)*c,o=(e.min.y-h.y)*c),n>o||i>r?null:((i>n||n!==n)&&(n=i),(o<r||r!==r)&&(r=o),l>=0?(a=(e.min.z-h.z)*l,s=(e.max.z-h.z)*l):(a=(e.max.z-h.z)*l,s=(e.min.z-h.z)*l),n>s||a>r?null:((a>n||n!==n)&&(n=a),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))},intersectsBox:function(){var e=new s;return function(t){return null!==this.intersectBox(t,e)}}(),intersectTriangle:function(){var e=new s,t=new s,n=new s,r=new s;return function(i,o,a,s,u){t.subVectors(o,i),n.subVectors(a,i),r.crossVectors(t,n);var c,l=this.direction.dot(r);if(l>0){if(s)return null;c=1}else{if(!(l<0))return null;c=-1,l=-l}e.subVectors(this.origin,i);var h=c*this.direction.dot(n.crossVectors(e,n));if(h<0)return null;var d=c*this.direction.dot(t.cross(e));if(d<0)return null;if(h+d>l)return null;var f=-c*e.dot(r);return f<0?null:this.at(f/l,u)}}(),applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}),Object.assign(De.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return(e||new s).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return(e||new s).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){var n=t||new s;return this.delta(n).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new s,t=new s;return function(n,r){e.subVectors(n,this.start),t.subVectors(this.end,this.start);var i=t.dot(t),o=t.dot(e),a=o/i;return r&&(a=Is.clamp(a,0,1)),a}}(),closestPointToPoint:function(e,t,n){var r=this.closestPointToPointParameter(e,t),i=n||new s;return this.delta(i).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),Object.assign(Ue,{normal:function(){var e=new s;return function(t,n,r,i){var o=i||new s;o.subVectors(r,n),e.subVectors(t,n),o.cross(e);var a=o.lengthSq();return a>0?o.multiplyScalar(1/Math.sqrt(a)):o.set(0,0,0)}}(),barycoordFromPoint:function(){var e=new s,t=new s,n=new s;return function(r,i,o,a,u){e.subVectors(a,i),t.subVectors(o,i),n.subVectors(r,i);var c=e.dot(e),l=e.dot(t),h=e.dot(n),d=t.dot(t),f=t.dot(n),p=c*d-l*l,m=u||new s;if(0===p)return m.set(-2,-1,-1);var g=1/p,v=(d*h-l*f)*g,y=(c*f-l*h)*g;return m.set(1-v-y,y,v)}}(),containsPoint:function(){var e=new s;return function(t,n,r,i){var o=Ue.barycoordFromPoint(t,n,r,i,e);return o.x>=0&&o.y>=0&&o.x+o.y<=1}}()}),Object.assign(Ue.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},area:function(){var e=new s,t=new s;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),midpoint:function(e){return(e||new s).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(e){return Ue.normal(this.a,this.b,this.c,e)},plane:function(e){return(e||new oe).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(e,t){return Ue.barycoordFromPoint(e,this.a,this.b,this.c,t)},containsPoint:function(e){return Ue.containsPoint(e,this.a,this.b,this.c)},closestPointToPoint:function(){var e=new oe,t=[new De,new De,new De],n=new s,r=new s;return function(i,o){var a=o||new s,u=1/0;if(e.setFromCoplanarPoints(this.a,this.b,this.c),e.projectPoint(i,n),!0===this.containsPoint(n))a.copy(n);else{t[0].set(this.a,this.b),t[1].set(this.b,this.c),t[2].set(this.c,this.a);for(var c=0;c<t.length;c++){t[c].closestPointToPoint(n,!0,r);var l=n.distanceToSquared(r);l<u&&(u=l,a.copy(r))}}return a}}(),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}),Fe.prototype=Object.assign(Object.create(he.prototype),{constructor:Fe,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return he.prototype.copy.call(this,e),this.drawMode=e.drawMode,void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e,t,n,r=this.geometry;if(r.isBufferGeometry){var i=r.morphAttributes,o=Object.keys(i);if(o.length>0){var a=i[o[0]];if(void 0!==a)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=a.length;e<t;e++)n=a[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var s=r.morphTargets;if(void 0!==s&&s.length>0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=s.length;e<t;e++)n=s[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}},raycast:function(){function e(e,t,n,r,i,o,a){return Ue.barycoordFromPoint(e,t,n,r,y),i.multiplyScalar(y.x),o.multiplyScalar(y.y),a.multiplyScalar(y.z),i.add(o).add(a),i.clone()}function t(e,t,n,r,i,o,a,s){if(null===(t.side===Co?r.intersectTriangle(a,o,i,!0,s):r.intersectTriangle(i,o,a,t.side!==Ao,s)))return null;x.copy(s),x.applyMatrix4(e.matrixWorld);var u=n.ray.origin.distanceTo(x);return u<n.near||u>n.far?null:{distance:u,point:x.clone(),object:e}}function n(n,r,i,o,a,s,u,d){c.fromBufferAttribute(o,s),l.fromBufferAttribute(o,u),h.fromBufferAttribute(o,d);var f=t(n,n.material,r,i,c,l,h,b);return f&&(a&&(m.fromBufferAttribute(a,s),g.fromBufferAttribute(a,u),v.fromBufferAttribute(a,d),f.uv=e(b,c,l,h,m,g,v)),f.face=new pe(s,u,d,Ue.normal(c,l,h)),f.faceIndex=s),f}var r=new o,a=new ke,u=new ie,c=new s,l=new s,h=new s,d=new s,f=new s,p=new s,m=new i,g=new i,v=new i,y=new s,b=new s,x=new s;return function(i,o){var s=this.geometry,y=this.material,x=this.matrixWorld;if(void 0!==y&&(null===s.boundingSphere&&s.computeBoundingSphere(),u.copy(s.boundingSphere),u.applyMatrix4(x),!1!==i.ray.intersectsSphere(u)&&(r.getInverse(x),a.copy(i.ray).applyMatrix4(r),null===s.boundingBox||!1!==a.intersectsBox(s.boundingBox)))){var _;if(s.isBufferGeometry){var w,E,M,T,S,C=s.index,A=s.attributes.position,P=s.attributes.uv;if(null!==C)for(T=0,S=C.count;T<S;T+=3)w=C.getX(T),E=C.getX(T+1),M=C.getX(T+2),(_=n(this,i,a,A,P,w,E,M))&&(_.faceIndex=Math.floor(T/3),o.push(_));else if(void 0!==A)for(T=0,S=A.count;T<S;T+=3)w=T,E=T+1,M=T+2,(_=n(this,i,a,A,P,w,E,M))&&(_.index=w,o.push(_))}else if(s.isGeometry){var R,L,I,O,N=Array.isArray(y),k=s.vertices,D=s.faces,U=s.faceVertexUvs[0];U.length>0&&(O=U);for(var F=0,B=D.length;F<B;F++){var z=D[F],H=N?y[z.materialIndex]:y;if(void 0!==H){if(R=k[z.a],L=k[z.b],I=k[z.c],!0===H.morphTargets){var q=s.morphTargets,j=this.morphTargetInfluences;c.set(0,0,0),l.set(0,0,0),h.set(0,0,0);for(var G=0,V=q.length;G<V;G++){var W=j[G];if(0!==W){var X=q[G].vertices;c.addScaledVector(d.subVectors(X[z.a],R),W),l.addScaledVector(f.subVectors(X[z.b],L),W),h.addScaledVector(p.subVectors(X[z.c],I),W)}}c.add(R),l.add(L),h.add(I),R=c,L=l,I=h}if(_=t(this,H,i,a,R,L,I,b)){if(O&&O[F]){var Y=O[F];m.copy(Y[0]),g.copy(Y[1]),v.copy(Y[2]),_.uv=e(b,R,L,I,m,g,v)}_.face=z,_.faceIndex=F,o.push(_)}}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var Ks=0;vt.prototype=Object.assign(Object.create(de.prototype),{constructor:vt,isPerspectiveCamera:!0,copy:function(e,t){return de.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Is.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*Is.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*Is.RAD2DEG*Math.atan(Math.tan(.5*Is.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,r,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*Is.DEG2RAD*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==this.view&&this.view.enabled){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/a,t-=o.offsetY*n/s,r*=o.width/a,n*=o.height/s}var u=this.filmOffset;0!==u&&(i+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far)},toJSON:function(e){var t=he.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}),yt.prototype=Object.assign(Object.create(vt.prototype),{constructor:yt,isArrayCamera:!0}),Mt.prototype.isFogExp2=!0,Mt.prototype.clone=function(){return new Mt(this.color.getHex(),this.density)},Mt.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},Tt.prototype.isFog=!0,Tt.prototype.clone=function(){return new Tt(this.color.getHex(),this.near,this.far)},Tt.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},St.prototype=Object.assign(Object.create(he.prototype),{constructor:St,copy:function(e,t){return he.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=he.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}),Ct.prototype=Object.assign(Object.create(he.prototype),{constructor:Ct,isLensFlare:!0,copy:function(e){he.prototype.copy.call(this,e),this.positionScreen.copy(e.positionScreen),this.customUpdateCallback=e.customUpdateCallback;for(var t=0,n=e.lensFlares.length;t<n;t++)this.lensFlares.push(e.lensFlares[t]);return this},add:function(e,t,n,r,i,o){void 0===t&&(t=-1),void 0===n&&(n=0),void 0===o&&(o=1),void 0===i&&(i=new Z(16777215)),void 0===r&&(r=ko),n=Math.min(n,Math.max(0,n)),this.lensFlares.push({texture:e,size:t,distance:n,x:0,y:0,z:0,scale:1,rotation:0,opacity:o,color:i,blending:r})},updateLensFlares:function(){var e,t,n=this.lensFlares.length,r=2*-this.positionScreen.x,i=2*-this.positionScreen.y;for(e=0;e<n;e++)t=this.lensFlares[e],t.x=this.positionScreen.x+r*t.distance,t.y=this.positionScreen.y+i*t.distance,t.wantedRotation=t.x*Math.PI*.25,t.rotation+=.25*(t.wantedRotation-t.rotation)}}),At.prototype=Object.create(ee.prototype),At.prototype.constructor=At,At.prototype.isSpriteMaterial=!0,At.prototype.copy=function(e){return ee.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this},Pt.prototype=Object.assign(Object.create(he.prototype),{constructor:Pt,isSprite:!0,raycast:function(){var e=new s,t=new s,n=new s;return function(r,i){t.setFromMatrixPosition(this.matrixWorld),r.ray.closestPointToPoint(t,e),n.setFromMatrixScale(this.matrixWorld);var o=n.x*n.y/4;if(!(t.distanceToSquared(e)>o)){var a=r.ray.origin.distanceTo(e);a<r.near||a>r.far||i.push({distance:a,point:e.clone(),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),Rt.prototype=Object.assign(Object.create(he.prototype),{constructor:Rt,copy:function(e){he.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,r=t.length;n<r;n++){var i=t[n];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var n=this.levels,r=0;r<n.length&&!(t<n[r].distance);r++);n.splice(r,0,{distance:t,object:e}),this.add(e)},getObjectForDistance:function(e){for(var t=this.levels,n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object},raycast:function(){var e=new s;return function(t,n){e.setFromMatrixPosition(this.matrixWorld);var r=t.ray.origin.distanceTo(e);this.getObjectForDistance(r).raycast(t,n)}}(),update:function(){var e=new s,t=new s;return function(n){var r=this.levels;if(r.length>1){e.setFromMatrixPosition(n.matrixWorld),t.setFromMatrixPosition(this.matrixWorld);var i=e.distanceTo(t);r[0].object.visible=!0;for(var o=1,a=r.length;o<a&&i>=r[o].distance;o++)r[o-1].object.visible=!1,r[o].object.visible=!0;for(;o<a;o++)r[o].object.visible=!1}}}(),toJSON:function(e){var t=he.prototype.toJSON.call(this,e);t.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var o=n[r];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}),Object.assign(Lt.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new o;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){var e,t,n;for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){var e=new o,t=new o;return function(){for(var n=this.bones,r=this.boneInverses,i=this.boneMatrices,o=this.boneTexture,a=0,s=n.length;a<s;a++){var u=n[a]?n[a].matrixWorld:t;e.multiplyMatrices(u,r[a]),e.toArray(i,16*a)}void 0!==o&&(o.needsUpdate=!0)}}(),clone:function(){return new Lt(this.bones,this.boneInverses)}}),It.prototype=Object.assign(Object.create(he.prototype),{constructor:It,isBone:!0}),Ot.prototype=Object.assign(Object.create(Fe.prototype),{constructor:Ot,isSkinnedMesh:!0,initBones:function(){var e,t,n,r,i=[];if(this.geometry&&void 0!==this.geometry.bones){for(n=0,r=this.geometry.bones.length;n<r;n++)t=this.geometry.bones[n],e=new It,i.push(e),e.name=t.name,e.position.fromArray(t.pos),e.quaternion.fromArray(t.rotq),void 0!==t.scl&&e.scale.fromArray(t.scl);for(n=0,r=this.geometry.bones.length;n<r;n++)t=this.geometry.bones[n],-1!==t.parent&&null!==t.parent&&void 0!==i[t.parent]?i[t.parent].add(i[n]):this.add(i[n])}return this.updateMatrixWorld(!0),i},bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var e,t;if(this.geometry&&this.geometry.isGeometry)for(t=0;t<this.geometry.skinWeights.length;t++){var n=this.geometry.skinWeights[t];e=1/n.manhattanLength(),e!==1/0?n.multiplyScalar(e):n.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var r=new l,i=this.geometry.attributes.skinWeight;for(t=0;t<i.count;t++)r.x=i.getX(t),r.y=i.getY(t),r.z=i.getZ(t),r.w=i.getW(t),e=1/r.manhattanLength(),e!==1/0?r.multiplyScalar(e):r.set(1,0,0,0),i.setXYZW(t,r.x,r.y,r.z,r.w)}},updateMatrixWorld:function(e){Fe.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Nt.prototype=Object.create(ee.prototype),Nt.prototype.constructor=Nt,Nt.prototype.isLineBasicMaterial=!0,Nt.prototype.copy=function(e){return ee.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this},kt.prototype=Object.assign(Object.create(he.prototype),{constructor:kt,isLine:!0,raycast:function(){var e=new o,t=new ke,n=new ie;return function(r,i){var o=r.linePrecision,a=o*o,u=this.geometry,c=this.matrixWorld;if(null===u.boundingSphere&&u.computeBoundingSphere(),n.copy(u.boundingSphere),n.applyMatrix4(c),!1!==r.ray.intersectsSphere(n)){e.getInverse(c),t.copy(r.ray).applyMatrix4(e);var l=new s,h=new s,d=new s,f=new s,p=this&&this.isLineSegments?2:1;if(u.isBufferGeometry){var m=u.index,g=u.attributes,v=g.position.array;if(null!==m)for(var y=m.array,b=0,x=y.length-1;b<x;b+=p){var _=y[b],w=y[b+1];l.fromArray(v,3*_),h.fromArray(v,3*w);var E=t.distanceSqToSegment(l,h,f,d);if(!(E>a)){f.applyMatrix4(this.matrixWorld);var M=r.ray.origin.distanceTo(f);M<r.near||M>r.far||i.push({distance:M,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else for(var b=0,x=v.length/3-1;b<x;b+=p){l.fromArray(v,3*b),h.fromArray(v,3*b+3);var E=t.distanceSqToSegment(l,h,f,d);if(!(E>a)){f.applyMatrix4(this.matrixWorld);var M=r.ray.origin.distanceTo(f);M<r.near||M>r.far||i.push({distance:M,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}else if(u.isGeometry)for(var T=u.vertices,S=T.length,b=0;b<S-1;b+=p){var E=t.distanceSqToSegment(T[b],T[b+1],f,d);if(!(E>a)){f.applyMatrix4(this.matrixWorld);var M=r.ray.origin.distanceTo(f);M<r.near||M>r.far||i.push({distance:M,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Dt.prototype=Object.assign(Object.create(kt.prototype),{constructor:Dt,isLineSegments:!0}),Ut.prototype=Object.assign(Object.create(kt.prototype),{constructor:Ut,isLineLoop:!0}),Ft.prototype=Object.create(ee.prototype),Ft.prototype.constructor=Ft,Ft.prototype.isPointsMaterial=!0,Ft.prototype.copy=function(e){return ee.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this},Bt.prototype=Object.assign(Object.create(he.prototype),{constructor:Bt,isPoints:!0,raycast:function(){var e=new o,t=new ke,n=new ie;return function(r,i){function o(e,n){var o=t.distanceSqToPoint(e);if(o<d){var s=t.closestPointToPoint(e);s.applyMatrix4(c);var u=r.ray.origin.distanceTo(s);if(u<r.near||u>r.far)return;i.push({distance:u,distanceToRay:Math.sqrt(o),point:s.clone(),index:n,face:null,object:a})}}var a=this,u=this.geometry,c=this.matrixWorld,l=r.params.Points.threshold;if(null===u.boundingSphere&&u.computeBoundingSphere(),n.copy(u.boundingSphere),n.applyMatrix4(c),n.radius+=l,!1!==r.ray.intersectsSphere(n)){e.getInverse(c),t.copy(r.ray).applyMatrix4(e);var h=l/((this.scale.x+this.scale.y+this.scale.z)/3),d=h*h,f=new s;if(u.isBufferGeometry){var p=u.index,m=u.attributes,g=m.position.array;if(null!==p)for(var v=p.array,y=0,b=v.length;y<b;y++){var x=v[y];f.fromArray(g,3*x),o(f,x)}else for(var y=0,_=g.length/3;y<_;y++)f.fromArray(g,3*y),o(f,y)}else for(var w=u.vertices,y=0,_=w.length;y<_;y++)o(w[y],y)}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),zt.prototype=Object.assign(Object.create(he.prototype),{constructor:zt}),Ht.prototype=Object.create(c.prototype),Ht.prototype.constructor=Ht,qt.prototype=Object.create(c.prototype),qt.prototype.constructor=qt,qt.prototype.isCompressedTexture=!0,jt.prototype=Object.create(c.prototype),jt.prototype.constructor=jt,jt.prototype.isDepthTexture=!0,Gt.prototype=Object.create(Ae.prototype),Gt.prototype.constructor=Gt,Vt.prototype=Object.create(me.prototype),Vt.prototype.constructor=Vt,Wt.prototype=Object.create(Ae.prototype),Wt.prototype.constructor=Wt,Xt.prototype=Object.create(me.prototype),Xt.prototype.constructor=Xt,Yt.prototype=Object.create(Ae.prototype),Yt.prototype.constructor=Yt,Zt.prototype=Object.create(me.prototype),Zt.prototype.constructor=Zt,Kt.prototype=Object.create(Yt.prototype),Kt.prototype.constructor=Kt,Qt.prototype=Object.create(me.prototype),Qt.prototype.constructor=Qt,Jt.prototype=Object.create(Yt.prototype),Jt.prototype.constructor=Jt,$t.prototype=Object.create(me.prototype),$t.prototype.constructor=$t,en.prototype=Object.create(Yt.prototype),en.prototype.constructor=en,tn.prototype=Object.create(me.prototype),tn.prototype.constructor=tn,nn.prototype=Object.create(Yt.prototype),nn.prototype.constructor=nn,rn.prototype=Object.create(me.prototype),rn.prototype.constructor=rn,on.prototype=Object.create(Ae.prototype),on.prototype.constructor=on,an.prototype=Object.create(me.prototype),an.prototype.constructor=an,sn.prototype=Object.create(Ae.prototype),sn.prototype.constructor=sn,un.prototype=Object.create(me.prototype),un.prototype.constructor=un,cn.prototype=Object.create(Ae.prototype),cn.prototype.constructor=cn;var Qs={area:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n},triangulate:function(){function e(e,t,n,r,i,o){var a,s,u,c,l,h,d,f,p;if(s=e[o[t]].x,u=e[o[t]].y,c=e[o[n]].x,l=e[o[n]].y,h=e[o[r]].x,d=e[o[r]].y,(c-s)*(d-u)-(l-u)*(h-s)<=0)return!1;var m,g,v,y,b,x,_,w,E,M,T,S,C,A,P;for(m=h-c,g=d-l,v=s-h,y=u-d,b=c-s,x=l-u,a=0;a<i;a++)if(f=e[o[a]].x,p=e[o[a]].y,!(f===s&&p===u||f===c&&p===l||f===h&&p===d)&&(_=f-s,w=p-u,E=f-c,M=p-l,T=f-h,S=p-d,P=m*M-g*E,C=b*w-x*_,A=v*S-y*T,P>=-Number.EPSILON&&A>=-Number.EPSILON&&C>=-Number.EPSILON))return!1;return!0}return function(t,n){var r=t.length;if(r<3)return null;var i,o,a,s=[],u=[],c=[];if(Qs.area(t)>0)for(o=0;o<r;o++)u[o]=o;else for(o=0;o<r;o++)u[o]=r-1-o;var l=r,h=2*l;for(o=l-1;l>2;){if(h--<=0)return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"),n?c:s;if(i=o,l<=i&&(i=0),o=i+1,l<=o&&(o=0),a=o+1,l<=a&&(a=0),e(t,i,o,a,l,u)){var d,f,p,m,g;for(d=u[i],f=u[o],p=u[a],s.push([t[d],t[f],t[p]]),c.push([u[i],u[o],u[a]]),m=o,g=o+1;g<l;m++,g++)u[m]=u[g];l--,h=2*l}}return n?c:s}}(),triangulateShape:function(e,t){function n(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function r(e,t,n){return e.x!==t.x?e.x<t.x?e.x<=n.x&&n.x<=t.x:t.x<=n.x&&n.x<=e.x:e.y<t.y?e.y<=n.y&&n.y<=t.y:t.y<=n.y&&n.y<=e.y}function i(e,t,n,i,o){var a=t.x-e.x,s=t.y-e.y,u=i.x-n.x,c=i.y-n.y,l=e.x-n.x,h=e.y-n.y,d=s*u-a*c,f=s*l-a*h;if(Math.abs(d)>Number.EPSILON){var p;if(d>0){if(f<0||f>d)return[];if((p=c*l-u*h)<0||p>d)return[]}else{if(f>0||f<d)return[];if((p=c*l-u*h)>0||p<d)return[]}if(0===p)return!o||0!==f&&f!==d?[e]:[];if(p===d)return!o||0!==f&&f!==d?[t]:[];if(0===f)return[n];if(f===d)return[i];var m=p/d;return[{x:e.x+m*a,y:e.y+m*s}]}if(0!==f||c*l!=u*h)return[];var g=0===a&&0===s,v=0===u&&0===c;if(g&&v)return e.x!==n.x||e.y!==n.y?[]:[e];if(g)return r(n,i,e)?[e]:[];if(v)return r(e,t,n)?[n]:[];var y,b,x,_,w,E,M,T;return 0!==a?(e.x<t.x?(y=e,x=e.x,b=t,_=t.x):(y=t,x=t.x,b=e,_=e.x),n.x<i.x?(w=n,M=n.x,E=i,T=i.x):(w=i,M=i.x,E=n,T=n.x)):(e.y<t.y?(y=e,x=e.y,b=t,_=t.y):(y=t,x=t.y,b=e,_=e.y),n.y<i.y?(w=n,M=n.y,E=i,T=i.y):(w=i,M=i.y,E=n,T=n.y)),x<=M?_<M?[]:_===M?o?[]:[w]:_<=T?[w,b]:[w,E]:x>T?[]:x===T?o?[]:[y]:_<=T?[y,b]:[y,E]}function o(e,t,n,r){var i=t.x-e.x,o=t.y-e.y,a=n.x-e.x,s=n.y-e.y,u=r.x-e.x,c=r.y-e.y,l=i*s-o*a,h=i*c-o*u;if(Math.abs(l)>Number.EPSILON){var d=u*s-c*a;return l>0?h>=0&&d>=0:h>=0||d>=0}return h>0}n(e),t.forEach(n);for(var a,s,u,c,l,h,d={},f=e.concat(),p=0,m=t.length;p<m;p++)Array.prototype.push.apply(f,t[p]);for(a=0,s=f.length;a<s;a++)l=f[a].x+":"+f[a].y,void 0!==d[l]&&console.warn("THREE.ShapeUtils: Duplicate point",l,a),d[l]=a;var g=function(e,t){for(var n,r,a,s,u,c,l,h,d,f,p,m=e.concat(),g=[],v=[],y=0,b=t.length;y<b;y++)g.push(y);for(var x=0,_=2*g.length;g.length>0;){if(--_<0){console.log('THREE.ShapeUtils: Infinite Loop! Holes left:" + indepHoles.length + ", Probably Hole outside Shape!');break}for(a=x;a<m.length;a++){s=m[a],r=-1;for(var y=0;y<g.length;y++)if(c=g[y],l=s.x+":"+s.y+":"+c,void 0===v[l]){n=t[c];for(var w=0;w<n.length;w++)if(u=n[w],function(e,t){var r=m.length-1,i=e-1;i<0&&(i=r);var a=e+1;a>r&&(a=0);var s=o(m[e],m[i],m[a],n[t]);if(!s)return!1;var u=n.length-1,c=t-1;c<0&&(c=u);var l=t+1;return l>u&&(l=0),!!(s=o(n[t],n[c],n[l],m[e]))}(a,w)&&!function(e,t){var n,r,o;for(n=0;n<m.length;n++)if(r=n+1,r%=m.length,o=i(e,t,m[n],m[r],!0),o.length>0)return!0;return!1}(s,u)&&!function(e,n){var r,o,a,s,u;for(r=0;r<g.length;r++)for(o=t[g[r]],a=0;a<o.length;a++)if(s=a+1,s%=o.length,u=i(e,n,o[a],o[s],!0),u.length>0)return!0;return!1}(s,u)){r=w,g.splice(y,1),h=m.slice(0,a+1),d=m.slice(a),f=n.slice(r),p=n.slice(0,r+1),m=h.concat(f).concat(p).concat(d),x=a;break}if(r>=0)break;v[l]=!0}if(r>=0)break}}return m}(e,t),v=Qs.triangulate(g,!1);for(a=0,s=v.length;a<s;a++)for(c=v[a],u=0;u<3;u++)l=c[u].x+":"+c[u].y,void 0!==(h=d[l])&&(c[u]=h);return v.concat()},isClockWise:function(e){return Qs.area(e)<0}};ln.prototype=Object.create(me.prototype),ln.prototype.constructor=ln,hn.prototype=Object.create(Ae.prototype),hn.prototype.constructor=hn,hn.prototype.getArrays=function(){var e=this.getAttribute("position"),t=e?Array.prototype.slice.call(e.array):[],n=this.getAttribute("uv"),r=n?Array.prototype.slice.call(n.array):[],i=this.index;return{position:t,uv:r,index:i?Array.prototype.slice.call(i.array):[]}},hn.prototype.addShapeList=function(e,t){var n=e.length;t.arrays=this.getArrays();for(var r=0;r<n;r++){var i=e[r];this.addShape(i,t)}this.setIndex(t.arrays.index),this.addAttribute("position",new Me(t.arrays.position,3)),this.addAttribute("uv",new Me(t.arrays.uv,2))},hn.prototype.addShape=function(e,t){function n(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}function r(e,t,n){var r,o,a,s=e.x-t.x,u=e.y-t.y,c=n.x-e.x,l=n.y-e.y,h=s*s+u*u,d=s*l-u*c;if(Math.abs(d)>Number.EPSILON){var f=Math.sqrt(h),p=Math.sqrt(c*c+l*l),m=t.x-u/f,g=t.y+s/f,v=n.x-l/p,y=n.y+c/p,b=((v-m)*l-(y-g)*c)/(s*l-u*c);r=m+s*b-e.x,o=g+u*b-e.y;var x=r*r+o*o;if(x<=2)return new i(r,o);a=Math.sqrt(x/2)}else{var _=!1;s>Number.EPSILON?c>Number.EPSILON&&(_=!0):s<-Number.EPSILON?c<-Number.EPSILON&&(_=!0):Math.sign(u)===Math.sign(l)&&(_=!0),_?(r=-u,o=s,a=Math.sqrt(h)):(r=s,o=u,a=Math.sqrt(h/2))}return new i(r/a,o/a)}function o(e,t){var n,r;for(K=e.length;--K>=0;){n=K,r=K-1,r<0&&(r=e.length-1);var i=0,o=A+2*T;for(i=0;i<o;i++){var a=X*i,s=X*(i+1);c(t+n+a,t+r+a,t+r+s,t+n+s)}}}function a(e,t,n){_.push(e),_.push(t),_.push(n)}function u(e,t,n){l(e),l(t),l(n);var r=y.length/3,i=L.generateTopUV(k,y,r-3,r-2,r-1);h(i[0]),h(i[1]),h(i[2])}function c(e,t,n,r){l(e),l(t),l(r),l(t),l(n),l(r);var i=y.length/3,o=L.generateSideWallUV(k,y,i-6,i-3,i-2,i-1);h(o[0]),h(o[1]),h(o[3]),h(o[1]),h(o[2]),h(o[3])}function l(e){b.push(y.length/3),y.push(_[3*e+0]),y.push(_[3*e+1]),y.push(_[3*e+2])}function h(e){x.push(e.x),x.push(e.y)}var d,f,p,m,g,v=t.arrays?t.arrays:this.getArrays(),y=v.position,b=v.index,x=v.uv,_=[],w=void 0!==t.amount?t.amount:100,E=void 0!==t.bevelThickness?t.bevelThickness:6,M=void 0!==t.bevelSize?t.bevelSize:E-2,T=void 0!==t.bevelSegments?t.bevelSegments:3,S=void 0===t.bevelEnabled||t.bevelEnabled,C=void 0!==t.curveSegments?t.curveSegments:12,A=void 0!==t.steps?t.steps:1,P=t.extrudePath,R=!1,L=void 0!==t.UVGenerator?t.UVGenerator:ln.WorldUVGenerator;P&&(d=P.getSpacedPoints(A),R=!0,S=!1,f=void 0!==t.frames?t.frames:P.computeFrenetFrames(A,!1),p=new s,m=new s,g=new s),S||(T=0,E=0,M=0);var I,O,N,k=this,D=e.extractPoints(C),U=D.shape,F=D.holes;if(!Qs.isClockWise(U))for(U=U.reverse(),O=0,N=F.length;O<N;O++)I=F[O],Qs.isClockWise(I)&&(F[O]=I.reverse());var B=Qs.triangulateShape(U,F),z=U;for(O=0,N=F.length;O<N;O++)I=F[O],U=U.concat(I);for(var H,q,j,G,V,W,X=U.length,Y=B.length,Z=[],K=0,Q=z.length,J=Q-1,$=K+1;K<Q;K++,J++,$++)J===Q&&(J=0),$===Q&&($=0),Z[K]=r(z[K],z[J],z[$]);var ee,te=[],ne=Z.concat();for(O=0,N=F.length;O<N;O++){for(I=F[O],ee=[],K=0,Q=I.length,J=Q-1,$=K+1;K<Q;K++,J++,$++)J===Q&&(J=0),$===Q&&($=0),ee[K]=r(I[K],I[J],I[$]);te.push(ee),ne=ne.concat(ee)}for(H=0;H<T;H++){for(j=H/T,G=E*Math.cos(j*Math.PI/2),q=M*Math.sin(j*Math.PI/2),K=0,Q=z.length;K<Q;K++)V=n(z[K],Z[K],q),a(V.x,V.y,-G);for(O=0,N=F.length;O<N;O++)for(I=F[O],ee=te[O],K=0,Q=I.length;K<Q;K++)V=n(I[K],ee[K],q),a(V.x,V.y,-G)}for(q=M,K=0;K<X;K++)V=S?n(U[K],ne[K],q):U[K],R?(m.copy(f.normals[0]).multiplyScalar(V.x),p.copy(f.binormals[0]).multiplyScalar(V.y),g.copy(d[0]).add(m).add(p),a(g.x,g.y,g.z)):a(V.x,V.y,0);var re;for(re=1;re<=A;re++)for(K=0;K<X;K++)V=S?n(U[K],ne[K],q):U[K],R?(m.copy(f.normals[re]).multiplyScalar(V.x),p.copy(f.binormals[re]).multiplyScalar(V.y),g.copy(d[re]).add(m).add(p),a(g.x,g.y,g.z)):a(V.x,V.y,w/A*re);for(H=T-1;H>=0;H--){for(j=H/T,G=E*Math.cos(j*Math.PI/2),q=M*Math.sin(j*Math.PI/2),K=0,Q=z.length;K<Q;K++)V=n(z[K],Z[K],q),a(V.x,V.y,w+G);for(O=0,N=F.length;O<N;O++)for(I=F[O],ee=te[O],K=0,Q=I.length;K<Q;K++)V=n(I[K],ee[K],q),R?a(V.x,V.y+d[A-1].y,d[A-1].x+G):a(V.x,V.y,w+G)}!function(){var e=y.length/3;if(S){var n=0,r=X*n;for(K=0;K<Y;K++)W=B[K],u(W[2]+r,W[1]+r,W[0]+r);for(n=A+2*T,r=X*n,K=0;K<Y;K++)W=B[K],u(W[0]+r,W[1]+r,W[2]+r)}else{for(K=0;K<Y;K++)W=B[K],u(W[2],W[1],W[0]);for(K=0;K<Y;K++)W=B[K],u(W[0]+X*A,W[1]+X*A,W[2]+X*A)}k.addGroup(e,y.length/3-e,void 0!==t.material?t.material:0)}(),function(){var e=y.length/3,n=0;for(o(z,n),n+=z.length,O=0,N=F.length;O<N;O++)I=F[O],o(I,n),n+=I.length;k.addGroup(e,y.length/3-e,void 0!==t.extrudeMaterial?t.extrudeMaterial:1)}(),t.arrays||(this.setIndex(b),this.addAttribute("position",new Me(y,3)),this.addAttribute("uv",new Me(t.arrays.uv,2)))},ln.WorldUVGenerator={generateTopUV:function(e,t,n,r,o){var a=t[3*n],s=t[3*n+1],u=t[3*r],c=t[3*r+1],l=t[3*o],h=t[3*o+1];return[new i(a,s),new i(u,c),new i(l,h)]},generateSideWallUV:function(e,t,n,r,o,a){var s=t[3*n],u=t[3*n+1],c=t[3*n+2],l=t[3*r],h=t[3*r+1],d=t[3*r+2],f=t[3*o],p=t[3*o+1],m=t[3*o+2],g=t[3*a],v=t[3*a+1],y=t[3*a+2];return Math.abs(u-h)<.01?[new i(s,1-c),new i(l,1-d),new i(f,1-m),new i(g,1-y)]:[new i(u,1-c),new i(h,1-d),new i(p,1-m),new i(v,1-y)]}},dn.prototype=Object.create(me.prototype),dn.prototype.constructor=dn,fn.prototype=Object.create(hn.prototype),fn.prototype.constructor=fn,pn.prototype=Object.create(me.prototype),pn.prototype.constructor=pn,mn.prototype=Object.create(Ae.prototype),mn.prototype.constructor=mn,gn.prototype=Object.create(me.prototype),gn.prototype.constructor=gn,vn.prototype=Object.create(Ae.prototype),vn.prototype.constructor=vn,yn.prototype=Object.create(me.prototype),yn.prototype.constructor=yn,bn.prototype=Object.create(Ae.prototype),bn.prototype.constructor=bn,xn.prototype=Object.create(me.prototype),xn.prototype.constructor=xn,_n.prototype=Object.create(Ae.prototype),_n.prototype.constructor=_n,wn.prototype=Object.create(Ae.prototype),wn.prototype.constructor=wn,En.prototype=Object.create(me.prototype),En.prototype.constructor=En,Mn.prototype=Object.create(Ae.prototype),Mn.prototype.constructor=Mn,Tn.prototype=Object.create(En.prototype),Tn.prototype.constructor=Tn,Sn.prototype=Object.create(Mn.prototype),Sn.prototype.constructor=Sn,Cn.prototype=Object.create(me.prototype),Cn.prototype.constructor=Cn,An.prototype=Object.create(Ae.prototype),An.prototype.constructor=An;var Js=Object.freeze({WireframeGeometry:Gt,ParametricGeometry:Vt,ParametricBufferGeometry:Wt,TetrahedronGeometry:Zt,TetrahedronBufferGeometry:Kt,OctahedronGeometry:Qt,OctahedronBufferGeometry:Jt,IcosahedronGeometry:$t,IcosahedronBufferGeometry:en,DodecahedronGeometry:tn,DodecahedronBufferGeometry:nn,PolyhedronGeometry:Xt,PolyhedronBufferGeometry:Yt,TubeGeometry:rn,TubeBufferGeometry:on,TorusKnotGeometry:an,TorusKnotBufferGeometry:sn,TorusGeometry:un,TorusBufferGeometry:cn,TextGeometry:dn,TextBufferGeometry:fn,SphereGeometry:pn,SphereBufferGeometry:mn,RingGeometry:gn,RingBufferGeometry:vn,PlaneGeometry:Le,PlaneBufferGeometry:Ie,LatheGeometry:yn,LatheBufferGeometry:bn,ShapeGeometry:xn,ShapeBufferGeometry:_n,ExtrudeGeometry:ln,ExtrudeBufferGeometry:hn,EdgesGeometry:wn,ConeGeometry:Tn,ConeBufferGeometry:Sn,CylinderGeometry:En,CylinderBufferGeometry:Mn,CircleGeometry:Cn,CircleBufferGeometry:An,BoxGeometry:Pe,BoxBufferGeometry:Re});Pn.prototype=Object.create(ee.prototype),Pn.prototype.constructor=Pn,Pn.prototype.isShadowMaterial=!0,Rn.prototype=Object.create(Ne.prototype),Rn.prototype.constructor=Rn,Rn.prototype.isRawShaderMaterial=!0,Ln.prototype=Object.create(ee.prototype),Ln.prototype.constructor=Ln,Ln.prototype.isMeshStandardMaterial=!0,Ln.prototype.copy=function(e){return ee.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},In.prototype=Object.create(Ln.prototype),In.prototype.constructor=In,In.prototype.isMeshPhysicalMaterial=!0,In.prototype.copy=function(e){return Ln.prototype.copy.call(this,e),this.defines={PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearCoat=e.clearCoat,this.clearCoatRoughness=e.clearCoatRoughness,this},On.prototype=Object.create(ee.prototype),On.prototype.constructor=On,On.prototype.isMeshPhongMaterial=!0,On.prototype.copy=function(e){return ee.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Nn.prototype=Object.create(On.prototype),Nn.prototype.constructor=Nn,Nn.prototype.isMeshToonMaterial=!0,Nn.prototype.copy=function(e){return On.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},kn.prototype=Object.create(ee.prototype),kn.prototype.constructor=kn,kn.prototype.isMeshNormalMaterial=!0,kn.prototype.copy=function(e){return ee.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Dn.prototype=Object.create(ee.prototype),Dn.prototype.constructor=Dn,Dn.prototype.isMeshLambertMaterial=!0,Dn.prototype.copy=function(e){return ee.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Un.prototype=Object.create(Nt.prototype),Un.prototype.constructor=Un,Un.prototype.isLineDashedMaterial=!0,Un.prototype.copy=function(e){return Nt.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var $s=Object.freeze({ShadowMaterial:Pn,SpriteMaterial:At,RawShaderMaterial:Rn,ShaderMaterial:Ne,PointsMaterial:Ft,MeshPhysicalMaterial:In,MeshStandardMaterial:Ln,MeshPhongMaterial:On,MeshToonMaterial:Nn,MeshNormalMaterial:kn,MeshLambertMaterial:Dn,MeshDepthMaterial:te,MeshDistanceMaterial:ne,MeshBasicMaterial:Oe,LineDashedMaterial:Un,LineBasicMaterial:Nt,Material:ee}),eu={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},tu=new Fn,nu={};Object.assign(Bn.prototype,{load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=eu.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout(function(){t&&t(o),i.manager.itemEnd(e)},0),o;if(void 0!==nu[e])return void nu[e].push({onLoad:t,onProgress:n,onError:r});var a=/^data:(.*?)(;base64)?,(.*)$/,s=e.match(a);if(s){var u=s[1],c=!!s[2],l=s[3];l=window.decodeURIComponent(l),c&&(l=window.atob(l));try{var h,d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":for(var f=new Uint8Array(l.length),p=0;p<l.length;p++)f[p]=l.charCodeAt(p);h="blob"===d?new Blob([f.buffer],{type:u}):f.buffer;break;case"document":var m=new DOMParser;h=m.parseFromString(l,u);break;case"json":h=JSON.parse(l);break;default:h=l}window.setTimeout(function(){t&&t(h),i.manager.itemEnd(e)},0)}catch(t){window.setTimeout(function(){r&&r(t),i.manager.itemEnd(e),i.manager.itemError(e)},0)}}else{nu[e]=[],nu[e].push({onLoad:t,onProgress:n,onError:r});var g=new XMLHttpRequest;g.open("GET",e,!0),g.addEventListener("load",function(t){var n=t.target.response;eu.add(e,n);var r=nu[e];if(delete nu[e],200===this.status){for(var o=0,a=r.length;o<a;o++){var s=r[o];s.onLoad&&s.onLoad(n)}i.manager.itemEnd(e)}else if(0===this.status){console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var o=0,a=r.length;o<a;o++){var s=r[o];s.onLoad&&s.onLoad(n)}i.manager.itemEnd(e)}else{for(var o=0,a=r.length;o<a;o++){var s=r[o];s.onError&&s.onError(t)}i.manager.itemEnd(e),i.manager.itemError(e)}},!1),g.addEventListener("progress",function(t){for(var n=nu[e],r=0,i=n.length;r<i;r++){var o=n[r];o.onProgress&&o.onProgress(t)}},!1),g.addEventListener("error",function(t){var n=nu[e];delete nu[e];for(var r=0,o=n.length;r<o;r++){var a=n[r];a.onError&&a.onError(t)}i.manager.itemEnd(e),i.manager.itemError(e)},!1),void 0!==this.responseType&&(g.responseType=this.responseType),void 0!==this.withCredentials&&(g.withCredentials=this.withCredentials),g.overrideMimeType&&g.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(var v in this.requestHeader)g.setRequestHeader(v,this.requestHeader[v]);g.send(null)}return i.manager.itemStart(e),g},setPath:function(e){return this.path=e,this},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),Object.assign(zn.prototype,{load:function(e,t,n,r){var i=this,o=[],a=new qt;a.image=o;var s=new Bn(this.manager);if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(e))for(var u=0,c=0,l=e.length;c<l;++c)!function(c){s.load(e[c],function(e){var n=i._parser(e,!0);o[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(u+=1)&&(1===n.mipmapCount&&(a.minFilter=Ia),a.format=n.format,a.needsUpdate=!0,t&&t(a))},n,r)}(c);else s.load(e,function(e){var n=i._parser(e,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){o[s]={mipmaps:[]};for(var u=0;u<n.mipmapCount;u++)o[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+u]),o[s].format=n.format,o[s].width=n.width,o[s].height=n.height}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=Ia),a.format=n.format,a.needsUpdate=!0,t&&t(a)},n,r);return a},setPath:function(e){return this.path=e,this}}),Object.assign(Hn.prototype,{load:function(e,t,n,r){var i=this,o=new f,a=new Bn(this.manager);return a.setResponseType("arraybuffer"),a.load(e,function(e){var n=i._parser(e);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:Ca,o.wrapT=void 0!==n.wrapT?n.wrapT:Ca,o.magFilter=void 0!==n.magFilter?n.magFilter:Ia,o.minFilter=void 0!==n.minFilter?n.minFilter:Na,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps),1===n.mipmapCount&&(o.minFilter=Ia),o.needsUpdate=!0,t&&t(o,n))},n,r),o}}),Object.assign(qn.prototype,{crossOrigin:"Anonymous",load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=eu.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout(function(){t&&t(o),i.manager.itemEnd(e)},0),o;var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");return a.addEventListener("load",function(){eu.add(e,this),t&&t(this),i.manager.itemEnd(e)},!1),a.addEventListener("error",function(t){r&&r(t),i.manager.itemEnd(e),i.manager.itemError(e)},!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(e),a.src=e,a},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(jn.prototype,{crossOrigin:"Anonymous",load:function(e,t,n,r){var i=new p,o=new qn(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);for(var a=0,s=0;s<e.length;++s)!function(n){o.load(e[n],function(e){i.images[n]=e,6==++a&&(i.needsUpdate=!0,t&&t(i))},void 0,r)}(s);return i},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Gn.prototype,{crossOrigin:"Anonymous",load:function(e,t,n,r){var i=new qn(this.manager);i.setCrossOrigin(this.crossOrigin),i.setPath(this.path);var o=new c;return o.image=i.load(e,function(){var n=e.search(/\.(jpg|jpeg)$/)>0||0===e.search(/^data\:image\/jpeg/);o.format=n?Ya:Za,o.needsUpdate=!0,void 0!==t&&t(o)},n,r),o},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Vn.prototype=Object.assign(Object.create(he.prototype),{constructor:Vn,isLight:!0,copy:function(e){return he.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=he.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),Wn.prototype=Object.assign(Object.create(Vn.prototype),{constructor:Wn,isHemisphereLight:!0,copy:function(e){return Vn.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(Xn.prototype,{copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),Yn.prototype=Object.assign(Object.create(Xn.prototype),{constructor:Yn,isSpotLightShadow:!0,update:function(e){var t=this.camera,n=2*Is.RAD2DEG*e.angle,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix())}}),Zn.prototype=Object.assign(Object.create(Vn.prototype),{constructor:Zn,isSpotLight:!0,copy:function(e){return Vn.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Kn.prototype=Object.assign(Object.create(Vn.prototype),{constructor:Kn,isPointLight:!0,copy:function(e){return Vn.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),Qn.prototype=Object.assign(Object.create(Xn.prototype),{constructor:Qn}),Jn.prototype=Object.assign(Object.create(Vn.prototype),{constructor:Jn,isDirectionalLight:!0,copy:function(e){return Vn.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),$n.prototype=Object.assign(Object.create(Vn.prototype),{constructor:$n,isAmbientLight:!0}),er.prototype=Object.assign(Object.create(Vn.prototype),{constructor:er,isRectAreaLight:!0,copy:function(e){return Vn.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=Vn.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}});var ru={arraySlice:function(e,t,n){return ru.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){function t(t,n){return e[t]-e[n]}for(var n=e.length,r=new Array(n),i=0;i!==n;++i)r[i]=i;return r.sort(t),r},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),o=0,a=0;a!==r;++o)for(var s=n[o]*t,u=0;u!==t;++u)i[a++]=e[s+u];return i},flattenJSON:function(e,t,n,r){for(var i=1,o=e[0];void 0!==o&&void 0===o[r];)o=e[i++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a))do{a=o[r],void 0!==a&&(t.push(o.time),n.push.apply(n,a)),o=e[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{a=o[r],void 0!==a&&(t.push(o.time),a.toArray(n,n.length)),o=e[i++]}while(void 0!==o);else do{a=o[r],void 0!==a&&(t.push(o.time),n.push(a)),o=e[i++]}while(void 0!==o)}}};Object.assign(tr.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var o;n:{r:if(!(e<r)){for(var a=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===a)break;if(i=r,r=t[++n],e<r)break t}o=t.length;break n}{if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(var a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===a)break;if(r=i,i=t[--n-1],e>=i)break t}o=n,n=0}}for(;n<o;){var u=n+o>>>1;e<t[u]?o=u:n=u+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,o=0;o!==r;++o)t[o]=n[i+o];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),
//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(tr.prototype,{beforeStart_:tr.prototype.copySampleValue_,afterEnd_:tr.prototype.copySampleValue_}),nr.prototype=Object.assign(Object.create(tr.prototype),{constructor:nr,DefaultSettings_:{endingStart:gs,endingEnd:gs},intervalChanged_:function(e,t,n){var r=this.parameterPositions,i=e-2,o=e+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case vs:i=e,a=2*t-n;break;case ys:i=r.length-2,a=t+r[i]-r[i+1];break;default:i=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case vs:o=e,s=2*n-t;break;case ys:o=1,s=n+r[1]-r[0];break;default:o=e-1,s=t}var u=.5*(n-t),c=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(s-n),this._offsetPrev=i*c,this._offsetNext=o*c},interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,u=s-a,c=this._offsetPrev,l=this._offsetNext,h=this._weightPrev,d=this._weightNext,f=(n-t)/(r-t),p=f*f,m=p*f,g=-h*m+2*h*p-h*f,v=(1+h)*m+(-1.5-2*h)*p+(-.5+h)*f+1,y=(-1-d)*m+(1.5+d)*p+.5*f,b=d*m-d*p,x=0;x!==a;++x)i[x]=g*o[c+x]+v*o[u+x]+y*o[s+x]+b*o[l+x];return i}}),rr.prototype=Object.assign(Object.create(tr.prototype),{constructor:rr,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,u=s-a,c=(n-t)/(r-t),l=1-c,h=0;h!==a;++h)i[h]=o[u+h]*l+o[s+h]*c;return i}}),ir.prototype=Object.assign(Object.create(tr.prototype),{constructor:ir,interpolate_:function(e){return this.copySampleValue_(e-1)}});var iu;iu={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:ps,InterpolantFactoryMethodDiscrete:function(e){return new ir(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new rr(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new nr(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case fs:t=this.InterpolantFactoryMethodDiscrete;break;case ps:t=this.InterpolantFactoryMethodLinear;break;case ms:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return void console.warn("THREE.KeyframeTrackPrototype:",n)}this.createInterpolant=t},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return fs;case this.InterpolantFactoryMethodLinear:return ps;case this.InterpolantFactoryMethodSmooth:return ms}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<e;)++i;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==i||o!==r){i>=o&&(o=Math.max(o,1),i=o-1);var a=this.getValueSize();this.times=ru.arraySlice(n,i,o),this.values=ru.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrackPrototype: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrackPrototype: Track is empty.",this),e=!1);for(var o=null,a=0;a!==i;a++){var s=n[a];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrackPrototype: Time is not a valid number.",this,a,s),e=!1;break}if(null!==o&&o>s){console.error("THREE.KeyframeTrackPrototype: Out of order keys.",this,a,s,o),e=!1;break}o=s}if(void 0!==r&&ru.isTypedArray(r))for(var a=0,u=r.length;a!==u;++a){var c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrackPrototype: Value is not a valid number.",this,a,c),e=!1;break}}return e},optimize:function(){for(var e=this.times,t=this.values,n=this.getValueSize(),r=this.getInterpolation()===ms,i=1,o=e.length-1,a=1;a<o;++a){var s=!1,u=e[a];if(u!==e[a+1]&&(1!==a||u!==u[0]))if(r)s=!0;else for(var c=a*n,l=c-n,h=c+n,d=0;d!==n;++d){var f=t[c+d];if(f!==t[l+d]||f!==t[h+d]){s=!0;break}}if(s){if(a!==i){e[i]=e[a];for(var p=a*n,m=i*n,d=0;d!==n;++d)t[m+d]=t[p+d]}++i}}if(o>0){e[i]=e[o];for(var p=o*n,m=i*n,d=0;d!==n;++d)t[m+d]=t[p+d];++i}return i!==e.length&&(this.times=ru.arraySlice(e,0,i),this.values=ru.arraySlice(t,0,i*n)),this}},ar.prototype=Object.assign(Object.create(iu),{constructor:ar,ValueTypeName:"vector"}),sr.prototype=Object.assign(Object.create(tr.prototype),{constructor:sr,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,s=this.valueSize,u=e*s,c=(n-t)/(r-t),l=u+s;u!==l;u+=4)a.slerpFlat(i,0,o,u-s,o,u,c);return i}}),ur.prototype=Object.assign(Object.create(iu),{constructor:ur,ValueTypeName:"quaternion",DefaultInterpolation:ps,InterpolantFactoryMethodLinear:function(e){return new sr(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),cr.prototype=Object.assign(Object.create(iu),{constructor:cr,ValueTypeName:"number"}),lr.prototype=Object.assign(Object.create(iu),{constructor:lr,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:fs,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),hr.prototype=Object.assign(Object.create(iu),{constructor:hr,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:fs,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),dr.prototype=Object.assign(Object.create(iu),{constructor:dr,ValueTypeName:"color"}),fr.prototype=iu,iu.constructor=fr,Object.assign(fr,{parse:function(e){if(void 0===e.type)throw new Error("track type undefined, can not parse");var t=fr._getTrackTypeForValueTypeName(e.type);if(void 0===e.times){var n=[],r=[];ru.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)},toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:ru.convertArray(e.times,Array),values:ru.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t},_getTrackTypeForValueTypeName:function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return cr;case"vector":case"vector2":case"vector3":case"vector4":return ar;case"color":return dr;case"quaternion":return ur;case"bool":case"boolean":return hr;case"string":return lr}throw new Error("Unsupported typeName: "+e)}}),Object.assign(pr,{parse:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,o=n.length;i!==o;++i)t.push(fr.parse(n[i]).scale(r));return new pr(e.name,e.duration,t)},toJSON:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t},i=0,o=n.length;i!==o;++i)t.push(fr.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(e,t,n,r){for(var i=t.length,o=[],a=0;a<i;a++){var s=[],u=[];s.push((a+i-1)%i,a,(a+1)%i),u.push(0,1,0);var c=ru.getKeyframeOrder(s);s=ru.sortedArray(s,1,c),u=ru.sortedArray(u,1,c),r||0!==s[0]||(s.push(i),u.push(u[0])),o.push(new cr(".morphTargetInfluences["+t[a].name+"]",s,u).scale(1/n))}return new pr(e,-1,o)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,o=0,a=e.length;o<a;o++){var s=e[o],u=s.name.match(i);if(u&&u.length>1){var c=u[1],l=r[c];l||(r[c]=l=[]),l.push(s)}}var h=[];for(var c in r)h.push(pr.CreateFromMorphTargetSequence(c,r[c],t,n));return h},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var o=[],a=[];ru.flattenJSON(n,o,a,r),0!==o.length&&i.push(new e(t,o,a))}},r=[],i=e.name||"default",o=e.length||-1,a=e.fps||30,s=e.hierarchy||[],u=0;u<s.length;u++){var c=s[u].keys;if(c&&0!==c.length)if(c[0].morphTargets){for(var l={},h=0;h<c.length;h++)if(c[h].morphTargets)for(var d=0;d<c[h].morphTargets.length;d++)l[c[h].morphTargets[d]]=-1;for(var f in l){for(var p=[],m=[],d=0;d!==c[h].morphTargets.length;++d){var g=c[h];p.push(g.time),m.push(g.morphTarget===f?1:0)}r.push(new cr(".morphTargetInfluence["+f+"]",p,m))}o=l.length*(a||1)}else{var v=".bones["+t[u].name+"]";n(ar,v+".position",c,"pos",r),n(ur,v+".quaternion",c,"rot",r),n(ar,v+".scale",c,"scl",r)}}return 0===r.length?null:new pr(i,o,r)}}),Object.assign(pr.prototype,{resetDuration:function(){for(var e=this.tracks,t=0,n=0,r=e.length;n!==r;++n){var i=this.tracks[n];t=Math.max(t,i.times[i.times.length-1])}this.duration=t},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}}),Object.assign(mr.prototype,{load:function(e,t,n,r){var i=this;new Bn(i.manager).load(e,function(e){t(i.parse(JSON.parse(e)))},n,r)},setTextures:function(e){this.textures=e},parse:function(e){function t(e){return void 0===n[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),n[e]}var n=this.textures,r=new $s[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearCoat&&(r.clearCoat=e.clearCoat),void 0!==e.clearCoatRoughness&&(r.clearCoatRoughness=e.clearCoatRoughness),void 0!==e.uniforms&&(r.uniforms=e.uniforms),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.vertexColors&&(r.vertexColors=e.vertexColors),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.side&&(r.side=e.side),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.skinning&&(r.skinning=e.skinning),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=t(e.map)),void 0!==e.alphaMap&&(r.alphaMap=t(e.alphaMap),r.transparent=!0),void 0!==e.bumpMap&&(r.bumpMap=t(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=t(e.normalMap)),void 0!==e.normalScale){var o=e.normalScale;!1===Array.isArray(o)&&(o=[o,o]),r.normalScale=(new i).fromArray(o)}return void 0!==e.displacementMap&&(r.displacementMap=t(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=t(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=t(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=t(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=t(e.specularMap)),void 0!==e.envMap&&(r.envMap=t(e.envMap)),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.lightMap&&(r.lightMap=t(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=t(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=t(e.gradientMap)),r}}),Object.assign(gr.prototype,{load:function(e,t,n,r){var i=this;new Bn(i.manager).load(e,function(e){t(i.parse(JSON.parse(e)))},n,r)},parse:function(e){var t=new Ae,n=e.data.index;if(void 0!==n){var r=new ou[n.type](n.array);t.setIndex(new ge(r,1))}var i=e.data.attributes;for(var o in i){var a=i[o],r=new ou[a.type](a.array);t.addAttribute(o,new ge(r,a.itemSize,a.normalized))}var u=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==u)for(var c=0,l=u.length;c!==l;++c){var h=u[c];t.addGroup(h.start,h.count,h.materialIndex)}var d=e.data.boundingSphere;if(void 0!==d){var f=new s;void 0!==d.center&&f.fromArray(d.center),t.boundingSphere=new ie(f,d.radius)}return t}});var ou={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};vr.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,n=0,r=t.length;n<r;n+=2){var i=t[n],o=t[n+1];if(i.test(e))return o}return null}},Object.assign(vr.prototype,{crossOrigin:void 0,extractUrlBase:function(e){var t=e.split("/");return 1===t.length?"./":(t.pop(),t.join("/")+"/")},initMaterials:function(e,t,n){for(var r=[],i=0;i<e.length;++i)r[i]=this.createMaterial(e[i],t,n);return r},createMaterial:function(){var e={NoBlending:No,NormalBlending:ko,AdditiveBlending:Do,SubtractiveBlending:Uo,MultiplyBlending:Fo,CustomBlending:Bo},t=new Z,n=new Gn,r=new mr;return function(i,o,a){function s(e,t,r,i,s){var c,l=o+e,h=vr.Handlers.get(l);null!==h?c=h.load(l):(n.setCrossOrigin(a),c=n.load(l)),void 0!==t&&(c.repeat.fromArray(t),1!==t[0]&&(c.wrapS=Sa),1!==t[1]&&(c.wrapT=Sa)),void 0!==r&&c.offset.fromArray(r),void 0!==i&&("repeat"===i[0]&&(c.wrapS=Sa),"mirror"===i[0]&&(c.wrapS=Aa),"repeat"===i[1]&&(c.wrapT=Sa),"mirror"===i[1]&&(c.wrapT=Aa)),void 0!==s&&(c.anisotropy=s);var d=Is.generateUUID();return u[d]=c,d}var u={},c={uuid:Is.generateUUID(),type:"MeshLambertMaterial"};for(var l in i){var h=i[l];switch(l){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":c.name=h;break;case"blending":c.blending=e[h];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",l,"is no longer supported.");break;case"colorDiffuse":c.color=t.fromArray(h).getHex();break;case"colorSpecular":c.specular=t.fromArray(h).getHex();break;case"colorEmissive":c.emissive=t.fromArray(h).getHex();break;case"specularCoef":c.shininess=h;break;case"shading":"basic"===h.toLowerCase()&&(c.type="MeshBasicMaterial"),"phong"===h.toLowerCase()&&(c.type="MeshPhongMaterial"),"standard"===h.toLowerCase()&&(c.type="MeshStandardMaterial");break;case"mapDiffuse":c.map=s(h,i.mapDiffuseRepeat,i.mapDiffuseOffset,i.mapDiffuseWrap,i.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":c.emissiveMap=s(h,i.mapEmissiveRepeat,i.mapEmissiveOffset,i.mapEmissiveWrap,i.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":c.lightMap=s(h,i.mapLightRepeat,i.mapLightOffset,i.mapLightWrap,i.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":c.aoMap=s(h,i.mapAORepeat,i.mapAOOffset,i.mapAOWrap,i.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":c.bumpMap=s(h,i.mapBumpRepeat,i.mapBumpOffset,i.mapBumpWrap,i.mapBumpAnisotropy);break;case"mapBumpScale":c.bumpScale=h;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":c.normalMap=s(h,i.mapNormalRepeat,i.mapNormalOffset,i.mapNormalWrap,i.mapNormalAnisotropy);break;case"mapNormalFactor":c.normalScale=[h,h];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":c.specularMap=s(h,i.mapSpecularRepeat,i.mapSpecularOffset,i.mapSpecularWrap,i.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":c.metalnessMap=s(h,i.mapMetalnessRepeat,i.mapMetalnessOffset,i.mapMetalnessWrap,i.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":c.roughnessMap=s(h,i.mapRoughnessRepeat,i.mapRoughnessOffset,i.mapRoughnessWrap,i.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":c.alphaMap=s(h,i.mapAlphaRepeat,i.mapAlphaOffset,i.mapAlphaWrap,i.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":c.side=Co;break;case"doubleSided":c.side=Ao;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),c.opacity=h;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":c[l]=h;break;case"vertexColors":!0===h&&(c.vertexColors=Oo),"face"===h&&(c.vertexColors=Io);break;default:console.error("THREE.Loader.createMaterial: Unsupported",l,h)}}return"MeshBasicMaterial"===c.type&&delete c.emissive,"MeshPhongMaterial"!==c.type&&delete c.specular,c.opacity<1&&(c.transparent=!0),r.setTextures(u),r.parse(c)}}()}),Object.assign(yr.prototype,{load:function(e,t,n,r){var i=this,o=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:vr.prototype.extractUrlBase(e),a=new Bn(this.manager);a.setWithCredentials(this.withCredentials),a.load(e,function(n){var r=JSON.parse(n),a=r.metadata;if(void 0!==a){var s=a.type;if(void 0!==s){if("object"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+e+" should be loaded with THREE.ObjectLoader instead.");if("scene"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+e+" should be loaded with THREE.SceneLoader instead.")}}var u=i.parse(r,o);t(u.geometry,u.materials)},n,r)},setTexturePath:function(e){this.texturePath=e},parse:function(){function e(e,t){function n(e,t){return e&1<<t}var r,o,a,u,c,l,h,d,f,p,m,g,v,y,b,x,_,w,E,M,T,S,C,A,P,R,L,I=e.faces,O=e.vertices,N=e.normals,k=e.colors,D=e.scale,U=0;if(void 0!==e.uvs){for(r=0;r<e.uvs.length;r++)e.uvs[r].length&&U++;for(r=0;r<U;r++)t.faceVertexUvs[r]=[]}for(u=0,c=O.length;u<c;)w=new s,w.x=O[u++]*D,w.y=O[u++]*D,w.z=O[u++]*D,t.vertices.push(w);for(u=0,c=I.length;u<c;)if(p=I[u++],m=n(p,0),g=n(p,1),v=n(p,3),y=n(p,4),b=n(p,5),x=n(p,6),_=n(p,7),m){if(M=new pe,M.a=I[u],M.b=I[u+1],M.c=I[u+3],T=new pe,T.a=I[u+1],T.b=I[u+2],T.c=I[u+3],u+=4,g&&(f=I[u++],M.materialIndex=f,T.materialIndex=f),a=t.faces.length,v)for(r=0;r<U;r++)for(A=e.uvs[r],t.faceVertexUvs[r][a]=[],t.faceVertexUvs[r][a+1]=[],o=0;o<4;o++)d=I[u++],R=A[2*d],L=A[2*d+1],P=new i(R,L),2!==o&&t.faceVertexUvs[r][a].push(P),0!==o&&t.faceVertexUvs[r][a+1].push(P);if(y&&(h=3*I[u++],M.normal.set(N[h++],N[h++],N[h]),T.normal.copy(M.normal)),b)for(r=0;r<4;r++)h=3*I[u++],C=new s(N[h++],N[h++],N[h]),2!==r&&M.vertexNormals.push(C),0!==r&&T.vertexNormals.push(C);if(x&&(l=I[u++],S=k[l],M.color.setHex(S),T.color.setHex(S)),_)for(r=0;r<4;r++)l=I[u++],S=k[l],2!==r&&M.vertexColors.push(new Z(S)),0!==r&&T.vertexColors.push(new Z(S));t.faces.push(M),t.faces.push(T)}else{if(E=new pe,E.a=I[u++],E.b=I[u++],E.c=I[u++],g&&(f=I[u++],E.materialIndex=f),a=t.faces.length,v)for(r=0;r<U;r++)for(A=e.uvs[r],t.faceVertexUvs[r][a]=[],o=0;o<3;o++)d=I[u++],R=A[2*d],L=A[2*d+1],P=new i(R,L),t.faceVertexUvs[r][a].push(P);if(y&&(h=3*I[u++],E.normal.set(N[h++],N[h++],N[h])),b)for(r=0;r<3;r++)h=3*I[u++],C=new s(N[h++],N[h++],N[h]),E.vertexNormals.push(C);if(x&&(l=I[u++],E.color.setHex(k[l])),_)for(r=0;r<3;r++)l=I[u++],E.vertexColors.push(new Z(k[l]));t.faces.push(E)}}function t(e,t){var n=void 0!==e.influencesPerVertex?e.influencesPerVertex:2;if(e.skinWeights)for(var r=0,i=e.skinWeights.length;r<i;r+=n){var o=e.skinWeights[r],a=n>1?e.skinWeights[r+1]:0,s=n>2?e.skinWeights[r+2]:0,u=n>3?e.skinWeights[r+3]:0;t.skinWeights.push(new l(o,a,s,u))}if(e.skinIndices)for(var r=0,i=e.skinIndices.length;r<i;r+=n){var c=e.skinIndices[r],h=n>1?e.skinIndices[r+1]:0,d=n>2?e.skinIndices[r+2]:0,f=n>3?e.skinIndices[r+3]:0;t.skinIndices.push(new l(c,h,d,f))}t.bones=e.bones,t.bones&&t.bones.length>0&&(t.skinWeights.length!==t.skinIndices.length||t.skinIndices.length!==t.vertices.length)&&console.warn("When skinning, number of vertices ("+t.vertices.length+"), skinIndices ("+t.skinIndices.length+"), and skinWeights ("+t.skinWeights.length+") should match.")}function n(e,t){var n=e.scale;if(void 0!==e.morphTargets)for(var r=0,i=e.morphTargets.length;r<i;r++){t.morphTargets[r]={},t.morphTargets[r].name=e.morphTargets[r].name,t.morphTargets[r].vertices=[];for(var o=t.morphTargets[r].vertices,a=e.morphTargets[r].vertices,u=0,c=a.length;u<c;u+=3){var l=new s;l.x=a[u]*n,l.y=a[u+1]*n,l.z=a[u+2]*n,o.push(l)}}if(void 0!==e.morphColors&&e.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');for(var h=t.faces,d=e.morphColors[0].colors,r=0,i=h.length;r<i;r++)h[r].color.fromArray(d,3*r)}}function r(e,t){var n=[],r=[];void 0!==e.animation&&r.push(e.animation),void 0!==e.animations&&(e.animations.length?r=r.concat(e.animations):r.push(e.animations));for(var i=0;i<r.length;i++){var o=pr.parseAnimation(r[i],t.bones);o&&n.push(o)}if(t.morphTargets){var a=pr.CreateClipsFromMorphTargetSequences(t.morphTargets,10);n=n.concat(a)}n.length>0&&(t.animations=n)}return function(i,o){void 0!==i.data&&(i=i.data),void 0!==i.scale?i.scale=1/i.scale:i.scale=1;var a=new me;return e(i,a),t(i,a),n(i,a),r(i,a),a.computeFaceNormals(),a.computeBoundingSphere(),void 0===i.materials||0===i.materials.length?{geometry:a}:{geometry:a,materials:vr.prototype.initMaterials(i.materials,o,this.crossOrigin)}}}()}),Object.assign(br.prototype,{load:function(e,t,n,r){""===this.texturePath&&(this.texturePath=e.substring(0,e.lastIndexOf("/")+1));var i=this;new Bn(i.manager).load(e,function(n){var o=null;try{o=JSON.parse(n)}catch(t){return void 0!==r&&r(t),void console.error("THREE:ObjectLoader: Can't parse "+e+".",t.message)}var a=o.metadata;if(void 0===a||void 0===a.type||"geometry"===a.type.toLowerCase())return void console.error("THREE.ObjectLoader: Can't load "+e+". Use THREE.JSONLoader instead.");i.parse(o,t)},n,r)},setTexturePath:function(e){this.texturePath=e},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e,t){var n=this.parseGeometries(e.geometries),r=this.parseImages(e.images,function(){void 0!==t&&t(a)}),i=this.parseTextures(e.textures,r),o=this.parseMaterials(e.materials,i),a=this.parseObject(e.object,n,o);return e.animations&&(a.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(a),a},parseGeometries:function(e){var t={};if(void 0!==e)for(var n=new yr,r=new gr,i=0,o=e.length;i<o;i++){var a,s=e[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new Js[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new Js[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new Js[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new Js[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new Js[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new Js[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":a=new Js[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new Js[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new Js[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new Js[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":a=new Js[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":a=new Js[s.type](s.vertices,s.indices,s.radius,s.details);break;case"BufferGeometry":a=r.parse(s);break;case"Geometry":a=n.parse(s,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),t[s.uuid]=a}return t},parseMaterials:function(e,t){var n={};if(void 0!==e){var r=new mr;r.setTextures(t);for(var i=0,o=e.length;i<o;i++){var a=e[i];if("MultiMaterial"===a.type){for(var s=[],u=0;u<a.materials.length;u++)s.push(r.parse(a.materials[u]));n[a.uuid]=s}else n[a.uuid]=r.parse(a)}}return n},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var r=pr.parse(e[n]);t.push(r)}return t},parseImages:function(e,t){var n=this,r={};if(void 0!==e&&e.length>0){var i=new Fn(t),o=new qn(i);o.setCrossOrigin(this.crossOrigin);for(var a=0,s=e.length;a<s;a++){var u=e[a],c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u.url)?u.url:n.texturePath+u.url;r[u.uuid]=function(e){return n.manager.itemStart(e),o.load(e,function(){n.manager.itemEnd(e)},void 0,function(){n.manager.itemEnd(e),n.manager.itemError(e)})}(c)}}return r},parseTextures:function(e,t){function n(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i=0,o=e.length;i<o;i++){var a=e[i];void 0===a.image&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),void 0===t[a.image]&&console.warn("THREE.ObjectLoader: Undefined image",a.image);var s=new c(t[a.image]);s.needsUpdate=!0,s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),void 0!==a.mapping&&(s.mapping=n(a.mapping,au)),void 0!==a.offset&&s.offset.fromArray(a.offset),void 0!==a.repeat&&s.repeat.fromArray(a.repeat),void 0!==a.center&&s.center.fromArray(a.center),void 0!==a.rotation&&(s.rotation=a.rotation),void 0!==a.wrap&&(s.wrapS=n(a.wrap[0],su),s.wrapT=n(a.wrap[1],su)),void 0!==a.minFilter&&(s.minFilter=n(a.minFilter,uu)),void 0!==a.magFilter&&(s.magFilter=n(a.magFilter,uu)),void 0!==a.anisotropy&&(s.anisotropy=a.anisotropy),void 0!==a.flipY&&(s.flipY=a.flipY),r[a.uuid]=s}return r},parseObject:function(){var e=new o;return function(t,n,r){function i(e){return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),n[e]}function o(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],n=0,i=e.length;n<i;n++){var o=e[n];void 0===r[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),t.push(r[o])}return t}return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),r[e]}}var a;switch(t.type){case"Scene":a=new St,void 0!==t.background&&Number.isInteger(t.background)&&(a.background=new Z(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?a.fog=new Tt(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(a.fog=new Mt(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":a=new vt(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(a.focus=t.focus),void 0!==t.zoom&&(a.zoom=t.zoom),void 0!==t.filmGauge&&(a.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(a.filmOffset=t.filmOffset),void 0!==t.view&&(a.view=Object.assign({},t.view));break;case"OrthographicCamera":a=new fe(t.left,t.right,t.top,t.bottom,t.near,t.far);break;case"AmbientLight":a=new $n(t.color,t.intensity);break;case"DirectionalLight":a=new Jn(t.color,t.intensity);break;case"PointLight":a=new Kn(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":a=new er(t.color,t.intensity,t.width,t.height);break;case"SpotLight":a=new Zn(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":a=new Wn(t.color,t.groundColor,t.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var s=i(t.geometry),u=o(t.material);a=s.bones&&s.bones.length>0?new Ot(s,u):new Fe(s,u);break;case"LOD":a=new Rt;break;case"Line":a=new kt(i(t.geometry),o(t.material),t.mode);break;case"LineLoop":a=new Ut(i(t.geometry),o(t.material));break;case"LineSegments":a=new Dt(i(t.geometry),o(t.material));break;case"PointCloud":case"Points":a=new Bt(i(t.geometry),o(t.material));break;case"Sprite":a=new Pt(o(t.material));break;case"Group":a=new zt;break;default:a=new he}if(a.uuid=t.uuid,void 0!==t.name&&(a.name=t.name),void 0!==t.matrix?(e.fromArray(t.matrix),e.decompose(a.position,a.quaternion,a.scale)):(void 0!==t.position&&a.position.fromArray(t.position),void 0!==t.rotation&&a.rotation.fromArray(t.rotation),void 0!==t.quaternion&&a.quaternion.fromArray(t.quaternion),void 0!==t.scale&&a.scale.fromArray(t.scale)),void 0!==t.castShadow&&(a.castShadow=t.castShadow),void 0!==t.receiveShadow&&(a.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(a.shadow.bias=t.shadow.bias),void 0!==t.shadow.radius&&(a.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&a.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(a.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(a.visible=t.visible),void 0!==t.userData&&(a.userData=t.userData),void 0!==t.children)for(var c=t.children,l=0;l<c.length;l++)a.add(this.parseObject(c[l],n,r));if("LOD"===t.type)for(var h=t.levels,d=0;d<h.length;d++){var f=h[d],p=a.getObjectByProperty("uuid",f.object);void 0!==p&&a.addLevel(p,f.distance)}return a}}()});var au={UVMapping:ya,CubeReflectionMapping:ba,CubeRefractionMapping:xa,EquirectangularReflectionMapping:_a,EquirectangularRefractionMapping:wa,SphericalReflectionMapping:Ea,CubeUVReflectionMapping:Ma,CubeUVRefractionMapping:Ta},su={RepeatWrapping:Sa,ClampToEdgeWrapping:Ca,MirroredRepeatWrapping:Aa},uu={NearestFilter:Pa,NearestMipMapNearestFilter:Ra,NearestMipMapLinearFilter:La,LinearFilter:Ia,LinearMipMapNearestFilter:Oa,LinearMipMapLinearFilter:Na};Object.assign(Rr.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n,r=[],i=this.getPoint(0),o=0;for(r.push(0),n=1;n<=e;n++)t=this.getPoint(n/e),o+=t.distanceTo(i),r.push(o),i=t;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,r=this.getLengths(),i=0,o=r.length;n=t||e*r[o-1];for(var a,s=0,u=o-1;s<=u;)if(i=Math.floor(s+(u-s)/2),(a=r[i]-n)<0)s=i+1;else{if(!(a>0)){u=i;break}u=i-1}if(i=u,r[i]===n)return i/(o-1);var c=r[i];return(i+(n-c)/(r[i+1]-c))/(o-1)},getTangent:function(e){var t=e-1e-4,n=e+1e-4;t<0&&(t=0),n>1&&(n=1);var r=this.getPoint(t);return this.getPoint(n).clone().sub(r).normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var n,r,i,a=new s,u=[],c=[],l=[],h=new s,d=new o;for(n=0;n<=e;n++)r=n/e,u[n]=this.getTangentAt(r),u[n].normalize();c[0]=new s,l[0]=new s;var f=Number.MAX_VALUE,p=Math.abs(u[0].x),m=Math.abs(u[0].y),g=Math.abs(u[0].z);for(p<=f&&(f=p,a.set(1,0,0)),m<=f&&(f=m,a.set(0,1,0)),g<=f&&a.set(0,0,1),h.crossVectors(u[0],a).normalize(),c[0].crossVectors(u[0],h),l[0].crossVectors(u[0],c[0]),n=1;n<=e;n++)c[n]=c[n-1].clone(),l[n]=l[n-1].clone(),h.crossVectors(u[n-1],u[n]),h.length()>Number.EPSILON&&(h.normalize(),i=Math.acos(Is.clamp(u[n-1].dot(u[n]),-1,1)),c[n].applyMatrix4(d.makeRotationAxis(h,i))),l[n].crossVectors(u[n],c[n]);if(!0===t)for(i=Math.acos(Is.clamp(c[0].dot(c[e]),-1,1)),i/=e,u[0].dot(h.crossVectors(c[0],c[e]))>0&&(i=-i),n=1;n<=e;n++)c[n].applyMatrix4(d.makeRotationAxis(u[n],i*n)),l[n].crossVectors(u[n],c[n]);return{tangents:u,normals:c,binormals:l}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),Lr.prototype=Object.create(Rr.prototype),Lr.prototype.constructor=Lr,Lr.prototype.isLineCurve=!0,Lr.prototype.getPoint=function(e,t){var n=t||new i;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},Lr.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Lr.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},Lr.prototype.copy=function(e){return Rr.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Ir.prototype=Object.assign(Object.create(Rr.prototype),{constructor:Ir,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Lr(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=t){var i=n[r]-t,o=this.curves[r],a=o.getLength(),s=0===a?0:1-i/a;return o.getPointAt(s)}r++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],r=0,i=this.curves;r<i.length;r++)for(var o=i[r],a=o&&o.isEllipseCurve?2*e:o&&o.isLineCurve?1:o&&o.isSplineCurve?e*o.points.length:e,s=o.getPoints(a),u=0;u<s.length;u++){var c=s[u];t&&t.equals(c)||(n.push(c),t=c)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){Rr.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}}),Or.prototype=Object.create(Rr.prototype),Or.prototype.constructor=Or,Or.prototype.isEllipseCurve=!0,Or.prototype.getPoint=function(e,t){for(var n=t||new i,r=2*Math.PI,o=this.aEndAngle-this.aStartAngle,a=Math.abs(o)<Number.EPSILON;o<0;)o+=r;for(;o>r;)o-=r;o<Number.EPSILON&&(o=a?0:r),!0!==this.aClockwise||a||(o===r?o=-r:o-=r);var s=this.aStartAngle+e*o,u=this.aX+this.xRadius*Math.cos(s),c=this.aY+this.yRadius*Math.sin(s);if(0!==this.aRotation){var l=Math.cos(this.aRotation),h=Math.sin(this.aRotation),d=u-this.aX,f=c-this.aY;u=d*l-f*h+this.aX,c=d*h+f*l+this.aY}return n.set(u,c)},Or.prototype.copy=function(e){return Rr.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},Nr.prototype=Object.create(Rr.prototype),Nr.prototype.constructor=Nr,Nr.prototype.isSplineCurve=!0,Nr.prototype.getPoint=function(e,t){var n=t||new i,r=this.points,o=(r.length-1)*e,a=Math.floor(o),s=o-a,u=r[0===a?a:a-1],c=r[a],l=r[a>r.length-2?r.length-1:a+1],h=r[a>r.length-3?r.length-1:a+2];return n.set(xr(s,u.x,c.x,l.x,h.x),xr(s,u.y,c.y,l.y,h.y)),n},Nr.prototype.copy=function(e){Rr.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this},kr.prototype=Object.create(Rr.prototype),kr.prototype.constructor=kr,kr.prototype.isCubicBezierCurve=!0,kr.prototype.getPoint=function(e,t){var n=t||new i,r=this.v0,o=this.v1,a=this.v2,s=this.v3;return n.set(Pr(e,r.x,o.x,a.x,s.x),Pr(e,r.y,o.y,a.y,s.y)),n},kr.prototype.copy=function(e){return Rr.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Dr.prototype=Object.create(Rr.prototype),Dr.prototype.constructor=Dr,Dr.prototype.isQuadraticBezierCurve=!0,Dr.prototype.getPoint=function(e,t){var n=t||new i,r=this.v0,o=this.v1,a=this.v2;return n.set(Mr(e,r.x,o.x,a.x),Mr(e,r.y,o.y,a.y)),n},Dr.prototype.copy=function(e){return Rr.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this};var cu=Object.assign(Object.create(Ir.prototype),{setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var n=new Lr(this.currentPoint.clone(),new i(e,t));this.curves.push(n),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,n,r){var o=new Dr(this.currentPoint.clone(),new i(e,t),new i(n,r));this.curves.push(o),this.currentPoint.set(n,r)},bezierCurveTo:function(e,t,n,r,o,a){var s=new kr(this.currentPoint.clone(),new i(e,t),new i(n,r),new i(o,a));this.curves.push(s),this.currentPoint.set(o,a)},splineThru:function(e){var t=[this.currentPoint.clone()].concat(e),n=new Nr(t);this.curves.push(n),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,n,r,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;this.absarc(e+a,t+s,n,r,i,o)},absarc:function(e,t,n,r,i,o){this.absellipse(e,t,n,n,r,i,o)},ellipse:function(e,t,n,r,i,o,a,s){var u=this.currentPoint.x,c=this.currentPoint.y;this.absellipse(e+u,t+c,n,r,i,o,a,s)},absellipse:function(e,t,n,r,i,o,a,s){var u=new Or(e,t,n,r,i,o,a,s);if(this.curves.length>0){var c=u.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(u);var l=u.getPoint(1);this.currentPoint.copy(l)},copy:function(e){return Ir.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this}});Ur.prototype=cu,cu.constructor=Ur,Fr.prototype=Object.assign(Object.create(cu),{constructor:Fr,getPointsHoles:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Ur.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push(r.clone())}return this}}),Object.assign(Br.prototype,{moveTo:function(e,t){this.currentPath=new Ur,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,n,r){this.currentPath.quadraticCurveTo(e,t,n,r)},bezierCurveTo:function(e,t,n,r,i,o){this.currentPath.bezierCurveTo(e,t,n,r,i,o)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],o=new Fr;o.curves=i.curves,t.push(o)}return t}var r=Qs.isClockWise,i=this.subPaths;if(0===i.length)return[];if(!0===t)return n(i);var o,a,s,u=[];if(1===i.length)return a=i[0],s=new Fr,s.curves=a.curves,u.push(s),u;var c=!r(i[0].getPoints());c=e?!c:c;var l,h=[],d=[],f=[],p=0;d[p]=void 0,f[p]=[];for(var m=0,g=i.length;m<g;m++)a=i[m],l=a.getPoints(),o=r(l),o=e?!o:o,o?(!c&&d[p]&&p++,d[p]={s:new Fr,p:l},d[p].s.curves=a.curves,c&&p++,f[p]=[]):f[p].push({h:a,p:l[0]});if(!d[0])return n(i);if(d.length>1){for(var v=!1,y=[],b=0,x=d.length;b<x;b++)h[b]=[];for(var b=0,x=d.length;b<x;b++)for(var _=f[b],w=0;w<_.length;w++){for(var E=_[w],M=!0,T=0;T<d.length;T++)(function(e,t){for(var n=t.length,r=!1,i=n-1,o=0;o<n;i=o++){var a=t[i],s=t[o],u=s.x-a.x,c=s.y-a.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(a=t[o],u=-u,s=t[i],c=-c),e.y<a.y||e.y>s.y)continue;if(e.y===a.y){if(e.x===a.x)return!0}else{var l=c*(e.x-a.x)-u*(e.y-a.y);if(0===l)return!0;if(l<0)continue;r=!r}}else{if(e.y!==a.y)continue;if(s.x<=e.x&&e.x<=a.x||a.x<=e.x&&e.x<=s.x)return!0}}return r})(E.p,d[T].p)&&(b!==T&&y.push({froms:b,tos:T,hole:w}),M?(M=!1,h[T].push(E)):v=!0);M&&h[b].push(E)}y.length>0&&(v||(f=h))}for(var S,m=0,C=d.length;m<C;m++){s=d[m].s,u.push(s),S=f[m];for(var A=0,P=S.length;A<P;A++)s.holes.push(S[A].h)}return u}}),Object.assign(zr.prototype,{isFont:!0,generateShapes:function(e,t,n){function r(e,t,r,o){var a=i.glyphs[e]||i.glyphs["?"];if(a){var s,u,c,l,h,d,f,p,m,g,v,y=new Br,b=[];if(a.o)for(var x=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),_=0,w=x.length;_<w;){var E=x[_++];switch(E){case"m":s=x[_++]*t+r,u=x[_++]*t+o,y.moveTo(s,u);break;case"l":s=x[_++]*t+r,u=x[_++]*t+o,y.lineTo(s,u);break;case"q":if(c=x[_++]*t+r,l=x[_++]*t+o,f=x[_++]*t+r,p=x[_++]*t+o,y.quadraticCurveTo(f,p,c,l),v=b[b.length-1]){h=v.x,d=v.y;for(var M=1;M<=n;M++){var T=M/n;Mr(T,h,f,c),Mr(T,d,p,l)}}break;case"b":if(c=x[_++]*t+r,l=x[_++]*t+o,f=x[_++]*t+r,p=x[_++]*t+o,m=x[_++]*t+r,g=x[_++]*t+o,y.bezierCurveTo(f,p,m,g,c,l),v=b[b.length-1]){h=v.x,d=v.y;for(var M=1;M<=n;M++){var T=M/n;Pr(T,h,f,m,c),Pr(T,d,p,g,l)}}}}return{offsetX:a.ha*t,path:y}}}void 0===t&&(t=100),void 0===n&&(n=4);for(var i=this.data,o=function(e){for(var n=String(e).split(""),o=t/i.resolution,a=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*o,s=0,u=0,c=[],l=0;l<n.length;l++){var h=n[l];if("\n"===h)s=0,u-=a;else{var d=r(h,o,s,u);s+=d.offsetX,c.push(d.path)}}return c}(e),a=[],s=0,u=o.length;s<u;s++)Array.prototype.push.apply(a,o[s].toShapes());return a}}),Object.assign(Hr.prototype,{load:function(e,t,n,r){var i=this,o=new Bn(this.manager);o.setPath(this.path),o.load(e,function(e){var n;try{n=JSON.parse(e)}catch(t){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}var r=i.parse(n);t&&t(r)},n,r)},parse:function(e){return new zr(e)},setPath:function(e){return this.path=e,this}});var lu,hu={getContext:function(){return void 0===lu&&(lu=new(window.AudioContext||window.webkitAudioContext)),lu},setContext:function(e){lu=e}};Object.assign(qr.prototype,{load:function(e,t,n,r){var i=new Bn(this.manager);i.setResponseType("arraybuffer"),i.load(e,function(e){hu.getContext().decodeAudioData(e,function(e){t(e)})},n,r)}}),Object.assign(jr.prototype,{update:function(){var e,t,n,r,i,a,s,u,c=new o,l=new o;return function(o){if(e!==this||t!==o.focus||n!==o.fov||r!==o.aspect*this.aspect||i!==o.near||a!==o.far||s!==o.zoom||u!==this.eyeSep){e=this,t=o.focus,n=o.fov,r=o.aspect*this.aspect,i=o.near,a=o.far,s=o.zoom;var h=o.projectionMatrix.clone();u=this.eyeSep/2;var d,f,p=u*i/t,m=i*Math.tan(Is.DEG2RAD*n*.5)/s;l.elements[12]=-u,c.elements[12]=u,d=-m*r+p,f=m*r+p,h.elements[0]=2*i/(f-d),h.elements[8]=(f+d)/(f-d),this.cameraL.projectionMatrix.copy(h),d=-m*r-p,f=m*r-p,h.elements[0]=2*i/(f-d),h.elements[8]=(f+d)/(f-d),this.cameraR.projectionMatrix.copy(h)}this.cameraL.matrixWorld.copy(o.matrixWorld).multiply(l),this.cameraR.matrixWorld.copy(o.matrixWorld).multiply(c)}}()}),Gr.prototype=Object.create(he.prototype),Gr.prototype.constructor=Gr,Vr.prototype=Object.assign(Object.create(he.prototype),{constructor:Vr,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(e){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){this.gain.gain.value=e},updateMatrixWorld:function(){var e=new s,t=new a,n=new s,r=new s;return function(i){he.prototype.updateMatrixWorld.call(this,i);var o=this.context.listener,a=this.up;this.matrixWorld.decompose(e,t,n),r.set(0,0,-1).applyQuaternion(t),o.positionX?(o.positionX.setValueAtTime(e.x,this.context.currentTime),o.positionY.setValueAtTime(e.y,this.context.currentTime),o.positionZ.setValueAtTime(e.z,this.context.currentTime),o.forwardX.setValueAtTime(r.x,this.context.currentTime),o.forwardY.setValueAtTime(r.y,this.context.currentTime),o.forwardZ.setValueAtTime(r.z,this.context.currentTime),o.upX.setValueAtTime(a.x,this.context.currentTime),o.upY.setValueAtTime(a.y,this.context.currentTime),o.upZ.setValueAtTime(a.z,this.context.currentTime)):(o.setPosition(e.x,e.y,e.z),o.setOrientation(r.x,r.y,r.z,a.x,a.y,a.z))}}()}),Wr.prototype=Object.assign(Object.create(he.prototype),{constructor:Wr,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");var e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.onended=this.onEnded.bind(this),e.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,e.start(this.startTime,this.offset),this.isPlaying=!0,this.source=e,this.connect()},pause:function(){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(!0===this.isPlaying&&(this.source.stop(),this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this)},stop:function(){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),this.offset=0,this.isPlaying=!1,this)},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this)},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this)},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.value=e,this}}),Xr.prototype=Object.assign(Object.create(Wr.prototype),{constructor:Xr,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){this.panner.refDistance=e},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){this.panner.rolloffFactor=e},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){this.panner.distanceModel=e},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){this.panner.maxDistance=e},updateMatrixWorld:function(){var e=new s;return function(t){he.prototype.updateMatrixWorld.call(this,t),e.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(e.x,e.y,e.z)}}()}),Object.assign(Yr.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),Object.assign(Zr.prototype,{accumulate:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==r;++a)n[i+a]=n[a];o=t}else{o+=t;var s=t/o;this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=o},apply:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,i<1){var a=3*t;this._mixBufferRegion(n,r,a,1-i,t)}for(var s=t,u=t+t;s!==u;++s)if(n[s]!==n[s+t]){o.setValue(n,r);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=3*n;e.getValue(t,r);for(var i=n,o=r;i!==o;++i)t[i]=t[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,n,r,i){if(r>=.5)for(var o=0;o!==i;++o)e[t+o]=e[n+o]},_slerp:function(e,t,n,r){a.slerpFlat(e,t,e,t,e,n,r)},_lerp:function(e,t,n,r,i){for(var o=1-r,a=0;a!==i;++a){var s=t+a;e[s]=e[s]*o+e[n+a]*r}}}),Object.assign(Kr.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(Qr,{Composite:Kr,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new Qr.Composite(e,t,n):new Qr(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(/[^\w-]/g,"")},parseTrackName:function(){var e=/((?:[\w-]+[\/:])*)/,t=/([\w-\.]+)?/,n=/(?:\.([\w-]+)(?:\[(.+)\])?)?/,r=/\.([\w-]+)(?:\[(.+)\])?/,i=new RegExp("^"+e.source+t.source+n.source+r.source+"$"),o=["material","materials","bones"];return function(e){var t=i.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var a=n.nodeName.substring(r+1);-1!==o.indexOf(a)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=a)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}}(),findNode:function(e,t){if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=function(e){for(var n=0;n<e.bones.length;n++){var r=e.bones[n];if(r.name===t)return r}return null}(e.skeleton);if(n)return n}if(e.children){var r=function(e){for(var n=0;n<e.length;n++){var i=e[n];if(i.name===t||i.uuid===t)return i;var o=r(i.children);if(o)return o}return null},i=r(e.children);if(i)return i}return null}}),Object.assign(Qr.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(e=Qr.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){var o=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var a=0;a<e.length;a++)if(e[a].name===o){o=a;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==o){if(void 0===e[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[o]}}var s=e[r];if(void 0===s){var u=t.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e)}var c=this.Versioning.None;void 0!==e.needsUpdate?(c=this.Versioning.NeedsUpdate,this.targetObject=e):void 0!==e.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=e);var l=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(var a=0;a<this.node.geometry.morphAttributes.position.length;a++)if(e.geometry.morphAttributes.position[a].name===i){i=a;break}}else{if(!e.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(var a=0;a<this.node.geometry.morphTargets.length;a++)if(e.geometry.morphTargets[a].name===i){i=a;break}}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][c]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),
//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(Qr.prototype,{_getValue_unbound:Qr.prototype.getValue,_setValue_unbound:Qr.prototype.setValue}),Object.assign(Jr.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length,u=0,c=arguments.length;u!==c;++u){var l=arguments[u],h=l.uuid,d=r[h],f=void 0;if(void 0===d){d=t++,r[h]=d,e.push(l);for(var p=0,m=s;p!==m;++p)a[p].push(new Qr(l,i[p],o[p]))}else if(d<n){f=e[d];var g=--n,v=e[g];r[v.uuid]=d,e[d]=v,r[h]=g,e[g]=l;for(var p=0,m=s;p!==m;++p){var y=a[p],b=y[g],x=y[d];y[d]=b,void 0===x&&(x=new Qr(l,i[p],o[p])),y[g]=x}}else e[d]!==f&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,n=this._indicesByUUID,r=this._bindings,i=r.length,o=0,a=arguments.length;o!==a;++o){var s=arguments[o],u=s.uuid,c=n[u];if(void 0!==c&&c>=t){var l=t++,h=e[l];n[h.uuid]=c,e[c]=h,n[u]=l,e[l]=s;for(var d=0,f=i;d!==f;++d){var p=r[d],m=p[l],g=p[c];p[c]=m,p[l]=g}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var u=arguments[a],c=u.uuid,l=r[c];if(void 0!==l)if(delete r[c],l<n){var h=--n,d=e[h],f=--t,p=e[f];r[d.uuid]=l,e[l]=d,r[p.uuid]=h,e[h]=p,e.pop();for(var m=0,g=o;m!==g;++m){var v=i[m],y=v[h],b=v[f];v[l]=y,v[h]=b,v.pop()}}else{var f=--t,p=e[f];r[p.uuid]=l,e[l]=p,e.pop();for(var m=0,g=o;m!==g;++m){var v=i[m];v[l]=v[f],v.pop()}}}this.nCachedObjects_=n},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var o=this._paths,a=this._parsedPaths,s=this._objects,u=s.length,c=this.nCachedObjects_,l=new Array(u);r=i.length,n[e]=r,o.push(e),a.push(t),i.push(l);for(var h=c,d=s.length;h!==d;++h){var f=s[h];l[h]=new Qr(f,e,t)}return l},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];t[e[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}}),Object.assign($r.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,o=i/r,a=r/i;e.warp(1,o,t),this.warp(a,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var r=this._mixer,i=r.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,u=o.sampleValues;return s[0]=i,s[1]=i+n,u[0]=e/a,u[1]=t/a,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,r){if(!this.enabled)return void this._updateWeight(e);var i=this._startTime;if(null!==i){var o=(e-i)*n;if(o<0||0===n)return;this._startTime=null,t=n*o}t*=this._updateTimeScale(e);var a=this._updateTime(t),s=this._updateWeight(e);if(s>0)for(var u=this._interpolants,c=this._propertyBindings,l=0,h=u.length;l!==h;++l)u[l].evaluate(a),c[l].accumulate(r,s)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n){t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e;if(0===e)return t;var n=this._clip.duration,r=this.loop,i=this._loopCount;if(r===ls){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=n)t=n;else{if(!(t<0))break e;t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{var o=r===ds;if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),t>=n||t<0){var a=Math.floor(t/n);t-=n*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(0===s){var u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}if(o&&1==(1&i))return this.time=t,n-t}return this.time=t,t},_setEndings:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=vs,r.endingEnd=vs):(r.endingStart=e?this.zeroSlopeAtStart?vs:gs:ys,r.endingEnd=t?this.zeroSlopeAtEnd?vs:gs:ys)},_scheduleFading:function(e,t,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=t,a[1]=i+e,s[1]=n,this}}),Object.assign(ei.prototype,r.prototype,{_bindAction:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,o=e._propertyBindings,a=e._interpolants,s=n.uuid,u=this._bindingsByRootAndName,c=u[s];void 0===c&&(c={},u[s]=c);for(var l=0;l!==i;++l){var h=r[l],d=h.name,f=c[d];if(void 0!==f)o[l]=f;else{if(void 0!==(f=o[l])){null===f._cacheIndex&&(++f.referenceCount,this._addInactiveBinding(f,s,d));continue}var p=t&&t._propertyBindings[l].binding.parsedPath;f=new Zr(Qr.create(n,d,p),h.ValueTypeName,h.getValueSize()),++f.referenceCount,this._addInactiveBinding(f,s,d),o[l]=f}a[l].resultBuffer=f.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var r=this._actions,i=this._actionsByClip,o=i[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{var a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,u=s[s.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,s[c]=u,s.pop(),e._byClipCacheIndex=null,delete a.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0==--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_addInactiveBinding:function(e,t,n){var r=this._bindingsByRootAndName,i=r[t],o=this._bindings;void 0===i&&(i={},r[t]=i),i[n]=e,e._cacheIndex=o.length,o.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=t[t.length-1],u=e._cacheIndex;s._cacheIndex=u,t[u]=s,t.pop(),delete a[i];e:{for(var c in a)break e;delete o[r]}},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&(n=new rr(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"==typeof e?pr.findByName(n,e):e,o=null!==i?i.uuid:e,a=this._actionsByClip[o],s=null;if(void 0!==a){var u=a.actionByRoot[r];if(void 0!==u)return u;s=a.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var c=new $r(this,i,t);return this._bindAction(c,s),this._addInactiveAction(c,o,r),c},existingAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"==typeof e?pr.findByName(n,e):e,o=i?i.uuid:e,a=this._actionsByClip[o];return void 0!==a?a.actionByRoot[r]||null:null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==t;++i)e[i].reset();for(var i=0;i!==r;++i)n[i].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1,a=0;a!==n;++a){t[a]._update(r,e,i,o)}for(var s=this._bindings,u=this._nActiveBindings,a=0;a!==u;++a)s[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var u=o[a];this._deactivateAction(u);var c=u._cacheIndex,l=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,l._cacheIndex=c,t[c]=l,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot,o=i[t];void 0!==o&&(this._deactivateAction(o),this._removeInactiveAction(o))}var a=this._bindingsByRootAndName,s=a[t];if(void 0!==s)for(var u in s){var c=s[u];c.restoreOriginalState(),this._removeInactiveBinding(c)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),ti.prototype.clone=function(){return new ti(void 0===this.value.clone?this.value:this.value.clone())},ni.prototype=Object.assign(Object.create(Ae.prototype),{constructor:ni,isInstancedBufferGeometry:!0,copy:function(e){return Ae.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}}),Object.defineProperties(ri.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(ri.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}}),Object.defineProperty(ii.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(ii.prototype,{isInterleavedBuffer:!0,setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==e?e.length/this.stride:0,this.array=e},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),oi.prototype=Object.assign(Object.create(ii.prototype),{constructor:oi,isInstancedInterleavedBuffer:!0,copy:function(e){return ii.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),ai.prototype=Object.assign(Object.create(ge.prototype),{constructor:ai,isInstancedBufferAttribute:!0,copy:function(e){return ge.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(si.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t){var n=[];return ci(e,this,n,t),n.sort(ui),n},intersectObjects:function(e,t){var n=[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var r=0,i=e.length;r<i;r++)ci(e[r],this,n,t);return n.sort(ui),n}}),Object.assign(li.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}),Object.assign(hi.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.radius=e.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e.x,e.z),this.phi=Math.acos(Is.clamp(e.y/this.radius,-1,1))),this}}),Object.assign(di.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.radius=Math.sqrt(e.x*e.x+e.z*e.z),this.theta=Math.atan2(e.x,e.z),this.y=e.y,this}}),fi.prototype=Object.create(he.prototype),fi.prototype.constructor=fi,fi.prototype.isImmediateRenderObject=!0,pi.prototype=Object.create(Dt.prototype),pi.prototype.constructor=pi,pi.prototype.update=function(){var e=new s,t=new s,n=new u;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld,o=this.geometry.attributes.position,a=this.object.geometry;if(a&&a.isGeometry)for(var s=a.vertices,u=a.faces,c=0,l=0,h=u.length;l<h;l++)for(var d=u[l],f=0,p=d.vertexNormals.length;f<p;f++){var m=s[d[r[f]]],g=d.vertexNormals[f];e.copy(m).applyMatrix4(i),t.copy(g).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),o.setXYZ(c,e.x,e.y,e.z),c+=1,o.setXYZ(c,t.x,t.y,t.z),c+=1}else if(a&&a.isBufferGeometry)for(var v=a.attributes.position,y=a.attributes.normal,c=0,f=0,p=v.count;f<p;f++)e.set(v.getX(f),v.getY(f),v.getZ(f)).applyMatrix4(i),t.set(y.getX(f),y.getY(f),y.getZ(f)),t.applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),o.setXYZ(c,e.x,e.y,e.z),c+=1,o.setXYZ(c,t.x,t.y,t.z),c+=1;o.needsUpdate=!0}}(),mi.prototype=Object.create(he.prototype),mi.prototype.constructor=mi,mi.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},mi.prototype.update=function(){var e=new s,t=new s;return function(){this.light.updateMatrixWorld();var n=this.light.distance?this.light.distance:1e3,r=n*Math.tan(this.light.angle);this.cone.scale.set(r,r,n),e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t.sub(e)),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),vi.prototype=Object.create(Dt.prototype),vi.prototype.constructor=vi,vi.prototype.updateMatrixWorld=function(){var e=new s,t=new o,n=new o;return function(r){var i=this.bones,o=this.geometry,a=o.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var s=0,u=0;s<i.length;s++){var c=i[s];c.parent&&c.parent.isBone&&(t.multiplyMatrices(n,c.matrixWorld),e.setFromMatrixPosition(t),a.setXYZ(u,e.x,e.y,e.z),t.multiplyMatrices(n,c.parent.matrixWorld),e.setFromMatrixPosition(t),a.setXYZ(u+1,e.x,e.y,e.z),u+=2)}o.getAttribute("position").needsUpdate=!0,he.prototype.updateMatrixWorld.call(this,r)}}(),yi.prototype=Object.create(Fe.prototype),yi.prototype.constructor=yi,yi.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},yi.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},bi.prototype=Object.create(he.prototype),bi.prototype.constructor=bi,bi.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},bi.prototype.update=function(){var e=.5*this.light.width,t=.5*this.light.height,n=this.line.geometry.attributes.position,r=n.array;r[0]=e,r[1]=-t,r[2]=0,r[3]=e,r[4]=t,r[5]=0,r[6]=-e,r[7]=t,r[8]=0,r[9]=-e,r[10]=-t,r[11]=0,r[12]=e,r[13]=-t,r[14]=0,n.needsUpdate=!0,void 0!==this.color?this.line.material.color.set(this.color):this.line.material.color.copy(this.light.color)},xi.prototype=Object.create(he.prototype),xi.prototype.constructor=xi,xi.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},xi.prototype.update=function(){var e=new s,t=new Z,n=new Z;return function(){var r=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var i=r.geometry.getAttribute("color");t.copy(this.light.color),n.copy(this.light.groundColor);for(var o=0,a=i.count;o<a;o++){var s=o<a/2?t:n;i.setXYZ(o,s.r,s.g,s.b)}i.needsUpdate=!0}r.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),_i.prototype=Object.create(Dt.prototype),_i.prototype.constructor=_i,wi.prototype=Object.create(Dt.prototype),wi.prototype.constructor=wi,Ei.prototype=Object.create(Dt.prototype),Ei.prototype.constructor=Ei,Ei.prototype.update=function(){var e=new s,t=new s,n=new u;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,i=this.geometry.attributes.position,o=this.object.geometry,a=o.vertices,s=o.faces,u=0,c=0,l=s.length;c<l;c++){var h=s[c],d=h.normal;e.copy(a[h.a]).add(a[h.b]).add(a[h.c]).divideScalar(3).applyMatrix4(r),t.copy(d).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),i.setXYZ(u,e.x,e.y,e.z),u+=1,i.setXYZ(u,t.x,t.y,t.z),u+=1}i.needsUpdate=!0}}(),Mi.prototype=Object.create(he.prototype),Mi.prototype.constructor=Mi,Mi.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Mi.prototype.update=function(){var e=new s,t=new s,n=new s;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(t,e),this.lightPlane.lookAt(n),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(n),this.targetLine.scale.z=n.length()}}(),Ti.prototype=Object.create(Dt.prototype),Ti.prototype.constructor=Ti,Ti.prototype.update=function(){function e(e,o,a,s){r.set(o,a,s).unproject(i);var u=n[e];if(void 0!==u)for(var c=t.getAttribute("position"),l=0,h=u.length;l<h;l++)c.setXYZ(u[l],r.x,r.y,r.z)}var t,n,r=new s,i=new de;return function(){t=this.geometry,n=this.pointMap;i.projectionMatrix.copy(this.camera.projectionMatrix),e("c",0,0,-1),e("t",0,0,1),e("n1",-1,-1,-1),e("n2",1,-1,-1),e("n3",-1,1,-1),e("n4",1,1,-1),e("f1",-1,-1,1),e("f2",1,-1,1),e("f3",-1,1,1),e("f4",1,1,1),e("u1",.7,1.1,-1),e("u2",-.7,1.1,-1),e("u3",0,2,-1),e("cf1",-1,0,1),e("cf2",1,0,1),e("cf3",0,-1,1),e("cf4",0,1,1),e("cn1",-1,0,-1),e("cn2",1,0,-1),e("cn3",0,-1,-1),e("cn4",0,1,-1),t.getAttribute("position").needsUpdate=!0}}(),Si.prototype=Object.create(Dt.prototype),Si.prototype.constructor=Si,Si.prototype.update=function(){var e=new re;return function(t){if(void 0!==t&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&e.setFromObject(this.object),!e.isEmpty()){var n=e.min,r=e.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),Si.prototype.setFromObject=function(e){return this.object=e,this.update(),this},Ci.prototype=Object.create(Dt.prototype),Ci.prototype.constructor=Ci,Ci.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),he.prototype.updateMatrixWorld.call(this,e))},Ai.prototype=Object.create(kt.prototype),Ai.prototype.constructor=Ai,Ai.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.lookAt(this.plane.normal),he.prototype.updateMatrixWorld.call(this,e)};var du,fu;Pi.prototype=Object.create(he.prototype),Pi.prototype.constructor=Pi,Pi.prototype.setDirection=function(){var e,t=new s;return function(n){n.y>.99999?this.quaternion.set(0,0,0,1):n.y<-.99999?this.quaternion.set(1,0,0,0):(t.set(n.z,0,-n.x).normalize(),e=Math.acos(n.y),this.quaternion.setFromAxisAngle(t,e))}}(),Pi.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},Pi.prototype.setColor=function(e){this.line.material.color.copy(e),this.cone.material.color.copy(e)},Ri.prototype=Object.create(Dt.prototype),Ri.prototype.constructor=Ri;var pu=new s,mu=new Li,gu=new Li,vu=new Li;Ii.prototype=Object.create(Rr.prototype),Ii.prototype.constructor=Ii,Ii.prototype.isCatmullRomCurve3=!0,Ii.prototype.getPoint=function(e,t){var n=t||new s,r=this.points,i=r.length,o=(i-(this.closed?0:1))*e,a=Math.floor(o),u=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/r.length)+1)*r.length:0===u&&a===i-1&&(a=i-2,u=1);var c,l,h,d;if(this.closed||a>0?c=r[(a-1)%i]:(pu.subVectors(r[0],r[1]).add(r[0]),c=pu),l=r[a%i],h=r[(a+1)%i],this.closed||a+2<i?d=r[(a+2)%i]:(pu.subVectors(r[i-1],r[i-2]).add(r[i-1]),d=pu),"centripetal"===this.curveType||"chordal"===this.curveType){var f="chordal"===this.curveType?.5:.25,p=Math.pow(c.distanceToSquared(l),f),m=Math.pow(l.distanceToSquared(h),f),g=Math.pow(h.distanceToSquared(d),f);m<1e-4&&(m=1),p<1e-4&&(p=m),g<1e-4&&(g=m),mu.initNonuniformCatmullRom(c.x,l.x,h.x,d.x,p,m,g),gu.initNonuniformCatmullRom(c.y,l.y,h.y,d.y,p,m,g),vu.initNonuniformCatmullRom(c.z,l.z,h.z,d.z,p,m,g)}else"catmullrom"===this.curveType&&(mu.initCatmullRom(c.x,l.x,h.x,d.x,this.tension),gu.initCatmullRom(c.y,l.y,h.y,d.y,this.tension),vu.initCatmullRom(c.z,l.z,h.z,d.z,this.tension));return n.set(mu.calc(u),gu.calc(u),vu.calc(u)),n},Ii.prototype.copy=function(e){Rr.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Oi.prototype=Object.create(Rr.prototype),Oi.prototype.constructor=Oi,Oi.prototype.isCubicBezierCurve3=!0,Oi.prototype.getPoint=function(e,t){var n=t||new s,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(Pr(e,r.x,i.x,o.x,a.x),Pr(e,r.y,i.y,o.y,a.y),Pr(e,r.z,i.z,o.z,a.z)),n},Oi.prototype.copy=function(e){return Rr.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Ni.prototype=Object.create(Rr.prototype),Ni.prototype.constructor=Ni,Ni.prototype.isQuadraticBezierCurve3=!0,Ni.prototype.getPoint=function(e,t){var n=t||new s,r=this.v0,i=this.v1,o=this.v2;return n.set(Mr(e,r.x,i.x,o.x),Mr(e,r.y,i.y,o.y),Mr(e,r.z,i.z,o.z)),n},Ni.prototype.copy=function(e){return Rr.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},ki.prototype=Object.create(Rr.prototype),ki.prototype.constructor=ki,ki.prototype.isLineCurve3=!0,ki.prototype.getPoint=function(e,t){var n=t||new s;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},ki.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},ki.prototype.copy=function(e){return Rr.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Di.prototype=Object.create(Or.prototype),Di.prototype.constructor=Di,Di.prototype.isArcCurve=!0;var yu={createMultiMaterialObject:function(e,t){for(var n=new zt,r=0,i=t.length;r<i;r++)n.add(new Fe(e,t[r]));return n},detach:function(e,t,n){e.applyMatrix(t.matrixWorld),t.remove(e),n.add(e)},attach:function(e,t,n){e.applyMatrix((new o).getInverse(n.matrixWorld)),t.remove(e),n.add(e)}},bu=0,xu=1;Rr.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Rr.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(Ir.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new me,n=0,r=e.length;n<r;n++){var i=e[n];t.vertices.push(new s(i.x,i.y,i.z||0))}return t}}),Object.assign(Ur.prototype,{fromPoints:function(e){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),ro.prototype=Object.create(Ii.prototype),io.prototype=Object.create(Ii.prototype),oo.prototype=Object.create(Ii.prototype),Object.assign(oo.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),_i.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},vi.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(K.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(re.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),De.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(Is,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Is.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Is.ceilPowerOfTwo(e)}}),Object.assign(u.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(o.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){var e;return function(){return void 0===e&&(e=new s),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),e.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,o)}}),oe.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},a.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(ke.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(Fr.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new ln(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new xn(this,e)}}),Object.assign(i.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(s.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(l.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),me.prototype.computeTangents=function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},Object.assign(he.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)}}),Object.defineProperties(he.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(Rt.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Lt.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Object.defineProperty(Rr.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),vt.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Vn.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(ge.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}}}),Object.assign(Ae.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(Ae.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(ti.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(ee.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Z}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===Po}}}),Object.defineProperties(On.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Ne.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(Et.prototype,{getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}}),Object.defineProperties(Et.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),this.shadowMap.cullFace=e}}}),Object.defineProperties(se.prototype,{cullFace:{get:function(){return this.renderReverseSided?bo:yo},set:function(e){var t=e!==yo;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+t+"."),this.renderReverseSided=t}}}),Object.defineProperties(h.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Wr.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new qr).load(e,function(e){t.setBuffer(e)}),this},Yr.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Gr.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};var _u={merge:function(e,t,n){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var r;t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),r=t.matrix,t=t.geometry),e.merge(t,r,n)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}},wu={crossOrigin:void 0,loadTexture:function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new Gn;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},loadTextureCube:function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new jn;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}}},function(e,t,n){(function(e,r){var i;(function(){function o(e,t){return e.set(t[0],t[1]),e}function a(e,t){return e.add(t),e}function s(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function u(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function c(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function l(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function h(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function d(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function f(e,t){return!!(null==e?0:e.length)&&M(e,t,0)>-1}function p(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function m(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function g(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function v(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function y(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function b(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function x(e){return e.split("")}function _(e){return e.match(zt)||[]}function w(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function E(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function M(e,t,n){return t===t?Q(e,t,n):E(e,S,n)}function T(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function S(e){return e!==e}function C(e,t){var n=null==e?0:e.length;return n?I(e,t)/n:ke}function A(e){return function(t){return null==t?ie:t[e]}}function P(e){return function(t){return null==e?ie:e[t]}}function R(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function L(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function I(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);o!==ie&&(n=n===ie?o:n+o)}return n}function O(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function N(e,t){return m(t,function(t){return[t,e[t]]})}function k(e){return function(t){return e(t)}}function D(e,t){return m(t,function(t){return e[t]})}function U(e,t){return e.has(t)}function F(e,t){for(var n=-1,r=e.length;++n<r&&M(t,e[n],0)>-1;);return n}function B(e,t){for(var n=e.length;n--&&M(t,e[n],0)>-1;);return n}function z(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}function H(e){return"\\"+An[e]}function q(e,t){return null==e?ie:e[t]}function j(e){return bn.test(e)}function G(e){return xn.test(e)}function V(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function W(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function X(e,t){return function(n){return e(t(n))}}function Y(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==le||(e[n]=le,o[i++]=n)}return o}function Z(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function K(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function Q(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function J(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}function $(e){return j(e)?te(e):Vn(e)}function ee(e){return j(e)?ne(e):x(e)}function te(e){for(var t=vn.lastIndex=0;vn.test(e);)++t;return t}function ne(e){return e.match(vn)||[]}function re(e){return e.match(yn)||[]}var ie,oe=200,ae="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",se="Expected a function",ue="__lodash_hash_undefined__",ce=500,le="__lodash_placeholder__",he=1,de=2,fe=4,pe=1,me=2,ge=1,ve=2,ye=4,be=8,xe=16,_e=32,we=64,Ee=128,Me=256,Te=512,Se=30,Ce="...",Ae=800,Pe=16,Re=1,Le=2,Ie=1/0,Oe=9007199254740991,Ne=1.7976931348623157e308,ke=NaN,De=4294967295,Ue=De-1,Fe=De>>>1,Be=[["ary",Ee],["bind",ge],["bindKey",ve],["curry",be],["curryRight",xe],["flip",Te],["partial",_e],["partialRight",we],["rearg",Me]],ze="[object Arguments]",He="[object Array]",qe="[object AsyncFunction]",je="[object Boolean]",Ge="[object Date]",Ve="[object DOMException]",We="[object Error]",Xe="[object Function]",Ye="[object GeneratorFunction]",Ze="[object Map]",Ke="[object Number]",Qe="[object Null]",Je="[object Object]",$e="[object Proxy]",et="[object RegExp]",tt="[object Set]",nt="[object String]",rt="[object Symbol]",it="[object Undefined]",ot="[object WeakMap]",at="[object WeakSet]",st="[object ArrayBuffer]",ut="[object DataView]",ct="[object Float32Array]",lt="[object Float64Array]",ht="[object Int8Array]",dt="[object Int16Array]",ft="[object Int32Array]",pt="[object Uint8Array]",mt="[object Uint8ClampedArray]",gt="[object Uint16Array]",vt="[object Uint32Array]",yt=/\b__p \+= '';/g,bt=/\b(__p \+=) '' \+/g,xt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_t=/&(?:amp|lt|gt|quot|#39);/g,wt=/[&<>"']/g,Et=RegExp(_t.source),Mt=RegExp(wt.source),Tt=/<%-([\s\S]+?)%>/g,St=/<%([\s\S]+?)%>/g,Ct=/<%=([\s\S]+?)%>/g,At=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pt=/^\w*$/,Rt=/^\./,Lt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,It=/[\\^$.*+?()[\]{}|]/g,Ot=RegExp(It.source),Nt=/^\s+|\s+$/g,kt=/^\s+/,Dt=/\s+$/,Ut=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ft=/\{\n\/\* \[wrapped with (.+)\] \*/,Bt=/,? & /,zt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ht=/\\(\\)?/g,qt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,jt=/\w*$/,Gt=/^[-+]0x[0-9a-f]+$/i,Vt=/^0b[01]+$/i,Wt=/^\[object .+?Constructor\]$/,Xt=/^0o[0-7]+$/i,Yt=/^(?:0|[1-9]\d*)$/,Zt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Kt=/($^)/,Qt=/['\n\r\u2028\u2029\\]/g,Jt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",$t="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",en="["+$t+"]",tn="["+Jt+"]",nn="[a-z\\xdf-\\xf6\\xf8-\\xff]",rn="[^\\ud800-\\udfff"+$t+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",on="\\ud83c[\\udffb-\\udfff]",an="(?:\\ud83c[\\udde6-\\uddff]){2}",sn="[\\ud800-\\udbff][\\udc00-\\udfff]",un="[A-Z\\xc0-\\xd6\\xd8-\\xde]",cn="(?:"+nn+"|"+rn+")",ln="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",hn="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",an,sn].join("|")+")[\\ufe0e\\ufe0f]?"+ln+")*",dn="[\\ufe0e\\ufe0f]?"+ln+hn,fn="(?:"+["[\\u2700-\\u27bf]",an,sn].join("|")+")"+dn,pn="(?:"+["[^\\ud800-\\udfff]"+tn+"?",tn,an,sn,"[\\ud800-\\udfff]"].join("|")+")",mn=RegExp("[']","g"),gn=RegExp(tn,"g"),vn=RegExp(on+"(?="+on+")|"+pn+dn,"g"),yn=RegExp([un+"?"+nn+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[en,un,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[en,un+cn,"$"].join("|")+")",un+"?"+cn+"+(?:['](?:d|ll|m|re|s|t|ve))?",un+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)","\\d+",fn].join("|"),"g"),bn=RegExp("[\\u200d\\ud800-\\udfff"+Jt+"\\ufe0e\\ufe0f]"),xn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_n=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],wn=-1,En={};En[ct]=En[lt]=En[ht]=En[dt]=En[ft]=En[pt]=En[mt]=En[gt]=En[vt]=!0,En[ze]=En[He]=En[st]=En[je]=En[ut]=En[Ge]=En[We]=En[Xe]=En[Ze]=En[Ke]=En[Je]=En[et]=En[tt]=En[nt]=En[ot]=!1;var Mn={};Mn[ze]=Mn[He]=Mn[st]=Mn[ut]=Mn[je]=Mn[Ge]=Mn[ct]=Mn[lt]=Mn[ht]=Mn[dt]=Mn[ft]=Mn[Ze]=Mn[Ke]=Mn[Je]=Mn[et]=Mn[tt]=Mn[nt]=Mn[rt]=Mn[pt]=Mn[mt]=Mn[gt]=Mn[vt]=!0,Mn[We]=Mn[Xe]=Mn[ot]=!1;var Tn={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"},Sn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Cn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},An={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Pn=parseFloat,Rn=parseInt,Ln="object"==typeof e&&e&&e.Object===Object&&e,In="object"==typeof self&&self&&self.Object===Object&&self,On=Ln||In||Function("return this")(),Nn="object"==typeof t&&t&&!t.nodeType&&t,kn=Nn&&"object"==typeof r&&r&&!r.nodeType&&r,Dn=kn&&kn.exports===Nn,Un=Dn&&Ln.process,Fn=function(){try{return Un&&Un.binding&&Un.binding("util")}catch(e){}}(),Bn=Fn&&Fn.isArrayBuffer,zn=Fn&&Fn.isDate,Hn=Fn&&Fn.isMap,qn=Fn&&Fn.isRegExp,jn=Fn&&Fn.isSet,Gn=Fn&&Fn.isTypedArray,Vn=A("length"),Wn=P(Tn),Xn=P(Sn),Yn=P(Cn),Zn=function e(t){function n(e){if(ou(e)&&!gd(e)&&!(e instanceof x)){if(e instanceof i)return e;if(gl.call(e,"__wrapped__"))return na(e)}return new i(e)}function r(){}function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=ie}function x(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=De,this.__views__=[]}function P(){var e=new x(this.__wrapped__);return e.__actions__=Ui(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ui(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ui(this.__views__),e}function Q(){if(this.__filtered__){var e=new x(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function te(){var e=this.__wrapped__.value(),t=this.__dir__,n=gd(e),r=t<0,i=n?e.length:0,o=Co(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,h=l.length,d=0,f=Wl(u,this.__takeCount__);if(!n||!r&&i==u&&f==u)return yi(e,this.__actions__);var p=[];e:for(;u--&&d<f;){c+=t;for(var m=-1,g=e[c];++m<h;){var v=l[m],y=v.iteratee,b=v.type,x=y(g);if(b==Le)g=x;else if(!x){if(b==Re)continue e;break e}}p[d++]=g}return p}function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function zt(){this.__data__=nh?nh(null):{},this.size=0}function Jt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function $t(e){var t=this.__data__;if(nh){var n=t[e];return n===ue?ie:n}return gl.call(t,e)?t[e]:ie}function en(e){var t=this.__data__;return nh?t[e]!==ie:gl.call(t,e)}function tn(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=nh&&t===ie?ue:t,this}function nn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function rn(){this.__data__=[],this.size=0}function on(e){var t=this.__data__,n=Kn(t,e);return!(n<0)&&(n==t.length-1?t.pop():Rl.call(t,n,1),--this.size,!0)}function an(e){var t=this.__data__,n=Kn(t,e);return n<0?ie:t[n][1]}function sn(e){return Kn(this.__data__,e)>-1}function un(e,t){var n=this.__data__,r=Kn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function cn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ln(){this.size=0,this.__data__={hash:new ne,map:new(Jl||nn),string:new ne}}function hn(e){var t=Eo(this,e).delete(e);return this.size-=t?1:0,t}function dn(e){return Eo(this,e).get(e)}function fn(e){return Eo(this,e).has(e)}function pn(e,t){var n=Eo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function vn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new cn;++t<n;)this.add(e[t])}function yn(e){return this.__data__.set(e,ue),this}function bn(e){return this.__data__.has(e)}function xn(e){var t=this.__data__=new nn(e);this.size=t.size}function Tn(){this.__data__=new nn,this.size=0}function Sn(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Cn(e){return this.__data__.get(e)}function An(e){return this.__data__.has(e)}function Ln(e,t){var n=this.__data__;if(n instanceof nn){var r=n.__data__;if(!Jl||r.length<oe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new cn(r)}return n.set(e,t),this.size=n.size,this}function In(e,t){var n=gd(e),r=!n&&md(e),i=!n&&!r&&yd(e),o=!n&&!r&&!i&&Ed(e),a=n||r||i||o,s=a?O(e.length,cl):[],u=s.length;for(var c in e)!t&&!gl.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ko(c,u))||s.push(c);return s}function Nn(e){var t=e.length;return t?e[$r(0,t-1)]:ie}function kn(e,t){return Jo(Ui(e),nr(t,0,e.length))}function Un(e){return Jo(Ui(e))}function Fn(e,t,n){(n===ie||Vs(e[t],n))&&(n!==ie||t in e)||er(e,t,n)}function Vn(e,t,n){var r=e[t];gl.call(e,t)&&Vs(r,n)&&(n!==ie||t in e)||er(e,t,n)}function Kn(e,t){for(var n=e.length;n--;)if(Vs(e[n][0],t))return n;return-1}function Qn(e,t,n,r){return ph(e,function(e,i,o){t(r,e,n(e),o)}),r}function Jn(e,t){return e&&Fi(t,zu(t),e)}function $n(e,t){return e&&Fi(t,Hu(t),e)}function er(e,t,n){"__proto__"==t&&Nl?Nl(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function tr(e,t){for(var n=-1,r=t.length,i=nl(r),o=null==e;++n<r;)i[n]=o?ie:Uu(e,t[n]);return i}function nr(e,t,n){return e===e&&(n!==ie&&(e=e<=n?e:n),t!==ie&&(e=e>=t?e:t)),e}function rr(e,t,n,r,i,o){var a,s=t&he,u=t&de,l=t&fe;if(n&&(a=i?n(e,r,i,o):n(e)),a!==ie)return a;if(!iu(e))return e;var h=gd(e);if(h){if(a=Ro(e),!s)return Ui(e,a)}else{var d=Sh(e),f=d==Xe||d==Ye;if(yd(e))return Ti(e,s);if(d==Je||d==ze||f&&!i){if(a=u||f?{}:Lo(e),!s)return u?zi(e,$n(a,e)):Bi(e,Jn(a,e))}else{if(!Mn[d])return i?e:{};a=Io(e,d,rr,s)}}o||(o=new xn);var p=o.get(e);if(p)return p;o.set(e,a);var m=l?u?bo:yo:u?Hu:zu,g=h?ie:m(e);return c(g||e,function(r,i){g&&(i=r,r=e[i]),Vn(a,i,rr(r,t,n,i,e,o))}),a}function ir(e){var t=zu(e);return function(n){return or(n,e,t)}}function or(e,t,n){var r=n.length;if(null==e)return!r;for(e=sl(e);r--;){var i=n[r],o=t[i],a=e[i];if(a===ie&&!(i in e)||!o(a))return!1}return!0}function ar(e,t,n){if("function"!=typeof e)throw new ll(se);return Ph(function(){e.apply(ie,n)},t)}function sr(e,t,n,r){var i=-1,o=f,a=!0,s=e.length,u=[],c=t.length;if(!s)return u;n&&(t=m(t,k(n))),r?(o=p,a=!1):t.length>=oe&&(o=U,a=!1,t=new vn(t));e:for(;++i<s;){var l=e[i],h=null==n?l:n(l);if(l=r||0!==l?l:0,a&&h===h){for(var d=c;d--;)if(t[d]===h)continue e;u.push(l)}else o(t,h,r)||u.push(l)}return u}function ur(e,t){var n=!0;return ph(e,function(e,r,i){return n=!!t(e,r,i)}),n}function cr(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(s===ie?a===a&&!gu(a):n(a,s)))var s=a,u=o}return u}function lr(e,t,n,r){var i=e.length;for(n=wu(n),n<0&&(n=-n>i?0:i+n),r=r===ie||r>i?i:wu(r),r<0&&(r+=i),r=n>r?0:Eu(r);n<r;)e[n++]=t;return e}function hr(e,t){var n=[];return ph(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function dr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=No),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?dr(s,t-1,n,r,i):g(i,s):r||(i[i.length]=s)}return i}function fr(e,t){return e&&gh(e,t,zu)}function pr(e,t){return e&&vh(e,t,zu)}function mr(e,t){return d(t,function(t){return tu(e[t])})}function gr(e,t){t=Ei(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[$o(t[n++])];return n&&n==r?e:ie}function vr(e,t,n){var r=t(e);return gd(e)?r:g(r,n(e))}function yr(e){return null==e?e===ie?it:Qe:Ol&&Ol in sl(e)?So(e):Wo(e)}function br(e,t){return e>t}function xr(e,t){return null!=e&&gl.call(e,t)}function _r(e,t){return null!=e&&t in sl(e)}function wr(e,t,n){return e>=Wl(t,n)&&e<Vl(t,n)}function Er(e,t,n){for(var r=n?p:f,i=e[0].length,o=e.length,a=o,s=nl(o),u=1/0,c=[];a--;){var l=e[a];a&&t&&(l=m(l,k(t))),u=Wl(l.length,u),s[a]=!n&&(t||i>=120&&l.length>=120)?new vn(a&&l):ie}l=e[0];var h=-1,d=s[0];e:for(;++h<i&&c.length<u;){var g=l[h],v=t?t(g):g;if(g=n||0!==g?g:0,!(d?U(d,v):r(c,v,n))){for(a=o;--a;){var y=s[a];if(!(y?U(y,v):r(e[a],v,n)))continue e}d&&d.push(v),c.push(g)}}return c}function Mr(e,t,n,r){return fr(e,function(e,i,o){t(r,n(e),i,o)}),r}function Tr(e,t,n){t=Ei(t,e),e=Yo(e,t);var r=null==e?e:e[$o(_a(t))];return null==r?ie:s(r,e,n)}function Sr(e){return ou(e)&&yr(e)==ze}function Cr(e){return ou(e)&&yr(e)==st}function Ar(e){return ou(e)&&yr(e)==Ge}function Pr(e,t,n,r,i){return e===t||(null==e||null==t||!ou(e)&&!ou(t)?e!==e&&t!==t:Rr(e,t,n,r,Pr,i))}function Rr(e,t,n,r,i,o){var a=gd(e),s=gd(t),u=a?He:Sh(e),c=s?He:Sh(t);u=u==ze?Je:u,c=c==ze?Je:c;var l=u==Je,h=c==Je,d=u==c;if(d&&yd(e)){if(!yd(t))return!1;a=!0,l=!1}if(d&&!l)return o||(o=new xn),a||Ed(e)?po(e,t,n,r,i,o):mo(e,t,u,n,r,i,o);if(!(n&pe)){var f=l&&gl.call(e,"__wrapped__"),p=h&&gl.call(t,"__wrapped__");if(f||p){var m=f?e.value():e,g=p?t.value():t;return o||(o=new xn),i(m,g,n,r,o)}}return!!d&&(o||(o=new xn),go(e,t,n,r,i,o))}function Lr(e){return ou(e)&&Sh(e)==Ze}function Ir(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=sl(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=n[i];var u=s[0],c=e[u],l=s[1];if(a&&s[2]){if(c===ie&&!(u in e))return!1}else{var h=new xn;if(r)var d=r(c,l,u,e,t,h);if(!(d===ie?Pr(l,c,pe|me,r,h):d))return!1}}return!0}function Or(e){return!(!iu(e)||zo(e))&&(tu(e)?wl:Wt).test(ea(e))}function Nr(e){return ou(e)&&yr(e)==et}function kr(e){return ou(e)&&Sh(e)==tt}function Dr(e){return ou(e)&&ru(e.length)&&!!En[yr(e)]}function Ur(e){return"function"==typeof e?e:null==e?Rc:"object"==typeof e?gd(e)?jr(e[0],e[1]):qr(e):Fc(e)}function Fr(e){if(!Ho(e))return Gl(e);var t=[];for(var n in sl(e))gl.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Br(e){if(!iu(e))return Vo(e);var t=Ho(e),n=[];for(var r in e)("constructor"!=r||!t&&gl.call(e,r))&&n.push(r);return n}function zr(e,t){return e<t}function Hr(e,t){var n=-1,r=Ws(e)?nl(e.length):[];return ph(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function qr(e){var t=Mo(e);return 1==t.length&&t[0][2]?jo(t[0][0],t[0][1]):function(n){return n===e||Ir(n,e,t)}}function jr(e,t){return Uo(e)&&qo(t)?jo($o(e),t):function(n){var r=Uu(n,e);return r===ie&&r===t?Bu(n,e):Pr(t,r,pe|me)}}function Gr(e,t,n,r,i){e!==t&&gh(t,function(o,a){if(iu(o))i||(i=new xn),Vr(e,t,a,n,Gr,r,i);else{var s=r?r(e[a],o,a+"",e,t,i):ie;s===ie&&(s=o),Fn(e,a,s)}},Hu)}function Vr(e,t,n,r,i,o,a){var s=e[n],u=t[n],c=a.get(u);if(c)return void Fn(e,n,c);var l=o?o(s,u,n+"",e,t,a):ie,h=l===ie;if(h){var d=gd(u),f=!d&&yd(u),p=!d&&!f&&Ed(u);l=u,d||f||p?gd(s)?l=s:Xs(s)?l=Ui(s):f?(h=!1,l=Ti(u,!0)):p?(h=!1,l=Ii(u,!0)):l=[]:fu(u)||md(u)?(l=s,md(s)?l=Tu(s):(!iu(s)||r&&tu(s))&&(l=Lo(u))):h=!1}h&&(a.set(u,l),i(l,u,r,o,a),a.delete(u)),Fn(e,n,l)}function Wr(e,t){var n=e.length;if(n)return t+=t<0?n:0,ko(t,n)?e[t]:ie}function Xr(e,t,n){var r=-1;return t=m(t.length?t:[Rc],k(wo())),L(Hr(e,function(e,n,i){return{criteria:m(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return Ni(e,t,n)})}function Yr(e,t){return Zr(e,t,function(t,n){return Bu(e,n)})}function Zr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=gr(e,a);n(s,a)&&oi(o,Ei(a,e),s)}return o}function Kr(e){return function(t){return gr(t,e)}}function Qr(e,t,n,r){var i=r?T:M,o=-1,a=t.length,s=e;for(e===t&&(t=Ui(t)),n&&(s=m(e,k(n)));++o<a;)for(var u=0,c=t[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==e&&Rl.call(s,u,1),Rl.call(e,u,1);return e}function Jr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;ko(i)?Rl.call(e,i,1):mi(e,i)}}return e}function $r(e,t){return e+Bl(Zl()*(t-e+1))}function ei(e,t,n,r){for(var i=-1,o=Vl(Fl((t-e)/(n||1)),0),a=nl(o);o--;)a[r?o:++i]=e,e+=n;return a}function ti(e,t){var n="";if(!e||t<1||t>Oe)return n;do{t%2&&(n+=e),(t=Bl(t/2))&&(e+=e)}while(t);return n}function ni(e,t){return Rh(Xo(e,t,Rc),e+"")}function ri(e){return Nn($u(e))}function ii(e,t){var n=$u(e);return Jo(n,nr(t,0,n.length))}function oi(e,t,n,r){if(!iu(e))return e;t=Ei(t,e);for(var i=-1,o=t.length,a=o-1,s=e;null!=s&&++i<o;){var u=$o(t[i]),c=n;if(i!=a){var l=s[u];c=r?r(l,u,s):ie,c===ie&&(c=iu(l)?l:ko(t[i+1])?[]:{})}Vn(s,u,c),s=s[u]}return e}function ai(e){return Jo($u(e))}function si(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=nl(i);++r<i;)o[r]=e[r+t];return o}function ui(e,t){var n;return ph(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function ci(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=Fe){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!gu(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return li(e,t,Rc,n)}function li(e,t,n,r){t=n(t);for(var i=0,o=null==e?0:e.length,a=t!==t,s=null===t,u=gu(t),c=t===ie;i<o;){var l=Bl((i+o)/2),h=n(e[l]),d=h!==ie,f=null===h,p=h===h,m=gu(h);if(a)var g=r||p;else g=c?p&&(r||d):s?p&&d&&(r||!f):u?p&&d&&!f&&(r||!m):!f&&!m&&(r?h<=t:h<t);g?i=l+1:o=l}return Wl(o,Ue)}function hi(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Vs(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function di(e){return"number"==typeof e?e:gu(e)?ke:+e}function fi(e){if("string"==typeof e)return e;if(gd(e))return m(e,fi)+"";if(gu(e))return dh?dh.call(e):"";var t=e+"";return"0"==t&&1/e==-Ie?"-0":t}function pi(e,t,n){var r=-1,i=f,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=p;else if(o>=oe){var c=t?null:wh(e);if(c)return Z(c);a=!1,i=U,u=new vn}else u=t?[]:s;e:for(;++r<o;){var l=e[r],h=t?t(l):l;if(l=n||0!==l?l:0,a&&h===h){for(var d=u.length;d--;)if(u[d]===h)continue e;t&&u.push(h),s.push(l)}else i(u,h,n)||(u!==s&&u.push(h),s.push(l))}return s}function mi(e,t){return t=Ei(t,e),null==(e=Yo(e,t))||delete e[$o(_a(t))]}function gi(e,t,n,r){return oi(e,t,n(gr(e,t)),r)}function vi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?si(e,r?0:o,r?o+1:i):si(e,r?o+1:0,r?i:o)}function yi(e,t){var n=e;return n instanceof x&&(n=n.value()),v(t,function(e,t){return t.func.apply(t.thisArg,g([e],t.args))},n)}function bi(e,t,n){var r=e.length;if(r<2)return r?pi(e[0]):[];for(var i=-1,o=nl(r);++i<r;)for(var a=e[i],s=-1;++s<r;)s!=i&&(o[i]=sr(o[i]||a,e[s],t,n));return pi(dr(o,1),t,n)}function xi(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=r<o?t[r]:ie;n(a,e[r],s)}return a}function _i(e){return Xs(e)?e:[]}function wi(e){return"function"==typeof e?e:Rc}function Ei(e,t){return gd(e)?e:Uo(e,t)?[e]:Lh(Cu(e))}function Mi(e,t,n){var r=e.length;return n=n===ie?r:n,!t&&n>=r?e:si(e,t,n)}function Ti(e,t){if(t)return e.slice();var n=e.length,r=Sl?Sl(n):new e.constructor(n);return e.copy(r),r}function Si(e){var t=new e.constructor(e.byteLength);return new Tl(t).set(new Tl(e)),t}function Ci(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Ai(e,t,n){return v(t?n(W(e),he):W(e),o,new e.constructor)}function Pi(e){var t=new e.constructor(e.source,jt.exec(e));return t.lastIndex=e.lastIndex,t}function Ri(e,t,n){return v(t?n(Z(e),he):Z(e),a,new e.constructor)}function Li(e){return hh?sl(hh.call(e)):{}}function Ii(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Oi(e,t){if(e!==t){var n=e!==ie,r=null===e,i=e===e,o=gu(e),a=t!==ie,s=null===t,u=t===t,c=gu(t);if(!s&&!c&&!o&&e>t||o&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function Ni(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var u=Oi(i[r],o[r]);if(u){if(r>=s)return u;return u*("desc"==n[r]?-1:1)}}return e.index-t.index}function ki(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,u=t.length,c=Vl(o-a,0),l=nl(u+c),h=!r;++s<u;)l[s]=t[s];for(;++i<a;)(h||i<o)&&(l[n[i]]=e[i]);for(;c--;)l[s++]=e[i++];return l}function Di(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,u=-1,c=t.length,l=Vl(o-s,0),h=nl(l+c),d=!r;++i<l;)h[i]=e[i];for(var f=i;++u<c;)h[f+u]=t[u];for(;++a<s;)(d||i<o)&&(h[f+n[a]]=e[i++]);return h}function Ui(e,t){var n=-1,r=e.length;for(t||(t=nl(r));++n<r;)t[n]=e[n];return t}function Fi(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],u=r?r(n[s],e[s],s,n,e):ie;u===ie&&(u=e[s]),i?er(n,s,u):Vn(n,s,u)}return n}function Bi(e,t){return Fi(e,Mh(e),t)}function zi(e,t){return Fi(e,Th(e),t)}function Hi(e,t){return function(n,r){var i=gd(n)?u:Qn,o=t?t():{};return i(n,e,wo(r,2),o)}}function qi(e){return ni(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:ie,a=i>2?n[2]:ie;for(o=e.length>3&&"function"==typeof o?(i--,o):ie,a&&Do(n[0],n[1],a)&&(o=i<3?ie:o,i=1),t=sl(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t})}function ji(e,t){return function(n,r){if(null==n)return n;if(!Ws(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=sl(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Gi(e){return function(t,n,r){for(var i=-1,o=sl(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}function Vi(e,t,n){function r(){return(this&&this!==On&&this instanceof r?o:e).apply(i?n:this,arguments)}var i=t&ge,o=Yi(e);return r}function Wi(e){return function(t){t=Cu(t);var n=j(t)?ee(t):ie,r=n?n[0]:t.charAt(0),i=n?Mi(n,1).join(""):t.slice(1);return r[e]()+i}}function Xi(e){return function(t){return v(Tc(oc(t).replace(mn,"")),e,"")}}function Yi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=fh(e.prototype),r=e.apply(n,t);return iu(r)?r:n}}function Zi(e,t,n){function r(){for(var o=arguments.length,a=nl(o),u=o,c=_o(r);u--;)a[u]=arguments[u];var l=o<3&&a[0]!==c&&a[o-1]!==c?[]:Y(a,c);return(o-=l.length)<n?ao(e,t,Ji,r.placeholder,ie,a,l,ie,ie,n-o):s(this&&this!==On&&this instanceof r?i:e,this,a)}var i=Yi(e);return r}function Ki(e){return function(t,n,r){var i=sl(t);if(!Ws(t)){var o=wo(n,3);t=zu(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:ie}}function Qi(e){return vo(function(t){var n=t.length,r=n,o=i.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new ll(se);if(o&&!s&&"wrapper"==xo(a))var s=new i([],!0)}for(r=s?r:n;++r<n;){a=t[r];var u=xo(a),c="wrapper"==u?Eh(a):ie;s=c&&Bo(c[0])&&c[1]==(Ee|be|_e|Me)&&!c[4].length&&1==c[9]?s[xo(c[0])].apply(s,c[3]):1==a.length&&Bo(a)?s[u]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&gd(r))return s.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}})}function Ji(e,t,n,r,i,o,a,s,u,c){function l(){for(var v=arguments.length,y=nl(v),b=v;b--;)y[b]=arguments[b];if(p)var x=_o(l),_=z(y,x);if(r&&(y=ki(y,r,i,p)),o&&(y=Di(y,o,a,p)),v-=_,p&&v<c){var w=Y(y,x);return ao(e,t,Ji,l.placeholder,n,y,w,s,u,c-v)}var E=d?n:this,M=f?E[e]:e;return v=y.length,s?y=Zo(y,s):m&&v>1&&y.reverse(),h&&u<v&&(y.length=u),this&&this!==On&&this instanceof l&&(M=g||Yi(M)),M.apply(E,y)}var h=t&Ee,d=t&ge,f=t&ve,p=t&(be|xe),m=t&Te,g=f?ie:Yi(e);return l}function $i(e,t){return function(n,r){return Mr(n,e,t(r),{})}}function eo(e,t){return function(n,r){var i;if(n===ie&&r===ie)return t;if(n!==ie&&(i=n),r!==ie){if(i===ie)return r;"string"==typeof n||"string"==typeof r?(n=fi(n),r=fi(r)):(n=di(n),r=di(r)),i=e(n,r)}return i}}function to(e){return vo(function(t){return t=m(t,k(wo())),ni(function(n){var r=this;return e(t,function(e){return s(e,r,n)})})})}function no(e,t){t=t===ie?" ":fi(t);var n=t.length;if(n<2)return n?ti(t,e):t;var r=ti(t,Fl(e/$(t)));return j(t)?Mi(ee(r),0,e).join(""):r.slice(0,e)}function ro(e,t,n,r){function i(){for(var t=-1,u=arguments.length,c=-1,l=r.length,h=nl(l+u),d=this&&this!==On&&this instanceof i?a:e;++c<l;)h[c]=r[c];for(;u--;)h[c++]=arguments[++t];return s(d,o?n:this,h)}var o=t&ge,a=Yi(e);return i}function io(e){return function(t,n,r){return r&&"number"!=typeof r&&Do(t,n,r)&&(n=r=ie),t=_u(t),n===ie?(n=t,t=0):n=_u(n),r=r===ie?t<n?1:-1:_u(r),ei(t,n,r,e)}}function oo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Mu(t),n=Mu(n)),e(t,n)}}function ao(e,t,n,r,i,o,a,s,u,c){var l=t&be,h=l?a:ie,d=l?ie:a,f=l?o:ie,p=l?ie:o;t|=l?_e:we,(t&=~(l?we:_e))&ye||(t&=~(ge|ve));var m=[e,t,i,f,h,p,d,s,u,c],g=n.apply(ie,m);return Bo(e)&&Ah(g,m),g.placeholder=r,Ko(g,e,t)}function so(e){var t=al[e];return function(e,n){if(e=Mu(e),n=null==n?0:Wl(wu(n),292)){var r=(Cu(e)+"e").split("e");return r=(Cu(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}function uo(e){return function(t){var n=Sh(t);return n==Ze?W(t):n==tt?K(t):N(t,e(t))}}function co(e,t,n,r,i,o,a,s){var u=t&ve;if(!u&&"function"!=typeof e)throw new ll(se);var c=r?r.length:0;if(c||(t&=~(_e|we),r=i=ie),a=a===ie?a:Vl(wu(a),0),s=s===ie?s:wu(s),c-=i?i.length:0,t&we){var l=r,h=i;r=i=ie}var d=u?ie:Eh(e),f=[e,t,n,r,i,l,h,o,a,s];if(d&&Go(f,d),e=f[0],t=f[1],n=f[2],r=f[3],i=f[4],s=f[9]=f[9]===ie?u?0:e.length:Vl(f[9]-c,0),!s&&t&(be|xe)&&(t&=~(be|xe)),t&&t!=ge)p=t==be||t==xe?Zi(e,t,s):t!=_e&&t!=(ge|_e)||i.length?Ji.apply(ie,f):ro(e,t,n,r);else var p=Vi(e,t,n);return Ko((d?yh:Ah)(p,f),e,t)}function lo(e,t,n,r){return e===ie||Vs(e,fl[n])&&!gl.call(r,n)?t:e}function ho(e,t,n,r,i,o){return iu(e)&&iu(t)&&(o.set(t,e),Gr(e,t,ie,ho,o),o.delete(t)),e}function fo(e){return fu(e)?ie:e}function po(e,t,n,r,i,o){var a=n&pe,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var l=-1,h=!0,d=n&me?new vn:ie;for(o.set(e,t),o.set(t,e);++l<s;){var f=e[l],p=t[l];if(r)var m=a?r(p,f,l,t,e,o):r(f,p,l,e,t,o);if(m!==ie){if(m)continue;h=!1;break}if(d){if(!b(t,function(e,t){if(!U(d,t)&&(f===e||i(f,e,n,r,o)))return d.push(t)})){h=!1;break}}else if(f!==p&&!i(f,p,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function mo(e,t,n,r,i,o,a){switch(n){case ut:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case st:return!(e.byteLength!=t.byteLength||!o(new Tl(e),new Tl(t)));case je:case Ge:case Ke:return Vs(+e,+t);case We:return e.name==t.name&&e.message==t.message;case et:case nt:return e==t+"";case Ze:var s=W;case tt:var u=r&pe;if(s||(s=Z),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=me,a.set(e,t);var l=po(s(e),s(t),r,i,o,a);return a.delete(e),l;case rt:if(hh)return hh.call(e)==hh.call(t)}return!1}function go(e,t,n,r,i,o){var a=n&pe,s=yo(e),u=s.length;if(u!=yo(t).length&&!a)return!1;for(var c=u;c--;){var l=s[c];if(!(a?l in t:gl.call(t,l)))return!1}var h=o.get(e);if(h&&o.get(t))return h==t;var d=!0;o.set(e,t),o.set(t,e);for(var f=a;++c<u;){l=s[c];var p=e[l],m=t[l];if(r)var g=a?r(m,p,l,t,e,o):r(p,m,l,e,t,o);if(!(g===ie?p===m||i(p,m,n,r,o):g)){d=!1;break}f||(f="constructor"==l)}if(d&&!f){var v=e.constructor,y=t.constructor;v!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y)&&(d=!1)}return o.delete(e),o.delete(t),d}function vo(e){return Rh(Xo(e,ie,fa),e+"")}function yo(e){return vr(e,zu,Mh)}function bo(e){return vr(e,Hu,Th)}function xo(e){for(var t=e.name+"",n=ih[t],r=gl.call(ih,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function _o(e){return(gl.call(n,"placeholder")?n:e).placeholder}function wo(){var e=n.iteratee||Lc;return e=e===Lc?Ur:e,arguments.length?e(arguments[0],arguments[1]):e}function Eo(e,t){var n=e.__data__;return Fo(t)?n["string"==typeof t?"string":"hash"]:n.map}function Mo(e){for(var t=zu(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,qo(i)]}return t}function To(e,t){var n=q(e,t);return Or(n)?n:ie}function So(e){var t=gl.call(e,Ol),n=e[Ol];try{e[Ol]=ie;var r=!0}catch(e){}var i=bl.call(e);return r&&(t?e[Ol]=n:delete e[Ol]),i}function Co(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Wl(t,e+a);break;case"takeRight":e=Vl(e,t-a)}}return{start:e,end:t}}function Ao(e){var t=e.match(Ft);return t?t[1].split(Bt):[]}function Po(e,t,n){t=Ei(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var a=$o(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&ru(i)&&ko(a,i)&&(gd(e)||md(e))}function Ro(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&gl.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Lo(e){return"function"!=typeof e.constructor||Ho(e)?{}:fh(Cl(e))}function Io(e,t,n,r){var i=e.constructor;switch(t){case st:return Si(e);case je:case Ge:return new i(+e);case ut:return Ci(e,r);case ct:case lt:case ht:case dt:case ft:case pt:case mt:case gt:case vt:return Ii(e,r);case Ze:return Ai(e,r,n);case Ke:case nt:return new i(e);case et:return Pi(e);case tt:return Ri(e,r,n);case rt:return Li(e)}}function Oo(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Ut,"{\n/* [wrapped with "+t+"] */\n")}function No(e){return gd(e)||md(e)||!!(Ll&&e&&e[Ll])}function ko(e,t){return!!(t=null==t?Oe:t)&&("number"==typeof e||Yt.test(e))&&e>-1&&e%1==0&&e<t}function Do(e,t,n){if(!iu(n))return!1;var r=typeof t;return!!("number"==r?Ws(n)&&ko(t,n.length):"string"==r&&t in n)&&Vs(n[t],e)}function Uo(e,t){if(gd(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!gu(e))||(Pt.test(e)||!At.test(e)||null!=t&&e in sl(t))}function Fo(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Bo(e){var t=xo(e),r=n[t];if("function"!=typeof r||!(t in x.prototype))return!1;if(e===r)return!0;var i=Eh(r);return!!i&&e===i[0]}function zo(e){return!!yl&&yl in e}function Ho(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||fl)}function qo(e){return e===e&&!iu(e)}function jo(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==ie||e in sl(n)))}}function Go(e,t){var n=e[1],r=t[1],i=n|r,o=i<(ge|ve|Ee),a=r==Ee&&n==be||r==Ee&&n==Me&&e[7].length<=t[8]||r==(Ee|Me)&&t[7].length<=t[8]&&n==be;if(!o&&!a)return e;r&ge&&(e[2]=t[2],i|=n&ge?0:ye);var s=t[3];if(s){var u=e[3];e[3]=u?ki(u,s,t[4]):s,e[4]=u?Y(e[3],le):t[4]}return s=t[5],s&&(u=e[5],e[5]=u?Di(u,s,t[6]):s,e[6]=u?Y(e[5],le):t[6]),s=t[7],s&&(e[7]=s),r&Ee&&(e[8]=null==e[8]?t[8]:Wl(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function Vo(e){var t=[];if(null!=e)for(var n in sl(e))t.push(n);return t}function Wo(e){return bl.call(e)}function Xo(e,t,n){return t=Vl(t===ie?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=Vl(r.length-t,0),a=nl(o);++i<o;)a[i]=r[t+i];i=-1;for(var u=nl(t+1);++i<t;)u[i]=r[i];return u[t]=n(a),s(e,this,u)}}function Yo(e,t){return t.length<2?e:gr(e,si(t,0,-1))}function Zo(e,t){for(var n=e.length,r=Wl(t.length,n),i=Ui(e);r--;){var o=t[r];e[r]=ko(o,n)?i[o]:ie}return e}function Ko(e,t,n){var r=t+"";return Rh(e,Oo(r,ta(Ao(r),n)))}function Qo(e){var t=0,n=0;return function(){var r=Xl(),i=Pe-(r-n);if(n=r,i>0){if(++t>=Ae)return arguments[0]}else t=0;return e.apply(ie,arguments)}}function Jo(e,t){var n=-1,r=e.length,i=r-1;for(t=t===ie?r:t;++n<t;){var o=$r(n,i),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}function $o(e){if("string"==typeof e||gu(e))return e;var t=e+"";return"0"==t&&1/e==-Ie?"-0":t}function ea(e){if(null!=e){try{return ml.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ta(e,t){return c(Be,function(n){var r="_."+n[0];t&n[1]&&!f(e,r)&&e.push(r)}),e.sort()}function na(e){if(e instanceof x)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=Ui(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function ra(e,t,n){t=(n?Do(e,t,n):t===ie)?1:Vl(wu(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,a=nl(Fl(r/t));i<r;)a[o++]=si(e,i,i+=t);return a}function ia(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}function oa(){var e=arguments.length;if(!e)return[];for(var t=nl(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return g(gd(n)?Ui(n):[n],dr(t,1))}function aa(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===ie?1:wu(t),si(e,t<0?0:t,r)):[]}function sa(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===ie?1:wu(t),t=r-t,si(e,0,t<0?0:t)):[]}function ua(e,t){return e&&e.length?vi(e,wo(t,3),!0,!0):[]}function ca(e,t){return e&&e.length?vi(e,wo(t,3),!0):[]}function la(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&Do(e,t,n)&&(n=0,r=i),lr(e,t,n,r)):[]}function ha(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:wu(n);return i<0&&(i=Vl(r+i,0)),E(e,wo(t,3),i)}function da(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==ie&&(i=wu(n),i=n<0?Vl(r+i,0):Wl(i,r-1)),E(e,wo(t,3),i,!0)}function fa(e){return(null==e?0:e.length)?dr(e,1):[]}function pa(e){return(null==e?0:e.length)?dr(e,Ie):[]}function ma(e,t){return(null==e?0:e.length)?(t=t===ie?1:wu(t),dr(e,t)):[]}function ga(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}function va(e){return e&&e.length?e[0]:ie}function ya(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:wu(n);return i<0&&(i=Vl(r+i,0)),M(e,t,i)}function ba(e){return(null==e?0:e.length)?si(e,0,-1):[]}function xa(e,t){return null==e?"":jl.call(e,t)}function _a(e){var t=null==e?0:e.length;return t?e[t-1]:ie}function wa(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==ie&&(i=wu(n),i=i<0?Vl(r+i,0):Wl(i,r-1)),t===t?J(e,t,i):E(e,S,i,!0)}function Ea(e,t){return e&&e.length?Wr(e,wu(t)):ie}function Ma(e,t){return e&&e.length&&t&&t.length?Qr(e,t):e}function Ta(e,t,n){return e&&e.length&&t&&t.length?Qr(e,t,wo(n,2)):e}function Sa(e,t,n){return e&&e.length&&t&&t.length?Qr(e,t,ie,n):e}function Ca(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=wo(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Jr(e,i),n}function Aa(e){return null==e?e:Kl.call(e)}function Pa(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Do(e,t,n)?(t=0,n=r):(t=null==t?0:wu(t),n=n===ie?r:wu(n)),si(e,t,n)):[]}function Ra(e,t){return ci(e,t)}function La(e,t,n){return li(e,t,wo(n,2))}function Ia(e,t){var n=null==e?0:e.length;if(n){var r=ci(e,t);if(r<n&&Vs(e[r],t))return r}return-1}function Oa(e,t){return ci(e,t,!0)}function Na(e,t,n){return li(e,t,wo(n,2),!0)}function ka(e,t){if(null==e?0:e.length){var n=ci(e,t,!0)-1;if(Vs(e[n],t))return n}return-1}function Da(e){return e&&e.length?hi(e):[]}function Ua(e,t){return e&&e.length?hi(e,wo(t,2)):[]}function Fa(e){var t=null==e?0:e.length;return t?si(e,1,t):[]}function Ba(e,t,n){return e&&e.length?(t=n||t===ie?1:wu(t),si(e,0,t<0?0:t)):[]}function za(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===ie?1:wu(t),t=r-t,si(e,t<0?0:t,r)):[]}function Ha(e,t){return e&&e.length?vi(e,wo(t,3),!1,!0):[]}function qa(e,t){return e&&e.length?vi(e,wo(t,3)):[]}function ja(e){return e&&e.length?pi(e):[]}function Ga(e,t){return e&&e.length?pi(e,wo(t,2)):[]}function Va(e,t){return t="function"==typeof t?t:ie,e&&e.length?pi(e,ie,t):[]}function Wa(e){if(!e||!e.length)return[];var t=0;return e=d(e,function(e){if(Xs(e))return t=Vl(e.length,t),!0}),O(t,function(t){return m(e,A(t))})}function Xa(e,t){if(!e||!e.length)return[];var n=Wa(e);return null==t?n:m(n,function(e){return s(t,ie,e)})}function Ya(e,t){return xi(e||[],t||[],Vn)}function Za(e,t){return xi(e||[],t||[],oi)}function Ka(e){var t=n(e);return t.__chain__=!0,t}function Qa(e,t){return t(e),e}function Ja(e,t){return t(e)}function $a(){return Ka(this)}function es(){return new i(this.value(),this.__chain__)}function ts(){this.__values__===ie&&(this.__values__=xu(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?ie:this.__values__[this.__index__++]}}function ns(){return this}function rs(e){for(var t,n=this;n instanceof r;){var i=na(n);i.__index__=0,i.__values__=ie,t?o.__wrapped__=i:t=i;var o=i;n=n.__wrapped__}return o.__wrapped__=e,t}function is(){var e=this.__wrapped__;if(e instanceof x){var t=e;return this.__actions__.length&&(t=new x(this)),t=t.reverse(),t.__actions__.push({func:Ja,args:[Aa],thisArg:ie}),new i(t,this.__chain__)}return this.thru(Aa)}function os(){return yi(this.__wrapped__,this.__actions__)}function as(e,t,n){var r=gd(e)?h:ur;return n&&Do(e,t,n)&&(t=ie),r(e,wo(t,3))}function ss(e,t){return(gd(e)?d:hr)(e,wo(t,3))}function us(e,t){return dr(ps(e,t),1)}function cs(e,t){return dr(ps(e,t),Ie)}function ls(e,t,n){return n=n===ie?1:wu(n),dr(ps(e,t),n)}function hs(e,t){return(gd(e)?c:ph)(e,wo(t,3))}function ds(e,t){return(gd(e)?l:mh)(e,wo(t,3))}function fs(e,t,n,r){e=Ws(e)?e:$u(e),n=n&&!r?wu(n):0;var i=e.length;return n<0&&(n=Vl(i+n,0)),mu(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&M(e,t,n)>-1}function ps(e,t){return(gd(e)?m:Hr)(e,wo(t,3))}function ms(e,t,n,r){return null==e?[]:(gd(t)||(t=null==t?[]:[t]),n=r?ie:n,gd(n)||(n=null==n?[]:[n]),Xr(e,t,n))}function gs(e,t,n){var r=gd(e)?v:R,i=arguments.length<3;return r(e,wo(t,4),n,i,ph)}function vs(e,t,n){var r=gd(e)?y:R,i=arguments.length<3;return r(e,wo(t,4),n,i,mh)}function ys(e,t){return(gd(e)?d:hr)(e,Is(wo(t,3)))}function bs(e){return(gd(e)?Nn:ri)(e)}function xs(e,t,n){return t=(n?Do(e,t,n):t===ie)?1:wu(t),(gd(e)?kn:ii)(e,t)}function _s(e){return(gd(e)?Un:ai)(e)}function ws(e){if(null==e)return 0;if(Ws(e))return mu(e)?$(e):e.length;var t=Sh(e);return t==Ze||t==tt?e.size:Fr(e).length}function Es(e,t,n){var r=gd(e)?b:ui;return n&&Do(e,t,n)&&(t=ie),r(e,wo(t,3))}function Ms(e,t){if("function"!=typeof t)throw new ll(se);return e=wu(e),function(){if(--e<1)return t.apply(this,arguments)}}function Ts(e,t,n){return t=n?ie:t,t=e&&null==t?e.length:t,co(e,Ee,ie,ie,ie,ie,t)}function Ss(e,t){var n;if("function"!=typeof t)throw new ll(se);return e=wu(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=ie),n}}function Cs(e,t,n){t=n?ie:t;var r=co(e,be,ie,ie,ie,ie,ie,t);return r.placeholder=Cs.placeholder,r}function As(e,t,n){t=n?ie:t;var r=co(e,xe,ie,ie,ie,ie,ie,t);return r.placeholder=As.placeholder,r}function Ps(e,t,n){function r(t){var n=d,r=f;return d=f=ie,y=t,m=e.apply(r,n)}function i(e){return y=e,g=Ph(s,t),b?r(e):m}function o(e){var n=e-v,r=e-y,i=t-n;return x?Wl(i,p-r):i}function a(e){var n=e-v,r=e-y;return v===ie||n>=t||n<0||x&&r>=p}function s(){var e=id();if(a(e))return u(e);g=Ph(s,o(e))}function u(e){return g=ie,_&&d?r(e):(d=f=ie,m)}function c(){g!==ie&&_h(g),y=0,d=v=f=g=ie}function l(){return g===ie?m:u(id())}function h(){var e=id(),n=a(e);if(d=arguments,f=this,v=e,n){if(g===ie)return i(v);if(x)return g=Ph(s,t),r(v)}return g===ie&&(g=Ph(s,t)),m}var d,f,p,m,g,v,y=0,b=!1,x=!1,_=!0;if("function"!=typeof e)throw new ll(se);return t=Mu(t)||0,iu(n)&&(b=!!n.leading,x="maxWait"in n,p=x?Vl(Mu(n.maxWait)||0,t):p,_="trailing"in n?!!n.trailing:_),h.cancel=c,h.flush=l,h}function Rs(e){return co(e,Te)}function Ls(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ll(se);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ls.Cache||cn),n}function Is(e){if("function"!=typeof e)throw new ll(se);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Os(e){return Ss(2,e)}function Ns(e,t){if("function"!=typeof e)throw new ll(se);return t=t===ie?t:wu(t),ni(e,t)}function ks(e,t){if("function"!=typeof e)throw new ll(se);return t=null==t?0:Vl(wu(t),0),ni(function(n){var r=n[t],i=Mi(n,0,t);return r&&g(i,r),s(e,this,i)})}function Ds(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new ll(se);return iu(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ps(e,t,{leading:r,maxWait:t,trailing:i})}function Us(e){return Ts(e,1)}function Fs(e,t){return ld(wi(t),e)}function Bs(){if(!arguments.length)return[];var e=arguments[0];return gd(e)?e:[e]}function zs(e){return rr(e,fe)}function Hs(e,t){return t="function"==typeof t?t:ie,rr(e,fe,t)}function qs(e){return rr(e,he|fe)}function js(e,t){return t="function"==typeof t?t:ie,rr(e,he|fe,t)}function Gs(e,t){return null==t||or(e,t,zu(t))}function Vs(e,t){return e===t||e!==e&&t!==t}function Ws(e){return null!=e&&ru(e.length)&&!tu(e)}function Xs(e){return ou(e)&&Ws(e)}function Ys(e){return!0===e||!1===e||ou(e)&&yr(e)==je}function Zs(e){return ou(e)&&1===e.nodeType&&!fu(e)}function Ks(e){if(null==e)return!0;if(Ws(e)&&(gd(e)||"string"==typeof e||"function"==typeof e.splice||yd(e)||Ed(e)||md(e)))return!e.length;var t=Sh(e);if(t==Ze||t==tt)return!e.size;if(Ho(e))return!Fr(e).length;for(var n in e)if(gl.call(e,n))return!1;return!0}function Qs(e,t){return Pr(e,t)}function Js(e,t,n){n="function"==typeof n?n:ie;var r=n?n(e,t):ie;return r===ie?Pr(e,t,ie,n):!!r}function $s(e){if(!ou(e))return!1;var t=yr(e);return t==We||t==Ve||"string"==typeof e.message&&"string"==typeof e.name&&!fu(e)}function eu(e){return"number"==typeof e&&ql(e)}function tu(e){if(!iu(e))return!1;var t=yr(e);return t==Xe||t==Ye||t==qe||t==$e}function nu(e){return"number"==typeof e&&e==wu(e)}function ru(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Oe}function iu(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ou(e){return null!=e&&"object"==typeof e}function au(e,t){return e===t||Ir(e,t,Mo(t))}function su(e,t,n){return n="function"==typeof n?n:ie,Ir(e,t,Mo(t),n)}function uu(e){return du(e)&&e!=+e}function cu(e){if(Ch(e))throw new il(ae);return Or(e)}function lu(e){return null===e}function hu(e){return null==e}function du(e){return"number"==typeof e||ou(e)&&yr(e)==Ke}function fu(e){if(!ou(e)||yr(e)!=Je)return!1;var t=Cl(e);if(null===t)return!0;var n=gl.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ml.call(n)==xl}function pu(e){return nu(e)&&e>=-Oe&&e<=Oe}function mu(e){return"string"==typeof e||!gd(e)&&ou(e)&&yr(e)==nt}function gu(e){return"symbol"==typeof e||ou(e)&&yr(e)==rt}function vu(e){return e===ie}function yu(e){return ou(e)&&Sh(e)==ot}function bu(e){return ou(e)&&yr(e)==at}function xu(e){if(!e)return[];if(Ws(e))return mu(e)?ee(e):Ui(e);if(Il&&e[Il])return V(e[Il]());var t=Sh(e);return(t==Ze?W:t==tt?Z:$u)(e)}function _u(e){if(!e)return 0===e?e:0;if((e=Mu(e))===Ie||e===-Ie){return(e<0?-1:1)*Ne}return e===e?e:0}function wu(e){var t=_u(e),n=t%1;return t===t?n?t-n:t:0}function Eu(e){return e?nr(wu(e),0,De):0}function Mu(e){if("number"==typeof e)return e;if(gu(e))return ke;if(iu(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=iu(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Nt,"");var n=Vt.test(e);return n||Xt.test(e)?Rn(e.slice(2),n?2:8):Gt.test(e)?ke:+e}function Tu(e){return Fi(e,Hu(e))}function Su(e){return e?nr(wu(e),-Oe,Oe):0===e?e:0}function Cu(e){return null==e?"":fi(e)}function Au(e,t){var n=fh(e);return null==t?n:Jn(n,t)}function Pu(e,t){return w(e,wo(t,3),fr)}function Ru(e,t){return w(e,wo(t,3),pr)}function Lu(e,t){return null==e?e:gh(e,wo(t,3),Hu)}function Iu(e,t){return null==e?e:vh(e,wo(t,3),Hu)}function Ou(e,t){return e&&fr(e,wo(t,3))}function Nu(e,t){return e&&pr(e,wo(t,3))}function ku(e){return null==e?[]:mr(e,zu(e))}function Du(e){return null==e?[]:mr(e,Hu(e))}function Uu(e,t,n){var r=null==e?ie:gr(e,t);return r===ie?n:r}function Fu(e,t){return null!=e&&Po(e,t,xr)}function Bu(e,t){return null!=e&&Po(e,t,_r)}function zu(e){return Ws(e)?In(e):Fr(e)}function Hu(e){return Ws(e)?In(e,!0):Br(e)}function qu(e,t){var n={};return t=wo(t,3),fr(e,function(e,r,i){er(n,t(e,r,i),e)}),n}function ju(e,t){var n={};return t=wo(t,3),fr(e,function(e,r,i){er(n,r,t(e,r,i))}),n}function Gu(e,t){return Vu(e,Is(wo(t)))}function Vu(e,t){if(null==e)return{};var n=m(bo(e),function(e){return[e]});return t=wo(t),Zr(e,n,function(e,n){return t(e,n[0])})}function Wu(e,t,n){t=Ei(t,e);var r=-1,i=t.length;for(i||(i=1,e=ie);++r<i;){var o=null==e?ie:e[$o(t[r])];o===ie&&(r=i,o=n),e=tu(o)?o.call(e):o}return e}function Xu(e,t,n){return null==e?e:oi(e,t,n)}function Yu(e,t,n,r){return r="function"==typeof r?r:ie,null==e?e:oi(e,t,n,r)}function Zu(e,t,n){var r=gd(e),i=r||yd(e)||Ed(e);if(t=wo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:iu(e)&&tu(o)?fh(Cl(e)):{}}return(i?c:fr)(e,function(e,r,i){return t(n,e,r,i)}),n}function Ku(e,t){return null==e||mi(e,t)}function Qu(e,t,n){return null==e?e:gi(e,t,wi(n))}function Ju(e,t,n,r){return r="function"==typeof r?r:ie,null==e?e:gi(e,t,wi(n),r)}function $u(e){return null==e?[]:D(e,zu(e))}function ec(e){return null==e?[]:D(e,Hu(e))}function tc(e,t,n){return n===ie&&(n=t,t=ie),n!==ie&&(n=Mu(n),n=n===n?n:0),t!==ie&&(t=Mu(t),t=t===t?t:0),nr(Mu(e),t,n)}function nc(e,t,n){return t=_u(t),n===ie?(n=t,t=0):n=_u(n),e=Mu(e),wr(e,t,n)}function rc(e,t,n){if(n&&"boolean"!=typeof n&&Do(e,t,n)&&(t=n=ie),n===ie&&("boolean"==typeof t?(n=t,t=ie):"boolean"==typeof e&&(n=e,e=ie)),e===ie&&t===ie?(e=0,t=1):(e=_u(e),t===ie?(t=e,e=0):t=_u(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Zl();return Wl(e+i*(t-e+Pn("1e-"+((i+"").length-1))),t)}return $r(e,t)}function ic(e){return Zd(Cu(e).toLowerCase())}function oc(e){return(e=Cu(e))&&e.replace(Zt,Wn).replace(gn,"")}function ac(e,t,n){e=Cu(e),t=fi(t);var r=e.length;n=n===ie?r:nr(wu(n),0,r);var i=n;return(n-=t.length)>=0&&e.slice(n,i)==t}function sc(e){return e=Cu(e),e&&Mt.test(e)?e.replace(wt,Xn):e}function uc(e){return e=Cu(e),e&&Ot.test(e)?e.replace(It,"\\$&"):e}function cc(e,t,n){e=Cu(e),t=wu(t);var r=t?$(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return no(Bl(i),n)+e+no(Fl(i),n)}function lc(e,t,n){e=Cu(e),t=wu(t);var r=t?$(e):0;return t&&r<t?e+no(t-r,n):e}function hc(e,t,n){e=Cu(e),t=wu(t);var r=t?$(e):0;return t&&r<t?no(t-r,n)+e:e}function dc(e,t,n){return n||null==t?t=0:t&&(t=+t),Yl(Cu(e).replace(kt,""),t||0)}function fc(e,t,n){return t=(n?Do(e,t,n):t===ie)?1:wu(t),ti(Cu(e),t)}function pc(){var e=arguments,t=Cu(e[0]);return e.length<3?t:t.replace(e[1],e[2])}function mc(e,t,n){return n&&"number"!=typeof n&&Do(e,t,n)&&(t=n=ie),(n=n===ie?De:n>>>0)?(e=Cu(e),e&&("string"==typeof t||null!=t&&!_d(t))&&!(t=fi(t))&&j(e)?Mi(ee(e),0,n):e.split(t,n)):[]}function gc(e,t,n){return e=Cu(e),n=null==n?0:nr(wu(n),0,e.length),t=fi(t),e.slice(n,n+t.length)==t}function vc(e,t,r){var i=n.templateSettings;r&&Do(e,t,r)&&(t=ie),e=Cu(e),t=Ad({},t,i,lo);var o,a,s=Ad({},t.imports,i.imports,lo),u=zu(s),c=D(s,u),l=0,h=t.interpolate||Kt,d="__p += '",f=ul((t.escape||Kt).source+"|"+h.source+"|"+(h===Ct?qt:Kt).source+"|"+(t.evaluate||Kt).source+"|$","g"),p="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++wn+"]")+"\n";e.replace(f,function(t,n,r,i,s,u){return r||(r=i),d+=e.slice(l,u).replace(Qt,H),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t}),d+="';\n";var m=t.variable;m||(d="with (obj) {\n"+d+"\n}\n"),d=(a?d.replace(yt,""):d).replace(bt,"$1").replace(xt,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Kd(function(){return ol(u,p+"return "+d).apply(ie,c)});if(g.source=d,$s(g))throw g;return g}function yc(e){return Cu(e).toLowerCase()}function bc(e){return Cu(e).toUpperCase()}function xc(e,t,n){if((e=Cu(e))&&(n||t===ie))return e.replace(Nt,"");if(!e||!(t=fi(t)))return e;var r=ee(e),i=ee(t);return Mi(r,F(r,i),B(r,i)+1).join("")}function _c(e,t,n){if((e=Cu(e))&&(n||t===ie))return e.replace(Dt,"");if(!e||!(t=fi(t)))return e;var r=ee(e);return Mi(r,0,B(r,ee(t))+1).join("")}function wc(e,t,n){if((e=Cu(e))&&(n||t===ie))return e.replace(kt,"");if(!e||!(t=fi(t)))return e;var r=ee(e);return Mi(r,F(r,ee(t))).join("")}function Ec(e,t){var n=Se,r=Ce;if(iu(t)){var i="separator"in t?t.separator:i;n="length"in t?wu(t.length):n,r="omission"in t?fi(t.omission):r}e=Cu(e);var o=e.length;if(j(e)){var a=ee(e);o=a.length}if(n>=o)return e;var s=n-$(r);if(s<1)return r;var u=a?Mi(a,0,s).join(""):e.slice(0,s);if(i===ie)return u+r;if(a&&(s+=u.length-s),_d(i)){if(e.slice(s).search(i)){var c,l=u;for(i.global||(i=ul(i.source,Cu(jt.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var h=c.index;u=u.slice(0,h===ie?s:h)}}else if(e.indexOf(fi(i),s)!=s){var d=u.lastIndexOf(i);d>-1&&(u=u.slice(0,d))}return u+r}function Mc(e){return e=Cu(e),e&&Et.test(e)?e.replace(_t,Yn):e}function Tc(e,t,n){return e=Cu(e),t=n?ie:t,t===ie?G(e)?re(e):_(e):e.match(t)||[]}function Sc(e){var t=null==e?0:e.length,n=wo();return e=t?m(e,function(e){if("function"!=typeof e[1])throw new ll(se);return[n(e[0]),e[1]]}):[],ni(function(n){for(var r=-1;++r<t;){var i=e[r];if(s(i[0],this,n))return s(i[1],this,n)}})}function Cc(e){return ir(rr(e,he))}function Ac(e){return function(){return e}}function Pc(e,t){return null==e||e!==e?t:e}function Rc(e){return e}function Lc(e){return Ur("function"==typeof e?e:rr(e,he))}function Ic(e){return qr(rr(e,he))}function Oc(e,t){return jr(e,rr(t,he))}function Nc(e,t,n){var r=zu(t),i=mr(t,r);null!=n||iu(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=mr(t,zu(t)));var o=!(iu(n)&&"chain"in n&&!n.chain),a=tu(e);return c(i,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=Ui(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,g([this.value()],arguments))})}),e}function kc(){return On._===this&&(On._=_l),this}function Dc(){}function Uc(e){return e=wu(e),ni(function(t){return Wr(t,e)})}function Fc(e){return Uo(e)?A($o(e)):Kr(e)}function Bc(e){return function(t){return null==e?ie:gr(e,t)}}function zc(){return[]}function Hc(){return!1}function qc(){return{}}function jc(){return""}function Gc(){return!0}function Vc(e,t){if((e=wu(e))<1||e>Oe)return[];var n=De,r=Wl(e,De);t=wo(t),e-=De;for(var i=O(r,t);++n<e;)t(n);return i}function Wc(e){return gd(e)?m(e,$o):gu(e)?[e]:Ui(Lh(Cu(e)))}function Xc(e){var t=++vl;return Cu(e)+t}function Yc(e){return e&&e.length?cr(e,Rc,br):ie}function Zc(e,t){return e&&e.length?cr(e,wo(t,2),br):ie}function Kc(e){return C(e,Rc)}function Qc(e,t){return C(e,wo(t,2))}function Jc(e){return e&&e.length?cr(e,Rc,zr):ie}function $c(e,t){return e&&e.length?cr(e,wo(t,2),zr):ie}function el(e){return e&&e.length?I(e,Rc):0}function tl(e,t){return e&&e.length?I(e,wo(t,2)):0}t=null==t?On:Zn.defaults(On.Object(),t,Zn.pick(On,_n));var nl=t.Array,rl=t.Date,il=t.Error,ol=t.Function,al=t.Math,sl=t.Object,ul=t.RegExp,cl=t.String,ll=t.TypeError,hl=nl.prototype,dl=ol.prototype,fl=sl.prototype,pl=t["__core-js_shared__"],ml=dl.toString,gl=fl.hasOwnProperty,vl=0,yl=function(){var e=/[^.]+$/.exec(pl&&pl.keys&&pl.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),bl=fl.toString,xl=ml.call(sl),_l=On._,wl=ul("^"+ml.call(gl).replace(It,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),El=Dn?t.Buffer:ie,Ml=t.Symbol,Tl=t.Uint8Array,Sl=El?El.allocUnsafe:ie,Cl=X(sl.getPrototypeOf,sl),Al=sl.create,Pl=fl.propertyIsEnumerable,Rl=hl.splice,Ll=Ml?Ml.isConcatSpreadable:ie,Il=Ml?Ml.iterator:ie,Ol=Ml?Ml.toStringTag:ie,Nl=function(){try{var e=To(sl,"defineProperty");return e({},"",{}),e}catch(e){}}(),kl=t.clearTimeout!==On.clearTimeout&&t.clearTimeout,Dl=rl&&rl.now!==On.Date.now&&rl.now,Ul=t.setTimeout!==On.setTimeout&&t.setTimeout,Fl=al.ceil,Bl=al.floor,zl=sl.getOwnPropertySymbols,Hl=El?El.isBuffer:ie,ql=t.isFinite,jl=hl.join,Gl=X(sl.keys,sl),Vl=al.max,Wl=al.min,Xl=rl.now,Yl=t.parseInt,Zl=al.random,Kl=hl.reverse,Ql=To(t,"DataView"),Jl=To(t,"Map"),$l=To(t,"Promise"),eh=To(t,"Set"),th=To(t,"WeakMap"),nh=To(sl,"create"),rh=th&&new th,ih={},oh=ea(Ql),ah=ea(Jl),sh=ea($l),uh=ea(eh),ch=ea(th),lh=Ml?Ml.prototype:ie,hh=lh?lh.valueOf:ie,dh=lh?lh.toString:ie,fh=function(){function e(){}return function(t){if(!iu(t))return{};if(Al)return Al(t);e.prototype=t;var n=new e;return e.prototype=ie,n}}();n.templateSettings={escape:Tt,evaluate:St,interpolate:Ct,variable:"",imports:{_:n}},n.prototype=r.prototype,n.prototype.constructor=n,i.prototype=fh(r.prototype),i.prototype.constructor=i,x.prototype=fh(r.prototype),x.prototype.constructor=x,ne.prototype.clear=zt,ne.prototype.delete=Jt,ne.prototype.get=$t,ne.prototype.has=en,ne.prototype.set=tn,nn.prototype.clear=rn,nn.prototype.delete=on,nn.prototype.get=an,nn.prototype.has=sn,nn.prototype.set=un,cn.prototype.clear=ln,cn.prototype.delete=hn,cn.prototype.get=dn,cn.prototype.has=fn,cn.prototype.set=pn,vn.prototype.add=vn.prototype.push=yn,vn.prototype.has=bn,xn.prototype.clear=Tn,xn.prototype.delete=Sn,xn.prototype.get=Cn,xn.prototype.has=An,xn.prototype.set=Ln;var ph=ji(fr),mh=ji(pr,!0),gh=Gi(),vh=Gi(!0),yh=rh?function(e,t){return rh.set(e,t),e}:Rc,bh=Nl?function(e,t){return Nl(e,"toString",{configurable:!0,enumerable:!1,value:Ac(t),writable:!0})}:Rc,xh=ni,_h=kl||function(e){return On.clearTimeout(e)},wh=eh&&1/Z(new eh([,-0]))[1]==Ie?function(e){return new eh(e)}:Dc,Eh=rh?function(e){return rh.get(e)}:Dc,Mh=zl?function(e){return null==e?[]:(e=sl(e),d(zl(e),function(t){return Pl.call(e,t)}))}:zc,Th=zl?function(e){for(var t=[];e;)g(t,Mh(e)),e=Cl(e);return t}:zc,Sh=yr;(Ql&&Sh(new Ql(new ArrayBuffer(1)))!=ut||Jl&&Sh(new Jl)!=Ze||$l&&"[object Promise]"!=Sh($l.resolve())||eh&&Sh(new eh)!=tt||th&&Sh(new th)!=ot)&&(Sh=function(e){var t=yr(e),n=t==Je?e.constructor:ie,r=n?ea(n):"";if(r)switch(r){case oh:return ut;case ah:return Ze;case sh:return"[object Promise]";case uh:return tt;case ch:return ot}return t});var Ch=pl?tu:Hc,Ah=Qo(yh),Ph=Ul||function(e,t){return On.setTimeout(e,t)},Rh=Qo(bh),Lh=function(e){var t=Ls(e,function(e){return n.size===ce&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return Rt.test(e)&&t.push(""),e.replace(Lt,function(e,n,r,i){t.push(r?i.replace(Ht,"$1"):n||e)}),t}),Ih=ni(function(e,t){return Xs(e)?sr(e,dr(t,1,Xs,!0)):[]}),Oh=ni(function(e,t){var n=_a(t);return Xs(n)&&(n=ie),Xs(e)?sr(e,dr(t,1,Xs,!0),wo(n,2)):[]}),Nh=ni(function(e,t){var n=_a(t);return Xs(n)&&(n=ie),Xs(e)?sr(e,dr(t,1,Xs,!0),ie,n):[]}),kh=ni(function(e){var t=m(e,_i);return t.length&&t[0]===e[0]?Er(t):[]}),Dh=ni(function(e){var t=_a(e),n=m(e,_i);return t===_a(n)?t=ie:n.pop(),n.length&&n[0]===e[0]?Er(n,wo(t,2)):[]}),Uh=ni(function(e){var t=_a(e),n=m(e,_i);return t="function"==typeof t?t:ie,t&&n.pop(),n.length&&n[0]===e[0]?Er(n,ie,t):[]}),Fh=ni(Ma),Bh=vo(function(e,t){var n=null==e?0:e.length,r=tr(e,t);return Jr(e,m(t,function(e){return ko(e,n)?+e:e}).sort(Oi)),r}),zh=ni(function(e){return pi(dr(e,1,Xs,!0))}),Hh=ni(function(e){var t=_a(e);return Xs(t)&&(t=ie),pi(dr(e,1,Xs,!0),wo(t,2))}),qh=ni(function(e){var t=_a(e);return t="function"==typeof t?t:ie,pi(dr(e,1,Xs,!0),ie,t)}),jh=ni(function(e,t){return Xs(e)?sr(e,t):[]}),Gh=ni(function(e){return bi(d(e,Xs))}),Vh=ni(function(e){var t=_a(e);return Xs(t)&&(t=ie),bi(d(e,Xs),wo(t,2))}),Wh=ni(function(e){var t=_a(e);return t="function"==typeof t?t:ie,bi(d(e,Xs),ie,t)}),Xh=ni(Wa),Yh=ni(function(e){var t=e.length,n=t>1?e[t-1]:ie;return n="function"==typeof n?(e.pop(),n):ie,Xa(e,n)}),Zh=vo(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return tr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof x&&ko(n)?(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:Ja,args:[o],thisArg:ie}),new i(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(ie),e})):this.thru(o)}),Kh=Hi(function(e,t,n){gl.call(e,n)?++e[n]:er(e,n,1)}),Qh=Ki(ha),Jh=Ki(da),$h=Hi(function(e,t,n){gl.call(e,n)?e[n].push(t):er(e,n,[t])}),ed=ni(function(e,t,n){var r=-1,i="function"==typeof t,o=Ws(e)?nl(e.length):[];return ph(e,function(e){o[++r]=i?s(t,e,n):Tr(e,t,n)}),o}),td=Hi(function(e,t,n){er(e,n,t)}),nd=Hi(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),rd=ni(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Do(e,t[0],t[1])?t=[]:n>2&&Do(t[0],t[1],t[2])&&(t=[t[0]]),Xr(e,dr(t,1),[])}),id=Dl||function(){return On.Date.now()},od=ni(function(e,t,n){var r=ge;if(n.length){var i=Y(n,_o(od));r|=_e}return co(e,r,t,n,i)}),ad=ni(function(e,t,n){var r=ge|ve;if(n.length){var i=Y(n,_o(ad));r|=_e}return co(t,r,e,n,i)}),sd=ni(function(e,t){return ar(e,1,t)}),ud=ni(function(e,t,n){return ar(e,Mu(t)||0,n)});Ls.Cache=cn;var cd=xh(function(e,t){t=1==t.length&&gd(t[0])?m(t[0],k(wo())):m(dr(t,1),k(wo()));var n=t.length;return ni(function(r){for(var i=-1,o=Wl(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return s(e,this,r)})}),ld=ni(function(e,t){var n=Y(t,_o(ld));return co(e,_e,ie,t,n)}),hd=ni(function(e,t){var n=Y(t,_o(hd));return co(e,we,ie,t,n)}),dd=vo(function(e,t){return co(e,Me,ie,ie,ie,t)}),fd=oo(br),pd=oo(function(e,t){return e>=t}),md=Sr(function(){return arguments}())?Sr:function(e){return ou(e)&&gl.call(e,"callee")&&!Pl.call(e,"callee")},gd=nl.isArray,vd=Bn?k(Bn):Cr,yd=Hl||Hc,bd=zn?k(zn):Ar,xd=Hn?k(Hn):Lr,_d=qn?k(qn):Nr,wd=jn?k(jn):kr,Ed=Gn?k(Gn):Dr,Md=oo(zr),Td=oo(function(e,t){return e<=t}),Sd=qi(function(e,t){if(Ho(t)||Ws(t))return void Fi(t,zu(t),e);for(var n in t)gl.call(t,n)&&Vn(e,n,t[n])}),Cd=qi(function(e,t){Fi(t,Hu(t),e)}),Ad=qi(function(e,t,n,r){Fi(t,Hu(t),e,r)}),Pd=qi(function(e,t,n,r){Fi(t,zu(t),e,r)}),Rd=vo(tr),Ld=ni(function(e){return e.push(ie,lo),s(Ad,ie,e)}),Id=ni(function(e){return e.push(ie,ho),s(Ud,ie,e)}),Od=$i(function(e,t,n){e[t]=n},Ac(Rc)),Nd=$i(function(e,t,n){gl.call(e,t)?e[t].push(n):e[t]=[n]},wo),kd=ni(Tr),Dd=qi(function(e,t,n){Gr(e,t,n)}),Ud=qi(function(e,t,n,r){Gr(e,t,n,r)}),Fd=vo(function(e,t){var n={};if(null==e)return n;var r=!1;t=m(t,function(t){return t=Ei(t,e),r||(r=t.length>1),t}),Fi(e,bo(e),n),r&&(n=rr(n,he|de|fe,fo));for(var i=t.length;i--;)mi(n,t[i]);return n}),Bd=vo(function(e,t){return null==e?{}:Yr(e,t)}),zd=uo(zu),Hd=uo(Hu),qd=Xi(function(e,t,n){return t=t.toLowerCase(),e+(n?ic(t):t)}),jd=Xi(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Gd=Xi(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Vd=Wi("toLowerCase"),Wd=Xi(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Xd=Xi(function(e,t,n){return e+(n?" ":"")+Zd(t)}),Yd=Xi(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Zd=Wi("toUpperCase"),Kd=ni(function(e,t){try{return s(e,ie,t)}catch(e){return $s(e)?e:new il(e)}}),Qd=vo(function(e,t){return c(t,function(t){t=$o(t),er(e,t,od(e[t],e))}),e}),Jd=Qi(),$d=Qi(!0),ef=ni(function(e,t){return function(n){return Tr(n,e,t)}}),tf=ni(function(e,t){return function(n){return Tr(e,n,t)}}),nf=to(m),rf=to(h),of=to(b),af=io(),sf=io(!0),uf=eo(function(e,t){return e+t},0),cf=so("ceil"),lf=eo(function(e,t){return e/t},1),hf=so("floor"),df=eo(function(e,t){return e*t},1),ff=so("round"),pf=eo(function(e,t){return e-t},0);return n.after=Ms,n.ary=Ts,n.assign=Sd,n.assignIn=Cd,n.assignInWith=Ad,n.assignWith=Pd,n.at=Rd,n.before=Ss,n.bind=od,n.bindAll=Qd,n.bindKey=ad,n.castArray=Bs,n.chain=Ka,n.chunk=ra,n.compact=ia,n.concat=oa,n.cond=Sc,n.conforms=Cc,n.constant=Ac,n.countBy=Kh,n.create=Au,n.curry=Cs,n.curryRight=As,n.debounce=Ps,n.defaults=Ld,n.defaultsDeep=Id,n.defer=sd,n.delay=ud,n.difference=Ih,n.differenceBy=Oh,n.differenceWith=Nh,n.drop=aa,n.dropRight=sa,n.dropRightWhile=ua,n.dropWhile=ca,n.fill=la,n.filter=ss,n.flatMap=us,n.flatMapDeep=cs,n.flatMapDepth=ls,n.flatten=fa,n.flattenDeep=pa,n.flattenDepth=ma,n.flip=Rs,n.flow=Jd,n.flowRight=$d,n.fromPairs=ga,n.functions=ku,n.functionsIn=Du,n.groupBy=$h,n.initial=ba,n.intersection=kh,n.intersectionBy=Dh,n.intersectionWith=Uh,n.invert=Od,n.invertBy=Nd,n.invokeMap=ed,n.iteratee=Lc,n.keyBy=td,n.keys=zu,n.keysIn=Hu,n.map=ps,n.mapKeys=qu,n.mapValues=ju,n.matches=Ic,n.matchesProperty=Oc,n.memoize=Ls,n.merge=Dd,n.mergeWith=Ud,n.method=ef,n.methodOf=tf,n.mixin=Nc,n.negate=Is,n.nthArg=Uc,n.omit=Fd,n.omitBy=Gu,n.once=Os,n.orderBy=ms,n.over=nf,n.overArgs=cd,n.overEvery=rf,n.overSome=of,n.partial=ld,n.partialRight=hd,n.partition=nd,n.pick=Bd,n.pickBy=Vu,n.property=Fc,n.propertyOf=Bc,n.pull=Fh,n.pullAll=Ma,n.pullAllBy=Ta,n.pullAllWith=Sa,n.pullAt=Bh,n.range=af,n.rangeRight=sf,n.rearg=dd,n.reject=ys,n.remove=Ca,n.rest=Ns,n.reverse=Aa,n.sampleSize=xs,n.set=Xu,n.setWith=Yu,n.shuffle=_s,n.slice=Pa,n.sortBy=rd,n.sortedUniq=Da,n.sortedUniqBy=Ua,n.split=mc,n.spread=ks,n.tail=Fa,n.take=Ba,n.takeRight=za,n.takeRightWhile=Ha,n.takeWhile=qa,n.tap=Qa,n.throttle=Ds,n.thru=Ja,n.toArray=xu,n.toPairs=zd,n.toPairsIn=Hd,n.toPath=Wc,n.toPlainObject=Tu,n.transform=Zu,n.unary=Us,n.union=zh,n.unionBy=Hh,n.unionWith=qh,n.uniq=ja,n.uniqBy=Ga,n.uniqWith=Va,n.unset=Ku,n.unzip=Wa,n.unzipWith=Xa,n.update=Qu,n.updateWith=Ju,n.values=$u,n.valuesIn=ec,n.without=jh,n.words=Tc,n.wrap=Fs,n.xor=Gh,n.xorBy=Vh,n.xorWith=Wh,n.zip=Xh,n.zipObject=Ya,n.zipObjectDeep=Za,n.zipWith=Yh,n.entries=zd,n.entriesIn=Hd,n.extend=Cd,n.extendWith=Ad,Nc(n,n),n.add=uf,n.attempt=Kd,n.camelCase=qd,n.capitalize=ic,n.ceil=cf,n.clamp=tc,n.clone=zs,n.cloneDeep=qs,n.cloneDeepWith=js,n.cloneWith=Hs,n.conformsTo=Gs,n.deburr=oc,n.defaultTo=Pc,n.divide=lf,n.endsWith=ac,n.eq=Vs,n.escape=sc,n.escapeRegExp=uc,n.every=as,n.find=Qh,n.findIndex=ha,n.findKey=Pu,n.findLast=Jh,n.findLastIndex=da,n.findLastKey=Ru,n.floor=hf,n.forEach=hs,n.forEachRight=ds,n.forIn=Lu,n.forInRight=Iu,n.forOwn=Ou,n.forOwnRight=Nu,n.get=Uu,n.gt=fd,n.gte=pd,n.has=Fu,n.hasIn=Bu,n.head=va,n.identity=Rc,n.includes=fs,n.indexOf=ya,n.inRange=nc,n.invoke=kd,n.isArguments=md,n.isArray=gd,n.isArrayBuffer=vd,n.isArrayLike=Ws,n.isArrayLikeObject=Xs,n.isBoolean=Ys,n.isBuffer=yd,n.isDate=bd,n.isElement=Zs,n.isEmpty=Ks,n.isEqual=Qs,n.isEqualWith=Js,n.isError=$s,n.isFinite=eu,n.isFunction=tu,n.isInteger=nu,n.isLength=ru,n.isMap=xd,n.isMatch=au,n.isMatchWith=su,n.isNaN=uu,n.isNative=cu,n.isNil=hu,n.isNull=lu,n.isNumber=du,n.isObject=iu,n.isObjectLike=ou,n.isPlainObject=fu,n.isRegExp=_d,n.isSafeInteger=pu,n.isSet=wd,n.isString=mu,n.isSymbol=gu,n.isTypedArray=Ed,n.isUndefined=vu,n.isWeakMap=yu,n.isWeakSet=bu,n.join=xa,n.kebabCase=jd,n.last=_a,n.lastIndexOf=wa,n.lowerCase=Gd,n.lowerFirst=Vd,n.lt=Md,n.lte=Td,n.max=Yc,n.maxBy=Zc,n.mean=Kc,n.meanBy=Qc,n.min=Jc,n.minBy=$c,n.stubArray=zc,n.stubFalse=Hc,n.stubObject=qc,n.stubString=jc,n.stubTrue=Gc,n.multiply=df,n.nth=Ea,n.noConflict=kc,n.noop=Dc,n.now=id,n.pad=cc,n.padEnd=lc,n.padStart=hc,n.parseInt=dc,n.random=rc,n.reduce=gs,n.reduceRight=vs,n.repeat=fc,n.replace=pc,n.result=Wu,n.round=ff,n.runInContext=e,n.sample=bs,n.size=ws,n.snakeCase=Wd,n.some=Es,n.sortedIndex=Ra,n.sortedIndexBy=La,n.sortedIndexOf=Ia,n.sortedLastIndex=Oa,n.sortedLastIndexBy=Na,n.sortedLastIndexOf=ka,n.startCase=Xd,n.startsWith=gc,n.subtract=pf,n.sum=el,n.sumBy=tl,n.template=vc,n.times=Vc,n.toFinite=_u,n.toInteger=wu,n.toLength=Eu,n.toLower=yc,n.toNumber=Mu,n.toSafeInteger=Su,n.toString=Cu,n.toUpper=bc,n.trim=xc,n.trimEnd=_c,n.trimStart=wc,n.truncate=Ec,n.unescape=Mc,n.uniqueId=Xc,n.upperCase=Yd,n.upperFirst=Zd,n.each=hs,n.eachRight=ds,n.first=va,Nc(n,function(){var e={};return fr(n,function(t,r){gl.call(n.prototype,r)||(e[r]=t)}),e}(),{chain:!1}),n.VERSION="4.17.4",c(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){n[e].placeholder=n}),c(["drop","take"],function(e,t){x.prototype[e]=function(n){n=n===ie?1:Vl(wu(n),0);var r=this.__filtered__&&!t?new x(this):this.clone();return r.__filtered__?r.__takeCount__=Wl(n,r.__takeCount__):r.__views__.push({size:Wl(n,De),type:e+(r.__dir__<0?"Right":"")}),r},x.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),c(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==Re||3==n;x.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:wo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),c(["head","last"],function(e,t){var n="take"+(t?"Right":"");x.prototype[e]=function(){return this[n](1).value()[0]}}),c(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");x.prototype[e]=function(){return this.__filtered__?new x(this):this[n](1)}}),x.prototype.compact=function(){return this.filter(Rc)},x.prototype.find=function(e){return this.filter(e).head()},x.prototype.findLast=function(e){return this.reverse().find(e)},x.prototype.invokeMap=ni(function(e,t){return"function"==typeof e?new x(this):this.map(function(n){return Tr(n,e,t)})}),x.prototype.reject=function(e){return this.filter(Is(wo(e)))},x.prototype.slice=function(e,t){e=wu(e);var n=this;return n.__filtered__&&(e>0||t<0)?new x(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==ie&&(t=wu(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},x.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},x.prototype.toArray=function(){return this.take(De)},fr(x.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),o=/^(?:head|last)$/.test(t),a=n[o?"take"+("last"==t?"Right":""):t],s=o||/^find/.test(t);a&&(n.prototype[t]=function(){var t=this.__wrapped__,u=o?[1]:arguments,c=t instanceof x,l=u[0],h=c||gd(t),d=function(e){var t=a.apply(n,g([e],u));return o&&f?t[0]:t};h&&r&&"function"==typeof l&&1!=l.length&&(c=h=!1);var f=this.__chain__,p=!!this.__actions__.length,m=s&&!f,v=c&&!p;if(!s&&h){t=v?t:new x(this);var y=e.apply(t,u);return y.__actions__.push({func:Ja,args:[d],thisArg:ie}),new i(y,f)}return m&&v?e.apply(this,u):(y=this.thru(d),m?o?y.value()[0]:y.value():y)})}),c(["pop","push","shift","sort","splice","unshift"],function(e){var t=hl[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);n.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var n=this.value();return t.apply(gd(n)?n:[],e)}return this[r](function(n){return t.apply(gd(n)?n:[],e)})}}),fr(x.prototype,function(e,t){var r=n[t];if(r){var i=r.name+"";(ih[i]||(ih[i]=[])).push({name:t,func:r})}}),ih[Ji(ie,ve).name]=[{name:"wrapper",func:ie}],x.prototype.clone=P,x.prototype.reverse=Q,x.prototype.value=te,n.prototype.at=Zh,n.prototype.chain=$a,n.prototype.commit=es,n.prototype.next=ts,n.prototype.plant=rs,n.prototype.reverse=is,n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=os,n.prototype.first=n.prototype.head,Il&&(n.prototype[Il]=ns),n}();On._=Zn,(i=function(){return Zn}.call(t,n,t,r))!==ie&&(r.exports=i)}).call(this)}).call(t,n(82),n(83)(e))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r,i=window.THREE||n(85);e.exports=r=function(e,t){function n(e,t){return Array.isArray(e)?-1!==e.indexOf(t):e===t}function r(e){!1!==p.enabled&&(window.removeEventListener("keydown",r),y=v,v===m.NONE&&(n(p.keys[m.ROTATE],e.keyCode)&&!p.noRotate?v=m.ROTATE:n(p.keys[m.ZOOM],e.keyCode)&&!p.noZoom?v=m.ZOOM:n(p.keys[m.PAN],e.keyCode)&&!p.noPan&&(v=m.PAN)))}function o(e){!1!==p.enabled&&(v=y,window.addEventListener("keydown",r,!1))}function a(e){!1!==p.enabled&&(e.preventDefault(),e.stopPropagation(),v===m.NONE&&(v=e.button),v!==m.ROTATE||p.noRotate?v!==m.ZOOM||p.noZoom?v!==m.PAN||p.noPan||(A.copy(O(e.pageX,e.pageY)),P.copy(A)):(M.copy(O(e.pageX,e.pageY)),T.copy(M)):(_.copy(N(e.pageX,e.pageY)),x.copy(_)),document.addEventListener("mousemove",s,!1),document.addEventListener("mouseup",u,!1),p.dispatchEvent(L))}function s(e){!1!==p.enabled&&(e.preventDefault(),e.stopPropagation(),v!==m.ROTATE||p.noRotate?v!==m.ZOOM||p.noZoom?v!==m.PAN||p.noPan||P.copy(O(e.pageX,e.pageY)):T.copy(O(e.pageX,e.pageY)):(x.copy(_),_.copy(N(e.pageX,e.pageY))))}function u(e){!1!==p.enabled&&(e.preventDefault(),e.stopPropagation(),v=m.NONE,document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",u),p.dispatchEvent(I))}function c(e){if(!1!==p.enabled){switch(e.preventDefault(),e.stopPropagation(),e.deltaMode){case 2:M.y-=.025*e.deltaY;break;case 1:M.y-=.01*e.deltaY;break;default:M.y-=25e-5*e.deltaY}p.dispatchEvent(L),p.dispatchEvent(I)}}function l(e){if(!1!==p.enabled){switch(e.touches.length){case 1:v=m.TOUCH_ROTATE,_.copy(N(e.touches[0].pageX,e.touches[0].pageY)),x.copy(_);break;default:v=m.TOUCH_ZOOM_PAN;var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY;C=S=Math.sqrt(t*t+n*n);var r=(e.touches[0].pageX+e.touches[1].pageX)/2,i=(e.touches[0].pageY+e.touches[1].pageY)/2;A.copy(O(r,i)),P.copy(A)}p.dispatchEvent(L)}}function h(e){if(!1!==p.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:x.copy(_),_.copy(N(e.touches[0].pageX,e.touches[0].pageY));break;default:var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY;C=Math.sqrt(t*t+n*n);var r=(e.touches[0].pageX+e.touches[1].pageX)/2,i=(e.touches[0].pageY+e.touches[1].pageY)/2;P.copy(O(r,i))}}function d(e){if(!1!==p.enabled){switch(e.touches.length){case 0:v=m.NONE;break;case 1:v=m.TOUCH_ROTATE,_.copy(N(e.touches[0].pageX,e.touches[0].pageY)),x.copy(_)}p.dispatchEvent(I)}}function f(e){!1!==p.enabled&&e.preventDefault()}var p=this,m={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.keys=[65,83,68],this.target=new i.Vector3;var g=new i.Vector3,v=m.NONE,y=m.NONE,b=new i.Vector3,x=new i.Vector2,_=new i.Vector2,w=new i.Vector3,E=0,M=new i.Vector2,T=new i.Vector2,S=0,C=0,A=new i.Vector2,P=new i.Vector2;this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone();var R={type:"change"},L={type:"start"},I={type:"end"};this.handleResize=function(){if(this.domElement===document)this.screen.left=0,this.screen.top=0,this.screen.width=window.innerWidth,this.screen.height=window.innerHeight;else{var e=this.domElement.getBoundingClientRect(),t=this.domElement.ownerDocument.documentElement;this.screen.left=e.left+window.pageXOffset-t.clientLeft,this.screen.top=e.top+window.pageYOffset-t.clientTop,this.screen.width=e.width,this.screen.height=e.height}},this.handleEvent=function(e){"function"==typeof this[e.type]&&this[e.type](e)};var O=function(){var e=new i.Vector2;return function(t,n){return e.set((t-p.screen.left)/p.screen.width,(n-p.screen.top)/p.screen.height),e}}(),N=function(){var e=new i.Vector2;return function(t,n){return e.set((t-.5*p.screen.width-p.screen.left)/(.5*p.screen.width),(p.screen.height+2*(p.screen.top-n))/p.screen.width),e}}();this.rotateCamera=function(){var e,t=new i.Vector3,n=new i.Quaternion,r=new i.Vector3,o=new i.Vector3,a=new i.Vector3,s=new i.Vector3;return function(){s.set(_.x-x.x,_.y-x.y,0),e=s.length(),e?(b.copy(p.object.position).sub(p.target),r.copy(b).normalize(),o.copy(p.object.up).normalize(),a.crossVectors(o,r).normalize(),o.setLength(_.y-x.y),a.setLength(_.x-x.x),s.copy(o.add(a)),t.crossVectors(s,b).normalize(),e*=p.rotateSpeed,n.setFromAxisAngle(t,e),b.applyQuaternion(n),p.object.up.applyQuaternion(n),w.copy(t),E=e):!p.staticMoving&&E&&(E*=Math.sqrt(1-p.dynamicDampingFactor),b.copy(p.object.position).sub(p.target),n.setFromAxisAngle(w,E),b.applyQuaternion(n),p.object.up.applyQuaternion(n)),x.copy(_)}}(),this.zoomCamera=function(){var e;v===m.TOUCH_ZOOM_PAN?(e=S/C,S=C,b.multiplyScalar(e)):(e=1+(T.y-M.y)*p.zoomSpeed,1!==e&&e>0&&b.multiplyScalar(e),p.staticMoving?M.copy(T):M.y+=(T.y-M.y)*this.dynamicDampingFactor)},this.panCamera=function(){var e=new i.Vector2,t=new i.Vector3,n=new i.Vector3;return function(){e.copy(P).sub(A),e.lengthSq()&&(e.multiplyScalar(b.length()*p.panSpeed),n.copy(b).cross(p.object.up).setLength(e.x),n.add(t.copy(p.object.up).setLength(e.y)),p.object.position.add(n),p.target.add(n),p.staticMoving?A.copy(P):A.add(e.subVectors(P,A).multiplyScalar(p.dynamicDampingFactor)))}}(),this.checkDistances=function(){p.noZoom&&p.noPan||(b.lengthSq()>p.maxDistance*p.maxDistance&&(p.object.position.addVectors(p.target,b.setLength(p.maxDistance)),M.copy(T)),b.lengthSq()<p.minDistance*p.minDistance&&(p.object.position.addVectors(p.target,b.setLength(p.minDistance)),M.copy(T)))},this.update=function(){b.subVectors(p.object.position,p.target),p.noRotate||p.rotateCamera(),p.noZoom||p.zoomCamera(),p.noPan||p.panCamera(),p.object.position.addVectors(p.target,b),p.checkDistances(),p.object.lookAt(p.target),g.distanceToSquared(p.object.position)>1e-6&&(p.dispatchEvent(R),g.copy(p.object.position))},this.reset=function(){v=m.NONE,y=m.NONE,p.target.copy(p.target0),p.object.position.copy(p.position0),p.object.up.copy(p.up0),b.subVectors(p.object.position,p.target),p.object.lookAt(p.target),p.dispatchEvent(R),g.copy(p.object.position)},this.dispose=function(){this.domElement.removeEventListener("contextmenu",f,!1),this.domElement.removeEventListener("mousedown",a,!1),this.domElement.removeEventListener("wheel",c,!1),this.domElement.removeEventListener("touchstart",l,!1),this.domElement.removeEventListener("touchend",d,!1),this.domElement.removeEventListener("touchmove",h,!1),document.removeEventListener("mousemove",s,!1),document.removeEventListener("mouseup",u,!1),window.removeEventListener("keydown",r,!1),window.removeEventListener("keyup",o,!1)},this.domElement.addEventListener("contextmenu",f,!1),this.domElement.addEventListener("mousedown",a,!1),this.domElement.addEventListener("wheel",c,!1),this.domElement.addEventListener("touchstart",l,!1),this.domElement.addEventListener("touchend",d,!1),this.domElement.addEventListener("touchmove",h,!1),window.addEventListener("keydown",r,!1),window.addEventListener("keyup",o,!1),this.handleResize(),this.update()},r.prototype=Object.create(i.EventDispatcher.prototype)},function(e,t,n){"use strict";function r(){}function i(e,t){this.x=e||0,this.y=t||0}function o(e,t,n,r,a,s,u,c,l,h){Object.defineProperty(this,"id",{value:Os++}),this.uuid=Is.generateUUID(),this.name="",this.image=void 0!==e?e:o.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:o.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:Ca,this.wrapT=void 0!==r?r:Ca,this.magFilter=void 0!==a?a:Ia,this.minFilter=void 0!==s?s:Na,this.anisotropy=void 0!==l?l:1,this.format=void 0!==u?u:Za,this.type=void 0!==c?c:ka,this.offset=new i(0,0),this.repeat=new i(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==h?h:ws,this.version=0,this.onUpdate=null}function a(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==r?r:1}function s(e,t,n){this.uuid=Is.generateUUID(),this.width=e,this.height=t,this.scissor=new a(0,0,e,t),this.scissorTest=!1,this.viewport=new a(0,0,e,t),n=n||{},void 0===n.minFilter&&(n.minFilter=Ia),this.texture=new o(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function u(e,t,n){s.call(this,e,t,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function c(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==r?r:1}function l(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function h(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function d(e,t,n,r,i,a,s,u,c,l,h,d){o.call(this,null,a,s,u,c,l,r,i,h,d),this.image={data:e,width:t,height:n},this.magFilter=void 0!==c?c:Pa,this.minFilter=void 0!==l?l:Pa,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function f(e,t,n,r,i,a,s,u,c,l){e=void 0!==e?e:[],t=void 0!==t?t:ba,o.call(this,e,t,n,r,i,a,s,u,c,l),this.flipY=!1}function p(){this.seq=[],this.map={}}function m(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,o=Ds[i];if(void 0===o&&(o=new Float32Array(i),Ds[i]=o),0!==t){r.toArray(o,0);for(var a=1,s=0;a!==t;++a)s+=n,e[a].toArray(o,s)}return o}function g(e,t){var n=Us[t];void 0===n&&(n=new Int32Array(t),Us[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocTextureUnit();return n}function v(e,t){e.uniform1f(this.addr,t)}function y(e,t){e.uniform1i(this.addr,t)}function b(e,t){void 0===t.x?e.uniform2fv(this.addr,t):e.uniform2f(this.addr,t.x,t.y)}function x(e,t){void 0!==t.x?e.uniform3f(this.addr,t.x,t.y,t.z):void 0!==t.r?e.uniform3f(this.addr,t.r,t.g,t.b):e.uniform3fv(this.addr,t)}function _(e,t){void 0===t.x?e.uniform4fv(this.addr,t):e.uniform4f(this.addr,t.x,t.y,t.z,t.w)}function w(e,t){e.uniformMatrix2fv(this.addr,!1,t.elements||t)}function E(e,t){void 0===t.elements?e.uniformMatrix3fv(this.addr,!1,t):(Bs.set(t.elements),e.uniformMatrix3fv(this.addr,!1,Bs))}function M(e,t){void 0===t.elements?e.uniformMatrix4fv(this.addr,!1,t):(Fs.set(t.elements),e.uniformMatrix4fv(this.addr,!1,Fs))}function T(e,t,n){var r=n.allocTextureUnit();e.uniform1i(this.addr,r),n.setTexture2D(t||Ns,r)}function S(e,t,n){var r=n.allocTextureUnit();e.uniform1i(this.addr,r),n.setTextureCube(t||ks,r)}function C(e,t){e.uniform2iv(this.addr,t)}function A(e,t){e.uniform3iv(this.addr,t)}function P(e,t){e.uniform4iv(this.addr,t)}function R(e){switch(e){case 5126:return v;case 35664:return b;case 35665:return x;case 35666:return _;case 35674:return w;case 35675:return E;case 35676:return M;case 35678:case 36198:return T;case 35680:return S;case 5124:case 35670:return y;case 35667:case 35671:return C;case 35668:case 35672:return A;case 35669:case 35673:return P}}function L(e,t){e.uniform1fv(this.addr,t)}function I(e,t){e.uniform1iv(this.addr,t)}function O(e,t){e.uniform2fv(this.addr,m(t,this.size,2))}function N(e,t){e.uniform3fv(this.addr,m(t,this.size,3))}function k(e,t){e.uniform4fv(this.addr,m(t,this.size,4))}function D(e,t){e.uniformMatrix2fv(this.addr,!1,m(t,this.size,4))}function U(e,t){e.uniformMatrix3fv(this.addr,!1,m(t,this.size,9))}function F(e,t){e.uniformMatrix4fv(this.addr,!1,m(t,this.size,16))}function B(e,t,n){var r=t.length,i=g(n,r);e.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTexture2D(t[o]||Ns,i[o])}function z(e,t,n){var r=t.length,i=g(n,r);e.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTextureCube(t[o]||ks,i[o])}function H(e){switch(e){case 5126:return L;case 35664:return O;case 35665:return N;case 35666:return k;case 35674:return D;case 35675:return U;case 35676:return F;case 35678:return B;case 35680:return z;case 5124:case 35670:return I;case 35667:case 35671:return C;case 35668:case 35672:return A;case 35669:case 35673:return P}}function q(e,t,n){this.id=e,this.addr=n,this.setValue=R(t.type)}function j(e,t,n){this.id=e,this.addr=n,this.size=t.size,this.setValue=H(t.type)}function G(e){this.id=e,p.call(this)}function V(e,t){e.seq.push(t),e.map[t.id]=t}function W(e,t,n){var r=e.name,i=r.length;for(zs.lastIndex=0;;){var o=zs.exec(r),a=zs.lastIndex,s=o[1],u="]"===o[2],c=o[3];if(u&&(s|=0),void 0===c||"["===c&&a+2===i){V(n,void 0===c?new q(s,e,t):new j(s,e,t));break}var l=n.map,h=l[s];void 0===h&&(h=new G(s),V(n,h)),n=h}}function X(e,t,n){p.call(this),this.renderer=n;for(var r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<r;++i){var o=e.getActiveUniform(t,i),a=o.name;W(o,e.getUniformLocation(t,a),this)}}function Y(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}function Z(e,t){this.min=void 0!==e?e:new i(1/0,1/0),this.max=void 0!==t?t:new i(-1/0,-1/0)}function K(e,t,n,r,o){function a(){var e=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),r=new Uint16Array([0,1,2,0,2,3]);u=t.createBuffer(),c=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,u),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,c),t.bufferData(t.ELEMENT_ARRAY_BUFFER,r,t.STATIC_DRAW),m=t.createTexture(),g=t.createTexture(),n.bindTexture(t.TEXTURE_2D,m),t.texImage2D(t.TEXTURE_2D,0,t.RGB,16,16,0,t.RGB,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),n.bindTexture(t.TEXTURE_2D,g),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,16,16,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),h={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")},d=s(h),f={vertex:t.getAttribLocation(d,"position"),uv:t.getAttribLocation(d,"uv")},p={renderType:t.getUniformLocation(d,"renderType"),map:t.getUniformLocation(d,"map"),occlusionMap:t.getUniformLocation(d,"occlusionMap"),opacity:t.getUniformLocation(d,"opacity"),color:t.getUniformLocation(d,"color"),scale:t.getUniformLocation(d,"scale"),rotation:t.getUniformLocation(d,"rotation"),screenPosition:t.getUniformLocation(d,"screenPosition")}}function s(e){var n=t.createProgram(),r=t.createShader(t.FRAGMENT_SHADER),i=t.createShader(t.VERTEX_SHADER),a="precision "+o.precision+" float;\n";return t.shaderSource(r,a+e.fragmentShader),t.shaderSource(i,a+e.vertexShader),t.compileShader(r),t.compileShader(i),t.attachShader(n,r),t.attachShader(n,i),t.linkProgram(n),n}var u,c,h,d,f,p,m,g;this.render=function(e,o,s,h){if(0!==e.length){var v=new l,y=h.w/h.z,b=.5*h.z,x=.5*h.w,_=16/h.w,w=new i(_*y,_),E=new l(1,1,0),M=new i(1,1),T=new Z;T.min.set(h.x,h.y),T.max.set(h.x+(h.z-16),h.y+(h.w-16)),void 0===d&&a(),n.useProgram(d),n.initAttributes(),n.enableAttribute(f.vertex),n.enableAttribute(f.uv),n.disableUnusedAttributes(),t.uniform1i(p.occlusionMap,0),t.uniform1i(p.map,1),t.bindBuffer(t.ARRAY_BUFFER,u),t.vertexAttribPointer(f.vertex,2,t.FLOAT,!1,16,0),t.vertexAttribPointer(f.uv,2,t.FLOAT,!1,16,8),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,c),n.disable(t.CULL_FACE),n.buffers.depth.setMask(!1);for(var S=0,C=e.length;S<C;S++){_=16/h.w,w.set(_*y,_);var A=e[S];if(v.set(A.matrixWorld.elements[12],A.matrixWorld.elements[13],A.matrixWorld.elements[14]),v.applyMatrix4(s.matrixWorldInverse),v.applyMatrix4(s.projectionMatrix),E.copy(v),M.x=h.x+E.x*b+b-8,M.y=h.y+E.y*x+x-8,!0===T.containsPoint(M)){n.activeTexture(t.TEXTURE0),n.bindTexture(t.TEXTURE_2D,null),n.activeTexture(t.TEXTURE1),n.bindTexture(t.TEXTURE_2D,m),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGB,M.x,M.y,16,16,0),t.uniform1i(p.renderType,0),t.uniform2f(p.scale,w.x,w.y),t.uniform3f(p.screenPosition,E.x,E.y,E.z),n.disable(t.BLEND),n.enable(t.DEPTH_TEST),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),n.activeTexture(t.TEXTURE0),n.bindTexture(t.TEXTURE_2D,g),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGBA,M.x,M.y,16,16,0),t.uniform1i(p.renderType,1),n.disable(t.DEPTH_TEST),n.activeTexture(t.TEXTURE1),n.bindTexture(t.TEXTURE_2D,m),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),A.positionScreen.copy(E),A.customUpdateCallback?A.customUpdateCallback(A):A.updateLensFlares(),t.uniform1i(p.renderType,2),n.enable(t.BLEND);for(var P=0,R=A.lensFlares.length;P<R;P++){var L=A.lensFlares[P];L.opacity>.001&&L.scale>.001&&(E.x=L.x,E.y=L.y,E.z=L.z,_=L.size*L.scale/h.w,w.x=_*y,w.y=_,t.uniform3f(p.screenPosition,E.x,E.y,E.z),t.uniform2f(p.scale,w.x,w.y),t.uniform1f(p.rotation,L.rotation),t.uniform1f(p.opacity,L.opacity),t.uniform3f(p.color,L.color.r,L.color.g,L.color.b),n.setBlending(L.blending,L.blendEquation,L.blendSrc,L.blendDst),r.setTexture2D(L.texture,1),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0))}}}n.enable(t.CULL_FACE),n.enable(t.DEPTH_TEST),n.buffers.depth.setMask(!0),n.reset()}}}function Q(e,t,n,r,i,a,s,u,c){o.call(this,e,t,n,r,i,a,s,u,c),this.needsUpdate=!0}function J(e,t,n,r,i){function o(){var e=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),n=new Uint16Array([0,1,2,0,2,3]);u=t.createBuffer(),h=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,u),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,h),t.bufferData(t.ELEMENT_ARRAY_BUFFER,n,t.STATIC_DRAW),d=a(),f={position:t.getAttribLocation(d,"position"),uv:t.getAttribLocation(d,"uv")},p={uvOffset:t.getUniformLocation(d,"uvOffset"),uvScale:t.getUniformLocation(d,"uvScale"),rotation:t.getUniformLocation(d,"rotation"),scale:t.getUniformLocation(d,"scale"),color:t.getUniformLocation(d,"color"),map:t.getUniformLocation(d,"map"),opacity:t.getUniformLocation(d,"opacity"),modelViewMatrix:t.getUniformLocation(d,"modelViewMatrix"),projectionMatrix:t.getUniformLocation(d,"projectionMatrix"),fogType:t.getUniformLocation(d,"fogType"),fogDensity:t.getUniformLocation(d,"fogDensity"),fogNear:t.getUniformLocation(d,"fogNear"),fogFar:t.getUniformLocation(d,"fogFar"),fogColor:t.getUniformLocation(d,"fogColor"),alphaTest:t.getUniformLocation(d,"alphaTest")};var r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");r.width=8,r.height=8;var i=r.getContext("2d");i.fillStyle="white",i.fillRect(0,0,8,8),m=new Q(r)}function a(){var e=t.createProgram(),n=t.createShader(t.VERTEX_SHADER),r=t.createShader(t.FRAGMENT_SHADER);return t.shaderSource(n,["precision "+i.precision+" float;","#define SHADER_NAME SpriteMaterial","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\n")),t.shaderSource(r,["precision "+i.precision+" float;","#define SHADER_NAME SpriteMaterial","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")),t.compileShader(n),t.compileShader(r),t.attachShader(e,n),t.attachShader(e,r),t.linkProgram(e),e}function s(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:t.id-e.id}var u,h,d,f,p,m,g=new l,v=new c,y=new l;this.render=function(i,a,c){if(0!==i.length){void 0===d&&o(),n.useProgram(d),n.initAttributes(),n.enableAttribute(f.position),n.enableAttribute(f.uv),n.disableUnusedAttributes(),n.disable(t.CULL_FACE),n.enable(t.BLEND),t.bindBuffer(t.ARRAY_BUFFER,u),t.vertexAttribPointer(f.position,2,t.FLOAT,!1,16,0),t.vertexAttribPointer(f.uv,2,t.FLOAT,!1,16,8),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,h),t.uniformMatrix4fv(p.projectionMatrix,!1,c.projectionMatrix.elements),n.activeTexture(t.TEXTURE0),t.uniform1i(p.map,0);var l=0,b=0,x=a.fog;x?(t.uniform3f(p.fogColor,x.color.r,x.color.g,x.color.b),x.isFog?(t.uniform1f(p.fogNear,x.near),t.uniform1f(p.fogFar,x.far),t.uniform1i(p.fogType,1),l=1,b=1):x.isFogExp2&&(t.uniform1f(p.fogDensity,x.density),t.uniform1i(p.fogType,2),l=2,b=2)):(t.uniform1i(p.fogType,0),l=0,b=0);for(var _=0,w=i.length;_<w;_++){var E=i[_];E.modelViewMatrix.multiplyMatrices(c.matrixWorldInverse,E.matrixWorld),E.z=-E.modelViewMatrix.elements[14]}i.sort(s);for(var M=[],_=0,w=i.length;_<w;_++){var E=i[_],T=E.material;if(!1!==T.visible){E.onBeforeRender(e,a,c,void 0,T,void 0),t.uniform1f(p.alphaTest,T.alphaTest),t.uniformMatrix4fv(p.modelViewMatrix,!1,E.modelViewMatrix.elements),E.matrixWorld.decompose(g,v,y),M[0]=y.x,M[1]=y.y;var S=0;a.fog&&T.fog&&(S=b),l!==S&&(t.uniform1i(p.fogType,S),l=S),null!==T.map?(t.uniform2f(p.uvOffset,T.map.offset.x,T.map.offset.y),t.uniform2f(p.uvScale,T.map.repeat.x,T.map.repeat.y)):(t.uniform2f(p.uvOffset,0,0),t.uniform2f(p.uvScale,1,1)),t.uniform1f(p.opacity,T.opacity),t.uniform3f(p.color,T.color.r,T.color.g,T.color.b),t.uniform1f(p.rotation,T.rotation),t.uniform2fv(p.scale,M),n.setBlending(T.blending,T.blendEquation,T.blendSrc,T.blendDst,T.blendEquationAlpha,T.blendSrcAlpha,T.blendDstAlpha,T.premultipliedAlpha),n.buffers.depth.setTest(T.depthTest),n.buffers.depth.setMask(T.depthWrite),r.setTexture2D(T.map||m,0),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),E.onAfterRender(e,a,c,void 0,T,void 0)}}n.enable(t.CULL_FACE),n.reset()}}}function $(){Object.defineProperty(this,"id",{value:Ws++}),this.uuid=Is.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=ko,this.side=So,this.flatShading=!1,this.vertexColors=Lo,this.opacity=1,this.transparent=!1,this.blendSrc=Zo,this.blendDst=Ko,this.blendEquation=zo,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=oa,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this.userData={},this.needsUpdate=!0}function ee(e){$.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function te(e){$.call(this),this.type="MeshDepthMaterial",this.depthPacking=Rs,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(e)}function ne(e){$.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new l,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(e)}function re(e,t){this.min=void 0!==e?e:new l(1/0,1/0,1/0),this.max=void 0!==t?t:new l(-1/0,-1/0,-1/0)}function ie(e,t){this.center=void 0!==e?e:new l,this.radius=void 0!==t?t:0}function oe(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function ae(e,t){this.normal=void 0!==e?e:new l(1,0,0),this.constant=void 0!==t?t:0}function se(e,t,n,r,i,o){this.planes=[void 0!==e?e:new ae,void 0!==t?t:new ae,void 0!==n?n:new ae,void 0!==r?r:new ae,void 0!==i?i:new ae,void 0!==o?o:new ae]}function ue(e,t,n){function r(t,n,r,i,o,a){var s=t.geometry,u=null,c=b,l=t.customDepthMaterial;if(r&&(c=x,l=t.customDistanceMaterial),l)u=l;else{var h=!1;n.morphTargets&&(s&&s.isBufferGeometry?h=s.morphAttributes&&s.morphAttributes.position&&s.morphAttributes.position.length>0:s&&s.isGeometry&&(h=s.morphTargets&&s.morphTargets.length>0)),t.isSkinnedMesh&&!1===n.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t);var d=t.isSkinnedMesh&&n.skinning,f=0;h&&(f|=g),d&&(f|=v),u=c[f]}if(e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var p=u.uuid,m=n.uuid,y=_[p];void 0===y&&(y={},_[p]=y);var w=y[m];void 0===w&&(w=u.clone(),y[m]=w),u=w}u.visible=n.visible,u.wireframe=n.wireframe;var E=n.side;return R.renderSingleSided&&E==Ao&&(E=So),R.renderReverseSided&&(E===So?E=Co:E===Co&&(E=So)),u.side=E,u.clipShadows=n.clipShadows,u.clippingPlanes=n.clippingPlanes,u.clipIntersection=n.clipIntersection,u.wireframeLinewidth=n.wireframeLinewidth,u.linewidth=n.linewidth,r&&u.isMeshDistanceMaterial&&(u.referencePosition.copy(i),u.nearDistance=o,u.farDistance=a),u}function o(n,i,a,s){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&n.castShadow&&(!n.frustumCulled||u.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var c=t.update(n),l=n.material;if(Array.isArray(l))for(var h=c.groups,d=0,f=h.length;d<f;d++){var p=h[d],g=l[p.materialIndex];if(g&&g.visible){var v=r(n,g,s,m,a.near,a.far);e.renderBufferDirect(a,null,c,v,n,p)}}else if(l.visible){var v=r(n,l,s,m,a.near,a.far);e.renderBufferDirect(a,null,c,v,n,null)}}for(var y=n.children,b=0,x=y.length;b<x;b++)o(y[b],i,a,s)}}for(var u=new se,c=new h,d=new i,f=new i(n,n),p=new l,m=new l,g=1,v=2,y=1+(g|v),b=new Array(y),x=new Array(y),_={},w=[new l(1,0,0),new l(-1,0,0),new l(0,0,1),new l(0,0,-1),new l(0,1,0),new l(0,-1,0)],E=[new l(0,1,0),new l(0,1,0),new l(0,1,0),new l(0,1,0),new l(0,0,1),new l(0,0,-1)],M=[new a,new a,new a,new a,new a,new a],T=0;T!==y;++T){var S=0!=(T&g),C=0!=(T&v),A=new te({depthPacking:Ls,morphTargets:S,skinning:C});b[T]=A;var P=new ne({morphTargets:S,skinning:C});x[T]=P}var R=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Mo,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function(t,n,r){if(!1!==R.enabled&&(!1!==R.autoUpdate||!1!==R.needsUpdate)&&0!==t.length){var i=e.context,a=e.state;a.disable(i.BLEND),a.buffers.color.setClear(1,1,1,1),a.buffers.depth.setTest(!0),a.setScissorTest(!1);for(var l,h=0,g=t.length;h<g;h++){var v=t[h],y=v.shadow,b=v&&v.isPointLight;if(void 0!==y){var x=y.camera;if(d.copy(y.mapSize),d.min(f),b){var _=d.x,T=d.y;M[0].set(2*_,T,_,T),M[1].set(0,T,_,T),M[2].set(3*_,T,_,T),M[3].set(_,T,_,T),M[4].set(3*_,0,_,T),M[5].set(_,0,_,T),d.x*=4,d.y*=2}if(null===y.map){var S={minFilter:Pa,magFilter:Pa,format:Za};y.map=new s(d.x,d.y,S),y.map.texture.name=v.name+".shadowMap",x.updateProjectionMatrix()}y.isSpotLightShadow&&y.update(v);var C=y.map,A=y.matrix;m.setFromMatrixPosition(v.matrixWorld),x.position.copy(m),b?(l=6,A.makeTranslation(-m.x,-m.y,-m.z)):(l=1,p.setFromMatrixPosition(v.target.matrixWorld),x.lookAt(p),x.updateMatrixWorld(),A.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),A.multiply(x.projectionMatrix),A.multiply(x.matrixWorldInverse)),e.setRenderTarget(C),e.clear();for(var P=0;P<l;P++){if(b){p.copy(x.position),p.add(w[P]),x.up.copy(E[P]),x.lookAt(p),x.updateMatrixWorld();var L=M[P];a.viewport(L)}c.multiplyMatrices(x.projectionMatrix,x.matrixWorldInverse),u.setFromMatrix(c),o(n,r,x,b)}}else console.warn("THREE.WebGLShadowMap:",v,"has no shadow.")}R.needsUpdate=!1}}}function ce(e){function t(t,n){var r=t.array,i=t.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW,o=e.createBuffer();e.bindBuffer(n,o),e.bufferData(n,r,i),t.onUploadCallback();var a=e.FLOAT;return r instanceof Float32Array?a=e.FLOAT:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?a=e.UNSIGNED_SHORT:r instanceof Int16Array?a=e.SHORT:r instanceof Uint32Array?a=e.UNSIGNED_INT:r instanceof Int32Array?a=e.INT:r instanceof Int8Array?a=e.BYTE:r instanceof Uint8Array&&(a=e.UNSIGNED_BYTE),{buffer:o,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}function n(t,n,r){var i=n.array,o=n.updateRange;e.bindBuffer(r,t),!1===n.dynamic?e.bufferData(r,i,e.STATIC_DRAW):-1===o.count?e.bufferSubData(r,0,i):0===o.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(e.bufferSubData(r,o.offset*i.BYTES_PER_ELEMENT,i.subarray(o.offset,o.offset+o.count)),o.count=-1)}function r(e){return e.isInterleavedBufferAttribute&&(e=e.data),a[e.uuid]}function i(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=a[t.uuid];n&&(e.deleteBuffer(n.buffer),delete a[t.uuid])}function o(e,r){e.isInterleavedBufferAttribute&&(e=e.data);var i=a[e.uuid];void 0===i?a[e.uuid]=t(e,r):i.version<e.version&&(n(i.buffer,e,r),i.version=e.version)}var a={};return{get:r,remove:i,update:o}}function le(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._order=r||le.DefaultOrder}function he(){this.mask=1}function de(){function e(){i.setFromEuler(r,!1)}function t(){r.setFromQuaternion(i,void 0,!1)}Object.defineProperty(this,"id",{value:Xs++}),this.uuid=Is.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=de.DefaultUp.clone();var n=new l,r=new le,i=new c,o=new l(1,1,1);r.onChange(e),i.onChange(t),Object.defineProperties(this,{position:{enumerable:!0,value:n},rotation:{enumerable:!0,value:r},quaternion:{enumerable:!0,value:i},scale:{enumerable:!0,value:o},modelViewMatrix:{value:new h},normalMatrix:{value:new oe}}),this.matrix=new h,this.matrixWorld=new h,this.matrixAutoUpdate=de.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new he,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function fe(){de.call(this),this.type="Camera",this.matrixWorldInverse=new h,this.projectionMatrix=new h}function pe(e,t,n,r,i,o){fe.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function me(e,t,n,r){fe.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function ge(e,t,n,r,i,o){this.a=e,this.b=t,this.c=n,this.normal=r&&r.isVector3?r:new l,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new Y,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}function ve(){return Ys++}function ye(){Object.defineProperty(this,"id",{value:ve()}),this.uuid=Is.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function be(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=Is.generateUUID(),this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function xe(e,t){be.call(this,new Int8Array(e),t)}function _e(e,t){be.call(this,new Uint8Array(e),t)}function we(e,t){be.call(this,new Uint8ClampedArray(e),t)}function Ee(e,t){be.call(this,new Int16Array(e),t)}function Me(e,t){be.call(this,new Uint16Array(e),t)}function Te(e,t){be.call(this,new Int32Array(e),t)}function Se(e,t){be.call(this,new Uint32Array(e),t)}function Ce(e,t){be.call(this,new Float32Array(e),t)}function Ae(e,t){be.call(this,new Float64Array(e),t)}function Pe(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Re(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}function Le(){Object.defineProperty(this,"id",{value:ve()}),this.uuid=Is.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}function Ie(e,t,n,r,i,o){ye.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new Oe(e,t,n,r,i,o)),this.mergeVertices()}function Oe(e,t,n,r,i,o){function a(e,t,n,r,i,o,a,m,g,v,y){var b,x,_=o/g,w=a/v,E=o/2,M=a/2,T=m/2,S=g+1,C=v+1,A=0,P=0,R=new l;for(x=0;x<C;x++){var L=x*w-M;for(b=0;b<S;b++){var I=b*_-E;R[e]=I*r,R[t]=L*i,R[n]=T,c.push(R.x,R.y,R.z),R[e]=0,R[t]=0,R[n]=m>0?1:-1,h.push(R.x,R.y,R.z),d.push(b/g),d.push(1-x/v),A+=1}}for(x=0;x<v;x++)for(b=0;b<g;b++){var O=f+b+S*x,N=f+b+S*(x+1),k=f+(b+1)+S*(x+1),D=f+(b+1)+S*x;u.push(O,N,D),u.push(N,k,D),P+=6}s.addGroup(p,P,y),p+=P,f+=A}Le.call(this),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};var s=this;r=Math.floor(r)||1,i=Math.floor(i)||1,o=Math.floor(o)||1;var u=[],c=[],h=[],d=[],f=0,p=0;a("z","y","x",-1,-1,n,t,e,o,i,0),a("z","y","x",1,-1,n,t,-e,o,i,1),a("x","z","y",1,1,e,n,t,r,o,2),a("x","z","y",1,-1,e,n,-t,r,o,3),a("x","y","z",1,-1,e,t,n,r,i,4),a("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(u),this.addAttribute("position",new Ce(c,3)),this.addAttribute("normal",new Ce(h,3)),this.addAttribute("uv",new Ce(d,2))}function Ne(e,t,n,r){ye.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new ke(e,t,n,r)),this.mergeVertices()}function ke(e,t,n,r){Le.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};var i,o,a=e/2,s=t/2,u=Math.floor(n)||1,c=Math.floor(r)||1,l=u+1,h=c+1,d=e/u,f=t/c,p=[],m=[],g=[],v=[];for(o=0;o<h;o++){var y=o*f-s;for(i=0;i<l;i++){var b=i*d-a;m.push(b,-y,0),g.push(0,0,1),v.push(i/u),v.push(1-o/c)}}for(o=0;o<c;o++)for(i=0;i<u;i++){var x=i+l*o,_=i+l*(o+1),w=i+1+l*(o+1),E=i+1+l*o;p.push(x,_,E),p.push(_,w,E)}this.setIndex(p),this.addAttribute("position",new Ce(m,3)),this.addAttribute("normal",new Ce(g,3)),this.addAttribute("uv",new Ce(v,2))}function De(e){$.call(this),this.type="MeshBasicMaterial",this.color=new Y(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=la,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function Ue(e,t){this.origin=void 0!==e?e:new l,this.direction=void 0!==t?t:new l}function Fe(e,t){this.start=void 0!==e?e:new l,this.end=void 0!==t?t:new l}function Be(e,t,n){this.a=void 0!==e?e:new l,this.b=void 0!==t?t:new l,this.c=void 0!==n?n:new l}function ze(e,t){de.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new Le,this.material=void 0!==t?t:new De({color:16777215*Math.random()}),this.drawMode=bs,this.updateMorphTargets()}function He(e,t,n,r){function i(t,r,i,h){var d=r.background;null===d?o(c,l):d&&d.isColor&&(o(d,1),h=!0),(e.autoClear||h)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),d&&d.isCubeTexture?(void 0===u&&(u=new ze(new Oe(1,1,1),new ee({uniforms:Vs.cube.uniforms,vertexShader:Vs.cube.vertexShader,fragmentShader:Vs.cube.fragmentShader,side:Co,depthTest:!0,depthWrite:!1,polygonOffset:!0,fog:!1})),u.geometry.removeAttribute("normal"),u.geometry.removeAttribute("uv"),u.onBeforeRender=function(e,t,n){var r=n.far;this.matrixWorld.makeScale(r,r,r),this.matrixWorld.copyPosition(n.matrixWorld),this.material.polygonOffsetUnits=10*r},n.update(u.geometry)),u.material.uniforms.tCube.value=d,t.push(u,u.geometry,u.material,0,null)):d&&d.isTexture&&(void 0===a&&(a=new pe(-1,1,1,-1,0,1),s=new ze(new ke(2,2),new De({depthTest:!1,depthWrite:!1,fog:!1})),n.update(s.geometry)),s.material.map=d,e.renderBufferDirect(a,null,s.geometry,s.material,s,null))}function o(e,n){t.buffers.color.setClear(e.r,e.g,e.b,n,r)}var a,s,u,c=new Y(0),l=0;return{getClearColor:function(){return c},setClearColor:function(e,t){c.set(e),l=void 0!==t?t:1,o(c,l)},getClearAlpha:function(){return l},setClearAlpha:function(e){l=e,o(c,l)},render:i}}function qe(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program&&t.program&&e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function je(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Ge(){function e(){i=0,o.length=0,a.length=0}function t(e,t,n,s,u){var c=r[i];void 0===c?(c={id:e.id,object:e,geometry:t,material:n,program:n.program,renderOrder:e.renderOrder,z:s,group:u},r[i]=c):(c.id=e.id,c.object=e,c.geometry=t,c.material=n,c.program=n.program,c.renderOrder=e.renderOrder,c.z=s,c.group=u),(!0===n.transparent?a:o).push(c),i++}function n(){o.length>1&&o.sort(qe),a.length>1&&a.sort(je)}var r=[],i=0,o=[],a=[];return{opaque:o,transparent:a,init:e,push:t,sort:n}}function Ve(){function e(e,t){var r=e.id+","+t.id,i=n[r];return void 0===i&&(i=new Ge,n[r]=i),i}function t(){n={}}var n={};return{get:e,dispose:t}}function We(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Xe(e){function t(t,i,o,a){var s=t.morphTargetInfluences,u=s.length,c=n[i.id];if(void 0===c){c=[];for(var l=0;l<u;l++)c[l]=[l,0];n[i.id]=c}for(var h=o.morphTargets&&i.morphAttributes.position,d=o.morphNormals&&i.morphAttributes.normal,l=0;l<u;l++){var f=c[l];0!==f[1]&&(h&&i.removeAttribute("morphTarget"+l),d&&i.removeAttribute("morphNormal"+l))}for(var l=0;l<u;l++){var f=c[l];f[0]=l,f[1]=s[l]}c.sort(We);for(var l=0;l<8;l++){var f=c[l];if(f){var p=f[0],m=f[1];if(m){h&&i.addAttribute("morphTarget"+l,h[p]),d&&i.addAttribute("morphNormal"+l,d[p]),r[l]=m;continue}}r[l]=0}a.getUniforms().setValue(e,"morphTargetInfluences",r)}var n={},r=new Float32Array(8);return{update:t}}function Ye(e,t,n){function r(e){s=e}function i(e){u=e.type,c=e.bytesPerElement}function o(t,r){e.drawElements(s,r,u,t*c),n.calls++,n.vertices+=r,s===e.TRIANGLES?n.faces+=r/3:s===e.POINTS&&(n.points+=r)}function a(r,i,o){var a=t.get("ANGLE_instanced_arrays");if(null===a)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");a.drawElementsInstancedANGLE(s,o,u,i*c,r.maxInstancedCount),n.calls++,n.vertices+=o*r.maxInstancedCount,s===e.TRIANGLES?n.faces+=r.maxInstancedCount*o/3:s===e.POINTS&&(n.points+=r.maxInstancedCount*o)}var s,u,c;this.setMode=r,this.setIndex=i,this.render=o,this.renderInstances=a}function Ze(e,t,n){function r(e){a=e}function i(t,r){e.drawArrays(a,t,r),n.calls++,n.vertices+=r,a===e.TRIANGLES?n.faces+=r/3:a===e.POINTS&&(n.points+=r)}function o(r,i,o){var s=t.get("ANGLE_instanced_arrays");if(null===s)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");var u=r.attributes.position;u.isInterleavedBufferAttribute?(o=u.data.count,s.drawArraysInstancedANGLE(a,0,o,r.maxInstancedCount)):s.drawArraysInstancedANGLE(a,i,o,r.maxInstancedCount),n.calls++,n.vertices+=o*r.maxInstancedCount,a===e.TRIANGLES?n.faces+=r.maxInstancedCount*o/3:a===e.POINTS&&(n.points+=r.maxInstancedCount*o)}var a;this.setMode=r,this.render=i,this.renderInstances=o}function Ke(e,t,n){function r(e){var i=e.target,o=s[i.id];null!==o.index&&t.remove(o.index);for(var a in o.attributes)t.remove(o.attributes[a]);i.removeEventListener("dispose",r),delete s[i.id];var c=u[i.id];c&&(t.remove(c),delete u[i.id]),c=u[o.id],c&&(t.remove(c),delete u[o.id]),n.geometries--}function i(e,t){var i=s[t.id];return i||(t.addEventListener("dispose",r),t.isBufferGeometry?i=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new Le).setFromObject(e)),i=t._bufferGeometry),s[t.id]=i,n.geometries++,i)}function o(n){var r=n.index,i=n.attributes;null!==r&&t.update(r,e.ELEMENT_ARRAY_BUFFER);for(var o in i)t.update(i[o],e.ARRAY_BUFFER);var a=n.morphAttributes;for(var o in a)for(var s=a[o],u=0,c=s.length;u<c;u++)t.update(s[u],e.ARRAY_BUFFER)}function a(n){var r=u[n.id];if(r)return r;var i=[],o=n.index,a=n.attributes;if(null!==o)for(var s=o.array,c=0,l=s.length;c<l;c+=3){var h=s[c+0],d=s[c+1],f=s[c+2];i.push(h,d,d,f,f,h)}else for(var s=a.position.array,c=0,l=s.length/3-1;c<l;c+=3){var h=c+0,d=c+1,f=c+2;i.push(h,d,d,f,f,h)}return r=new(Re(i)>65535?Se:Me)(i,1),t.update(r,e.ELEMENT_ARRAY_BUFFER),u[n.id]=r,r}var s={},u={};return{get:i,update:o,getWireframeAttribute:a}}function Qe(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new l,color:new Y,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i};break;case"SpotLight":n={position:new l,direction:new l,color:new Y,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i};break;case"PointLight":n={position:new l,color:new Y,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new l,skyColor:new Y,groundColor:new Y};break;case"RectAreaLight":n={color:new Y,position:new l,halfWidth:new l,halfHeight:new l}}return e[t.id]=n,n}}}function Je(){function e(e,a,s){for(var u=0,c=0,l=0,h=0,d=0,f=0,p=0,m=0,g=s.matrixWorldInverse,v=0,y=e.length;v<y;v++){var b=e[v],x=b.color,_=b.intensity,w=b.distance,E=b.shadow&&b.shadow.map?b.shadow.map.texture:null;if(b.isAmbientLight)u+=x.r*_,c+=x.g*_,l+=x.b*_;else if(b.isDirectionalLight){var M=t.get(b);if(M.color.copy(b.color).multiplyScalar(b.intensity),M.direction.setFromMatrixPosition(b.matrixWorld),r.setFromMatrixPosition(b.target.matrixWorld),M.direction.sub(r),M.direction.transformDirection(g),M.shadow=b.castShadow,b.castShadow){var T=b.shadow;M.shadowBias=T.bias,M.shadowRadius=T.radius,M.shadowMapSize=T.mapSize}n.directionalShadowMap[h]=E,n.directionalShadowMatrix[h]=b.shadow.matrix,n.directional[h]=M,h++}else if(b.isSpotLight){var M=t.get(b);if(M.position.setFromMatrixPosition(b.matrixWorld),M.position.applyMatrix4(g),M.color.copy(x).multiplyScalar(_),M.distance=w,M.direction.setFromMatrixPosition(b.matrixWorld),r.setFromMatrixPosition(b.target.matrixWorld),M.direction.sub(r),M.direction.transformDirection(g),M.coneCos=Math.cos(b.angle),M.penumbraCos=Math.cos(b.angle*(1-b.penumbra)),M.decay=0===b.distance?0:b.decay,M.shadow=b.castShadow,b.castShadow){var T=b.shadow;M.shadowBias=T.bias,M.shadowRadius=T.radius,M.shadowMapSize=T.mapSize}n.spotShadowMap[f]=E,n.spotShadowMatrix[f]=b.shadow.matrix,n.spot[f]=M,f++}else if(b.isRectAreaLight){var M=t.get(b);M.color.copy(x).multiplyScalar(_/(b.width*b.height)),M.position.setFromMatrixPosition(b.matrixWorld),M.position.applyMatrix4(g),o.identity(),i.copy(b.matrixWorld),i.premultiply(g),o.extractRotation(i),M.halfWidth.set(.5*b.width,0,0),M.halfHeight.set(0,.5*b.height,0),M.halfWidth.applyMatrix4(o),M.halfHeight.applyMatrix4(o),n.rectArea[p]=M,p++}else if(b.isPointLight){var M=t.get(b);if(M.position.setFromMatrixPosition(b.matrixWorld),M.position.applyMatrix4(g),M.color.copy(b.color).multiplyScalar(b.intensity),M.distance=b.distance,M.decay=0===b.distance?0:b.decay,M.shadow=b.castShadow,b.castShadow){var T=b.shadow;M.shadowBias=T.bias,M.shadowRadius=T.radius,M.shadowMapSize=T.mapSize,M.shadowCameraNear=T.camera.near,M.shadowCameraFar=T.camera.far}n.pointShadowMap[d]=E,n.pointShadowMatrix[d]=b.shadow.matrix,n.point[d]=M,d++}else if(b.isHemisphereLight){var M=t.get(b);M.direction.setFromMatrixPosition(b.matrixWorld),M.direction.transformDirection(g),M.direction.normalize(),M.skyColor.copy(b.color).multiplyScalar(_),M.groundColor.copy(b.groundColor).multiplyScalar(_),n.hemi[m]=M,m++}}n.ambient[0]=u,n.ambient[1]=c,n.ambient[2]=l,n.directional.length=h,n.spot.length=f,n.rectArea.length=p,n.point.length=d,n.hemi.length=m,n.hash=h+","+d+","+f+","+p+","+m+","+a.length}var t=new Qe,n={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},r=new l,i=new h,o=new h;return{setup:e,state:n}}function $e(e,t){function n(n){var r=t.frame,o=n.geometry,a=e.get(n,o);return i[a.id]!==r&&(o.isGeometry&&a.updateFromObject(n),e.update(a),i[a.id]=r),a}function r(){i={}}var i={};return{update:n,clear:r}}function et(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}function tt(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),!1===e.getShaderParameter(r,e.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==e.getShaderInfoLog(r)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",t===e.VERTEX_SHADER?"vertex":"fragment",e.getShaderInfoLog(r),et(n)),r}function nt(e){switch(e){case ws:return["Linear","( value )"];case Es:return["sRGB","( value )"];case Ts:return["RGBE","( value )"];case Cs:return["RGBM","( value, 7.0 )"];case As:return["RGBM","( value, 16.0 )"];case Ps:return["RGBD","( value, 256.0 )"];case Ms:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+e)}}function rt(e,t){var n=nt(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function it(e,t){var n=nt(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function ot(e,t){var n;switch(t){case pa:n="Linear";break;case ma:n="Reinhard";break;case ga:n="Uncharted2";break;case va:n="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function at(e,t,n){return e=e||{},[e.derivatives||t.envMapCubeUV||t.bumpMap||t.normalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ct).join("\n")}function st(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}function ut(e,t,n){for(var r={},i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),o=0;o<i;o++){var a=e.getActiveAttrib(t,o),s=a.name;r[s]=e.getAttribLocation(t,s)}return r}function ct(e){return""!==e}function lt(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function ht(e){function t(e,t){var n=Gs[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return ht(n)}var n=/^[ \t]*#include +<([\w\d.]+)>/gm;return e.replace(n,t)}function dt(e){function t(e,t,n,r){for(var i="",o=parseInt(t);o<parseInt(n);o++)i+=r.replace(/\[ i \]/g,"[ "+o+" ]");return i}var n=/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;return e.replace(n,t)}function ft(e,t,n,r,i,o){var a=e.context,s=r.defines,u=i.vertexShader,c=i.fragmentShader,l="SHADOWMAP_TYPE_BASIC";o.shadowMapType===Mo?l="SHADOWMAP_TYPE_PCF":o.shadowMapType===To&&(l="SHADOWMAP_TYPE_PCF_SOFT");var h="ENVMAP_TYPE_CUBE",d="ENVMAP_MODE_REFLECTION",f="ENVMAP_BLENDING_MULTIPLY";if(o.envMap){switch(r.envMap.mapping){case ba:case xa:h="ENVMAP_TYPE_CUBE";break;case Ma:case Ta:h="ENVMAP_TYPE_CUBE_UV";break;case _a:case wa:h="ENVMAP_TYPE_EQUIREC";break;case Ea:h="ENVMAP_TYPE_SPHERE"}switch(r.envMap.mapping){case xa:case wa:d="ENVMAP_MODE_REFRACTION"}switch(r.combine){case la:f="ENVMAP_BLENDING_MULTIPLY";break;case ha:f="ENVMAP_BLENDING_MIX";break;case da:f="ENVMAP_BLENDING_ADD"}}var p,m,g=e.gammaFactor>0?e.gammaFactor:1,v=at(r.extensions,o,t),y=st(s),b=a.createProgram();r.isRawShaderMaterial?(p=[y,"\n"].filter(ct).join("\n"),m=[v,y,"\n"].filter(ct).join("\n")):(p=["precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+i.name,y,o.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+g,"#define MAX_BONES "+o.maxBones,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+d:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.displacementMap&&o.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.flatShading?"#define FLAT_SHADED":"",o.skinning?"#define USE_SKINNING":"",o.useVertexTexture?"#define BONE_TEXTURE":"",o.morphTargets?"#define USE_MORPHTARGETS":"",o.morphNormals&&!1===o.flatShading?"#define USE_MORPHNORMALS":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+o.numClippingPlanes,o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+l:"",o.sizeAttenuation?"#define USE_SIZEATTENUATION":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&t.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(ct).join("\n"),m=[v,"precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+i.name,y,o.alphaTest?"#define ALPHATEST "+o.alphaTest:"","#define GAMMA_FACTOR "+g,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+h:"",o.envMap?"#define "+d:"",o.envMap?"#define "+f:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.gradientMap?"#define USE_GRADIENTMAP":"",o.flatShading?"#define FLAT_SHADED":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+o.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(o.numClippingPlanes-o.numClipIntersection),o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+l:"",o.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",o.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&t.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",o.envMap&&t.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",o.toneMapping!==fa?"#define TONE_MAPPING":"",o.toneMapping!==fa?Gs.tonemapping_pars_fragment:"",o.toneMapping!==fa?ot("toneMapping",o.toneMapping):"",o.dithering?"#define DITHERING":"",o.outputEncoding||o.mapEncoding||o.envMapEncoding||o.emissiveMapEncoding?Gs.encodings_pars_fragment:"",o.mapEncoding?rt("mapTexelToLinear",o.mapEncoding):"",o.envMapEncoding?rt("envMapTexelToLinear",o.envMapEncoding):"",o.emissiveMapEncoding?rt("emissiveMapTexelToLinear",o.emissiveMapEncoding):"",o.outputEncoding?it("linearToOutputTexel",o.outputEncoding):"",o.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(ct).join("\n")),u=ht(u),u=lt(u,o),c=ht(c),c=lt(c,o),r.isShaderMaterial||(u=dt(u),c=dt(c));var x=p+u,_=m+c,w=tt(a,a.VERTEX_SHADER,x),E=tt(a,a.FRAGMENT_SHADER,_);a.attachShader(b,w),a.attachShader(b,E),void 0!==r.index0AttributeName?a.bindAttribLocation(b,0,r.index0AttributeName):!0===o.morphTargets&&a.bindAttribLocation(b,0,"position"),a.linkProgram(b);var M=a.getProgramInfoLog(b),T=a.getShaderInfoLog(w),S=a.getShaderInfoLog(E),C=!0,A=!0;!1===a.getProgramParameter(b,a.LINK_STATUS)?(C=!1,console.error("THREE.WebGLProgram: shader error: ",a.getError(),"gl.VALIDATE_STATUS",a.getProgramParameter(b,a.VALIDATE_STATUS),"gl.getProgramInfoLog",M,T,S)):""!==M?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",M):""!==T&&""!==S||(A=!1),A&&(this.diagnostics={runnable:C,material:r,programLog:M,vertexShader:{log:T,prefix:p},fragmentShader:{log:S,prefix:m}}),a.deleteShader(w),a.deleteShader(E);var P;this.getUniforms=function(){return void 0===P&&(P=new X(a,b,e)),P};var R;return this.getAttributes=function(){return void 0===R&&(R=ut(a,b)),R},this.destroy=function(){a.deleteProgram(b),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=Zs++,this.code=n,this.usedTimes=1,this.program=b,this.vertexShader=w,this.fragmentShader=E,this}function pt(e,t,n){function r(e){var t=e.skeleton,r=t.bones;if(n.floatVertexTextures)return 1024;var i=n.maxVertexUniforms,o=Math.floor((i-20)/4),a=Math.min(o,r.length);return a<r.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+r.length+" bones. This GPU supports "+a+"."),0):a}function i(e,t){var n;return e?e.isTexture?n=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=e.texture.encoding):n=ws,n===ws&&t&&(n=Ms),n}var o=[],a={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow"},s=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];this.getParameters=function(t,o,s,u,c,l,h){var d=a[t.type],f=h.isSkinnedMesh?r(h):0,p=n.precision;null!==t.precision&&(p=n.getMaxPrecision(t.precision))!==t.precision&&console.warn("THREE.WebGLProgram.getParameters:",t.precision,"not supported, using",p,"instead.");var m=e.getRenderTarget();return{shaderID:d,precision:p,supportsVertexTextures:n.vertexTextures,outputEncoding:i(m?m.texture:null,e.gammaOutput),map:!!t.map,mapEncoding:i(t.map,e.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:i(t.envMap,e.gammaInput),envMapCubeUV:!!t.envMap&&(t.envMap.mapping===Ma||t.envMap.mapping===Ta),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:i(t.emissiveMap,e.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,combine:t.combine,vertexColors:t.vertexColors,fog:!!u,useFog:t.fog,fogExp:u&&u.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:t.skinning&&f>0,maxBones:f,useVertexTexture:n.floatVertexTextures,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numClippingPlanes:c,numClipIntersection:l,dithering:t.dithering,shadowMapEnabled:e.shadowMap.enabled&&h.receiveShadow&&s.length>0,shadowMapType:e.shadowMap.type,toneMapping:e.toneMapping,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:t.side===Ao,flipSided:t.side===Co,depthPacking:void 0!==t.depthPacking&&t.depthPacking}},this.getProgramCode=function(t,n){var r=[];if(n.shaderID?r.push(n.shaderID):(r.push(t.fragmentShader),r.push(t.vertexShader)),void 0!==t.defines)for(var i in t.defines)r.push(i),r.push(t.defines[i]);for(var o=0;o<s.length;o++)r.push(n[s[o]]);return r.push(t.onBeforeCompile.toString()),r.push(e.gammaOutput),r.join()},this.acquireProgram=function(n,r,i,a){for(var s,u=0,c=o.length;u<c;u++){var l=o[u];if(l.code===a){s=l,++s.usedTimes;break}}return void 0===s&&(s=new ft(e,t,a,n,r,i),o.push(s)),s},this.releaseProgram=function(e){if(0==--e.usedTimes){var t=o.indexOf(e);o[t]=o[o.length-1],o.pop(),e.destroy()}},this.programs=o}function mt(e,t,n,r,i,o,a){function s(e,t){if(e.width>t||e.height>t){var n=t/Math.max(e.width,e.height),r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");r.width=Math.floor(e.width*n),r.height=Math.floor(e.height*n);return r.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,r.width,r.height),console.warn("THREE.WebGLRenderer: image is too big ("+e.width+"x"+e.height+"). Resized to "+r.width+"x"+r.height,e),r}return e}function u(e){return Is.isPowerOfTwo(e.width)&&Is.isPowerOfTwo(e.height)}function c(e){if(e instanceof HTMLImageElement||e instanceof HTMLCanvasElement){var t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");t.width=Is.nearestPowerOfTwo(e.width),t.height=Is.nearestPowerOfTwo(e.height);return t.getContext("2d").drawImage(e,0,0,t.width,t.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+e.width+"x"+e.height+"). Resized to "+t.width+"x"+t.height,e),t}return e}function l(e){return e.wrapS!==Ca||e.wrapT!==Ca||e.minFilter!==Pa&&e.minFilter!==Ia}function h(e,t){return e.generateMipmaps&&t&&e.minFilter!==Pa&&e.minFilter!==Ia}function d(t){return t===Pa||t===Ra||t===La?e.NEAREST:e.LINEAR}function f(e){var t=e.target;t.removeEventListener("dispose",f),m(t),a.textures--}function p(e){var t=e.target;t.removeEventListener("dispose",p),g(t),a.textures--}function m(t){var n=r.get(t);if(t.image&&n.__image__webglTextureCube)e.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture)}r.remove(t)}function g(t){var n=r.get(t),i=r.get(t.texture);if(t){if(void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLRenderTargetCube)for(var o=0;o<6;o++)e.deleteFramebuffer(n.__webglFramebuffer[o]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[o]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer);r.remove(t.texture),r.remove(t)}}function v(t,i){var o=r.get(t);if(t.version>0&&o.__version!==t.version){var a=t.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",t);else{if(!1!==a.complete)return void _(o,t,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",t)}}n.activeTexture(e.TEXTURE0+i),n.bindTexture(e.TEXTURE_2D,o.__webglTexture)}function y(t,c){var l=r.get(t);if(6===t.image.length)if(t.version>0&&l.__version!==t.version){l.__image__webglTextureCube||(t.addEventListener("dispose",f),l.__image__webglTextureCube=e.createTexture(),a.textures++),n.activeTexture(e.TEXTURE0+c),n.bindTexture(e.TEXTURE_CUBE_MAP,l.__image__webglTextureCube),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.flipY);for(var d=t&&t.isCompressedTexture,p=t.image[0]&&t.image[0].isDataTexture,m=[],g=0;g<6;g++)m[g]=d||p?p?t.image[g].image:t.image[g]:s(t.image[g],i.maxCubemapSize);var v=m[0],y=u(v),b=o.convert(t.format),_=o.convert(t.type);x(e.TEXTURE_CUBE_MAP,t,y);for(var g=0;g<6;g++)if(d)for(var w,E=m[g].mipmaps,M=0,T=E.length;M<T;M++)w=E[M],t.format!==Za&&t.format!==Ya?n.getCompressedTextureFormats().indexOf(b)>-1?n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+g,M,b,w.width,w.height,0,w.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+g,M,b,w.width,w.height,0,b,_,w.data);else p?n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+g,0,b,m[g].width,m[g].height,0,b,_,m[g].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+g,0,b,b,_,m[g]);h(t,y)&&e.generateMipmap(e.TEXTURE_CUBE_MAP),l.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(e.TEXTURE0+c),n.bindTexture(e.TEXTURE_CUBE_MAP,l.__image__webglTextureCube)}function b(t,i){n.activeTexture(e.TEXTURE0+i),n.bindTexture(e.TEXTURE_CUBE_MAP,r.get(t).__webglTexture)}function x(n,a,s){var u;if(s?(e.texParameteri(n,e.TEXTURE_WRAP_S,o.convert(a.wrapS)),e.texParameteri(n,e.TEXTURE_WRAP_T,o.convert(a.wrapT)),e.texParameteri(n,e.TEXTURE_MAG_FILTER,o.convert(a.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,o.convert(a.minFilter))):(e.texParameteri(n,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(n,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),a.wrapS===Ca&&a.wrapT===Ca||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",a),e.texParameteri(n,e.TEXTURE_MAG_FILTER,d(a.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,d(a.minFilter)),a.minFilter!==Pa&&a.minFilter!==Ia&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",a)),u=t.get("EXT_texture_filter_anisotropic")){if(a.type===Ha&&null===t.get("OES_texture_float_linear"))return;if(a.type===qa&&null===t.get("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,u.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function _(t,r,d){void 0===t.__webglInit&&(t.__webglInit=!0,r.addEventListener("dispose",f),t.__webglTexture=e.createTexture(),a.textures++),n.activeTexture(e.TEXTURE0+d),n.bindTexture(e.TEXTURE_2D,t.__webglTexture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,r.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,r.unpackAlignment);var p=s(r.image,i.maxTextureSize);l(r)&&!1===u(p)&&(p=c(p));var m=u(p),g=o.convert(r.format),v=o.convert(r.type);x(e.TEXTURE_2D,r,m);var y,b=r.mipmaps;if(r.isDepthTexture){var _=e.DEPTH_COMPONENT;if(r.type===Ha){if(!A)throw new Error("Float Depth Texture only supported in WebGL2.0");_=e.DEPTH_COMPONENT32F}else A&&(_=e.DEPTH_COMPONENT16);r.format===$a&&_===e.DEPTH_COMPONENT&&r.type!==Fa&&r.type!==za&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=Fa,v=o.convert(r.type)),r.format===es&&(_=e.DEPTH_STENCIL,r.type!==Wa&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=Wa,v=o.convert(r.type))),n.texImage2D(e.TEXTURE_2D,0,_,p.width,p.height,0,g,v,null)}else if(r.isDataTexture)if(b.length>0&&m){for(var w=0,E=b.length;w<E;w++)y=b[w],n.texImage2D(e.TEXTURE_2D,w,g,y.width,y.height,0,g,v,y.data);r.generateMipmaps=!1}else n.texImage2D(e.TEXTURE_2D,0,g,p.width,p.height,0,g,v,p.data);else if(r.isCompressedTexture)for(var w=0,E=b.length;w<E;w++)y=b[w],r.format!==Za&&r.format!==Ya?n.getCompressedTextureFormats().indexOf(g)>-1?n.compressedTexImage2D(e.TEXTURE_2D,w,g,y.width,y.height,0,y.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(e.TEXTURE_2D,w,g,y.width,y.height,0,g,v,y.data);else if(b.length>0&&m){for(var w=0,E=b.length;w<E;w++)y=b[w],n.texImage2D(e.TEXTURE_2D,w,g,g,v,y);r.generateMipmaps=!1}else n.texImage2D(e.TEXTURE_2D,0,g,g,v,p);h(r,m)&&e.generateMipmap(e.TEXTURE_2D),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function w(t,i,a,s){var u=o.convert(i.texture.format),c=o.convert(i.texture.type);n.texImage2D(s,0,u,i.width,i.height,0,u,c,null),e.bindFramebuffer(e.FRAMEBUFFER,t),e.framebufferTexture2D(e.FRAMEBUFFER,a,s,r.get(i.texture).__webglTexture,0),e.bindFramebuffer(e.FRAMEBUFFER,null)}function E(t,n){e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer&&!n.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)):n.depthBuffer&&n.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)):e.renderbufferStorage(e.RENDERBUFFER,e.RGBA4,n.width,n.height),e.bindRenderbuffer(e.RENDERBUFFER,null)}function M(t,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(e.FRAMEBUFFER,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),v(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===$a)e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,i,0);else{if(n.depthTexture.format!==es)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,i,0)}}function T(t){var n=r.get(t),i=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");M(n.__webglFramebuffer,t)}else if(i){n.__webglDepthbuffer=[];for(var o=0;o<6;o++)e.bindFramebuffer(e.FRAMEBUFFER,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=e.createRenderbuffer(),E(n.__webglDepthbuffer[o],t)}else e.bindFramebuffer(e.FRAMEBUFFER,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),E(n.__webglDepthbuffer,t);e.bindFramebuffer(e.FRAMEBUFFER,null)}function S(t){var i=r.get(t),o=r.get(t.texture);t.addEventListener("dispose",p),o.__webglTexture=e.createTexture(),a.textures++;var s=!0===t.isWebGLRenderTargetCube,c=u(t);if(s){i.__webglFramebuffer=[];for(var l=0;l<6;l++)i.__webglFramebuffer[l]=e.createFramebuffer()}else i.__webglFramebuffer=e.createFramebuffer();if(s){n.bindTexture(e.TEXTURE_CUBE_MAP,o.__webglTexture),x(e.TEXTURE_CUBE_MAP,t.texture,c);for(var l=0;l<6;l++)w(i.__webglFramebuffer[l],t,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+l);h(t.texture,c)&&e.generateMipmap(e.TEXTURE_CUBE_MAP),n.bindTexture(e.TEXTURE_CUBE_MAP,null)}else n.bindTexture(e.TEXTURE_2D,o.__webglTexture),x(e.TEXTURE_2D,t.texture,c),w(i.__webglFramebuffer,t,e.COLOR_ATTACHMENT0,e.TEXTURE_2D),h(t.texture,c)&&e.generateMipmap(e.TEXTURE_2D),n.bindTexture(e.TEXTURE_2D,null);t.depthBuffer&&T(t)}function C(t){var i=t.texture;if(h(i,u(t))){var o=t.isWebGLRenderTargetCube?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,a=r.get(i).__webglTexture;n.bindTexture(o,a),e.generateMipmap(o),n.bindTexture(o,null)}}var A="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext;this.setTexture2D=v,this.setTextureCube=y,this.setTextureCubeDynamic=b,this.setupRenderTarget=S,this.updateRenderTargetMipmap=C}function gt(){function e(e){var t=e.uuid,n=r[t];return void 0===n&&(n={},r[t]=n),n}function t(e){delete r[e.uuid]}function n(){r={}}var r={};return{get:e,remove:t,clear:n}}function vt(e,t,n){function r(){var t=!1,n=new a,r=null,i=new a(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,o,a,s){!0===s&&(t*=a,r*=a,o*=a),n.set(t,r,o,a),!1===i.equals(n)&&(e.clearColor(t,r,o,a),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}}function i(){var t=!1,n=null,r=null,i=null;return{setTest:function(t){t?d(e.DEPTH_TEST):f(e.DEPTH_TEST)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case na:e.depthFunc(e.NEVER);break;case ra:e.depthFunc(e.ALWAYS);break;case ia:e.depthFunc(e.LESS);break;case oa:e.depthFunc(e.LEQUAL);break;case aa:e.depthFunc(e.EQUAL);break;case sa:e.depthFunc(e.GEQUAL);break;case ua:e.depthFunc(e.GREATER);break;case ca:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}else e.depthFunc(e.LEQUAL);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}}function o(){var t=!1,n=null,r=null,i=null,o=null,a=null,s=null,u=null,c=null;return{setTest:function(t){t?d(e.STENCIL_TEST):f(e.STENCIL_TEST)},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,a){r===t&&i===n&&o===a||(e.stencilFunc(t,n,a),r=t,i=n,o=a)},setOp:function(t,n,r){a===t&&s===n&&u===r||(e.stencilOp(t,n,r),a=t,s=n,u=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,r=null,i=null,o=null,a=null,s=null,u=null,c=null}}}function s(t,n,r){var i=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(var a=0;a<r;a++)e.texImage2D(n+a,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,i);return o}function u(){for(var e=0,t=N.length;e<t;e++)N[e]=0}function c(n){if(N[n]=1,0===k[n]&&(e.enableVertexAttribArray(n),k[n]=1),0!==D[n]){t.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n,0),D[n]=0}}function l(n,r){if(N[n]=1,0===k[n]&&(e.enableVertexAttribArray(n),k[n]=1),D[n]!==r){t.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n,r),D[n]=r}}function h(){for(var t=0,n=k.length;t!==n;++t)k[t]!==N[t]&&(e.disableVertexAttribArray(t),k[t]=0)}function d(t){!0!==U[t]&&(e.enable(t),U[t]=!0)}function f(t){!1!==U[t]&&(e.disable(t),U[t]=!1)}function p(){if(null===F&&(F=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")))for(var n=e.getParameter(e.COMPRESSED_TEXTURE_FORMATS),r=0;r<n.length;r++)F.push(n[r]);return F}function m(t){return B!==t&&(e.useProgram(t),B=t,!0)}function g(t,r,i,o,a,s,u,c){if(t!==No?d(e.BLEND):f(e.BLEND),t!==Bo){if(t!==z||c!==X)switch(t){case Do:c?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE,e.ONE,e.ONE)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE));break;case Uo:c?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.ONE_MINUS_SRC_COLOR));break;case Fo:c?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.SRC_COLOR));break;default:c?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA))}H=null,q=null,j=null,G=null,V=null,W=null}else a=a||r,s=s||i,u=u||o,r===H&&a===G||(e.blendEquationSeparate(n.convert(r),n.convert(a)),H=r,G=a),i===q&&o===j&&s===V&&u===W||(e.blendFuncSeparate(n.convert(i),n.convert(o),n.convert(s),n.convert(u)),q=i,j=o,V=s,W=u);z=t,X=c}function v(t){t.side===Ao?f(e.CULL_FACE):d(e.CULL_FACE),y(t.side===Co),!0===t.transparent?g(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha):g(No),L.setFunc(t.depthFunc),L.setTest(t.depthTest),L.setMask(t.depthWrite),R.setMask(t.colorWrite),_(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)}function y(t){Y!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),Y=t)}function b(t){t!==vo?(d(e.CULL_FACE),t!==Z&&(t===yo?e.cullFace(e.BACK):t===bo?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):f(e.CULL_FACE),Z=t}function x(t){t!==K&&(te&&e.lineWidth(t),K=t)}function _(t,n,r){t?(d(e.POLYGON_OFFSET_FILL),Q===n&&J===r||(e.polygonOffset(n,r),Q=n,J=r)):f(e.POLYGON_OFFSET_FILL)}function w(t){t?d(e.SCISSOR_TEST):f(e.SCISSOR_TEST)}function E(t){void 0===t&&(t=e.TEXTURE0+$-1),ne!==t&&(e.activeTexture(t),ne=t)}function M(t,n){null===ne&&E();var r=re[ne];void 0===r&&(r={type:void 0,texture:void 0},re[ne]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||ae[t]),r.type=t,r.texture=n)}function T(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}}function S(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}}function C(t){!1===ie.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),ie.copy(t))}function A(t){!1===oe.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),oe.copy(t))}function P(){for(var t=0;t<k.length;t++)1===k[t]&&(e.disableVertexAttribArray(t),k[t]=0);U={},F=null,ne=null,re={},B=null,z=null,Y=null,Z=null,R.reset(),L.reset(),I.reset()}var R=new r,L=new i,I=new o,O=e.getParameter(e.MAX_VERTEX_ATTRIBS),N=new Uint8Array(O),k=new Uint8Array(O),D=new Uint8Array(O),U={},F=null,B=null,z=null,H=null,q=null,j=null,G=null,V=null,W=null,X=!1,Y=null,Z=null,K=null,Q=null,J=null,$=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),ee=parseFloat(/^WebGL\ ([0-9])/.exec(e.getParameter(e.VERSION))[1]),te=parseFloat(ee)>=1,ne=null,re={},ie=new a,oe=new a,ae={};return ae[e.TEXTURE_2D]=s(e.TEXTURE_2D,e.TEXTURE_2D,1),ae[e.TEXTURE_CUBE_MAP]=s(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),R.setClear(0,0,0,1),L.setClear(1),I.setClear(0),d(e.DEPTH_TEST),L.setFunc(oa),y(!1),b(yo),d(e.CULL_FACE),d(e.BLEND),g(ko),{buffers:{color:R,depth:L,stencil:I},initAttributes:u,enableAttribute:c,enableAttributeAndDivisor:l,disableUnusedAttributes:h,enable:d,disable:f,getCompressedTextureFormats:p,useProgram:m,setBlending:g,setMaterial:v,setFlipSided:y,setCullFace:b,setLineWidth:x,setPolygonOffset:_,setScissorTest:w,activeTexture:E,bindTexture:M,compressedTexImage2D:T,texImage2D:S,scissor:C,viewport:A,reset:P}}function yt(e,t,n){function r(){if(void 0!==o)return o;var n=t.get("EXT_texture_filter_anisotropic");return o=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var o,a=void 0!==n.precision?n.precision:"highp",s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var u=!0===n.logarithmicDepthBuffer&&!!t.get("EXT_frag_depth"),c=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),l=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=e.getParameter(e.MAX_TEXTURE_SIZE),d=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),f=e.getParameter(e.MAX_VERTEX_ATTRIBS),p=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),m=e.getParameter(e.MAX_VARYING_VECTORS),g=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),v=l>0,y=!!t.get("OES_texture_float");return{getMaxAnisotropy:r,getMaxPrecision:i,precision:a,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:l,maxTextureSize:h,maxCubemapSize:d,maxAttributes:f,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:v,floatFragmentTextures:y,floatVertexTextures:v&&y}}function bt(e){me.call(this),this.cameras=e||[]}function xt(e){function t(){if(null!==r&&r.isPresenting){var t=r.getEyeParameters("left"),i=t.renderWidth,o=t.renderHeight;p=e.getPixelRatio(),f=e.getSize(),e.setDrawingBufferSize(2*i,o,1)}else n.enabled&&e.setDrawingBufferSize(f.width,f.height,p)}var n=this,r=null,i=null;"VRFrameData"in window&&(i=new window.VRFrameData);var o=new h,s=new h,u=new h,c=new me;c.bounds=new a(0,0,.5,1),c.layers.enable(1);var l=new me;l.bounds=new a(.5,0,.5,1),l.layers.enable(2);var d=new bt([c,l]);d.layers.enable(1),d.layers.enable(2);var f,p;window.addEventListener("vrdisplaypresentchange",t,!1),this.enabled=!1,this.standing=!1,this.getDevice=function(){return r},this.setDevice=function(e){void 0!==e&&(r=e)},this.getCamera=function(e){if(null===r)return e;r.depthNear=e.near,r.depthFar=e.far,r.getFrameData(i);var t=i.pose;null!==t.position?e.position.fromArray(t.position):e.position.set(0,0,0),null!==t.orientation&&e.quaternion.fromArray(t.orientation),e.updateMatrixWorld();var n=r.stageParameters;if(this.standing&&n&&(s.fromArray(n.sittingToStandingTransform),u.getInverse(s),e.matrixWorld.multiply(s),e.matrixWorldInverse.multiply(u)),!1===r.isPresenting)return e;c.near=e.near,l.near=e.near,c.far=e.far,l.far=e.far,d.matrixWorld.copy(e.matrixWorld),d.matrixWorldInverse.copy(e.matrixWorldInverse),c.matrixWorldInverse.fromArray(i.leftViewMatrix),l.matrixWorldInverse.fromArray(i.rightViewMatrix),this.standing&&n&&(c.matrixWorldInverse.multiply(u),l.matrixWorldInverse.multiply(u));var a=e.parent;null!==a&&(o.getInverse(a.matrixWorld),c.matrixWorldInverse.multiply(o),l.matrixWorldInverse.multiply(o)),c.matrixWorld.getInverse(c.matrixWorldInverse),l.matrixWorld.getInverse(l.matrixWorldInverse),c.projectionMatrix.fromArray(i.leftProjectionMatrix),l.projectionMatrix.fromArray(i.rightProjectionMatrix),d.projectionMatrix.copy(c.projectionMatrix);var h=r.getLayers();if(h.length){var f=h[0];null!==f.leftBounds&&4===f.leftBounds.length&&c.bounds.fromArray(f.leftBounds),null!==f.rightBounds&&4===f.rightBounds.length&&l.bounds.fromArray(f.rightBounds)}return d},this.getStandingMatrix=function(){return s},this.submitFrame=function(){r&&r.isPresenting&&r.submitFrame()},this.dispose=function(){window.removeEventListener("vrdisplaypresentchange",t)}}function _t(e){var t={};return{get:function(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":r=e.getExtension("WEBGL_compressed_texture_etc1");break;default:r=e.getExtension(n)}return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=r,r}}}function wt(){function e(){c.value!==r&&(c.value=r,c.needsUpdate=i>0),n.numPlanes=i,n.numIntersection=0}function t(e,t,r,i){var o=null!==e?e.length:0,a=null;if(0!==o){if(a=c.value,!0!==i||null===a){var l=r+4*o,h=t.matrixWorldInverse;u.getNormalMatrix(h),(null===a||a.length<l)&&(a=new Float32Array(l));for(var d=0,f=r;d!==o;++d,f+=4)s.copy(e[d]).applyMatrix4(h,u),s.normal.toArray(a,f),a[f+3]=s.constant}c.value=a,c.needsUpdate=!0}return n.numPlanes=o,a}var n=this,r=null,i=0,o=!1,a=!1,s=new ae,u=new oe,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(e,n,a){var s=0!==e.length||n||0!==i||o;return o=n,r=t(e,a,0),i=e.length,s},this.beginShadows=function(){a=!0,t(null)},this.endShadows=function(){a=!1,e()},this.setState=function(n,s,u,l,h,d){if(!o||null===n||0===n.length||a&&!u)a?t(null):e();else{var f=a?0:i,p=4*f,m=h.clippingState||null;c.value=m,m=t(n,l,p,d);for(var g=0;g!==p;++g)m[g]=r[g];h.clippingState=m,this.numIntersection=s?this.numPlanes:0,this.numPlanes+=f}}}function Et(e,t){function n(n){var r;if(n===Sa)return e.REPEAT;if(n===Ca)return e.CLAMP_TO_EDGE;if(n===Aa)return e.MIRRORED_REPEAT;if(n===Pa)return e.NEAREST;if(n===Ra)return e.NEAREST_MIPMAP_NEAREST;if(n===La)return e.NEAREST_MIPMAP_LINEAR;if(n===Ia)return e.LINEAR;if(n===Oa)return e.LINEAR_MIPMAP_NEAREST;if(n===Na)return e.LINEAR_MIPMAP_LINEAR;if(n===ka)return e.UNSIGNED_BYTE;if(n===ja)return e.UNSIGNED_SHORT_4_4_4_4;if(n===Ga)return e.UNSIGNED_SHORT_5_5_5_1;if(n===Va)return e.UNSIGNED_SHORT_5_6_5;if(n===Da)return e.BYTE;if(n===Ua)return e.SHORT;if(n===Fa)return e.UNSIGNED_SHORT;if(n===Ba)return e.INT;if(n===za)return e.UNSIGNED_INT;if(n===Ha)return e.FLOAT;if(n===qa&&null!==(r=t.get("OES_texture_half_float")))return r.HALF_FLOAT_OES;if(n===Xa)return e.ALPHA;if(n===Ya)return e.RGB;if(n===Za)return e.RGBA;if(n===Ka)return e.LUMINANCE;if(n===Qa)return e.LUMINANCE_ALPHA;if(n===$a)return e.DEPTH_COMPONENT;if(n===es)return e.DEPTH_STENCIL;if(n===zo)return e.FUNC_ADD;if(n===Ho)return e.FUNC_SUBTRACT;if(n===qo)return e.FUNC_REVERSE_SUBTRACT;if(n===Vo)return e.ZERO;if(n===Wo)return e.ONE;if(n===Xo)return e.SRC_COLOR;if(n===Yo)return e.ONE_MINUS_SRC_COLOR;if(n===Zo)return e.SRC_ALPHA;if(n===Ko)return e.ONE_MINUS_SRC_ALPHA;if(n===Qo)return e.DST_ALPHA;if(n===Jo)return e.ONE_MINUS_DST_ALPHA;if(n===$o)return e.DST_COLOR;if(n===ea)return e.ONE_MINUS_DST_COLOR;if(n===ta)return e.SRC_ALPHA_SATURATE;if((n===ts||n===ns||n===rs||n===is)&&null!==(r=t.get("WEBGL_compressed_texture_s3tc"))){if(n===ts)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===ns)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===rs)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===is)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((n===os||n===as||n===ss||n===us)&&null!==(r=t.get("WEBGL_compressed_texture_pvrtc"))){if(n===os)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===as)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===ss)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===us)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===cs&&null!==(r=t.get("WEBGL_compressed_texture_etc1")))return r.COMPRESSED_RGB_ETC1_WEBGL;if((n===jo||n===Go)&&null!==(r=t.get("EXT_blend_minmax"))){if(n===jo)return r.MIN_EXT;if(n===Go)return r.MAX_EXT}return n===Wa&&null!==(r=t.get("WEBGL_depth_texture"))?r.UNSIGNED_INT_24_8_WEBGL:0}return{convert:n}}function Mt(e){function t(){return null===ee?me:1}function n(){Pe=new _t(Ce),Pe.get("WEBGL_depth_texture"),Pe.get("OES_texture_float"),Pe.get("OES_texture_float_linear"),Pe.get("OES_texture_half_float"),Pe.get("OES_texture_half_float_linear"),Pe.get("OES_standard_derivatives"),Pe.get("ANGLE_instanced_arrays"),Pe.get("OES_element_index_uint")&&(Le.MaxIndex=4294967296),tt=new Et(Ce,Pe),Re=new yt(Ce,Pe,e),Ie=new vt(Ce,Pe,tt),Ie.scissor(le.copy(ve).multiplyScalar(me)),Ie.viewport(ae.copy(ge).multiplyScalar(me)),Oe=new gt,Ne=new mt(Ce,Pe,Ie,Oe,Re,tt,Te),ke=new ce(Ce),De=new Ke(Ce,ke,Te),Ue=new $e(De,Se),je=new Xe(Ce),Be=new pt(Q,Pe,Re),Fe=new Je,ze=new Ve,qe=new He(Q,Ie,De,q),Ge=new Ze(Ce,Pe,Se),We=new Ye(Ce,Pe,Se),Qe=new K(Q,Ce,Ie,Ne,Re),et=new J(Q,Ce,Ie,Ne,Re),Q.info.programs=Be.programs,Q.context=Ce,Q.capabilities=Re,Q.extensions=Pe,Q.properties=Oe,Q.renderLists=ze,Q.state=Ie}function r(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),$=!0}function i(e){console.log("THREE.WebGLRenderer: Context Restored."),$=!1,n()}function o(e){var t=e.target;t.removeEventListener("dispose",o),s(t)}function s(e){u(e),Oe.remove(e)}function u(e){var t=Oe.get(e).program;e.program=void 0,void 0!==t&&Be.releaseProgram(t)}function c(e,t,n){e.render(function(e){Q.renderBufferImmediate(e,t,n)})}function f(e,t,n,r){if(n&&n.isInstancedBufferGeometry&&null===Pe.get("ANGLE_instanced_arrays"))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");void 0===r&&(r=0),Ie.initAttributes();var i=n.attributes,o=t.getAttributes(),a=e.defaultAttributeValues;for(var s in o){var u=o[s];if(u>=0){var c=i[s];if(void 0!==c){var l=c.normalized,h=c.itemSize,d=ke.get(c);if(void 0===d)continue;var f=d.buffer,p=d.type,m=d.bytesPerElement;if(c.isInterleavedBufferAttribute){var g=c.data,v=g.stride,y=c.offset;g&&g.isInstancedInterleavedBuffer?(Ie.enableAttributeAndDivisor(u,g.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=g.meshPerAttribute*g.count)):Ie.enableAttribute(u),Ce.bindBuffer(Ce.ARRAY_BUFFER,f),Ce.vertexAttribPointer(u,h,p,l,v*m,(r*v+y)*m)}else c.isInstancedBufferAttribute?(Ie.enableAttributeAndDivisor(u,c.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=c.meshPerAttribute*c.count)):Ie.enableAttribute(u),Ce.bindBuffer(Ce.ARRAY_BUFFER,f),Ce.vertexAttribPointer(u,h,p,l,0,r*h*m)}else if(void 0!==a){var b=a[s];if(void 0!==b)switch(b.length){case 2:Ce.vertexAttrib2fv(u,b);break;case 3:Ce.vertexAttrib3fv(u,b);break;case 4:Ce.vertexAttrib4fv(u,b);break;default:Ce.vertexAttrib1fv(u,b)}}}}Ie.disableUnusedAttributes()}function p(){it||((nt.getDevice()||window).requestAnimationFrame(m),it=!0)}function m(e){null!==ot&&ot(e),(nt.getDevice()||window).requestAnimationFrame(m)}function g(e,t,n){if(e.visible){if(e.layers.test(t.layers))if(e.isLight)G.push(e),e.castShadow&&V.push(e);else if(e.isSprite)e.frustumCulled&&!be.intersectsSprite(e)||Y.push(e);else if(e.isLensFlare)Z.push(e);else if(e.isImmediateRenderObject)n&&Me.setFromMatrixPosition(e.matrixWorld).applyMatrix4(Ee),W.push(e,null,e.material,Me.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.update(),!e.frustumCulled||be.intersectsObject(e))){n&&Me.setFromMatrixPosition(e.matrixWorld).applyMatrix4(Ee);var r=Ue.update(e),i=e.material;if(Array.isArray(i))for(var o=r.groups,a=0,s=o.length;a<s;a++){var u=o[a],c=i[u.materialIndex];c&&c.visible&&W.push(e,r,c,Me.z,u)}else i.visible&&W.push(e,r,i,Me.z,null)}for(var l=e.children,a=0,s=l.length;a<s;a++)g(l[a],t,n)}}function v(e,t,n,r){for(var i=0,o=e.length;i<o;i++){var a=e[i],s=a.object,u=a.geometry,c=void 0===r?a.material:r,l=a.group;if(n.isArrayCamera){oe=n;for(var h=n.cameras,d=0,f=h.length;d<f;d++){var p=h[d];if(s.layers.test(p.layers)){var m=p.bounds,g=m.x*fe,v=m.y*pe,b=m.z*fe,x=m.w*pe;Ie.viewport(ae.set(g,v,b,x).multiplyScalar(me)),y(s,t,p,u,c,l)}}}else oe=null,y(s,t,n,u,c,l)}}function y(e,t,n,r,i,o){if(e.onBeforeRender(Q,t,n,r,i,o),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){Ie.setMaterial(i);var a=x(n,t.fog,i,e);re="",c(e,a,i)}else Q.renderBufferDirect(n,t.fog,r,i,e,o);e.onAfterRender(Q,t,n,r,i,o)}function b(e,t,n){var r=Oe.get(e),i=Be.getParameters(e,Fe.state,V,t,xe.numPlanes,xe.numIntersection,n),a=Be.getProgramCode(e,i),s=r.program,c=!0;if(void 0===s)e.addEventListener("dispose",o);else if(s.code!==a)u(e);else{if(void 0!==i.shaderID)return;c=!1}if(c){if(i.shaderID){var l=Vs[i.shaderID];r.shader={name:e.type,uniforms:js.clone(l.uniforms),vertexShader:l.vertexShader,fragmentShader:l.fragmentShader}}else r.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(r.shader),s=Be.acquireProgram(e,r.shader,i,a),r.program=s,e.program=s}var h=s.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var d=0;d<Q.maxMorphTargets;d++)h["morphTarget"+d]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(var d=0;d<Q.maxMorphNormals;d++)h["morphNormal"+d]>=0&&e.numSupportedMorphNormals++}var f=r.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(r.numClippingPlanes=xe.numPlanes,r.numIntersection=xe.numIntersection,f.clippingPlanes=xe.uniform),r.fog=t,r.lightsHash=Fe.state.hash,e.lights&&(f.ambientLightColor.value=Fe.state.ambient,f.directionalLights.value=Fe.state.directional,f.spotLights.value=Fe.state.spot,f.rectAreaLights.value=Fe.state.rectArea,f.pointLights.value=Fe.state.point,f.hemisphereLights.value=Fe.state.hemi,f.directionalShadowMap.value=Fe.state.directionalShadowMap,f.directionalShadowMatrix.value=Fe.state.directionalShadowMatrix,f.spotShadowMap.value=Fe.state.spotShadowMap,f.spotShadowMatrix.value=Fe.state.spotShadowMatrix,f.pointShadowMap.value=Fe.state.pointShadowMap,f.pointShadowMatrix.value=Fe.state.pointShadowMatrix);var p=r.program.getUniforms(),m=X.seqWithValue(p.seq,f);r.uniformsList=m}function x(e,t,n,r){de=0;var i=Oe.get(n);if(_e&&(we||e!==ie)){var o=e===ie&&n.id===ne;xe.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,i,o)}!1===n.needsUpdate&&(void 0===i.program?n.needsUpdate=!0:n.fog&&i.fog!==t?n.needsUpdate=!0:n.lights&&i.lightsHash!==Fe.state.hash?n.needsUpdate=!0:void 0===i.numClippingPlanes||i.numClippingPlanes===xe.numPlanes&&i.numIntersection===xe.numIntersection||(n.needsUpdate=!0)),n.needsUpdate&&(b(n,t,r),n.needsUpdate=!1);var a=!1,s=!1,u=!1,c=i.program,l=c.getUniforms(),h=i.shader.uniforms;if(Ie.useProgram(c.program)&&(a=!0,s=!0,u=!0),n.id!==ne&&(ne=n.id,s=!0),a||e!==ie){if(l.setValue(Ce,"projectionMatrix",e.projectionMatrix),Re.logarithmicDepthBuffer&&l.setValue(Ce,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),ie!==(oe||e)&&(ie=oe||e,s=!0,u=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var f=l.map.cameraPosition;void 0!==f&&f.setValue(Ce,Me.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&l.setValue(Ce,"viewMatrix",e.matrixWorldInverse)}if(n.skinning){l.setOptional(Ce,r,"bindMatrix"),l.setOptional(Ce,r,"bindMatrixInverse");var p=r.skeleton;if(p){var m=p.bones;if(Re.floatVertexTextures){if(void 0===p.boneTexture){var g=Math.sqrt(4*m.length);g=Is.nextPowerOfTwo(Math.ceil(g)),g=Math.max(g,4);var v=new Float32Array(g*g*4);v.set(p.boneMatrices);var y=new d(v,g,g,Za,Ha);p.boneMatrices=v,p.boneTexture=y,p.boneTextureSize=g}l.setValue(Ce,"boneTexture",p.boneTexture),l.setValue(Ce,"boneTextureSize",p.boneTextureSize)}else l.setOptional(Ce,p,"boneMatrices")}}return s&&(l.setValue(Ce,"toneMappingExposure",Q.toneMappingExposure),l.setValue(Ce,"toneMappingWhitePoint",Q.toneMappingWhitePoint),n.lights&&N(h,u),t&&n.fog&&T(h,t),n.isMeshBasicMaterial?_(h,n):n.isMeshLambertMaterial?(_(h,n),S(h,n)):n.isMeshPhongMaterial?(_(h,n),n.isMeshToonMaterial?A(h,n):C(h,n)):n.isMeshStandardMaterial?(_(h,n),n.isMeshPhysicalMaterial?R(h,n):P(h,n)):n.isMeshDepthMaterial?(_(h,n),L(h,n)):n.isMeshDistanceMaterial?(_(h,n),I(h,n)):n.isMeshNormalMaterial?(_(h,n),O(h,n)):n.isLineBasicMaterial?(w(h,n),n.isLineDashedMaterial&&E(h,n)):n.isPointsMaterial?M(h,n):n.isShadowMaterial&&(h.color.value=n.color,h.opacity.value=n.opacity),void 0!==h.ltcMat&&(h.ltcMat.value=qs.LTC_MAT_TEXTURE),void 0!==h.ltcMag&&(h.ltcMag.value=qs.LTC_MAG_TEXTURE),X.upload(Ce,i.uniformsList,h,Q)),l.setValue(Ce,"modelViewMatrix",r.modelViewMatrix),l.setValue(Ce,"normalMatrix",r.normalMatrix),l.setValue(Ce,"modelMatrix",r.matrixWorld),c}function _(e,t){e.opacity.value=t.opacity,t.color&&(e.diffuse.value=t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap&&t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity);var n;if(t.map?n=t.map:t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap),void 0!==n){n.isWebGLRenderTarget&&(n=n.texture);var r=n.offset,i=n.repeat;e.offsetRepeat.value.set(r.x,r.y,i.x,i.y)}}function w(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity}function E(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}function M(e,t){if(e.diffuse.value=t.color,e.opacity.value=t.opacity,e.size.value=t.size*me,e.scale.value=.5*pe,e.map.value=t.map,null!==t.map){var n=t.map.offset,r=t.map.repeat;e.offsetRepeat.value.set(n.x,n.y,r.x,r.y)}}function T(e,t){e.fogColor.value=t.color,t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}function S(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}function C(e,t){e.specular.value=t.specular,e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function A(e,t){C(e,t),t.gradientMap&&(e.gradientMap.value=t.gradientMap)}function P(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}function R(e,t){e.clearCoat.value=t.clearCoat,e.clearCoatRoughness.value=t.clearCoatRoughness,P(e,t)}function L(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function I(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}function O(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function N(e,t){e.ambientLightColor.needsUpdate=t,e.directionalLights.needsUpdate=t,e.pointLights.needsUpdate=t,e.spotLights.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}function k(){var e=de;return e>=Re.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+e+" texture units while this GPU supports only "+Re.maxTextures),de+=1,e}console.log("THREE.WebGLRenderer",mo),e=e||{};var D=void 0!==e.canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),U=void 0!==e.context?e.context:null,F=void 0!==e.alpha&&e.alpha,B=void 0===e.depth||e.depth,z=void 0===e.stencil||e.stencil,H=void 0!==e.antialias&&e.antialias,q=void 0===e.premultipliedAlpha||e.premultipliedAlpha,j=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,G=[],V=[],W=null,Y=[],Z=[];this.domElement=D,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=pa,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var Q=this,$=!1,ee=null,te=null,ne=-1,re="",ie=null,oe=null,ae=new a,le=new a,he=null,de=0,fe=D.width,pe=D.height,me=1,ge=new a(0,0,fe,pe),ve=new a(0,0,fe,pe),ye=!1,be=new se,xe=new wt,_e=!1,we=!1,Ee=new h,Me=new l,Te={geometries:0,textures:0},Se={frame:0,calls:0,vertices:0,faces:0,points:0};this.info={render:Se,memory:Te,programs:null};var Ce;try{var Ae={alpha:F,depth:B,stencil:z,antialias:H,premultipliedAlpha:q,preserveDrawingBuffer:j};if(null===(Ce=U||D.getContext("webgl",Ae)||D.getContext("experimental-webgl",Ae)))throw null!==D.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";void 0===Ce.getShaderPrecisionFormat&&(Ce.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),D.addEventListener("webglcontextlost",r,!1),D.addEventListener("webglcontextrestored",i,!1)}catch(e){console.error("THREE.WebGLRenderer: "+e)}var Pe,Re,Ie,Oe,Ne,ke,De,Ue,Fe,Be,ze,qe,je,Ge,We,Qe,et,tt;n();var nt=new xt(Q);this.vr=nt;var rt=new ue(Q,Ue,Re.maxTextureSize);this.shadowMap=rt,this.getContext=function(){return Ce},this.getContextAttributes=function(){return Ce.getContextAttributes()},this.forceContextLoss=function(){var e=Pe.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=Pe.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return me},this.setPixelRatio=function(e){void 0!==e&&(me=e,this.setSize(fe,pe,!1))},this.getSize=function(){return{width:fe,height:pe}},this.setSize=function(e,t,n){var r=nt.getDevice();if(r&&r.isPresenting)return void console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");fe=e,pe=t,D.width=e*me,D.height=t*me,!1!==n&&(D.style.width=e+"px",D.style.height=t+"px"),this.setViewport(0,0,e,t)},this.getDrawingBufferSize=function(){return{width:fe*me,height:pe*me}},this.setDrawingBufferSize=function(e,t,n){fe=e,pe=t,me=n,D.width=e*n,D.height=t*n,this.setViewport(0,0,e,t)},this.setViewport=function(e,t,n,r){ge.set(e,pe-t-r,n,r),Ie.viewport(ae.copy(ge).multiplyScalar(me))},this.setScissor=function(e,t,n,r){ve.set(e,pe-t-r,n,r),Ie.scissor(le.copy(ve).multiplyScalar(me))},this.setScissorTest=function(e){Ie.setScissorTest(ye=e)},this.getClearColor=qe.getClearColor,this.setClearColor=qe.setClearColor,this.getClearAlpha=qe.getClearAlpha,this.setClearAlpha=qe.setClearAlpha,this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=Ce.COLOR_BUFFER_BIT),(void 0===t||t)&&(r|=Ce.DEPTH_BUFFER_BIT),(void 0===n||n)&&(r|=Ce.STENCIL_BUFFER_BIT),Ce.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(e,t,n,r){this.setRenderTarget(e),this.clear(t,n,r)},this.dispose=function(){D.removeEventListener("webglcontextlost",r,!1),D.removeEventListener("webglcontextrestored",i,!1),ze.dispose(),nt.dispose()},this.renderBufferImmediate=function(e,t,n){Ie.initAttributes();var r=Oe.get(e);e.hasPositions&&!r.position&&(r.position=Ce.createBuffer()),e.hasNormals&&!r.normal&&(r.normal=Ce.createBuffer()),e.hasUvs&&!r.uv&&(r.uv=Ce.createBuffer()),e.hasColors&&!r.color&&(r.color=Ce.createBuffer());var i=t.getAttributes();if(e.hasPositions&&(Ce.bindBuffer(Ce.ARRAY_BUFFER,r.position),Ce.bufferData(Ce.ARRAY_BUFFER,e.positionArray,Ce.DYNAMIC_DRAW),Ie.enableAttribute(i.position),Ce.vertexAttribPointer(i.position,3,Ce.FLOAT,!1,0,0)),e.hasNormals){if(Ce.bindBuffer(Ce.ARRAY_BUFFER,r.normal),!n.isMeshPhongMaterial&&!n.isMeshStandardMaterial&&!n.isMeshNormalMaterial&&!0===n.flatShading)for(var o=0,a=3*e.count;o<a;o+=9){var s=e.normalArray,u=(s[o+0]+s[o+3]+s[o+6])/3,c=(s[o+1]+s[o+4]+s[o+7])/3,l=(s[o+2]+s[o+5]+s[o+8])/3;s[o+0]=u,s[o+1]=c,s[o+2]=l,s[o+3]=u,s[o+4]=c,s[o+5]=l,s[o+6]=u,s[o+7]=c,s[o+8]=l}Ce.bufferData(Ce.ARRAY_BUFFER,e.normalArray,Ce.DYNAMIC_DRAW),Ie.enableAttribute(i.normal),Ce.vertexAttribPointer(i.normal,3,Ce.FLOAT,!1,0,0)}e.hasUvs&&n.map&&(Ce.bindBuffer(Ce.ARRAY_BUFFER,r.uv),Ce.bufferData(Ce.ARRAY_BUFFER,e.uvArray,Ce.DYNAMIC_DRAW),Ie.enableAttribute(i.uv),Ce.vertexAttribPointer(i.uv,2,Ce.FLOAT,!1,0,0)),e.hasColors&&n.vertexColors!==Lo&&(Ce.bindBuffer(Ce.ARRAY_BUFFER,r.color),Ce.bufferData(Ce.ARRAY_BUFFER,e.colorArray,Ce.DYNAMIC_DRAW),Ie.enableAttribute(i.color),Ce.vertexAttribPointer(i.color,3,Ce.FLOAT,!1,0,0)),Ie.disableUnusedAttributes(),Ce.drawArrays(Ce.TRIANGLES,0,e.count),e.count=0},this.renderBufferDirect=function(e,n,r,i,o,a){Ie.setMaterial(i);var s=x(e,n,i,o),u=r.id+"_"+s.id+"_"+(!0===i.wireframe),c=!1;u!==re&&(re=u,c=!0),o.morphTargetInfluences&&(je.update(o,r,i,s),c=!0);var l=r.index,h=r.attributes.position,d=1;!0===i.wireframe&&(l=De.getWireframeAttribute(r),d=2);var p,m=Ge;null!==l&&(p=ke.get(l),m=We,m.setIndex(p)),c&&(f(i,s,r),null!==l&&Ce.bindBuffer(Ce.ELEMENT_ARRAY_BUFFER,p.buffer));var g=0;null!==l?g=l.count:void 0!==h&&(g=h.count);var v=r.drawRange.start*d,y=r.drawRange.count*d,b=null!==a?a.start*d:0,_=null!==a?a.count*d:1/0,w=Math.max(v,b),E=Math.min(g,v+y,b+_)-1,M=Math.max(0,E-w+1);if(0!==M){if(o.isMesh)if(!0===i.wireframe)Ie.setLineWidth(i.wireframeLinewidth*t()),m.setMode(Ce.LINES);else switch(o.drawMode){case bs:m.setMode(Ce.TRIANGLES);break;case xs:m.setMode(Ce.TRIANGLE_STRIP);break;case _s:m.setMode(Ce.TRIANGLE_FAN)}else if(o.isLine){var T=i.linewidth;void 0===T&&(T=1),Ie.setLineWidth(T*t()),o.isLineSegments?m.setMode(Ce.LINES):o.isLineLoop?m.setMode(Ce.LINE_LOOP):m.setMode(Ce.LINE_STRIP)}else o.isPoints&&m.setMode(Ce.POINTS);r&&r.isInstancedBufferGeometry?r.maxInstancedCount>0&&m.renderInstances(r,w,M):m.render(w,M)}},this.compile=function(e,t){G.length=0,V.length=0,e.traverse(function(e){e.isLight&&(G.push(e),e.castShadow&&V.push(e))}),Fe.setup(G,V,t),e.traverse(function(t){if(t.material)if(Array.isArray(t.material))for(var n=0;n<t.material.length;n++)b(t.material[n],e.fog,t);else b(t.material,e.fog,t)})};var it=!1,ot=null;this.animate=function(e){ot=e,p()},this.render=function(e,t,n,r){if(!t||!t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!$){re="",ne=-1,ie=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),nt.enabled&&(t=nt.getCamera(t)),Ee.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),be.setFromMatrix(Ee),G.length=0,V.length=0,Y.length=0,Z.length=0,we=this.localClippingEnabled,_e=xe.init(this.clippingPlanes,we,t),W=ze.get(e,t),W.init(),g(e,t,Q.sortObjects),!0===Q.sortObjects&&W.sort(),_e&&xe.beginShadows(),rt.render(V,e,t),Fe.setup(G,V,t),_e&&xe.endShadows(),Se.frame++,Se.calls=0,Se.vertices=0,Se.faces=0,Se.points=0,void 0===n&&(n=null),this.setRenderTarget(n),qe.render(W,e,t,r);var i=W.opaque,o=W.transparent;if(e.overrideMaterial){var a=e.overrideMaterial;i.length&&v(i,e,t,a),o.length&&v(o,e,t,a)}else i.length&&v(i,e,t),o.length&&v(o,e,t);et.render(Y,e,t),Qe.render(Z,e,t,ae),n&&Ne.updateRenderTargetMipmap(n),Ie.buffers.depth.setTest(!0),Ie.buffers.depth.setMask(!0),Ie.buffers.color.setMask(!0),Ie.setPolygonOffset(!1),nt.enabled&&nt.submitFrame()}},this.setFaceCulling=function(e,t){Ie.setCullFace(e),Ie.setFlipSided(t===_o)},this.allocTextureUnit=k,this.setTexture2D=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTarget&&(e||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),Ne.setTexture2D(t,n)}}(),this.setTexture=function(){var e=!1;return function(t,n){e||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),e=!0),Ne.setTexture2D(t,n)}}(),this.setTextureCube=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTargetCube&&(e||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?Ne.setTextureCube(t,n):Ne.setTextureCubeDynamic(t,n)}}(),this.getRenderTarget=function(){return ee},this.setRenderTarget=function(e){ee=e,e&&void 0===Oe.get(e).__webglFramebuffer&&Ne.setupRenderTarget(e);var t=null,n=!1;if(e){var r=Oe.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(t=r[e.activeCubeFace],n=!0):t=r,ae.copy(e.viewport),le.copy(e.scissor),he=e.scissorTest}else ae.copy(ge).multiplyScalar(me),le.copy(ve).multiplyScalar(me),he=ye;if(te!==t&&(Ce.bindFramebuffer(Ce.FRAMEBUFFER,t),te=t),Ie.viewport(ae),Ie.scissor(le),Ie.setScissorTest(he),n){var i=Oe.get(e.texture);Ce.framebufferTexture2D(Ce.FRAMEBUFFER,Ce.COLOR_ATTACHMENT0,Ce.TEXTURE_CUBE_MAP_POSITIVE_X+e.activeCubeFace,i.__webglTexture,e.activeMipMapLevel)}},this.readRenderTargetPixels=function(e,t,n,r,i,o){if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");var a=Oe.get(e).__webglFramebuffer;if(a){var s=!1;a!==te&&(Ce.bindFramebuffer(Ce.FRAMEBUFFER,a),s=!0);try{var u=e.texture,c=u.format,l=u.type;if(c!==Za&&tt.convert(c)!==Ce.getParameter(Ce.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(l===ka||tt.convert(l)===Ce.getParameter(Ce.IMPLEMENTATION_COLOR_READ_TYPE)||l===Ha&&(Pe.get("OES_texture_float")||Pe.get("WEBGL_color_buffer_float"))||l===qa&&Pe.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Ce.checkFramebufferStatus(Ce.FRAMEBUFFER)===Ce.FRAMEBUFFER_COMPLETE?t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&Ce.readPixels(t,n,r,i,tt.convert(c),tt.convert(l),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&Ce.bindFramebuffer(Ce.FRAMEBUFFER,te)}}}}function Tt(e,t){this.name="",this.color=new Y(e),this.density=void 0!==t?t:25e-5}function St(e,t,n){this.name="",this.color=new Y(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}function Ct(){de.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function At(e,t,n,r,i){de.call(this),this.lensFlares=[],this.positionScreen=new l,this.customUpdateCallback=void 0,void 0!==e&&this.add(e,t,n,r,i)}function Pt(e){$.call(this),this.type="SpriteMaterial",this.color=new Y(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(e)}function Rt(e){de.call(this),this.type="Sprite",this.material=void 0!==e?e:new Pt}function Lt(){de.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function It(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new h)}}function Ot(){de.call(this),this.type="Bone"}function Nt(e,t){ze.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new h,this.bindMatrixInverse=new h;var n=this.initBones(),r=new It(n);this.bind(r,this.matrixWorld),this.normalizeSkinWeights()}function kt(e){$.call(this),this.type="LineBasicMaterial",this.color=new Y(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(e)}function Dt(e,t,n){if(1===n)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new Ut(e,t);de.call(this),this.type="Line",this.geometry=void 0!==e?e:new Le,this.material=void 0!==t?t:new kt({color:16777215*Math.random()})}function Ut(e,t){Dt.call(this,e,t),this.type="LineSegments"}function Ft(e,t){Dt.call(this,e,t),this.type="LineLoop"}function Bt(e){$.call(this),this.type="PointsMaterial",this.color=new Y(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(e)}function zt(e,t){de.call(this),this.type="Points",this.geometry=void 0!==e?e:new Le,this.material=void 0!==t?t:new Bt({color:16777215*Math.random()})}function Ht(){de.call(this),this.type="Group"}function qt(e,t,n,r,i,a,s,u,c){function l(){requestAnimationFrame(l),e.readyState>=e.HAVE_CURRENT_DATA&&(h.needsUpdate=!0)}o.call(this,e,t,n,r,i,a,s,u,c),this.generateMipmaps=!1;var h=this;l()}function jt(e,t,n,r,i,a,s,u,c,l,h,d){o.call(this,null,a,s,u,c,l,r,i,h,d),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function Gt(e,t,n,r,i,a,s,u,c,l){if((l=void 0!==l?l:$a)!==$a&&l!==es)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&l===$a&&(n=Fa),void 0===n&&l===es&&(n=Wa),o.call(this,null,r,i,a,s,u,l,n,c),this.image={width:e,height:t},this.magFilter=void 0!==s?s:Pa,this.minFilter=void 0!==u?u:Pa,this.flipY=!1,this.generateMipmaps=!1}function Vt(e){Le.call(this),this.type="WireframeGeometry";var t,n,r,i,o,a,s,u,c,h,d=[],f=[0,0],p={},m=["a","b","c"];if(e&&e.isGeometry){var g=e.faces;for(t=0,r=g.length;t<r;t++){var v=g[t];for(n=0;n<3;n++)s=v[m[n]],u=v[m[(n+1)%3]],f[0]=Math.min(s,u),f[1]=Math.max(s,u),c=f[0]+","+f[1],void 0===p[c]&&(p[c]={index1:f[0],index2:f[1]})}for(c in p)a=p[c],h=e.vertices[a.index1],d.push(h.x,h.y,h.z),h=e.vertices[a.index2],d.push(h.x,h.y,h.z)}else if(e&&e.isBufferGeometry){var y,b,x,_,w,E,M,T;if(h=new l,null!==e.index){for(y=e.attributes.position,b=e.index,x=e.groups,0===x.length&&(x=[{start:0,count:b.count,materialIndex:0}]),i=0,o=x.length;i<o;++i)for(_=x[i],w=_.start,E=_.count,t=w,r=w+E;t<r;t+=3)for(n=0;n<3;n++)s=b.getX(t+n),u=b.getX(t+(n+1)%3),f[0]=Math.min(s,u),f[1]=Math.max(s,u),c=f[0]+","+f[1],void 0===p[c]&&(p[c]={index1:f[0],index2:f[1]});for(c in p)a=p[c],h.fromBufferAttribute(y,a.index1),d.push(h.x,h.y,h.z),h.fromBufferAttribute(y,a.index2),d.push(h.x,h.y,h.z)}else for(y=e.attributes.position,t=0,r=y.count/3;t<r;t++)for(n=0;n<3;n++)M=3*t+n,h.fromBufferAttribute(y,M),d.push(h.x,h.y,h.z),T=3*t+(n+1)%3,h.fromBufferAttribute(y,T),d.push(h.x,h.y,h.z)}this.addAttribute("position",new Ce(d,3))}function Wt(e,t,n){ye.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new Xt(e,t,n)),this.mergeVertices()}function Xt(e,t,n){Le.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var r,i,o=[],a=[],s=[],u=[],c=new l,h=new l,d=new l,f=new l,p=new l,m=t+1;for(r=0;r<=n;r++){var g=r/n;for(i=0;i<=t;i++){var v=i/t;h=e(v,g,h),a.push(h.x,h.y,h.z),v-1e-5>=0?(d=e(v-1e-5,g,d),f.subVectors(h,d)):(d=e(v+1e-5,g,d),f.subVectors(d,h)),g-1e-5>=0?(d=e(v,g-1e-5,d),p.subVectors(h,d)):(d=e(v,g+1e-5,d),p.subVectors(d,h)),c.crossVectors(f,p).normalize(),s.push(c.x,c.y,c.z),u.push(v,g)}}for(r=0;r<n;r++)for(i=0;i<t;i++){var y=r*m+i,b=r*m+i+1,x=(r+1)*m+i+1,_=(r+1)*m+i;o.push(y,b,_),o.push(b,x,_)}this.setIndex(o),this.addAttribute("position",new Ce(a,3)),this.addAttribute("normal",new Ce(s,3)),this.addAttribute("uv",new Ce(u,2))}function Yt(e,t,n,r){ye.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},this.fromBufferGeometry(new Zt(e,t,n,r)),this.mergeVertices()}function Zt(e,t,n,r){function o(e,t,n,r){var i,o,a=Math.pow(2,r),u=[];for(i=0;i<=a;i++){u[i]=[];var c=e.clone().lerp(n,i/a),l=t.clone().lerp(n,i/a),h=a-i;for(o=0;o<=h;o++)u[i][o]=0===o&&i===a?c:c.clone().lerp(l,o/h)}for(i=0;i<a;i++)for(o=0;o<2*(a-i)-1;o++){var d=Math.floor(o/2);o%2==0?(s(u[i][d+1]),s(u[i+1][d]),s(u[i][d])):(s(u[i][d+1]),s(u[i+1][d+1]),s(u[i+1][d]))}}function a(){for(var e=0;e<m.length;e+=6){var t=m[e+0],n=m[e+2],r=m[e+4],i=Math.max(t,n,r),o=Math.min(t,n,r);i>.9&&o<.1&&(t<.2&&(m[e+0]+=1),n<.2&&(m[e+2]+=1),r<.2&&(m[e+4]+=1))}}function s(e){p.push(e.x,e.y,e.z)}function u(t,n){var r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function c(){for(var e=new l,t=new l,n=new l,r=new l,o=new i,a=new i,s=new i,u=0,c=0;u<p.length;u+=9,c+=6){e.set(p[u+0],p[u+1],p[u+2]),t.set(p[u+3],p[u+4],p[u+5]),n.set(p[u+6],p[u+7],p[u+8]),o.set(m[c+0],m[c+1]),a.set(m[c+2],m[c+3]),s.set(m[c+4],m[c+5]),r.copy(e).add(t).add(n).divideScalar(3);var f=d(r);h(o,c+0,e,f),h(a,c+2,t,f),h(s,c+4,n,f)}}function h(e,t,n,r){r<0&&1===e.x&&(m[t]=e.x-1),0===n.x&&0===n.z&&(m[t]=r/2/Math.PI+.5)}function d(e){return Math.atan2(e.z,-e.x)}function f(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}Le.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},n=n||1,r=r||0;var p=[],m=[];!function(e){for(var n=new l,r=new l,i=new l,a=0;a<t.length;a+=3)u(t[a+0],n),u(t[a+1],r),u(t[a+2],i),o(n,r,i,e)}(r),function(e){for(var t=new l,n=0;n<p.length;n+=3)t.x=p[n+0],t.y=p[n+1],t.z=p[n+2],t.normalize().multiplyScalar(e),p[n+0]=t.x,p[n+1]=t.y,p[n+2]=t.z}(n),function(){for(var e=new l,t=0;t<p.length;t+=3){e.x=p[t+0],e.y=p[t+1],e.z=p[t+2];var n=d(e)/2/Math.PI+.5,r=f(e)/Math.PI+.5;m.push(n,1-r)}c(),a()}(),this.addAttribute("position",new Ce(p,3)),this.addAttribute("normal",new Ce(p.slice(),3)),this.addAttribute("uv",new Ce(m,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function Kt(e,t){ye.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Qt(e,t)),this.mergeVertices()}function Qt(e,t){var n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];Zt.call(this,n,r,e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Jt(e,t){ye.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new $t(e,t)),this.mergeVertices()}function $t(e,t){var n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];Zt.call(this,n,r,e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function en(e,t){ye.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new tn(e,t)),this.mergeVertices()}function tn(e,t){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],i=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];Zt.call(this,r,i,e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function nn(e,t){ye.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new rn(e,t)),this.mergeVertices()}function rn(e,t){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];Zt.call(this,i,o,e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function on(e,t,n,r,i,o){ye.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new an(e,t,n,r,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function an(e,t,n,r,o){function a(i){var o=e.getPointAt(i/t),a=c.normals[i],s=c.binormals[i];for(d=0;d<=r;d++){var u=d/r*Math.PI*2,l=Math.sin(u),h=-Math.cos(u);p.x=h*a.x+l*s.x,p.y=h*a.y+l*s.y,p.z=h*a.z+l*s.z,p.normalize(),v.push(p.x,p.y,p.z),f.x=o.x+n*p.x,f.y=o.y+n*p.y,f.z=o.z+n*p.z,g.push(f.x,f.y,f.z)}}function s(){for(d=1;d<=t;d++)for(h=1;h<=r;h++){var e=(r+1)*(d-1)+(h-1),n=(r+1)*d+(h-1),i=(r+1)*d+h,o=(r+1)*(d-1)+h;b.push(e,n,o),b.push(n,i,o)}}function u(){for(h=0;h<=t;h++)for(d=0;d<=r;d++)m.x=h/t,m.y=d/r,y.push(m.x,m.y)}Le.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:o},t=t||64,n=n||1,r=r||8,o=o||!1;var c=e.computeFrenetFrames(t,o);this.tangents=c.tangents,this.normals=c.normals,this.binormals=c.binormals;var h,d,f=new l,p=new l,m=new i,g=[],v=[],y=[],b=[];!function(){for(h=0;h<t;h++)a(h);a(!1===o?t:0),u(),s()}(),this.setIndex(b),this.addAttribute("position",new Ce(g,3)),this.addAttribute("normal",new Ce(v,3)),this.addAttribute("uv",new Ce(y,2))}function sn(e,t,n,r,i,o,a){ye.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new un(e,t,n,r,i,o)),this.mergeVertices()}function un(e,t,n,r,i,o){function a(e,t,n,r,i){var o=Math.cos(e),a=Math.sin(e),s=n/t*e,u=Math.cos(s);i.x=r*(2+u)*.5*o,i.y=r*(2+u)*a*.5,i.z=r*Math.sin(s)*.5}Le.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},e=e||100,t=t||40,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,o=o||3;var s,u,c=[],h=[],d=[],f=[],p=new l,m=new l,g=new l,v=new l,y=new l,b=new l,x=new l;for(s=0;s<=n;++s){var _=s/n*i*Math.PI*2;for(a(_,i,o,e,g),a(_+.01,i,o,e,v),b.subVectors(v,g),x.addVectors(v,g),y.crossVectors(b,x),x.crossVectors(y,b),y.normalize(),x.normalize(),u=0;u<=r;++u){var w=u/r*Math.PI*2,E=-t*Math.cos(w),M=t*Math.sin(w);p.x=g.x+(E*x.x+M*y.x),p.y=g.y+(E*x.y+M*y.y),p.z=g.z+(E*x.z+M*y.z),h.push(p.x,p.y,p.z),m.subVectors(p,g).normalize(),d.push(m.x,m.y,m.z),f.push(s/n),f.push(u/r)}}for(u=1;u<=n;u++)for(s=1;s<=r;s++){var T=(r+1)*(u-1)+(s-1),S=(r+1)*u+(s-1),C=(r+1)*u+s,A=(r+1)*(u-1)+s;c.push(T,S,A),c.push(S,C,A)}this.setIndex(c),this.addAttribute("position",new Ce(h,3)),this.addAttribute("normal",new Ce(d,3)),this.addAttribute("uv",new Ce(f,2))}function cn(e,t,n,r,i){ye.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new ln(e,t,n,r,i)),this.mergeVertices()}function ln(e,t,n,r,i){Le.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},e=e||100,t=t||40,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var o,a,s=[],u=[],c=[],h=[],d=new l,f=new l,p=new l;for(o=0;o<=n;o++)for(a=0;a<=r;a++){var m=a/r*i,g=o/n*Math.PI*2;f.x=(e+t*Math.cos(g))*Math.cos(m),f.y=(e+t*Math.cos(g))*Math.sin(m),f.z=t*Math.sin(g),u.push(f.x,f.y,f.z),d.x=e*Math.cos(m),d.y=e*Math.sin(m),p.subVectors(f,d).normalize(),c.push(p.x,p.y,p.z),h.push(a/r),h.push(o/n)}for(o=1;o<=n;o++)for(a=1;a<=r;a++){var v=(r+1)*o+a-1,y=(r+1)*(o-1)+a-1,b=(r+1)*(o-1)+a,x=(r+1)*o+a;s.push(v,y,x),s.push(y,b,x)}this.setIndex(s),this.addAttribute("position",new Ce(u,3)),this.addAttribute("normal",new Ce(c,3)),this.addAttribute("uv",new Ce(h,2))}function hn(e,t){ye.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new dn(e,t)),this.mergeVertices()}function dn(e,t){void 0!==e&&(Le.call(this),this.type="ExtrudeBufferGeometry",e=Array.isArray(e)?e:[e],this.addShapeList(e,t),this.computeVertexNormals())}function fn(e,t){ye.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new pn(e,t)),this.mergeVertices()}function pn(e,t){t=t||{};var n=t.font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new ye;var r=n.generateShapes(e,t.size,t.curveSegments);t.amount=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),dn.call(this,r,t),this.type="TextBufferGeometry"}function mn(e,t,n,r,i,o,a){ye.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new gn(e,t,n,r,i,o,a)),this.mergeVertices()}function gn(e,t,n,r,i,o,a){Le.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},e=e||50,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI,o=void 0!==o?o:0,a=void 0!==a?a:Math.PI;var s,u,c=o+a,h=0,d=[],f=new l,p=new l,m=[],g=[],v=[],y=[];for(u=0;u<=n;u++){var b=[],x=u/n;for(s=0;s<=t;s++){var _=s/t;f.x=-e*Math.cos(r+_*i)*Math.sin(o+x*a),f.y=e*Math.cos(o+x*a),f.z=e*Math.sin(r+_*i)*Math.sin(o+x*a),g.push(f.x,f.y,f.z),p.set(f.x,f.y,f.z).normalize(),v.push(p.x,p.y,p.z),y.push(_,1-x),b.push(h++)}d.push(b)}for(u=0;u<n;u++)for(s=0;s<t;s++){var w=d[u][s+1],E=d[u][s],M=d[u+1][s],T=d[u+1][s+1];(0!==u||o>0)&&m.push(w,E,T),(u!==n-1||c<Math.PI)&&m.push(E,M,T)}this.setIndex(m),this.addAttribute("position",new Ce(g,3)),this.addAttribute("normal",new Ce(v,3)),this.addAttribute("uv",new Ce(y,2))}function vn(e,t,n,r,i,o){ye.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new yn(e,t,n,r,i,o)),this.mergeVertices()}function yn(e,t,n,r,o,a){Le.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:o,thetaLength:a},e=e||20,t=t||50,o=void 0!==o?o:0,a=void 0!==a?a:2*Math.PI,n=void 0!==n?Math.max(3,n):8,r=void 0!==r?Math.max(1,r):1;var s,u,c,h=[],d=[],f=[],p=[],m=e,g=(t-e)/r,v=new l,y=new i;for(u=0;u<=r;u++){for(c=0;c<=n;c++)s=o+c/n*a,v.x=m*Math.cos(s),v.y=m*Math.sin(s),d.push(v.x,v.y,v.z),f.push(0,0,1),y.x=(v.x/t+1)/2,y.y=(v.y/t+1)/2,p.push(y.x,y.y);m+=g}for(u=0;u<r;u++){var b=u*(n+1);for(c=0;c<n;c++){s=c+b;var x=s,_=s+n+1,w=s+n+2,E=s+1;h.push(x,_,E),h.push(_,w,E)}}this.setIndex(h),this.addAttribute("position",new Ce(d,3)),this.addAttribute("normal",new Ce(f,3)),this.addAttribute("uv",new Ce(p,2))}function bn(e,t,n,r){ye.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},this.fromBufferGeometry(new xn(e,t,n,r)),this.mergeVertices()}function xn(e,t,n,r){Le.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t)||12,n=n||0,r=r||2*Math.PI,r=Is.clamp(r,0,2*Math.PI);var o,a,s,u=[],c=[],h=[],d=1/t,f=new l,p=new i;for(a=0;a<=t;a++){var m=n+a*d*r,g=Math.sin(m),v=Math.cos(m);for(s=0;s<=e.length-1;s++)f.x=e[s].x*g,f.y=e[s].y,f.z=e[s].x*v,c.push(f.x,f.y,f.z),p.x=a/t,p.y=s/(e.length-1),h.push(p.x,p.y)}for(a=0;a<t;a++)for(s=0;s<e.length-1;s++){o=s+a*e.length;var y=o,b=o+e.length,x=o+e.length+1,_=o+1;u.push(y,b,_),u.push(b,x,_)}if(this.setIndex(u),this.addAttribute("position",new Ce(c,3)),this.addAttribute("uv",new Ce(h,2)),this.computeVertexNormals(),r===2*Math.PI){var w=this.attributes.normal.array,E=new l,M=new l,T=new l;for(o=t*e.length*3,a=0,s=0;a<e.length;a++,s+=3)E.x=w[s+0],E.y=w[s+1],E.z=w[s+2],M.x=w[o+s+0],M.y=w[o+s+1],M.z=w[o+s+2],T.addVectors(E,M).normalize(),w[s+0]=w[o+s+0]=T.x,w[s+1]=w[o+s+1]=T.y,w[s+2]=w[o+s+2]=T.z}}function _n(e,t){ye.call(this),this.type="ShapeGeometry","object"==typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new wn(e,t)),this.mergeVertices()}function wn(e,t){function n(e){var n,s,c,l=i.length/3,h=e.extractPoints(t),d=h.shape,f=h.holes;if(!1===Ks.isClockWise(d))for(d=d.reverse(),n=0,s=f.length;n<s;n++)c=f[n],!0===Ks.isClockWise(c)&&(f[n]=c.reverse());var p=Ks.triangulateShape(d,f);for(n=0,s=f.length;n<s;n++)c=f[n],d=d.concat(c);for(n=0,s=d.length;n<s;n++){var m=d[n];i.push(m.x,m.y,0),o.push(0,0,1),a.push(m.x,m.y)}for(n=0,s=p.length;n<s;n++){var g=p[n],v=g[0]+l,y=g[1]+l,b=g[2]+l;r.push(v,y,b),u+=3}}Le.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var r=[],i=[],o=[],a=[],s=0,u=0;if(!1===Array.isArray(e))n(e);else for(var c=0;c<e.length;c++)n(e[c]),this.addGroup(s,u,c),s+=u,u=0;this.setIndex(r),this.addAttribute("position",new Ce(i,3)),this.addAttribute("normal",new Ce(o,3)),this.addAttribute("uv",new Ce(a,2))}function En(e,t){Le.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var n,r,i,o,a=[],s=Math.cos(Is.DEG2RAD*t),u=[0,0],c={},l=["a","b","c"];e.isBufferGeometry?(o=new ye,o.fromBufferGeometry(e)):o=e.clone(),o.mergeVertices(),o.computeFaceNormals();for(var h=o.vertices,d=o.faces,f=0,p=d.length;f<p;f++)for(var m=d[f],g=0;g<3;g++)n=m[l[g]],r=m[l[(g+1)%3]],u[0]=Math.min(n,r),u[1]=Math.max(n,r),i=u[0]+","+u[1],void 0===c[i]?c[i]={index1:u[0],index2:u[1],face1:f,face2:void 0}:c[i].face2=f;for(i in c){var v=c[i];if(void 0===v.face2||d[v.face1].normal.dot(d[v.face2].normal)<=s){var y=h[v.index1];a.push(y.x,y.y,y.z),y=h[v.index2],a.push(y.x,y.y,y.z)}}this.addAttribute("position",new Ce(a,3))}function Mn(e,t,n,r,i,o,a,s){ye.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new Tn(e,t,n,r,i,o,a,s)),this.mergeVertices()}function Tn(e,t,n,r,o,a,s,u){function c(n){var o,a,c,v=new i,x=new l,_=0,w=!0===n?e:t,E=!0===n?1:-1;for(a=g,o=1;o<=r;o++)f.push(0,y*E,0),p.push(0,E,0),m.push(.5,.5),g++;for(c=g,o=0;o<=r;o++){var M=o/r,T=M*u+s,S=Math.cos(T),C=Math.sin(T);x.x=w*C,x.y=y*E,x.z=w*S,f.push(x.x,x.y,x.z),p.push(0,E,0),v.x=.5*S+.5,v.y=.5*C*E+.5,m.push(v.x,v.y),g++}for(o=0;o<r;o++){var A=a+o,P=c+o;!0===n?d.push(P,P+1,A):d.push(P+1,P,A),_+=3}h.addGroup(b,_,!0===n?1:2),b+=_}Le.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:u};var h=this;e=void 0!==e?e:20,t=void 0!==t?t:20,n=void 0!==n?n:100,r=Math.floor(r)||8,o=Math.floor(o)||1,a=void 0!==a&&a,s=void 0!==s?s:0,u=void 0!==u?u:2*Math.PI;var d=[],f=[],p=[],m=[],g=0,v=[],y=n/2,b=0;!function(){var i,a,c=new l,x=new l,_=0,w=(t-e)/n;for(a=0;a<=o;a++){var E=[],M=a/o,T=M*(t-e)+e;for(i=0;i<=r;i++){var S=i/r,C=S*u+s,A=Math.sin(C),P=Math.cos(C);x.x=T*A,x.y=-M*n+y,x.z=T*P,f.push(x.x,x.y,x.z),c.set(A,w,P).normalize(),p.push(c.x,c.y,c.z),m.push(S,1-M),E.push(g++)}v.push(E)}for(i=0;i<r;i++)for(a=0;a<o;a++){var R=v[a][i],L=v[a+1][i],I=v[a+1][i+1],O=v[a][i+1];d.push(R,L,O),d.push(L,I,O),_+=6}h.addGroup(b,_,0),b+=_}(),!1===a&&(e>0&&c(!0),t>0&&c(!1)),this.setIndex(d),this.addAttribute("position",new Ce(f,3)),this.addAttribute("normal",new Ce(p,3)),this.addAttribute("uv",new Ce(m,2))}function Sn(e,t,n,r,i,o,a){Mn.call(this,0,e,t,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function Cn(e,t,n,r,i,o,a){Tn.call(this,0,e,t,n,r,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function An(e,t,n,r){ye.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new Pn(e,t,n,r)),this.mergeVertices()}function Pn(e,t,n,r){Le.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},e=e||50,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var o,a,s=[],u=[],c=[],h=[],d=new l,f=new i;for(u.push(0,0,0),c.push(0,0,1),h.push(.5,.5),a=0,o=3;a<=t;a++,o+=3){var p=n+a/t*r;d.x=e*Math.cos(p),d.y=e*Math.sin(p),u.push(d.x,d.y,d.z),c.push(0,0,1),f.x=(u[o]/e+1)/2,f.y=(u[o+1]/e+1)/2,h.push(f.x,f.y)}for(o=1;o<=t;o++)s.push(o,o+1,0);this.setIndex(s),this.addAttribute("position",new Ce(u,3)),this.addAttribute("normal",new Ce(c,3)),this.addAttribute("uv",new Ce(h,2))}function Rn(e){$.call(this),this.type="ShadowMaterial",this.color=new Y(0),this.opacity=1,this.lights=!0,this.transparent=!0,this.setValues(e)}function Ln(e){ee.call(this,e),this.type="RawShaderMaterial"}function In(e){$.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Y(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Y(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function On(e){In.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(e)}function Nn(e){$.call(this),this.type="MeshPhongMaterial",this.color=new Y(16777215),this.specular=new Y(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Y(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=la,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function kn(e){Nn.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}function Dn(e){$.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Un(e){$.call(this),this.type="MeshLambertMaterial",this.color=new Y(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Y(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=la,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Fn(e){kt.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}function Bn(e,t,n){var r=this,i=!1,o=0,a=0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){a++,!1===i&&void 0!==r.onStart&&r.onStart(e,o,a),i=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,a),o===a&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)}}function zn(e){this.manager=void 0!==e?e:eu}function Hn(e){this.manager=void 0!==e?e:eu,this._parser=null}function qn(e){this.manager=void 0!==e?e:eu,this._parser=null}function jn(e){this.manager=void 0!==e?e:eu}function Gn(e){this.manager=void 0!==e?e:eu}function Vn(e){this.manager=void 0!==e?e:eu}function Wn(e,t){de.call(this),this.type="Light",this.color=new Y(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function Xn(e,t,n){Wn.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(de.DefaultUp),this.updateMatrix(),this.groundColor=new Y(t)}function Yn(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new i(512,512),this.map=null,this.matrix=new h}function Zn(){Yn.call(this,new me(50,1,.5,500))}function Kn(e,t,n,r,i,o){Wn.call(this,e,t),this.type="SpotLight",this.position.copy(de.DefaultUp),this.updateMatrix(),this.target=new de,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new Zn}function Qn(e,t,n,r){Wn.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new Yn(new me(90,1,.5,500))}function Jn(){Yn.call(this,new pe(-5,5,5,-5,.5,500))}function $n(e,t){Wn.call(this,e,t),this.type="DirectionalLight",this.position.copy(de.DefaultUp),this.updateMatrix(),this.target=new de,this.shadow=new Jn}function er(e,t){Wn.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function tr(e,t,n,r){Wn.call(this,e,t),this.type="RectAreaLight",this.position.set(0,1,0),this.updateMatrix(),this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function nr(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function rr(e,t,n,r){nr.call(this,e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function ir(e,t,n,r){nr.call(this,e,t,n,r)}function or(e,t,n,r){nr.call(this,e,t,n,r)}function ar(e,t,n,r){if(void 0===e)throw new Error("track name is undefined");if(void 0===t||0===t.length)throw new Error("no keyframes in track named "+e);this.name=e,this.times=tu.convertArray(t,this.TimeBufferType),this.values=tu.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation),this.validate(),this.optimize()}function sr(e,t,n,r){ar.call(this,e,t,n,r)}function ur(e,t,n,r){nr.call(this,e,t,n,r)}function cr(e,t,n,r){ar.call(this,e,t,n,r)}function lr(e,t,n,r){ar.call(this,e,t,n,r)}function hr(e,t,n,r){ar.call(this,e,t,n,r)}function dr(e,t,n){ar.call(this,e,t,n)}function fr(e,t,n,r){ar.call(this,e,t,n,r)}function pr(e,t,n,r){ar.apply(this,arguments)}function mr(e,t,n){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.uuid=Is.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function gr(e){this.manager=void 0!==e?e:eu,this.textures={}}function vr(e){this.manager=void 0!==e?e:eu}function yr(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function br(e){"boolean"==typeof e&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),e=void 0),this.manager=void 0!==e?e:eu,this.withCredentials=!1}function xr(e){this.manager=void 0!==e?e:eu,this.texturePath=""}function _r(e,t,n,r,i){var o=.5*(r-t),a=.5*(i-n),s=e*e;return(2*n-2*r+o+a)*(e*s)+(-3*n+3*r-2*o-a)*s+o*e+n}function wr(e,t){var n=1-e;return n*n*t}function Er(e,t){return 2*(1-e)*e*t}function Mr(e,t){return e*e*t}function Tr(e,t,n,r){return wr(e,t)+Er(e,n)+Mr(e,r)}function Sr(e,t){var n=1-e;return n*n*n*t}function Cr(e,t){var n=1-e;return 3*n*n*e*t}function Ar(e,t){return 3*(1-e)*e*e*t}function Pr(e,t){return e*e*e*t}function Rr(e,t,n,r,i){return Sr(e,t)+Cr(e,n)+Ar(e,r)+Pr(e,i)}function Lr(){this.arcLengthDivisions=200}function Ir(e,t){Lr.call(this),this.v1=e,this.v2=t}function Or(){Lr.call(this),this.curves=[],this.autoClose=!1}function Nr(e,t,n,r,i,o,a,s){Lr.call(this),this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=a,this.aRotation=s||0}function kr(e){Lr.call(this),this.points=void 0===e?[]:e}function Dr(e,t,n,r){Lr.call(this),this.v0=e,this.v1=t,this.v2=n,this.v3=r}function Ur(e,t,n){Lr.call(this),this.v0=e,this.v1=t,this.v2=n}function Fr(e){Or.call(this),this.currentPoint=new i,e&&this.fromPoints(e)}function Br(){Fr.apply(this,arguments),this.holes=[]}function zr(){this.subPaths=[],this.currentPath=null}function Hr(e){this.data=e}function qr(e){this.manager=void 0!==e?e:eu}function jr(e){this.manager=void 0!==e?e:eu}function Gr(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new me,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new me,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function Vr(e,t,n){de.call(this),this.type="CubeCamera";var r=new me(90,1,e,t);r.up.set(0,-1,0),r.lookAt(new l(1,0,0)),this.add(r);var i=new me(90,1,e,t);i.up.set(0,-1,0),i.lookAt(new l(-1,0,0)),this.add(i);var o=new me(90,1,e,t);o.up.set(0,0,1),o.lookAt(new l(0,1,0)),this.add(o);var a=new me(90,1,e,t);a.up.set(0,0,-1),a.lookAt(new l(0,-1,0)),this.add(a);var s=new me(90,1,e,t);s.up.set(0,-1,0),s.lookAt(new l(0,0,1)),this.add(s);var c=new me(90,1,e,t);c.up.set(0,-1,0),c.lookAt(new l(0,0,-1)),this.add(c);var h={format:Ya,magFilter:Ia,minFilter:Ia};this.renderTarget=new u(n,n,h),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,u=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,e.render(t,r,n),n.activeCubeFace=1,e.render(t,i,n),n.activeCubeFace=2,e.render(t,o,n),n.activeCubeFace=3,e.render(t,a,n),n.activeCubeFace=4,e.render(t,s,n),n.texture.generateMipmaps=u,n.activeCubeFace=5,e.render(t,c,n),e.setRenderTarget(null)},this.clear=function(e,t,n,r){for(var i=this.renderTarget,o=0;o<6;o++)i.activeCubeFace=o,e.setRenderTarget(i),e.clear(t,n,r);e.setRenderTarget(null)}}function Wr(){de.call(this),this.type="AudioListener",this.context=cu.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function Xr(e){de.call(this),this.type="Audio",this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function Yr(e){Xr.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function Zr(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function Kr(e,t,n){this.binding=e,this.valueSize=n;var r,i=Float64Array;switch(t){case"quaternion":r=this._slerp;break;case"string":case"bool":i=Array,r=this._select;break;default:r=this._lerp}this.buffer=new i(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function Qr(e,t,n){var r=n||Jr.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}function Jr(e,t,n){this.path=t,this.parsedPath=n||Jr.parseTrackName(t),this.node=Jr.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function $r(e){this.uuid=Is.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var n=0,r=arguments.length;n!==r;++n)t[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}function ei(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null;for(var r=t.tracks,i=r.length,o=new Array(i),a={endingStart:gs,endingEnd:gs},s=0;s!==i;++s){var u=r[s].createInterpolant(null);o[s]=u,u.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=hs,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function ti(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function ni(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function ri(){Le.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function ii(e,t,n,r){this.uuid=Is.generateUUID(),this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}function oi(e,t){this.uuid=Is.generateUUID(),this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function ai(e,t,n){oi.call(this,e,t),this.meshPerAttribute=n||1}function si(e,t,n){be.call(this,e,t),this.meshPerAttribute=n||1}function ui(e,t,n,r){this.ray=new Ue(e,t),this.near=n||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function ci(e,t){return e.distance-t.distance}function li(e,t,n,r){if(!1!==e.visible&&(e.raycast(t,n),!0===r))for(var i=e.children,o=0,a=i.length;o<a;o++)li(i[o],t,n,!0)}function hi(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function di(e,t,n){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==n?n:0,this}function fi(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}function pi(e){de.call(this),this.material=e,this.render=function(e){}}function mi(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:16711680,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var u=new Le,c=new Ce(2*a*3,3);u.addAttribute("position",c),Ut.call(this,u,new kt({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function gi(e,t){de.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var n=new Le,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,o=1;i<32;i++,o++){var a=i/32*Math.PI*2,s=o/32*Math.PI*2;r.push(Math.cos(a),Math.sin(a),1,Math.cos(s),Math.sin(s),1)}n.addAttribute("position",new Ce(r,3));var u=new kt({fog:!1});this.cone=new Ut(n,u),this.add(this.cone),this.update()}function vi(e){var t=[];e&&e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,vi(e.children[n]));return t}function yi(e){for(var t=vi(e),n=new Le,r=[],i=[],o=new Y(0,0,1),a=new Y(0,1,0),s=0;s<t.length;s++){var u=t[s];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(o.r,o.g,o.b),i.push(a.r,a.g,a.b))}n.addAttribute("position",new Ce(r,3)),n.addAttribute("color",new Ce(i,3));var c=new kt({vertexColors:Oo,depthTest:!1,depthWrite:!1,transparent:!0});Ut.call(this,n,c),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.onBeforeRender()}function bi(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;var r=new gn(t,4,2),i=new De({wireframe:!0,fog:!1});ze.call(this,r,i),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function xi(e,t){de.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;var n=new kt({fog:!1}),r=new Le;r.addAttribute("position",new be(new Float32Array(15),3)),this.line=new Dt(r,n),this.add(this.line),this.update()}function _i(e,t,n){de.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var r=new $t(t);r.rotateY(.5*Math.PI),this.material=new De({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=Oo);var i=r.getAttribute("position"),o=new Float32Array(3*i.count);r.addAttribute("color",new be(o,3)),this.add(new ze(r,this.material)),this.update()}function wi(e,t,n,r){e=e||10,t=t||10,n=new Y(void 0!==n?n:4473924),r=new Y(void 0!==r?r:8947848);for(var i=t/2,o=e/t,a=e/2,s=[],u=[],c=0,l=0,h=-a;c<=t;c++,h+=o){s.push(-a,0,h,a,0,h),s.push(h,0,-a,h,0,a);var d=c===i?n:r;d.toArray(u,l),l+=3,d.toArray(u,l),l+=3,d.toArray(u,l),l+=3,d.toArray(u,l),l+=3}var f=new Le;f.addAttribute("position",new Ce(s,3)),f.addAttribute("color",new Ce(u,3));var p=new kt({vertexColors:Oo});Ut.call(this,f,p)}function Ei(e,t,n,r,i,o){e=e||10,t=t||16,n=n||8,r=r||64,i=new Y(void 0!==i?i:4473924),o=new Y(void 0!==o?o:8947848);var a,s,u,c,l,h,d,f=[],p=[];for(c=0;c<=t;c++)u=c/t*(2*Math.PI),a=Math.sin(u)*e,s=Math.cos(u)*e,f.push(0,0,0),f.push(a,0,s),d=1&c?i:o,p.push(d.r,d.g,d.b),p.push(d.r,d.g,d.b);for(c=0;c<=n;c++)for(d=1&c?i:o,h=e-e/n*c,l=0;l<r;l++)u=l/r*(2*Math.PI),a=Math.sin(u)*h,s=Math.cos(u)*h,f.push(a,0,s),p.push(d.r,d.g,d.b),u=(l+1)/r*(2*Math.PI),a=Math.sin(u)*h,s=Math.cos(u)*h,f.push(a,0,s),p.push(d.r,d.g,d.b);var m=new Le;m.addAttribute("position",new Ce(f,3)),m.addAttribute("color",new Ce(p,3));var g=new kt({vertexColors:Oo});Ut.call(this,m,g)}function Mi(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:16776960,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var u=new Le,c=new Ce(2*a*3,3);u.addAttribute("position",c),Ut.call(this,u,new kt({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function Ti(e,t,n){de.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1);var r=new Le;r.addAttribute("position",new Ce([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var i=new kt({fog:!1});this.lightPlane=new Dt(r,i),this.add(this.lightPlane),r=new Le,r.addAttribute("position",new Ce([0,0,0,0,0,1],3)),this.targetLine=new Dt(r,i),this.add(this.targetLine),this.update()}function Si(e){function t(e,t,r){n(e,r),n(t,r)}function n(e,t){o.push(0,0,0),a.push(t.r,t.g,t.b),void 0===s[e]&&(s[e]=[]),s[e].push(o.length/3-1)}var r=new Le,i=new kt({color:16777215,vertexColors:Io}),o=[],a=[],s={},u=new Y(16755200),c=new Y(16711680),l=new Y(43775),h=new Y(16777215),d=new Y(3355443);t("n1","n2",u),t("n2","n4",u),t("n4","n3",u),t("n3","n1",u),t("f1","f2",u),t("f2","f4",u),t("f4","f3",u),t("f3","f1",u),t("n1","f1",u),t("n2","f2",u),t("n3","f3",u),t("n4","f4",u),t("p","n1",c),t("p","n2",c),t("p","n3",c),t("p","n4",c),t("u1","u2",l),t("u2","u3",l),t("u3","u1",l),t("c","t",h),t("p","c",d),t("cn1","cn2",d),t("cn3","cn4",d),t("cf1","cf2",d),t("cf3","cf4",d),r.addAttribute("position",new Ce(o,3)),r.addAttribute("color",new Ce(a,3)),Ut.call(this,r,i),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}function Ci(e,t){this.object=e,void 0===t&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new Le;i.setIndex(new be(n,1)),i.addAttribute("position",new be(r,3)),Ut.call(this,i,new kt({color:t})),this.matrixAutoUpdate=!1,this.update()}function Ai(e,t){this.type="Box3Helper",this.box=e;var n=void 0!==t?t:16776960,r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new Le;o.setIndex(new be(r,1)),o.addAttribute("position",new Ce(i,3)),Ut.call(this,o,new kt({color:n})),this.geometry.computeBoundingSphere(),this.onBeforeRender()}function Pi(e,t,n){this.type="PlaneHelper",this.plane=e,this.size=void 0===t?1:t;var r=void 0!==n?n:16776960,i=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],o=new Le;o.addAttribute("position",new Ce(i,3)),o.computeBoundingSphere(),Dt.call(this,o,new kt({color:r}));var a=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],s=new Le;s.addAttribute("position",new Ce(a,3)),s.computeBoundingSphere(),this.add(new ze(s,new De({color:r,opacity:.2,transparent:!0,depthWrite:!1}))),this.onBeforeRender()}function Ri(e,t,n,r,i,o){de.call(this),void 0===r&&(r=16776960),void 0===n&&(n=1),void 0===i&&(i=.2*n),void 0===o&&(o=.2*i),void 0===lu&&(lu=new Le,lu.addAttribute("position",new Ce([0,0,0,0,1,0],3)),hu=new Tn(0,.5,1,5,1),hu.translate(0,-.5,0)),this.position.copy(t),this.line=new Dt(lu,new kt({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ze(hu,new De({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,o)}function Li(e){e=e||1;var t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Le;r.addAttribute("position",new Ce(t,3)),r.addAttribute("color",new Ce(n,3));var i=new kt({vertexColors:Oo});Ut.call(this,r,i)}function Ii(){function e(e,o,a,s){t=e,n=a,r=-3*e+3*o-2*a-s,i=2*e-2*o+a+s}var t=0,n=0,r=0,i=0;return{initCatmullRom:function(t,n,r,i,o){e(n,r,o*(r-t),o*(i-n))},initNonuniformCatmullRom:function(t,n,r,i,o,a,s){var u=(n-t)/o-(r-t)/(o+a)+(r-n)/a,c=(r-n)/a-(i-n)/(a+s)+(i-r)/s;u*=a,c*=a,e(n,r,u,c)},calc:function(e){var o=e*e;return t+n*e+r*o+i*(o*e)}}}function Oi(e){Lr.call(this),e.length<2&&console.warn("THREE.CatmullRomCurve3: Points array needs at least two entries."),this.points=e||[],this.closed=!1}function Ni(e,t,n,r){Lr.call(this),this.v0=e,this.v1=t,this.v2=n,this.v3=r}function ki(e,t,n){Lr.call(this),this.v0=e,this.v1=t,this.v2=n}function Di(e,t){Lr.call(this),this.v1=e,this.v2=t}function Ui(e,t,n,r,i,o){Nr.call(this,e,t,n,n,r,i,o)}function Fi(e,t,n,r,i,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new ge(e,t,n,i,o,a)}function Bi(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e}function zi(e){return void 0===e&&(e=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function Hi(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new zt(e,t)}function qi(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Rt(e)}function ji(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new zt(e,t)}function Gi(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Bt(e)}function Vi(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Bt(e)}function Wi(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Bt(e)}function Xi(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new l(e,t,n)}function Yi(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new be(e,t).setDynamic(!0)}function Zi(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new xe(e,t)}function Ki(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new _e(e,t)}function Qi(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new we(e,t)}function Ji(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Ee(e,t)}function $i(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Me(e,t)}function eo(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Te(e,t)}function to(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Se(e,t)}function no(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Ce(e,t)}function ro(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Ae(e,t)}function io(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Oi.call(this,e),this.type="catmullrom",this.closed=!0}function oo(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Oi.call(this,e),this.type="catmullrom"}function ao(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Oi.call(this,e),this.type="catmullrom"}function so(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Ci(e,t)}function uo(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Ut(new En(e.geometry),new kt({color:void 0!==t?t:16777215}))}function co(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Ut(new Vt(e.geometry),new kt({color:void 0!==t?t:16777215}))}function lo(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new zn(e)}function ho(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new qn(e)}function fo(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(e,t){console.warn("THREE.Projector: .projectVector() is now vector.project()."),e.project(t)},this.unprojectVector=function(e,t){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),e.unproject(t)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}}function po(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"WebGLRenderTargetCube",function(){return u}),n.d(t,"WebGLRenderTarget",function(){return s}),n.d(t,"WebGLRenderer",function(){return Mt}),n.d(t,"ShaderLib",function(){return Vs}),n.d(t,"UniformsLib",function(){return qs}),n.d(t,"UniformsUtils",function(){return js}),n.d(t,"ShaderChunk",function(){return Gs}),n.d(t,"FogExp2",function(){return Tt}),n.d(t,"Fog",function(){return St}),n.d(t,"Scene",function(){return Ct}),n.d(t,"LensFlare",function(){return At}),n.d(t,"Sprite",function(){return Rt}),n.d(t,"LOD",function(){return Lt}),n.d(t,"SkinnedMesh",function(){return Nt}),n.d(t,"Skeleton",function(){return It}),n.d(t,"Bone",function(){return Ot}),n.d(t,"Mesh",function(){return ze}),n.d(t,"LineSegments",function(){return Ut}),n.d(t,"LineLoop",function(){return Ft}),n.d(t,"Line",function(){return Dt}),n.d(t,"Points",function(){return zt}),n.d(t,"Group",function(){return Ht}),n.d(t,"VideoTexture",function(){return qt}),n.d(t,"DataTexture",function(){return d}),n.d(t,"CompressedTexture",function(){return jt}),n.d(t,"CubeTexture",function(){return f}),n.d(t,"CanvasTexture",function(){return Q}),n.d(t,"DepthTexture",function(){return Gt}),n.d(t,"Texture",function(){return o}),n.d(t,"CompressedTextureLoader",function(){return Hn}),n.d(t,"DataTextureLoader",function(){return qn}),n.d(t,"CubeTextureLoader",function(){return Gn}),n.d(t,"TextureLoader",function(){return Vn}),n.d(t,"ObjectLoader",function(){return xr}),n.d(t,"MaterialLoader",function(){return gr}),n.d(t,"BufferGeometryLoader",function(){return vr}),n.d(t,"DefaultLoadingManager",function(){return eu}),n.d(t,"LoadingManager",function(){return Bn}),n.d(t,"JSONLoader",function(){return br}),n.d(t,"ImageLoader",function(){return jn}),n.d(t,"FontLoader",function(){return qr}),n.d(t,"FileLoader",function(){return zn}),n.d(t,"Loader",function(){return yr}),n.d(t,"Cache",function(){return $s}),n.d(t,"AudioLoader",function(){return jr}),n.d(t,"SpotLightShadow",function(){return Zn}),n.d(t,"SpotLight",function(){return Kn}),n.d(t,"PointLight",function(){return Qn}),n.d(t,"RectAreaLight",function(){return tr}),n.d(t,"HemisphereLight",function(){return Xn}),n.d(t,"DirectionalLightShadow",function(){return Jn}),n.d(t,"DirectionalLight",function(){return $n}),n.d(t,"AmbientLight",function(){return er}),n.d(t,"LightShadow",function(){return Yn}),n.d(t,"Light",function(){return Wn}),n.d(t,"StereoCamera",function(){return Gr}),n.d(t,"PerspectiveCamera",function(){return me}),n.d(t,"OrthographicCamera",function(){return pe}),n.d(t,"CubeCamera",function(){return Vr}),n.d(t,"ArrayCamera",function(){return bt}),n.d(t,"Camera",function(){return fe}),n.d(t,"AudioListener",function(){return Wr}),n.d(t,"PositionalAudio",function(){return Yr}),n.d(t,"AudioContext",function(){return cu}),n.d(t,"AudioAnalyser",function(){return Zr}),n.d(t,"Audio",function(){return Xr}),n.d(t,"VectorKeyframeTrack",function(){return sr}),n.d(t,"StringKeyframeTrack",function(){return hr}),n.d(t,"QuaternionKeyframeTrack",function(){return cr}),n.d(t,"NumberKeyframeTrack",function(){return lr}),n.d(t,"ColorKeyframeTrack",function(){return fr}),n.d(t,"BooleanKeyframeTrack",function(){return dr}),n.d(t,"PropertyMixer",function(){return Kr}),n.d(t,"PropertyBinding",function(){return Jr}),n.d(t,"KeyframeTrack",function(){return pr}),n.d(t,"AnimationUtils",function(){return tu}),n.d(t,"AnimationObjectGroup",function(){return $r}),n.d(t,"AnimationMixer",function(){return ti}),n.d(t,"AnimationClip",function(){return mr}),n.d(t,"Uniform",function(){return ni}),n.d(t,"InstancedBufferGeometry",function(){return ri}),n.d(t,"BufferGeometry",function(){return Le}),n.d(t,"GeometryIdCount",function(){return ve}),n.d(t,"Geometry",function(){return ye}),n.d(t,"InterleavedBufferAttribute",function(){return ii}),n.d(t,"InstancedInterleavedBuffer",function(){return ai}),n.d(t,"InterleavedBuffer",function(){return oi}),n.d(t,"InstancedBufferAttribute",function(){return si}),n.d(t,"Face3",function(){return ge}),n.d(t,"Object3D",function(){return de}),n.d(t,"Raycaster",function(){return ui}),n.d(t,"Layers",function(){return he}),n.d(t,"EventDispatcher",function(){return r}),n.d(t,"Clock",function(){return hi}),n.d(t,"QuaternionLinearInterpolant",function(){return ur}),n.d(t,"LinearInterpolant",function(){return ir}),n.d(t,"DiscreteInterpolant",function(){return or}),n.d(t,"CubicInterpolant",function(){return rr}),n.d(t,"Interpolant",function(){return nr}),n.d(t,"Triangle",function(){return Be}),n.d(t,"Math",function(){return Is}),n.d(t,"Spherical",function(){return di}),n.d(t,"Cylindrical",function(){return fi}),n.d(t,"Plane",function(){return ae}),n.d(t,"Frustum",function(){return se}),n.d(t,"Sphere",function(){return ie}),n.d(t,"Ray",function(){return Ue}),n.d(t,"Matrix4",function(){return h}),n.d(t,"Matrix3",function(){return oe}),n.d(t,"Box3",function(){return re}),n.d(t,"Box2",function(){return Z}),n.d(t,"Line3",function(){return Fe}),n.d(t,"Euler",function(){return le}),n.d(t,"Vector4",function(){return a}),n.d(t,"Vector3",function(){return l}),n.d(t,"Vector2",function(){return i}),n.d(t,"Quaternion",function(){return c}),n.d(t,"Color",function(){return Y}),n.d(t,"ImmediateRenderObject",function(){return pi}),n.d(t,"VertexNormalsHelper",function(){return mi}),n.d(t,"SpotLightHelper",function(){return gi}),n.d(t,"SkeletonHelper",function(){return yi}),n.d(t,"PointLightHelper",function(){return bi}),n.d(t,"RectAreaLightHelper",function(){return xi}),n.d(t,"HemisphereLightHelper",function(){return _i}),n.d(t,"GridHelper",function(){return wi}),n.d(t,"PolarGridHelper",function(){return Ei}),n.d(t,"FaceNormalsHelper",function(){return Mi}),n.d(t,"DirectionalLightHelper",function(){return Ti}),n.d(t,"CameraHelper",function(){return Si}),n.d(t,"BoxHelper",function(){return Ci}),n.d(t,"Box3Helper",function(){return Ai}),n.d(t,"PlaneHelper",function(){return Pi}),n.d(t,"ArrowHelper",function(){return Ri}),n.d(t,"AxisHelper",function(){return Li}),n.d(t,"CatmullRomCurve3",function(){return Oi}),n.d(t,"CubicBezierCurve3",function(){return Ni}),n.d(t,"QuadraticBezierCurve3",function(){return ki}),n.d(t,"LineCurve3",function(){return Di}),n.d(t,"ArcCurve",function(){return Ui}),n.d(t,"EllipseCurve",function(){return Nr}),n.d(t,"SplineCurve",function(){return kr}),n.d(t,"CubicBezierCurve",function(){return Dr}),n.d(t,"QuadraticBezierCurve",function(){return Ur}),n.d(t,"LineCurve",function(){return Ir}),n.d(t,"Shape",function(){return Br}),n.d(t,"Path",function(){return Fr}),n.d(t,"ShapePath",function(){return zr}),n.d(t,"Font",function(){return Hr}),n.d(t,"CurvePath",function(){return Or}),n.d(t,"Curve",function(){return Lr}),n.d(t,"ShapeUtils",function(){return Ks}),n.d(t,"SceneUtils",function(){return gu}),n.d(t,"WebGLUtils",function(){return Et}),n.d(t,"WireframeGeometry",function(){return Vt}),n.d(t,"ParametricGeometry",function(){return Wt}),n.d(t,"ParametricBufferGeometry",function(){return Xt}),n.d(t,"TetrahedronGeometry",function(){return Kt}),n.d(t,"TetrahedronBufferGeometry",function(){return Qt}),n.d(t,"OctahedronGeometry",function(){return Jt}),n.d(t,"OctahedronBufferGeometry",function(){return $t}),n.d(t,"IcosahedronGeometry",function(){return en}),n.d(t,"IcosahedronBufferGeometry",function(){return tn}),n.d(t,"DodecahedronGeometry",function(){return nn}),n.d(t,"DodecahedronBufferGeometry",function(){return rn}),n.d(t,"PolyhedronGeometry",function(){return Yt}),n.d(t,"PolyhedronBufferGeometry",function(){return Zt}),n.d(t,"TubeGeometry",function(){return on}),n.d(t,"TubeBufferGeometry",function(){return an}),n.d(t,"TorusKnotGeometry",function(){return sn}),n.d(t,"TorusKnotBufferGeometry",function(){return un}),n.d(t,"TorusGeometry",function(){return cn}),n.d(t,"TorusBufferGeometry",function(){return ln}),n.d(t,"TextGeometry",function(){return fn}),n.d(t,"TextBufferGeometry",function(){return pn}),n.d(t,"SphereGeometry",function(){return mn}),n.d(t,"SphereBufferGeometry",function(){return gn}),n.d(t,"RingGeometry",function(){return vn}),n.d(t,"RingBufferGeometry",function(){return yn}),n.d(t,"PlaneGeometry",function(){return Ne}),n.d(t,"PlaneBufferGeometry",function(){return ke}),n.d(t,"LatheGeometry",function(){return bn}),n.d(t,"LatheBufferGeometry",function(){return xn}),n.d(t,"ShapeGeometry",function(){return _n}),n.d(t,"ShapeBufferGeometry",function(){return wn}),n.d(t,"ExtrudeGeometry",function(){return hn}),n.d(t,"ExtrudeBufferGeometry",function(){return dn}),n.d(t,"EdgesGeometry",function(){return En}),n.d(t,"ConeGeometry",function(){return Sn}),n.d(t,"ConeBufferGeometry",function(){return Cn}),n.d(t,"CylinderGeometry",function(){return Mn}),n.d(t,"CylinderBufferGeometry",function(){return Tn}),n.d(t,"CircleGeometry",function(){return An}),n.d(t,"CircleBufferGeometry",function(){return Pn}),n.d(t,"BoxGeometry",function(){return Ie}),n.d(t,"BoxBufferGeometry",function(){return Oe}),n.d(t,"ShadowMaterial",function(){return Rn}),n.d(t,"SpriteMaterial",function(){return Pt}),n.d(t,"RawShaderMaterial",function(){return Ln});n.d(t,"ShaderMaterial",function(){return ee}),n.d(t,"PointsMaterial",function(){return Bt}),n.d(t,"MeshPhysicalMaterial",function(){return On}),n.d(t,"MeshStandardMaterial",function(){return In}),n.d(t,"MeshPhongMaterial",function(){return Nn}),n.d(t,"MeshToonMaterial",function(){return kn}),n.d(t,"MeshNormalMaterial",function(){return Dn}),n.d(t,"MeshLambertMaterial",function(){return Un}),n.d(t,"MeshDepthMaterial",function(){return te}),n.d(t,"MeshDistanceMaterial",function(){return ne}),n.d(t,"MeshBasicMaterial",function(){return De}),n.d(t,"LineDashedMaterial",function(){return Fn}),n.d(t,"LineBasicMaterial",function(){return kt}),n.d(t,"Material",function(){return $}),n.d(t,"Float64BufferAttribute",function(){return Ae}),n.d(t,"Float32BufferAttribute",function(){return Ce}),n.d(t,"Uint32BufferAttribute",function(){return Se}),n.d(t,"Int32BufferAttribute",function(){return Te}),n.d(t,"Uint16BufferAttribute",function(){return Me}),n.d(t,"Int16BufferAttribute",function(){return Ee}),n.d(t,"Uint8ClampedBufferAttribute",function(){return we}),n.d(t,"Uint8BufferAttribute",function(){return _e}),n.d(t,"Int8BufferAttribute",function(){return xe}),n.d(t,"BufferAttribute",function(){return be}),n.d(t,"REVISION",function(){return mo}),n.d(t,"MOUSE",function(){return go}),n.d(t,"CullFaceNone",function(){return vo}),n.d(t,"CullFaceBack",function(){return yo}),n.d(t,"CullFaceFront",function(){return bo}),n.d(t,"CullFaceFrontBack",function(){return xo}),n.d(t,"FrontFaceDirectionCW",function(){return _o}),n.d(t,"FrontFaceDirectionCCW",function(){return wo}),n.d(t,"BasicShadowMap",function(){return Eo}),n.d(t,"PCFShadowMap",function(){return Mo}),n.d(t,"PCFSoftShadowMap",function(){return To}),n.d(t,"FrontSide",function(){return So}),n.d(t,"BackSide",function(){return Co}),n.d(t,"DoubleSide",function(){return Ao}),n.d(t,"FlatShading",function(){return Po}),n.d(t,"SmoothShading",function(){return Ro}),n.d(t,"NoColors",function(){return Lo}),n.d(t,"FaceColors",function(){return Io}),n.d(t,"VertexColors",function(){return Oo}),n.d(t,"NoBlending",function(){return No}),n.d(t,"NormalBlending",function(){return ko}),n.d(t,"AdditiveBlending",function(){return Do}),n.d(t,"SubtractiveBlending",function(){return Uo}),n.d(t,"MultiplyBlending",function(){return Fo}),n.d(t,"CustomBlending",function(){return Bo}),n.d(t,"AddEquation",function(){return zo}),n.d(t,"SubtractEquation",function(){return Ho}),n.d(t,"ReverseSubtractEquation",function(){return qo}),n.d(t,"MinEquation",function(){return jo}),n.d(t,"MaxEquation",function(){return Go}),n.d(t,"ZeroFactor",function(){return Vo}),n.d(t,"OneFactor",function(){return Wo}),n.d(t,"SrcColorFactor",function(){return Xo}),n.d(t,"OneMinusSrcColorFactor",function(){return Yo}),n.d(t,"SrcAlphaFactor",function(){return Zo}),n.d(t,"OneMinusSrcAlphaFactor",function(){return Ko}),n.d(t,"DstAlphaFactor",function(){return Qo}),n.d(t,"OneMinusDstAlphaFactor",function(){return Jo}),n.d(t,"DstColorFactor",function(){return $o}),n.d(t,"OneMinusDstColorFactor",function(){return ea}),n.d(t,"SrcAlphaSaturateFactor",function(){return ta}),n.d(t,"NeverDepth",function(){return na}),n.d(t,"AlwaysDepth",function(){return ra}),n.d(t,"LessDepth",function(){return ia}),n.d(t,"LessEqualDepth",function(){return oa}),n.d(t,"EqualDepth",function(){return aa}),n.d(t,"GreaterEqualDepth",function(){return sa}),n.d(t,"GreaterDepth",function(){return ua}),n.d(t,"NotEqualDepth",function(){return ca}),n.d(t,"MultiplyOperation",function(){return la}),n.d(t,"MixOperation",function(){return ha}),n.d(t,"AddOperation",function(){return da}),n.d(t,"NoToneMapping",function(){return fa}),n.d(t,"LinearToneMapping",function(){return pa}),n.d(t,"ReinhardToneMapping",function(){return ma}),n.d(t,"Uncharted2ToneMapping",function(){return ga}),n.d(t,"CineonToneMapping",function(){return va}),n.d(t,"UVMapping",function(){return ya}),n.d(t,"CubeReflectionMapping",function(){return ba}),n.d(t,"CubeRefractionMapping",function(){return xa}),n.d(t,"EquirectangularReflectionMapping",function(){return _a}),n.d(t,"EquirectangularRefractionMapping",function(){return wa}),n.d(t,"SphericalReflectionMapping",function(){return Ea}),n.d(t,"CubeUVReflectionMapping",function(){return Ma}),n.d(t,"CubeUVRefractionMapping",function(){return Ta}),n.d(t,"RepeatWrapping",function(){return Sa}),n.d(t,"ClampToEdgeWrapping",function(){return Ca}),n.d(t,"MirroredRepeatWrapping",function(){return Aa}),n.d(t,"NearestFilter",function(){return Pa}),n.d(t,"NearestMipMapNearestFilter",function(){return Ra}),n.d(t,"NearestMipMapLinearFilter",function(){return La}),n.d(t,"LinearFilter",function(){return Ia}),n.d(t,"LinearMipMapNearestFilter",function(){return Oa}),n.d(t,"LinearMipMapLinearFilter",function(){return Na}),n.d(t,"UnsignedByteType",function(){return ka}),n.d(t,"ByteType",function(){return Da}),n.d(t,"ShortType",function(){return Ua}),n.d(t,"UnsignedShortType",function(){return Fa}),n.d(t,"IntType",function(){return Ba}),n.d(t,"UnsignedIntType",function(){return za}),n.d(t,"FloatType",function(){return Ha}),n.d(t,"HalfFloatType",function(){return qa}),n.d(t,"UnsignedShort4444Type",function(){return ja}),n.d(t,"UnsignedShort5551Type",function(){return Ga}),n.d(t,"UnsignedShort565Type",function(){return Va}),n.d(t,"UnsignedInt248Type",function(){return Wa}),n.d(t,"AlphaFormat",function(){return Xa}),n.d(t,"RGBFormat",function(){return Ya}),n.d(t,"RGBAFormat",function(){return Za}),n.d(t,"LuminanceFormat",function(){return Ka}),n.d(t,"LuminanceAlphaFormat",function(){return Qa}),n.d(t,"RGBEFormat",function(){return Ja}),n.d(t,"DepthFormat",function(){return $a}),n.d(t,"DepthStencilFormat",function(){return es}),n.d(t,"RGB_S3TC_DXT1_Format",function(){return ts}),n.d(t,"RGBA_S3TC_DXT1_Format",function(){return ns}),n.d(t,"RGBA_S3TC_DXT3_Format",function(){return rs}),n.d(t,"RGBA_S3TC_DXT5_Format",function(){return is}),n.d(t,"RGB_PVRTC_4BPPV1_Format",function(){return os}),n.d(t,"RGB_PVRTC_2BPPV1_Format",function(){return as}),n.d(t,"RGBA_PVRTC_4BPPV1_Format",function(){return ss}),n.d(t,"RGBA_PVRTC_2BPPV1_Format",function(){return us}),n.d(t,"RGB_ETC1_Format",function(){return cs}),n.d(t,"LoopOnce",function(){return ls}),n.d(t,"LoopRepeat",function(){return hs}),n.d(t,"LoopPingPong",function(){return ds}),n.d(t,"InterpolateDiscrete",function(){return fs}),n.d(t,"InterpolateLinear",function(){return ps}),n.d(t,"InterpolateSmooth",function(){return ms}),n.d(t,"ZeroCurvatureEnding",function(){return gs}),n.d(t,"ZeroSlopeEnding",function(){return vs}),n.d(t,"WrapAroundEnding",function(){return ys}),n.d(t,"TrianglesDrawMode",function(){return bs}),n.d(t,"TriangleStripDrawMode",function(){return xs}),n.d(t,"TriangleFanDrawMode",function(){return _s}),n.d(t,"LinearEncoding",function(){return ws}),n.d(t,"sRGBEncoding",function(){return Es}),n.d(t,"GammaEncoding",function(){return Ms}),n.d(t,"RGBEEncoding",function(){return Ts}),n.d(t,"LogLuvEncoding",function(){return Ss}),n.d(t,"RGBM7Encoding",function(){return Cs}),n.d(t,"RGBM16Encoding",function(){return As}),n.d(t,"RGBDEncoding",function(){return Ps}),n.d(t,"BasicDepthPacking",function(){return Rs}),n.d(t,"RGBADepthPacking",function(){return Ls}),n.d(t,"CubeGeometry",function(){return Ie}),n.d(t,"Face4",function(){return Fi}),n.d(t,"LineStrip",function(){return vu}),n.d(t,"LinePieces",function(){return yu}),n.d(t,"MeshFaceMaterial",function(){return Bi}),n.d(t,"MultiMaterial",function(){return zi}),n.d(t,"PointCloud",function(){return Hi}),n.d(t,"Particle",function(){return qi}),n.d(t,"ParticleSystem",function(){return ji}),n.d(t,"PointCloudMaterial",function(){return Gi}),n.d(t,"ParticleBasicMaterial",function(){return Vi}),n.d(t,"ParticleSystemMaterial",function(){return Wi}),n.d(t,"Vertex",function(){return Xi}),n.d(t,"DynamicBufferAttribute",function(){return Yi}),n.d(t,"Int8Attribute",function(){return Zi}),n.d(t,"Uint8Attribute",function(){return Ki}),n.d(t,"Uint8ClampedAttribute",function(){return Qi}),n.d(t,"Int16Attribute",function(){return Ji}),n.d(t,"Uint16Attribute",function(){return $i}),n.d(t,"Int32Attribute",function(){return eo}),n.d(t,"Uint32Attribute",function(){return to}),n.d(t,"Float32Attribute",function(){return no}),n.d(t,"Float64Attribute",function(){return ro}),n.d(t,"ClosedSplineCurve3",function(){return io}),n.d(t,"SplineCurve3",function(){return oo}),n.d(t,"Spline",function(){return ao}),n.d(t,"BoundingBoxHelper",function(){return so}),n.d(t,"EdgesHelper",function(){return uo}),n.d(t,"WireframeHelper",function(){return co}),n.d(t,"XHRLoader",function(){return lo}),n.d(t,"BinaryTextureLoader",function(){return ho}),n.d(t,"GeometryUtils",function(){return bu}),n.d(t,"ImageUtils",function(){return xu}),n.d(t,"Projector",function(){return fo}),n.d(t,"CanvasRenderer",function(){return po}),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&function(){Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}}(),Object.assign(r.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners,r=n[e];if(void 0!==r){var i=r.indexOf(t);-1!==i&&r.splice(i,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners,n=t[e.type];if(void 0!==n){e.target=this;for(var r=n.slice(0),i=0,o=r.length;i<o;i++)r[i].call(this,e)}}}});var mo="87",go={LEFT:0,MIDDLE:1,RIGHT:2},vo=0,yo=1,bo=2,xo=3,_o=0,wo=1,Eo=0,Mo=1,To=2,So=0,Co=1,Ao=2,Po=1,Ro=2,Lo=0,Io=1,Oo=2,No=0,ko=1,Do=2,Uo=3,Fo=4,Bo=5,zo=100,Ho=101,qo=102,jo=103,Go=104,Vo=200,Wo=201,Xo=202,Yo=203,Zo=204,Ko=205,Qo=206,Jo=207,$o=208,ea=209,ta=210,na=0,ra=1,ia=2,oa=3,aa=4,sa=5,ua=6,ca=7,la=0,ha=1,da=2,fa=0,pa=1,ma=2,ga=3,va=4,ya=300,ba=301,xa=302,_a=303,wa=304,Ea=305,Ma=306,Ta=307,Sa=1e3,Ca=1001,Aa=1002,Pa=1003,Ra=1004,La=1005,Ia=1006,Oa=1007,Na=1008,ka=1009,Da=1010,Ua=1011,Fa=1012,Ba=1013,za=1014,Ha=1015,qa=1016,ja=1017,Ga=1018,Va=1019,Wa=1020,Xa=1021,Ya=1022,Za=1023,Ka=1024,Qa=1025,Ja=Za,$a=1026,es=1027,ts=2001,ns=2002,rs=2003,is=2004,os=2100,as=2101,ss=2102,us=2103,cs=2151,ls=2200,hs=2201,ds=2202,fs=2300,ps=2301,ms=2302,gs=2400,vs=2401,ys=2402,bs=0,xs=1,_s=2,ws=3e3,Es=3001,Ms=3007,Ts=3002,Ss=3003,Cs=3004,As=3005,Ps=3006,Rs=3200,Ls=3201,Is={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=new Array(36),r=0;return function(){for(var i=0;i<36;i++)8===i||13===i||18===i||23===i?n[i]="-":14===i?n[i]="4":(r<=2&&(r=33554432+16777216*Math.random()|0),e=15&r,r>>=4,n[i]=t[19===i?3&e|8:e]);return n.join("")}}(),clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*Is.DEG2RAD},radToDeg:function(e){return e*Is.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},nearestPowerOfTwo:function(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))},nextPowerOfTwo:function(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}};Object.defineProperties(i.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(i.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(){var e=new i,t=new i;return function(n,r){return e.set(n,n),t.set(r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},distanceToManhattan:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this}});var Os=0;o.DEFAULT_IMAGE=void 0,o.DEFAULT_MAPPING=ya,Object.defineProperty(o.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(o.prototype,r.prototype,{constructor:o,isTexture:!0,clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){if(void 0!==e.textures[this.uuid])return e.textures[this.uuid];var t={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var n=this.image;void 0===n.uuid&&(n.uuid=Is.generateUUID()),void 0===e.images[n.uuid]&&(e.images[n.uuid]={uuid:n.uuid,url:function(e){var t;if(e instanceof HTMLCanvasElement)t=e;else{t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),t.width=e.width,t.height=e.height;var n=t.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height)}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}(n)}),t.image=n.uuid}return e.textures[this.uuid]=t,t},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping===ya){if(e.multiply(this.repeat),e.add(this.offset),e.x<0||e.x>1)switch(this.wrapS){case Sa:e.x=e.x-Math.floor(e.x);break;case Ca:e.x=e.x<0?0:1;break;case Aa:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Sa:e.y=e.y-Math.floor(e.y);break;case Ca:e.y=e.y<0?0:1;break;case Aa:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}this.flipY&&(e.y=1-e.y)}}}),Object.assign(a.prototype,{isVector4:!0,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,r,i,o=e.elements,a=o[0],s=o[4],u=o[8],c=o[1],l=o[5],h=o[9],d=o[2],f=o[6],p=o[10];if(Math.abs(s-c)<.01&&Math.abs(u-d)<.01&&Math.abs(h-f)<.01){if(Math.abs(s+c)<.1&&Math.abs(u+d)<.1&&Math.abs(h+f)<.1&&Math.abs(a+l+p-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var m=(a+1)/2,g=(l+1)/2,v=(p+1)/2,y=(s+c)/4,b=(u+d)/4,x=(h+f)/4;return m>g&&m>v?m<.01?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(m),r=y/n,i=b/n):g>v?g<.01?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(g),n=y/r,i=x/r):v<.01?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(v),n=b/i,r=x/i),this.set(n,r,i,t),this}var _=Math.sqrt((f-h)*(f-h)+(u-d)*(u-d)+(c-s)*(c-s));return Math.abs(_)<.001&&(_=1),this.x=(f-h)/_,this.y=(u-d)/_,this.z=(c-s)/_,this.w=Math.acos((a+l+p-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(){var e,t;return function(n,r){return void 0===e&&(e=new a,t=new a),e.set(n,n,n,n),t.set(r,r,r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),Object.assign(s.prototype,r.prototype,{isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),u.prototype=Object.create(s.prototype),u.prototype.constructor=u,u.prototype.isWebGLRenderTargetCube=!0,Object.assign(c,{slerp:function(e,t,n,r){return n.copy(e).slerp(t,r)},slerpFlat:function(e,t,n,r,i,o,a){var s=n[r+0],u=n[r+1],c=n[r+2],l=n[r+3],h=i[o+0],d=i[o+1],f=i[o+2],p=i[o+3];if(l!==p||s!==h||u!==d||c!==f){var m=1-a,g=s*h+u*d+c*f+l*p,v=g>=0?1:-1,y=1-g*g;if(y>Number.EPSILON){var b=Math.sqrt(y),x=Math.atan2(b,g*v);m=Math.sin(m*x)/b,a=Math.sin(a*x)/b}var _=a*v;if(s=s*m+h*_,u=u*m+d*_,c=c*m+f*_,l=l*m+p*_,m===1-a){var w=1/Math.sqrt(s*s+u*u+c*c+l*l);s*=w,u*=w,c*=w,l*=w}}e[t]=s,e[t+1]=u,e[t+2]=c,e[t+3]=l}}),Object.defineProperties(c.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this.onChangeCallback()}}}),Object.assign(c.prototype,{set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z,o=e.order,a=Math.cos,s=Math.sin,u=a(n/2),c=a(r/2),l=a(i/2),h=s(n/2),d=s(r/2),f=s(i/2);return"XYZ"===o?(this._x=h*c*l+u*d*f,this._y=u*d*l-h*c*f,this._z=u*c*f+h*d*l,this._w=u*c*l-h*d*f):"YXZ"===o?(this._x=h*c*l+u*d*f,this._y=u*d*l-h*c*f,this._z=u*c*f-h*d*l,this._w=u*c*l+h*d*f):"ZXY"===o?(this._x=h*c*l-u*d*f,this._y=u*d*l+h*c*f,this._z=u*c*f+h*d*l,this._w=u*c*l-h*d*f):"ZYX"===o?(this._x=h*c*l-u*d*f,this._y=u*d*l+h*c*f,this._z=u*c*f-h*d*l,this._w=u*c*l+h*d*f):"YZX"===o?(this._x=h*c*l+u*d*f,this._y=u*d*l+h*c*f,this._z=u*c*f-h*d*l,this._w=u*c*l-h*d*f):"XZY"===o&&(this._x=h*c*l-u*d*f,this._y=u*d*l-h*c*f,this._z=u*c*f+h*d*l,this._w=u*c*l+h*d*f),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t,n=e.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],u=n[9],c=n[2],l=n[6],h=n[10],d=r+s+h;return d>0?(t=.5/Math.sqrt(d+1),this._w=.25/t,this._x=(l-u)*t,this._y=(o-c)*t,this._z=(a-i)*t):r>s&&r>h?(t=2*Math.sqrt(1+r-s-h),this._w=(l-u)/t,this._x=.25*t,this._y=(i+a)/t,this._z=(o+c)/t):s>h?(t=2*Math.sqrt(1+s-r-h),this._w=(o-c)/t,this._x=(i+a)/t,this._y=.25*t,this._z=(u+l)/t):(t=2*Math.sqrt(1+h-r-s),this._w=(a-i)/t,this._x=(o+c)/t,this._y=(u+l)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,t=new l;return function(n,r){return void 0===t&&(t=new l),e=n.dot(r)+1,e<1e-6?(e=0,Math.abs(n.x)>Math.abs(n.z)?t.set(-n.y,n.x,0):t.set(0,-n.z,n.y)):t.crossVectors(n,r),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,r=e._y,i=e._z,o=e._w,a=t._x,s=t._y,u=t._z,c=t._w;return this._x=n*c+o*a+r*u-i*s,this._y=r*c+o*s+i*a-n*u,this._z=i*c+o*u+n*s-r*a,this._w=o*c-n*a-r*s-i*u,this.onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*e._w+n*e._x+r*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=Math.sqrt(1-a*a);if(Math.abs(s)<.001)return this._w=.5*(o+this._w),this._x=.5*(n+this._x),this._y=.5*(r+this._y),this._z=.5*(i+this._z),this;var u=Math.atan2(s,a),c=Math.sin((1-t)*u)/s,l=Math.sin(t*u)/s;return this._w=o*c+this._w*l,this._x=n*c+this._x*l,this._y=r*c+this._y*l,this._z=i*c+this._z*l,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(l.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(){var e=new c;return function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(e.setFromEuler(t))}}(),applyAxisAngle:function(){var e=new c;return function(t,n){return this.applyQuaternion(e.setFromAxisAngle(t,n))}}(),applyMatrix3:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,u=s*t+o*r-a*n,c=s*n+a*t-i*r,l=s*r+i*n-o*t,h=-i*t-o*n-a*r;return this.x=u*s+h*-i+c*-a-l*-o,this.y=c*s+h*-o+l*-i-u*-a,this.z=l*s+h*-a+u*-o-c*-i,this},project:function(){var e=new h;return function(t){return e.multiplyMatrices(t.projectionMatrix,e.getInverse(t.matrixWorld)),this.applyMatrix4(e)}}(),unproject:function(){var e=new h;return function(t){return e.multiplyMatrices(t.matrixWorld,e.getInverse(t.projectionMatrix)),this.applyMatrix4(e)}}(),transformDirection:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(){var e=new l,t=new l;return function(n,r){return e.set(n,n,n),t.set(r,r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){if(void 0!==t)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t);var n=this.x,r=this.y,i=this.z;return this.x=r*e.z-i*e.y,this.y=i*e.x-n*e.z,this.z=n*e.y-r*e.x,this},crossVectors:function(e,t){var n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(){var e=new l;return function(t){return e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e=new l;return function(t){return this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq());return Math.acos(Is.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},distanceToManhattan:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){var t=Math.sin(e.phi)*e.radius;return this.x=t*Math.sin(e.theta),this.y=Math.cos(e.phi)*e.radius,this.z=t*Math.cos(e.theta),this},setFromCylindrical:function(e){return this.x=e.radius*Math.sin(e.theta),this.y=e.y,this.z=e.radius*Math.cos(e.theta),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}}),Object.assign(h.prototype,{isMatrix4:!0,set:function(e,t,n,r,i,o,a,s,u,c,l,h,d,f,p,m){var g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=u,g[6]=c,g[10]=l,g[14]=h,g[3]=d,g[7]=f,g[11]=p,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new h).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(){var e=new l;return function(t){var n=this.elements,r=t.elements,i=1/e.setFromMatrixColumn(t,0).length(),o=1/e.setFromMatrixColumn(t,1).length(),a=1/e.setFromMatrixColumn(t,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,this}}(),makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),u=Math.sin(r),c=Math.cos(i),l=Math.sin(i);if("XYZ"===e.order){var h=o*c,d=o*l,f=a*c,p=a*l;t[0]=s*c,t[4]=-s*l,t[8]=u,t[1]=d+f*u,t[5]=h-p*u,t[9]=-a*s,t[2]=p-h*u,t[6]=f+d*u,t[10]=o*s}else if("YXZ"===e.order){var m=s*c,g=s*l,v=u*c,y=u*l;t[0]=m+y*a,t[4]=v*a-g,t[8]=o*u,t[1]=o*l,t[5]=o*c,t[9]=-a,t[2]=g*a-v,t[6]=y+m*a,t[10]=o*s}else if("ZXY"===e.order){var m=s*c,g=s*l,v=u*c,y=u*l;t[0]=m-y*a,t[4]=-o*l,t[8]=v+g*a,t[1]=g+v*a,t[5]=o*c,t[9]=y-m*a,t[2]=-o*u,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){var h=o*c,d=o*l,f=a*c,p=a*l;t[0]=s*c,t[4]=f*u-d,t[8]=h*u+p,t[1]=s*l,t[5]=p*u+h,t[9]=d*u-f,t[2]=-u,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){var b=o*s,x=o*u,_=a*s,w=a*u;t[0]=s*c,t[4]=w-b*l,t[8]=_*l+x,t[1]=l,t[5]=o*c,t[9]=-a*c,t[2]=-u*c,t[6]=x*l+_,t[10]=b-w*l}else if("XZY"===e.order){var b=o*s,x=o*u,_=a*s,w=a*u;t[0]=s*c,t[4]=-l,t[8]=u*c,t[1]=b*l+w,t[5]=o*c,t[9]=x*l-_,t[2]=_*l-x,t[6]=a*c,t[10]=w*l+b}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){var t=this.elements,n=e._x,r=e._y,i=e._z,o=e._w,a=n+n,s=r+r,u=i+i,c=n*a,l=n*s,h=n*u,d=r*s,f=r*u,p=i*u,m=o*a,g=o*s,v=o*u;return t[0]=1-(d+p),t[4]=l-v,t[8]=h+g,t[1]=l+v,t[5]=1-(c+p),t[9]=f-m,t[2]=h-g,t[6]=f+m,t[10]=1-(c+d),t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},lookAt:function(){var e=new l,t=new l,n=new l;return function(r,i,o){var a=this.elements;return n.subVectors(r,i),0===n.lengthSq()&&(n.z=1),n.normalize(),e.crossVectors(o,n),0===e.lengthSq()&&(1===Math.abs(o.z)?n.x+=1e-4:n.z+=1e-4,n.normalize(),e.crossVectors(o,n)),e.normalize(),t.crossVectors(n,e),a[0]=e.x,a[4]=t.x,a[8]=n.x,a[1]=e.y,a[5]=t.y,a[9]=n.y,a[2]=e.z,a[6]=t.z,a[10]=n.z,this}}(),multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[4],s=n[8],u=n[12],c=n[1],l=n[5],h=n[9],d=n[13],f=n[2],p=n[6],m=n[10],g=n[14],v=n[3],y=n[7],b=n[11],x=n[15],_=r[0],w=r[4],E=r[8],M=r[12],T=r[1],S=r[5],C=r[9],A=r[13],P=r[2],R=r[6],L=r[10],I=r[14],O=r[3],N=r[7],k=r[11],D=r[15];return i[0]=o*_+a*T+s*P+u*O,i[4]=o*w+a*S+s*R+u*N,i[8]=o*E+a*C+s*L+u*k,i[12]=o*M+a*A+s*I+u*D,i[1]=c*_+l*T+h*P+d*O,i[5]=c*w+l*S+h*R+d*N,i[9]=c*E+l*C+h*L+d*k,i[13]=c*M+l*A+h*I+d*D,i[2]=f*_+p*T+m*P+g*O,i[6]=f*w+p*S+m*R+g*N,i[10]=f*E+p*C+m*L+g*k,i[14]=f*M+p*A+m*I+g*D,i[3]=v*_+y*T+b*P+x*O,i[7]=v*w+y*S+b*R+x*N,i[11]=v*E+y*C+b*L+x*k,i[15]=v*M+y*A+b*I+x*D,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(){var e=new l;return function(t){for(var n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix4(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),determinant:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],s=e[9],u=e[13],c=e[2],l=e[6],h=e[10],d=e[14];return e[3]*(+i*s*l-r*u*l-i*a*h+n*u*h+r*a*d-n*s*d)+e[7]*(+t*s*d-t*u*h+i*o*h-r*o*d+r*u*c-i*s*c)+e[11]*(+t*u*l-t*a*d-i*o*l+n*o*d+i*a*c-n*u*c)+e[15]*(-r*a*c-t*s*l+t*a*h+r*o*l-n*o*h+n*s*c)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var n=this.elements,r=e.elements,i=r[0],o=r[1],a=r[2],s=r[3],u=r[4],c=r[5],l=r[6],h=r[7],d=r[8],f=r[9],p=r[10],m=r[11],g=r[12],v=r[13],y=r[14],b=r[15],x=f*y*h-v*p*h+v*l*m-c*y*m-f*l*b+c*p*b,_=g*p*h-d*y*h-g*l*m+u*y*m+d*l*b-u*p*b,w=d*v*h-g*f*h+g*c*m-u*v*m-d*c*b+u*f*b,E=g*f*l-d*v*l-g*c*p+u*v*p+d*c*y-u*f*y,M=i*x+o*_+a*w+s*E;if(0===M){var T="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(T);return console.warn(T),this.identity()}var S=1/M;return n[0]=x*S,n[1]=(v*p*s-f*y*s-v*a*m+o*y*m+f*a*b-o*p*b)*S,n[2]=(c*y*s-v*l*s+v*a*h-o*y*h-c*a*b+o*l*b)*S,n[3]=(f*l*s-c*p*s-f*a*h+o*p*h+c*a*m-o*l*m)*S,n[4]=_*S,n[5]=(d*y*s-g*p*s+g*a*m-i*y*m-d*a*b+i*p*b)*S,n[6]=(g*l*s-u*y*s-g*a*h+i*y*h+u*a*b-i*l*b)*S,n[7]=(u*p*s-d*l*s+d*a*h-i*p*h-u*a*m+i*l*m)*S,n[8]=w*S,n[9]=(g*f*s-d*v*s-g*o*m+i*v*m+d*o*b-i*f*b)*S,n[10]=(u*v*s-g*c*s+g*o*h-i*v*h-u*o*b+i*c*b)*S,n[11]=(d*c*s-u*f*s-d*o*h+i*f*h+u*o*m-i*c*m)*S,n[12]=E*S,n[13]=(d*v*a-g*f*a+g*o*p-i*v*p-d*o*y+i*f*y)*S,n[14]=(g*c*a-u*v*a-g*o*l+i*v*l+u*o*y-i*c*y)*S,n[15]=(u*f*a-d*c*a+d*o*l-i*f*l-u*o*p+i*c*p)*S,this},scale:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,a=e.y,s=e.z,u=i*o,c=i*a;return this.set(u*o+n,u*a-r*s,u*s+r*a,0,u*a+r*s,c*a+n,c*s-r*o,0,u*s-r*a,c*s+r*o,i*s*s+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){return this.makeRotationFromQuaternion(t),this.scale(n),this.setPosition(e),this},decompose:function(){var e=new l,t=new h;return function(n,r,i){var o=this.elements,a=e.set(o[0],o[1],o[2]).length(),s=e.set(o[4],o[5],o[6]).length(),u=e.set(o[8],o[9],o[10]).length();this.determinant()<0&&(a=-a),n.x=o[12],n.y=o[13],n.z=o[14],t.copy(this);var c=1/a,l=1/s,h=1/u;return t.elements[0]*=c,t.elements[1]*=c,t.elements[2]*=c,t.elements[4]*=l,t.elements[5]*=l,t.elements[6]*=l,t.elements[8]*=h,t.elements[9]*=h,t.elements[10]*=h,r.setFromRotationMatrix(t),i.x=a,i.y=s,i.z=u,this}}(),makePerspective:function(e,t,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*i/(t-e),u=2*i/(n-r),c=(t+e)/(t-e),l=(n+r)/(n-r),h=-(o+i)/(o-i),d=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=l,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=d,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(e,t,n,r,i,o){var a=this.elements,s=1/(t-e),u=1/(n-r),c=1/(o-i),l=(t+e)*s,h=(n+r)*u,d=(o+i)*c;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-l,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-d,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}),d.prototype=Object.create(o.prototype),d.prototype.constructor=d,d.prototype.isDataTexture=!0,f.prototype=Object.create(o.prototype),f.prototype.constructor=f,f.prototype.isCubeTexture=!0,Object.defineProperty(f.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});var Ns=new o,ks=new f,Ds=[],Us=[],Fs=new Float32Array(16),Bs=new Float32Array(9);G.prototype.setValue=function(e,t){for(var n=this.seq,r=0,i=n.length;r!==i;++r){var o=n[r];o.setValue(e,t[o.id])}};var zs=/([\w\d_]+)(\])?(\[|\.)?/g;X.prototype.setValue=function(e,t,n){var r=this.map[t];void 0!==r&&r.setValue(e,n,this.renderer)},X.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},X.upload=function(e,t,n,r){for(var i=0,o=t.length;i!==o;++i){var a=t[i],s=n[a.id];!1!==s.needsUpdate&&a.setValue(e,s.value,r)}},X.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var o=e[r];o.id in t&&n.push(o)}return n};var Hs={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object.assign(Y.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(){function e(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}return function(t,n,r){if(t=Is.euclideanModulo(t,1),n=Is.clamp(n,0,1),r=Is.clamp(r,0,1),0===n)this.r=this.g=this.b=r;else{var i=r<=.5?r*(1+n):r+n-r*n,o=2*r-i;this.r=e(o,i,t+1/3),this.g=e(o,i,t),this.b=e(o,i,t-1/3)}return this}}(),setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r,i=n[1],o=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,u=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(a,s,u)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var c=n[1],l=c.length;if(3===l)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===l)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}if(e&&e.length>0){var c=Hs[e];void 0!==c?this.setHex(c):console.warn("THREE.Color: Unknown color "+e)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(){var e=this.r,t=this.g,n=this.b;return this.r=e*e,this.g=t*t,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){var t,n,r=e||{h:0,s:0,l:0},i=this.r,o=this.g,a=this.b,s=Math.max(i,o,a),u=Math.min(i,o,a),c=(u+s)/2;if(u===s)t=0,n=0;else{var l=s-u;switch(n=c<=.5?l/(s+u):l/(2-s-u),s){case i:t=(o-a)/l+(o<a?6:0);break;case o:t=(a-i)/l+2;break;case a:t=(i-o)/l+4}t/=6}return r.h=t,r.s=n,r.l=c,r},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,n){var r=this.getHSL();return r.h+=e,r.s+=t,r.l+=n,this.setHSL(r.h,r.s,r.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}});var qs={common:{diffuse:{value:new Y(15658734)},opacity:{value:1},map:{value:null},offsetRepeat:{value:new a(0,0,1,1)},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new i(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Y(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Y(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},offsetRepeat:{value:new a(0,0,1,1)}}},js={merge:function(e){for(var t={},n=0;n<e.length;n++){var r=this.clone(e[n]);for(var i in r)t[i]=r[i]}return t},clone:function(e){var t={};for(var n in e){t[n]={};for(var r in e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}}return t}},Gs={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.86267 + (0.49788 + 0.01436 * y ) * y;\n\tfloat b = 3.45068 + (4.18814 + y) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = (x > 0.0) ? v : 0.5 * inversesqrt( 1.0 - x * x ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transpose( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tvec3 result = vec3( LTC_ClippedSphereFormFactor( vectorFormFactor ) );\n\treturn result;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transpose( const in mat3 v ) {\n\tmat3 tmp;\n\ttmp[0] = vec3(v[0].x, v[1].x, v[2].x);\n\ttmp[1] = vec3(v[0].y, v[1].y, v[2].y);\n\ttmp[2] = vec3(v[0].z, v[1].z, v[2].z);\n\treturn tmp;\n}\n",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",encodings_fragment:"  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",fog_vertex:"\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",lights_pars:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tfloat norm = texture2D( ltcMag, uv ).a;\n\t\tvec4 t = texture2D( ltcMat, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3(   1,   0, t.y ),\n\t\t\tvec3(   0, t.z,   0 ),\n\t\t\tvec3( t.w,   0, t.x )\n\t\t);\n\t\treflectedLight.directSpecular += lightColor * material.specularColor * norm * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",lights_template:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",logdepthbuf_fragment:"#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",map_particle_fragment:"#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",normal_fragment:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n",dithering_fragment:"#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",tonemapping_pars_fragment:"#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",cube_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}\n",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}\n",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",equirect_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n}\n",shadow_vert:"#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n"},Vs={basic:{uniforms:js.merge([qs.common,qs.specularmap,qs.envmap,qs.aomap,qs.lightmap,qs.fog]),vertexShader:Gs.meshbasic_vert,fragmentShader:Gs.meshbasic_frag},lambert:{uniforms:js.merge([qs.common,qs.specularmap,qs.envmap,qs.aomap,qs.lightmap,qs.emissivemap,qs.fog,qs.lights,{emissive:{value:new Y(0)}}]),vertexShader:Gs.meshlambert_vert,fragmentShader:Gs.meshlambert_frag},phong:{uniforms:js.merge([qs.common,qs.specularmap,qs.envmap,qs.aomap,qs.lightmap,qs.emissivemap,qs.bumpmap,qs.normalmap,qs.displacementmap,qs.gradientmap,qs.fog,qs.lights,{emissive:{value:new Y(0)},specular:{value:new Y(1118481)},shininess:{value:30}}]),vertexShader:Gs.meshphong_vert,fragmentShader:Gs.meshphong_frag},standard:{uniforms:js.merge([qs.common,qs.envmap,qs.aomap,qs.lightmap,qs.emissivemap,qs.bumpmap,qs.normalmap,qs.displacementmap,qs.roughnessmap,qs.metalnessmap,qs.fog,qs.lights,{emissive:{value:new Y(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:Gs.meshphysical_vert,fragmentShader:Gs.meshphysical_frag},points:{uniforms:js.merge([qs.points,qs.fog]),vertexShader:Gs.points_vert,fragmentShader:Gs.points_frag},dashed:{uniforms:js.merge([qs.common,qs.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Gs.linedashed_vert,fragmentShader:Gs.linedashed_frag},depth:{uniforms:js.merge([qs.common,qs.displacementmap]),vertexShader:Gs.depth_vert,fragmentShader:Gs.depth_frag},normal:{uniforms:js.merge([qs.common,qs.bumpmap,qs.normalmap,qs.displacementmap,{opacity:{value:1}}]),vertexShader:Gs.normal_vert,fragmentShader:Gs.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Gs.cube_vert,fragmentShader:Gs.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Gs.equirect_vert,fragmentShader:Gs.equirect_frag},distanceRGBA:{uniforms:js.merge([qs.common,qs.displacementmap,{referencePosition:{value:new l},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Gs.distanceRGBA_vert,fragmentShader:Gs.distanceRGBA_frag},shadow:{uniforms:js.merge([qs.lights,{color:{value:new Y(0)},opacity:{value:1}}]),vertexShader:Gs.shadow_vert,fragmentShader:Gs.shadow_frag}};Vs.physical={uniforms:js.merge([Vs.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Gs.meshphysical_vert,fragmentShader:Gs.meshphysical_frag},Object.assign(Z.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new i;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){var t=e||new i;return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){var t=e||new i;return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return(t||new i).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return(t||new i).copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new i;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Q.prototype=Object.create(o.prototype),Q.prototype.constructor=Q;var Ws=0;Object.assign($.prototype,r.prototype,{isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]="overdraw"===t?Number(n):n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===Po;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){function t(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}var n=void 0===e;n&&(e={textures:{},images:{}});var r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearCoat&&(r.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(r.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,r.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(r.size=this.size),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==ko&&(r.blending=this.blending),!0===this.flatShading&&(r.flatShading=this.flatShading),this.side!==So&&(r.side=this.side),this.vertexColors!==Lo&&(r.vertexColors=this.vertexColors),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,!0===this.dithering&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(r.morphTargets=!0),!0===this.skinning&&(r.skinning=!0),!1===this.visible&&(r.visible=!1),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),n){var i=t(e.textures),o=t(e.images);i.length>0&&(r.textures=i),o.length>0&&(r.images=o)}return r},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.lights=e.lights,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.overdraw=e.overdraw,this.visible=e.visible,this.userData=JSON.parse(JSON.stringify(e.userData)),this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),ee.prototype=Object.create($.prototype),ee.prototype.constructor=ee,ee.prototype.isShaderMaterial=!0,ee.prototype.copy=function(e){return $.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=js.clone(e.uniforms),this.defines=e.defines,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},ee.prototype.toJSON=function(e){var t=$.prototype.toJSON.call(this,e);return t.uniforms=this.uniforms,t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t},te.prototype=Object.create($.prototype),te.prototype.constructor=te,te.prototype.isMeshDepthMaterial=!0,te.prototype.copy=function(e){return $.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},ne.prototype=Object.create($.prototype),ne.prototype.constructor=ne,ne.prototype.isMeshDistanceMaterial=!0,ne.prototype.copy=function(e){return $.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this},Object.assign(re.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=e.length;s<u;s+=3){var c=e[s],l=e[s+1],h=e[s+2];c<t&&(t=c),l<n&&(n=l),h<r&&(r=h),c>i&&(i=c),l>o&&(o=l),h>a&&(a=h)}return this.min.set(t,n,r),this.max.set(i,o,a),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=e.count;s<u;s++){var c=e.getX(s),l=e.getY(s),h=e.getZ(s);c<t&&(t=c),l<n&&(n=l),h<r&&(r=h),c>i&&(i=c),l>o&&(o=l),h>a&&(a=h)}return this.min.set(t,n,r),this.max.set(i,o,a),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new l;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){var t=e||new l;return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){var t=e||new l;return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(){var e=new l;return function(t){var n=this;return t.updateMatrixWorld(!0),t.traverse(function(t){var r,i,o=t.geometry;if(void 0!==o)if(o.isGeometry){var a=o.vertices;for(r=0,i=a.length;r<i;r++)e.copy(a[r]),e.applyMatrix4(t.matrixWorld),n.expandByPoint(e)}else if(o.isBufferGeometry){var s=o.attributes.position;if(void 0!==s)for(r=0,i=s.count;r<i;r++)e.fromBufferAttribute(s,r).applyMatrix4(t.matrixWorld),n.expandByPoint(e)}}),this}}(),containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return(t||new l).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(){var e=new l;return function(t){return this.clampPoint(t.center,e),e.distanceToSquared(t.center)<=t.radius*t.radius}}(),intersectsPlane:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=e.constant&&n>=e.constant},clampPoint:function(e,t){return(t||new l).copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new l;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),getBoundingSphere:function(){var e=new l;return function(t){var n=t||new ie;return this.getCenter(n.center),n.radius=.5*this.getSize(e).length(),n}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new l,new l,new l,new l,new l,new l,new l,new l];return function(t){return this.isEmpty()?this:(e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(e),this)}}(),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(ie.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(){var e=new re;return function(t,n){var r=this.center;void 0!==n?r.copy(n):e.setFromPoints(t).getCenter(r);for(var i=0,o=0,a=t.length;o<a;o++)i=Math.max(i,r.distanceToSquared(t[o]));return this.radius=Math.sqrt(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e),r=t||new l;return r.copy(e),n>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r},getBoundingBox:function(e){var t=e||new re;return t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}}),Object.assign(oe.prototype,{isMatrix3:!0,set:function(e,t,n,r,i,o,a,s,u){var c=this.elements;return c[0]=e,c[1]=r,c[2]=a,c[3]=t,c[4]=i,c[5]=s,c[6]=n,c[7]=o,c[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:function(){var e=new l;return function(t){for(var n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix3(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[3],s=n[6],u=n[1],c=n[4],l=n[7],h=n[2],d=n[5],f=n[8],p=r[0],m=r[3],g=r[6],v=r[1],y=r[4],b=r[7],x=r[2],_=r[5],w=r[8];return i[0]=o*p+a*v+s*x,i[3]=o*m+a*y+s*_,i[6]=o*g+a*b+s*w,i[1]=u*p+c*v+l*x,i[4]=u*m+c*y+l*_,i[7]=u*g+c*b+l*w,i[2]=h*p+d*v+f*x,i[5]=h*m+d*y+f*_,i[8]=h*g+d*b+f*w,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],c=e[8];return t*o*c-t*a*u-n*i*c+n*a*s+r*i*u-r*o*s},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=e.elements,r=this.elements,i=n[0],o=n[1],a=n[2],s=n[3],u=n[4],c=n[5],l=n[6],h=n[7],d=n[8],f=d*u-c*h,p=c*l-d*s,m=h*s-u*l,g=i*f+o*p+a*m;if(0===g){var v="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(v);return console.warn(v),this.identity()}var y=1/g;return r[0]=f*y,r[1]=(a*h-d*o)*y,r[2]=(c*o-a*u)*y,r[3]=p*y,r[4]=(d*i-a*l)*y,r[5]=(a*s-c*i)*y,r[6]=m*y,r[7]=(o*l-h*i)*y,r[8]=(u*i-o*s)*y,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}}),Object.assign(ae.prototype,{set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new l,t=new l;return function(n,r,i){var o=e.subVectors(i,r).cross(t.subVectors(n,r)).normalize();return this.setFromNormalAndCoplanarPoint(o,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return(t||new l).copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(){var e=new l;return function(t,n){var r=n||new l,i=t.delta(e),o=this.normal.dot(i);if(0!==o){var a=-(t.start.dot(this.normal)+this.constant)/o;if(!(a<0||a>1))return r.copy(i).multiplyScalar(a).add(t.start)}else if(0===this.distanceToPoint(t.start))return r.copy(t.start)}}(),intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return(e||new l).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new l,t=new oe;return function(n,r){var i=r||t.getNormalMatrix(n),o=this.coplanarPoint(e).applyMatrix4(n),a=this.normal.applyMatrix3(i).normalize();return this.constant=-o.dot(a),this}}(),translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}),Object.assign(se.prototype,{set:function(e,t,n,r,i,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5],c=n[6],l=n[7],h=n[8],d=n[9],f=n[10],p=n[11],m=n[12],g=n[13],v=n[14],y=n[15];return t[0].setComponents(a-r,l-s,p-h,y-m).normalize(),t[1].setComponents(a+r,l+s,p+h,y+m).normalize(),t[2].setComponents(a+i,l+u,p+d,y+g).normalize(),t[3].setComponents(a-i,l-u,p-d,y-g).normalize(),t[4].setComponents(a-o,l-c,p-f,y-v).normalize(),t[5].setComponents(a+o,l+c,p+f,y+v).normalize(),this},intersectsObject:function(){var e=new ie;return function(t){var n=t.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),e.copy(n.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSprite:function(){var e=new ie;return function(t){return e.center.set(0,0,0),e.radius=.7071067811865476,e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0},intersectsBox:function(){var e=new l,t=new l;return function(n){for(var r=this.planes,i=0;i<6;i++){var o=r[i];e.x=o.normal.x>0?n.min.x:n.max.x,t.x=o.normal.x>0?n.max.x:n.min.x,e.y=o.normal.y>0?n.min.y:n.max.y,t.y=o.normal.y>0?n.max.y:n.min.y,e.z=o.normal.z>0?n.min.z:n.max.z,t.z=o.normal.z>0?n.max.z:n.min.z;var a=o.distanceToPoint(e),s=o.distanceToPoint(t);if(a<0&&s<0)return!1}return!0}}(),containsPoint:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}}),le.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],le.DefaultOrder="XYZ",Object.defineProperties(le.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this.onChangeCallback()}}}),Object.assign(le.prototype,{isEuler:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var r=Is.clamp,i=e.elements,o=i[0],a=i[4],s=i[8],u=i[1],c=i[5],l=i[9],h=i[2],d=i[6],f=i[10];return t=t||this._order,"XYZ"===t?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-l,f),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(d,c),this._z=0)):"YXZ"===t?(this._x=Math.asin(-r(l,-1,1)),Math.abs(l)<.99999?(this._y=Math.atan2(s,f),this._z=Math.atan2(u,c)):(this._y=Math.atan2(-h,o),this._z=0)):"ZXY"===t?(this._x=Math.asin(r(d,-1,1)),Math.abs(d)<.99999?(this._y=Math.atan2(-h,f),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(u,o))):"ZYX"===t?(this._y=Math.asin(-r(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(d,f),this._z=Math.atan2(u,o)):(this._x=0,this._z=Math.atan2(-a,c))):"YZX"===t?(this._z=Math.asin(r(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-l,c),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(s,f))):"XZY"===t?(this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(d,c),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-l,f),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var e=new h;return function(t,n,r){return e.makeRotationFromQuaternion(t),this.setFromRotationMatrix(e,n,r)}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(){var e=new c;return function(t){return e.setFromEuler(this),this.setFromQuaternion(e,t)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new l(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(he.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},test:function(e){return 0!=(this.mask&e.mask)}});var Xs=0;de.DefaultUp=new l(0,1,0),de.DefaultMatrixAutoUpdate=!0,Object.assign(de.prototype,r.prototype,{isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var e=new c;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.multiply(e),this}}(),rotateX:function(){var e=new l(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new l(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new l(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new l;return function(t,n){return e.copy(t).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(n)),this}}(),translateX:function(){var e=new l(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new l(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new l(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new h;return function(t){return t.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new h;return function(t){this.isCamera?e.lookAt(this.position,t,this.up):e.lookAt(t,this.position,this.up),this.quaternion.setFromRotationMatrix(e)}}(),add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(n,1)),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n],o=i.getObjectByProperty(e,t);if(void 0!==o)return o}},getWorldPosition:function(e){var t=e||new l;return this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var e=new l,t=new l;return function(n){var r=n||new c;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,r,t),r}}(),getWorldRotation:function(){var e=new c;return function(t){var n=t||new le;return this.getWorldQuaternion(e),n.setFromQuaternion(e,this.rotation.order,!1)}}(),getWorldScale:function(){var e=new l,t=new c;return function(n){var r=n||new l;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,r),r}}(),getWorldDirection:function(){var e=new c;return function(t){var n=t||new l;return this.getWorldQuaternion(e),n.set(0,0,1).applyQuaternion(e)}}(),raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},toJSON:function(e){function t(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}function n(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}var r=void 0===e||""===e,i={};r&&(e={geometries:{},materials:{},textures:{},images:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var o={};if(o.uuid=this.uuid,o.type=this.type,""!==this.name&&(o.name=this.name),!0===this.castShadow&&(o.castShadow=!0),!0===this.receiveShadow&&(o.receiveShadow=!0),!1===this.visible&&(o.visible=!1),"{}"!==JSON.stringify(this.userData)&&(o.userData=this.userData),o.matrix=this.matrix.toArray(),void 0!==this.geometry&&(o.geometry=t(e.geometries,this.geometry)),void 0!==this.material)if(Array.isArray(this.material)){for(var a=[],s=0,u=this.material.length;s<u;s++)a.push(t(e.materials,this.material[s]));o.material=a}else o.material=t(e.materials,this.material);if(this.children.length>0){o.children=[];for(var s=0;s<this.children.length;s++)o.children.push(this.children[s].toJSON(e).object)}if(r){var c=n(e.geometries),l=n(e.materials),h=n(e.textures),d=n(e.images);c.length>0&&(i.geometries=c),l.length>0&&(i.materials=l),h.length>0&&(i.textures=h),d.length>0&&(i.images=d)}return i.object=o,i},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}),fe.prototype=Object.assign(Object.create(de.prototype),{constructor:fe,isCamera:!0,copy:function(e,t){return de.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this},getWorldDirection:function(){var e=new c;return function(t){var n=t||new l;return this.getWorldQuaternion(e),n.set(0,0,-1).applyQuaternion(e)}}(),updateMatrixWorld:function(e){de.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),pe.prototype=Object.assign(Object.create(fe.prototype),{constructor:pe,isOrthographicCamera:!0,copy:function(e,t){return fe.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,i,o){this.view={fullWidth:e,fullHeight:t,offsetX:n,offsetY:r,width:i,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,o=n+e,a=r+t,s=r-t;if(null!==this.view){var u=this.zoom/(this.view.width/this.view.fullWidth),c=this.zoom/(this.view.height/this.view.fullHeight),l=(this.right-this.left)/this.view.width,h=(this.top-this.bottom)/this.view.height;i+=l*(this.view.offsetX/u),o=i+l*(this.view.width/u),a-=h*(this.view.offsetY/c),s=a-h*(this.view.height/c)}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far)},toJSON:function(e){var t=de.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),me.prototype=Object.assign(Object.create(fe.prototype),{constructor:me,isPerspectiveCamera:!0,copy:function(e,t){return fe.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Is.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*Is.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*Is.RAD2DEG*Math.atan(Math.tan(.5*Is.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,r,i,o){this.aspect=e/t,this.view={fullWidth:e,fullHeight:t,offsetX:n,offsetY:r,width:i,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*Is.DEG2RAD*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==o){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/a,t-=o.offsetY*n/s,r*=o.width/a,n*=o.height/s}var u=this.filmOffset;0!==u&&(i+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far)},toJSON:function(e){var t=de.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}),Object.assign(ge.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(var t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});var Ys=0;Object.assign(ye.prototype,r.prototype,{isGeometry:!0,applyMatrix:function(e){for(var t=(new oe).getNormalMatrix(e),n=0,r=this.vertices.length;n<r;n++){this.vertices[n].applyMatrix4(e)}for(var n=0,r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(t).normalize();for(var o=0,a=i.vertexNormals.length;o<a;o++)i.vertexNormals[o].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var e=new h;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new h;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new h;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new h;return function(t,n,r){return e.makeTranslation(t,n,r),this.applyMatrix(e),this}}(),scale:function(){var e=new h;return function(t,n,r){return e.makeScale(t,n,r),this.applyMatrix(e),this}}(),lookAt:function(){var e=new de;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),fromBufferGeometry:function(e){function t(e,t,r,i){var o=void 0!==s?[d[e].clone(),d[t].clone(),d[r].clone()]:[],a=void 0!==u?[n.colors[e].clone(),n.colors[t].clone(),n.colors[r].clone()]:[],l=new ge(e,t,r,o,a,i);n.faces.push(l),void 0!==c&&n.faceVertexUvs[0].push([f[e].clone(),f[t].clone(),f[r].clone()]),void 0!==h&&n.faceVertexUvs[1].push([p[e].clone(),p[t].clone(),p[r].clone()])}var n=this,r=null!==e.index?e.index.array:void 0,o=e.attributes,a=o.position.array,s=void 0!==o.normal?o.normal.array:void 0,u=void 0!==o.color?o.color.array:void 0,c=void 0!==o.uv?o.uv.array:void 0,h=void 0!==o.uv2?o.uv2.array:void 0;void 0!==h&&(this.faceVertexUvs[1]=[]);for(var d=[],f=[],p=[],m=0,g=0;m<a.length;m+=3,g+=2)n.vertices.push(new l(a[m],a[m+1],a[m+2])),void 0!==s&&d.push(new l(s[m],s[m+1],s[m+2])),void 0!==u&&n.colors.push(new Y(u[m],u[m+1],u[m+2])),void 0!==c&&f.push(new i(c[g],c[g+1])),void 0!==h&&p.push(new i(h[g],h[g+1]));var v=e.groups;if(v.length>0)for(var m=0;m<v.length;m++)for(var y=v[m],b=y.start,x=y.count,g=b,_=b+x;g<_;g+=3)void 0!==r?t(r[g],r[g+1],r[g+2],y.materialIndex):t(g,g+1,g+2,y.materialIndex);else if(void 0!==r)for(var m=0;m<r.length;m+=3)t(r[m],r[m+1],r[m+2]);else for(var m=0;m<a.length/3;m+=3)t(m,m+1,m+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();return this.translate(e.x,e.y,e.z),e},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,r=new h;return r.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var e=new l,t=new l,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];e.subVectors(s,a),t.subVectors(o,a),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){void 0===e&&(e=!0);var t,n,r,i,o,a;for(a=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)a[t]=new l;if(e){var s,u,c,h=new l,d=new l;for(r=0,i=this.faces.length;r<i;r++)o=this.faces[r],s=this.vertices[o.a],u=this.vertices[o.b],c=this.vertices[o.c],h.subVectors(c,u),d.subVectors(s,u),h.cross(d),a[o.a].add(h),a[o.b].add(h),a[o.c].add(h)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)o=this.faces[r],a[o.a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(t=0,n=this.vertices.length;t<n;t++)a[t].normalize();for(r=0,i=this.faces.length;r<i;r++){o=this.faces[r];var f=o.vertexNormals;3===f.length?(f[0].copy(a[o.a]),f[1].copy(a[o.b]),f[2].copy(a[o.c])):(f[0]=a[o.a].clone(),f[1]=a[o.b].clone(),f[2]=a[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){n=this.faces[e];var r=n.vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for(i=this.faces[n],i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),e=0,t=i.vertexNormals.length;e<t;e++)i.__originalVertexNormals[e]?i.__originalVertexNormals[e].copy(i.vertexNormals[e]):i.__originalVertexNormals[e]=i.vertexNormals[e].clone();var o=new ye;for(o.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var a,s,u=this.morphNormals[e].faceNormals,c=this.morphNormals[e].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)a=new l,s={a:new l,b:new l,c:new l},u.push(a),c.push(s)}var h=this.morphNormals[e];o.vertices=this.morphTargets[e].vertices,o.computeFaceNormals(),o.computeVertexNormals();var a,s;for(n=0,r=this.faces.length;n<r;n++)i=this.faces[n],a=h.faceNormals[n],s=h.vertexNormals[n],a.copy(i.normal),s.a.copy(i.vertexNormals[0]),s.b.copy(i.vertexNormals[1]),s.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)i=this.faces[n],i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeLineDistances:function(){for(var e=0,t=this.vertices,n=0,r=t.length;n<r;n++)n>0&&(e+=t[n].distanceTo(t[n-1])),this.lineDistances[n]=e},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new re),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new ie),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(!e||!e.isGeometry)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);var r,i=this.vertices.length,o=this.vertices,a=e.vertices,s=this.faces,u=e.faces,c=this.faceVertexUvs[0],l=e.faceVertexUvs[0],h=this.colors,d=e.colors;void 0===n&&(n=0),void 0!==t&&(r=(new oe).getNormalMatrix(t));for(var f=0,p=a.length;f<p;f++){var m=a[f],g=m.clone();void 0!==t&&g.applyMatrix4(t),o.push(g)}for(var f=0,p=d.length;f<p;f++)h.push(d[f].clone());for(f=0,p=u.length;f<p;f++){var v,y,b,x=u[f],_=x.vertexNormals,w=x.vertexColors;v=new ge(x.a+i,x.b+i,x.c+i),v.normal.copy(x.normal),void 0!==r&&v.normal.applyMatrix3(r).normalize();for(var E=0,M=_.length;E<M;E++)y=_[E].clone(),void 0!==r&&y.applyMatrix3(r).normalize(),v.vertexNormals.push(y);v.color.copy(x.color);for(var E=0,M=w.length;E<M;E++)b=w[E],v.vertexColors.push(b.clone());v.materialIndex=x.materialIndex+n,s.push(v)}for(f=0,p=l.length;f<p;f++){var T=l[f],S=[];if(void 0!==T){for(var E=0,M=T.length;E<M;E++)S.push(T[E].clone());c.push(S)}}},mergeMesh:function(e){if(!e||!e.isMesh)return void console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e);e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)},mergeVertices:function(){var e,t,n,r,i,o,a,s,u={},c=[],l=[],h=Math.pow(10,4);for(n=0,r=this.vertices.length;n<r;n++)e=this.vertices[n],t=Math.round(e.x*h)+"_"+Math.round(e.y*h)+"_"+Math.round(e.z*h),void 0===u[t]?(u[t]=n,c.push(this.vertices[n]),l[n]=c.length-1):l[n]=l[u[t]];var d=[];for(n=0,r=this.faces.length;n<r;n++){i=this.faces[n],i.a=l[i.a],i.b=l[i.b],i.c=l[i.c],o=[i.a,i.b,i.c];for(var f=0;f<3;f++)if(o[f]===o[(f+1)%3]){d.push(n);break}}for(n=d.length-1;n>=0;n--){var p=d[n];for(this.faces.splice(p,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(p,1)}var m=this.vertices.length-c.length;return this.vertices=c,m},sortFacesByMaterialIndex:function(){function e(e,t){return e.materialIndex-t.materialIndex}for(var t=this.faces,n=t.length,r=0;r<n;r++)t[r]._id=r;t.sort(e);var i,o,a=this.faceVertexUvs[0],s=this.faceVertexUvs[1];a&&a.length===n&&(i=[]),s&&s.length===n&&(o=[]);for(var r=0;r<n;r++){var u=t[r]._id;i&&i.push(a[u]),o&&o.push(s[u])}i&&(this.faceVertexUvs[0]=i),o&&(this.faceVertexUvs[1]=o)},toJSON:function(){function e(e,t,n){return n?e|1<<t:e&~(1<<t)}function t(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==d[t]?d[t]:(d[t]=h.length/3,h.push(e.x,e.y,e.z),d[t])}function n(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==p[t]?p[t]:(p[t]=f.length,f.push(e.getHex()),p[t])}function r(e){var t=e.x.toString()+e.y.toString();return void 0!==g[t]?g[t]:(g[t]=m.length/2,m.push(e.x,e.y),g[t])}var i={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),void 0!==this.parameters){var o=this.parameters;for(var a in o)void 0!==o[a]&&(i[a]=o[a]);return i}for(var s=[],u=0;u<this.vertices.length;u++){var c=this.vertices[u];s.push(c.x,c.y,c.z)}for(var l=[],h=[],d={},f=[],p={},m=[],g={},u=0;u<this.faces.length;u++){var v=this.faces[u],y=void 0!==this.faceVertexUvs[0][u],b=v.normal.length()>0,x=v.vertexNormals.length>0,_=1!==v.color.r||1!==v.color.g||1!==v.color.b,w=v.vertexColors.length>0,E=0;if(E=e(E,0,0),E=e(E,1,!0),E=e(E,2,!1),E=e(E,3,y),E=e(E,4,b),E=e(E,5,x),E=e(E,6,_),E=e(E,7,w),l.push(E),l.push(v.a,v.b,v.c),l.push(v.materialIndex),y){var M=this.faceVertexUvs[0][u];l.push(r(M[0]),r(M[1]),r(M[2]))}if(b&&l.push(t(v.normal)),x){var T=v.vertexNormals;l.push(t(T[0]),t(T[1]),t(T[2]))}if(_&&l.push(n(v.color)),w){var S=v.vertexColors;l.push(n(S[0]),n(S[1]),n(S[2]))}}return i.data={},i.data.vertices=s,i.data.normals=h,f.length>0&&(i.data.colors=f),m.length>0&&(i.data.uvs=[m]),i.data.faces=l,i},clone:function(){return(new ye).copy(this)},copy:function(e){var t,n,r,i,o,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var s=e.vertices;for(t=0,n=s.length;t<n;t++)this.vertices.push(s[t].clone());var u=e.colors;for(t=0,n=u.length;t<n;t++)this.colors.push(u[t].clone());var c=e.faces;for(t=0,n=c.length;t<n;t++)this.faces.push(c[t].clone());for(t=0,n=e.faceVertexUvs.length;t<n;t++){var l=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),r=0,i=l.length;r<i;r++){var h=l[r],d=[];for(o=0,a=h.length;o<a;o++){var f=h[o];d.push(f.clone())}this.faceVertexUvs[t].push(d)}}var p=e.morphTargets;for(t=0,n=p.length;t<n;t++){var m={};if(m.name=p[t].name,void 0!==p[t].vertices)for(m.vertices=[],r=0,i=p[t].vertices.length;r<i;r++)m.vertices.push(p[t].vertices[r].clone());if(void 0!==p[t].normals)for(m.normals=[],r=0,i=p[t].normals.length;r<i;r++)m.normals.push(p[t].normals[r].clone());this.morphTargets.push(m)}var g=e.morphNormals;for(t=0,n=g.length;t<n;t++){var v={};if(void 0!==g[t].vertexNormals)for(v.vertexNormals=[],r=0,i=g[t].vertexNormals.length;r<i;r++){var y=g[t].vertexNormals[r],b={};b.a=y.a.clone(),b.b=y.b.clone(),b.c=y.c.clone(),v.vertexNormals.push(b)}if(void 0!==g[t].faceNormals)for(v.faceNormals=[],r=0,i=g[t].faceNormals.length;r<i;r++)v.faceNormals.push(g[t].faceNormals[r].clone());this.morphNormals.push(v)}var x=e.skinWeights;for(t=0,n=x.length;t<n;t++)this.skinWeights.push(x[t].clone());var _=e.skinIndices;for(t=0,n=_.length;t<n;t++)this.skinIndices.push(_[t].clone());var w=e.lineDistances;for(t=0,n=w.length;t<n;t++)this.lineDistances.push(w[t]);var E=e.boundingBox;null!==E&&(this.boundingBox=E.clone());var M=e.boundingSphere;return null!==M&&(this.boundingSphere=M.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(be.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(be.prototype,{isBufferAttribute:!0,setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==e?e.length/this.itemSize:0,this.array=e},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new Y),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this},copyIndicesArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];t[n++]=o.a,t[n++]=o.b,t[n++]=o.c}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,r=0,o=e.length;r<o;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),a=new i),t[n++]=a.x,t[n++]=a.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new l),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new a),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),xe.prototype=Object.create(be.prototype),xe.prototype.constructor=xe,_e.prototype=Object.create(be.prototype),_e.prototype.constructor=_e,we.prototype=Object.create(be.prototype),we.prototype.constructor=we,Ee.prototype=Object.create(be.prototype),Ee.prototype.constructor=Ee,Me.prototype=Object.create(be.prototype),Me.prototype.constructor=Me,Te.prototype=Object.create(be.prototype),Te.prototype.constructor=Te,Se.prototype=Object.create(be.prototype),Se.prototype.constructor=Se,Ce.prototype=Object.create(be.prototype),Ce.prototype.constructor=Ce,Ae.prototype=Object.create(be.prototype),Ae.prototype.constructor=Ae,Object.assign(Pe.prototype,{computeGroups:function(e){for(var t,n=[],r=void 0,i=e.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==r&&(r=a.materialIndex,void 0!==t&&(t.count=3*o-t.start,n.push(t)),t={start:3*o,materialIndex:r})}void 0!==t&&(t.count=3*o-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t,n=e.faces,r=e.vertices,o=e.faceVertexUvs,a=o[0]&&o[0].length>0,s=o[1]&&o[1].length>0,u=e.morphTargets,c=u.length;if(c>0){t=[];for(var l=0;l<c;l++)t[l]=[];this.morphTargets.position=t}var h,d=e.morphNormals,f=d.length;if(f>0){h=[];for(var l=0;l<f;l++)h[l]=[];this.morphTargets.normal=h}for(var p=e.skinIndices,m=e.skinWeights,g=p.length===r.length,v=m.length===r.length,l=0;l<n.length;l++){var y=n[l];this.vertices.push(r[y.a],r[y.b],r[y.c]);var b=y.vertexNormals;if(3===b.length)this.normals.push(b[0],b[1],b[2]);else{var x=y.normal;this.normals.push(x,x,x)}var _=y.vertexColors;if(3===_.length)this.colors.push(_[0],_[1],_[2]);else{var w=y.color;this.colors.push(w,w,w)}if(!0===a){var E=o[0][l];void 0!==E?this.uvs.push(E[0],E[1],E[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",l),this.uvs.push(new i,new i,new i))}if(!0===s){var E=o[1][l];void 0!==E?this.uvs2.push(E[0],E[1],E[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",l),this.uvs2.push(new i,new i,new i))}for(var M=0;M<c;M++){var T=u[M].vertices;t[M].push(T[y.a],T[y.b],T[y.c])}for(var M=0;M<f;M++){var S=d[M].vertexNormals[l];h[M].push(S.a,S.b,S.c)}g&&this.skinIndices.push(p[y.a],p[y.b],p[y.c]),v&&this.skinWeights.push(m[y.a],m[y.b],m[y.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}}),Le.MaxIndex=65535,Object.assign(Le.prototype,r.prototype,{isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(Re(e)>65535?Se:Me)(e,1):this.index=e},addAttribute:function(e,t){return t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),void this.setIndex(t)):(this.attributes[e]=t,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void this.addAttribute(e,new be(arguments[1],arguments[2])))},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){(new oe).getNormalMatrix(e).applyToBufferAttribute(n),n.needsUpdate=!0}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var e=new h;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new h;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new h;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new h;return function(t,n,r){return e.makeTranslation(t,n,r),this.applyMatrix(e),this}}(),scale:function(){var e=new h;return function(t,n,r){return e.makeScale(t,n,r),this.applyMatrix(e),this}}(),lookAt:function(){var e=new de;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();return this.translate(e.x,e.y,e.z),e},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new Ce(3*t.vertices.length,3),r=new Ce(3*t.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(t.vertices)),this.addAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new Ce(t.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},updateFromObject:function(e){var t=e.geometry;if(e.isMesh){var n=t.__directGeometry;if(!0===t.elementsNeedUpdate&&(n=void 0,t.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(t);n.verticesNeedUpdate=t.verticesNeedUpdate,n.normalsNeedUpdate=t.normalsNeedUpdate,n.colorsNeedUpdate=t.colorsNeedUpdate,n.uvsNeedUpdate=t.uvsNeedUpdate,n.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=n}var r;return!0===t.verticesNeedUpdate&&(r=this.attributes.position,void 0!==r&&(r.copyVector3sArray(t.vertices),r.needsUpdate=!0),t.verticesNeedUpdate=!1),!0===t.normalsNeedUpdate&&(r=this.attributes.normal,void 0!==r&&(r.copyVector3sArray(t.normals),r.needsUpdate=!0),t.normalsNeedUpdate=!1),!0===t.colorsNeedUpdate&&(r=this.attributes.color,void 0!==r&&(r.copyColorsArray(t.colors),r.needsUpdate=!0),t.colorsNeedUpdate=!1),t.uvsNeedUpdate&&(r=this.attributes.uv,void 0!==r&&(r.copyVector2sArray(t.uvs),r.needsUpdate=!0),t.uvsNeedUpdate=!1),t.lineDistancesNeedUpdate&&(r=this.attributes.lineDistance,void 0!==r&&(r.copyArray(t.lineDistances),r.needsUpdate=!0),t.lineDistancesNeedUpdate=!1),t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new Pe).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute("position",new be(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(3*e.normals.length);this.addAttribute("normal",new be(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var r=new Float32Array(3*e.colors.length);this.addAttribute("color",new be(r,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var i=new Float32Array(2*e.uvs.length);this.addAttribute("uv",new be(i,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var o=new Float32Array(2*e.uvs2.length);this.addAttribute("uv2",new be(o,2).copyVector2sArray(e.uvs2))}if(e.indices.length>0){var a=Re(e.indices)>65535?Uint32Array:Uint16Array,s=new a(3*e.indices.length);this.setIndex(new be(s,1).copyIndicesArray(e.indices))}this.groups=e.groups;for(var u in e.morphTargets){for(var c=[],l=e.morphTargets[u],h=0,d=l.length;h<d;h++){var f=l[h],p=new Ce(3*f.length,3);c.push(p.copyVector3sArray(f))}this.morphAttributes[u]=c}if(e.skinIndices.length>0){var m=new Ce(4*e.skinIndices.length,4);this.addAttribute("skinIndex",m.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var g=new Ce(4*e.skinWeights.length,4);this.addAttribute("skinWeight",g.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new re);var e=this.attributes.position;void 0!==e?this.boundingBox.setFromBufferAttribute(e):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var e=new re,t=new l;return function(){null===this.boundingSphere&&(this.boundingSphere=new ie);var n=this.attributes.position;if(n){var r=this.boundingSphere.center;e.setFromBufferAttribute(n),e.getCenter(r);for(var i=0,o=0,a=n.count;o<a;o++)t.x=n.getX(o),t.y=n.getY(o),t.z=n.getZ(o),i=Math.max(i,r.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes,n=this.groups;if(t.position){var r=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new be(new Float32Array(r.length),3));else for(var i=t.normal.array,o=0,a=i.length;o<a;o++)i[o]=0;var s,u,c,h=t.normal.array,d=new l,f=new l,p=new l,m=new l,g=new l;if(e){var v=e.array;0===n.length&&this.addGroup(0,v.length);for(var y=0,b=n.length;y<b;++y)for(var x=n[y],_=x.start,w=x.count,o=_,a=_+w;o<a;o+=3)s=3*v[o+0],u=3*v[o+1],c=3*v[o+2],d.fromArray(r,s),f.fromArray(r,u),p.fromArray(r,c),m.subVectors(p,f),g.subVectors(d,f),m.cross(g),h[s]+=m.x,h[s+1]+=m.y,h[s+2]+=m.z,h[u]+=m.x,h[u+1]+=m.y,h[u+2]+=m.z,h[c]+=m.x,h[c+1]+=m.y,h[c+2]+=m.z}else for(var o=0,a=r.length;o<a;o+=9)d.fromArray(r,o),f.fromArray(r,o+3),p.fromArray(r,o+6),m.subVectors(p,f),g.subVectors(d,f),m.cross(g),h[o]=m.x,h[o+1]=m.y,h[o+2]=m.z,h[o+3]=m.x,h[o+4]=m.y,h[o+5]=m.z,h[o+6]=m.x,h[o+7]=m.y,h[o+8]=m.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(!e||!e.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);void 0===t&&(t=0);var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var i=n[r],o=i.array,a=e.attributes[r],s=a.array,u=a.itemSize,c=0,l=u*t;c<s.length;c++,l++)o[l]=s[c];return this},normalizeNormals:function(){var e=new l;return function(){for(var t=this.attributes.normal,n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.normalize(),t.setXYZ(n,e.x,e.y,e.z)}}(),toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var e=new Le,t=this.index.array,n=this.attributes;for(var r in n){for(var i=n[r],o=i.array,a=i.itemSize,s=new o.constructor(t.length*a),u=0,c=0,l=0,h=t.length;l<h;l++){u=t[l]*a;for(var d=0;d<a;d++)s[c++]=o[u++]}e.addAttribute(r,new be(s,a))}return e},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;if(null!==r){var i=Array.prototype.slice.call(r.array);e.data.index={type:r.array.constructor.name,array:i}}var o=this.attributes;for(var n in o){var a=o[n],i=Array.prototype.slice.call(a.array);e.data.attributes[n]={itemSize:a.itemSize,type:a.array.constructor.name,array:i,normalized:a.normalized}}var s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));var u=this.boundingSphere;return null!==u&&(e.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),e},clone:function(){return(new Le).copy(this)},copy:function(e){var t,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var i=e.index;null!==i&&this.setIndex(i.clone());var o=e.attributes;for(t in o){var a=o[t];this.addAttribute(t,a.clone())}var s=e.morphAttributes;for(t in s){var u=[],c=s[t];for(n=0,r=c.length;n<r;n++)u.push(c[n].clone());this.morphAttributes[t]=u}var l=e.groups;for(n=0,r=l.length;n<r;n++){var h=l[n];this.addGroup(h.start,h.count,h.materialIndex)}var d=e.boundingBox;null!==d&&(this.boundingBox=d.clone());var f=e.boundingSphere;return null!==f&&(this.boundingSphere=f.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Ie.prototype=Object.create(ye.prototype),Ie.prototype.constructor=Ie,Oe.prototype=Object.create(Le.prototype),Oe.prototype.constructor=Oe,Ne.prototype=Object.create(ye.prototype),Ne.prototype.constructor=Ne,ke.prototype=Object.create(Le.prototype),ke.prototype.constructor=ke,De.prototype=Object.create($.prototype),De.prototype.constructor=De,De.prototype.isMeshBasicMaterial=!0,De.prototype.copy=function(e){return $.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},Object.assign(Ue.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return(t||new l).copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(){var e=new l;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){var n=t||new l;n.subVectors(e,this.origin);var r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new l;return function(t){var n=e.subVectors(t,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(n).add(this.origin),e.distanceToSquared(t))}}(),distanceSqToSegment:function(){var e=new l,t=new l,n=new l;return function(r,i,o,a){e.copy(r).add(i).multiplyScalar(.5),t.copy(i).sub(r).normalize(),n.copy(this.origin).sub(e);var s,u,c,l,h=.5*r.distanceTo(i),d=-this.direction.dot(t),f=n.dot(this.direction),p=-n.dot(t),m=n.lengthSq(),g=Math.abs(1-d*d);if(g>0)if(s=d*p-f,u=d*f-p,l=h*g,s>=0)if(u>=-l)if(u<=l){var v=1/g;s*=v,u*=v,c=s*(s+d*u+2*f)+u*(d*s+u+2*p)+m}else u=h,s=Math.max(0,-(d*u+f)),c=-s*s+u*(u+2*p)+m;else u=-h,s=Math.max(0,-(d*u+f)),c=-s*s+u*(u+2*p)+m;else u<=-l?(s=Math.max(0,-(-d*h+f)),u=s>0?-h:Math.min(Math.max(-h,-p),h),c=-s*s+u*(u+2*p)+m):u<=l?(s=0,u=Math.min(Math.max(-h,-p),h),c=u*(u+2*p)+m):(s=Math.max(0,-(d*h+f)),u=s>0?h:Math.min(Math.max(-h,-p),h),c=-s*s+u*(u+2*p)+m);else u=d>0?-h:h,s=Math.max(0,-(d*u+f)),c=-s*s+u*(u+2*p)+m;return o&&o.copy(this.direction).multiplyScalar(s).add(this.origin),a&&a.copy(t).multiplyScalar(u).add(e),c}}(),intersectSphere:function(){var e=new l;return function(t,n){e.subVectors(t.center,this.origin);var r=e.dot(this.direction),i=e.dot(e)-r*r,o=t.radius*t.radius;if(i>o)return null;var a=Math.sqrt(o-i),s=r-a,u=r+a;return s<0&&u<0?null:s<0?this.at(u,n):this.at(s,n)}}(),intersectsSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var n,r,i,o,a,s,u=1/this.direction.x,c=1/this.direction.y,l=1/this.direction.z,h=this.origin;return u>=0?(n=(e.min.x-h.x)*u,r=(e.max.x-h.x)*u):(n=(e.max.x-h.x)*u,r=(e.min.x-h.x)*u),c>=0?(i=(e.min.y-h.y)*c,o=(e.max.y-h.y)*c):(i=(e.max.y-h.y)*c,o=(e.min.y-h.y)*c),n>o||i>r?null:((i>n||n!==n)&&(n=i),(o<r||r!==r)&&(r=o),l>=0?(a=(e.min.z-h.z)*l,s=(e.max.z-h.z)*l):(a=(e.max.z-h.z)*l,s=(e.min.z-h.z)*l),n>s||a>r?null:((a>n||n!==n)&&(n=a),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))},intersectsBox:function(){var e=new l;return function(t){return null!==this.intersectBox(t,e)}}(),intersectTriangle:function(){var e=new l,t=new l,n=new l,r=new l;return function(i,o,a,s,u){t.subVectors(o,i),n.subVectors(a,i),r.crossVectors(t,n);var c,l=this.direction.dot(r);if(l>0){if(s)return null;c=1}else{if(!(l<0))return null;c=-1,l=-l}e.subVectors(this.origin,i);var h=c*this.direction.dot(n.crossVectors(e,n));if(h<0)return null;var d=c*this.direction.dot(t.cross(e));if(d<0)return null;if(h+d>l)return null;var f=-c*e.dot(r);return f<0?null:this.at(f/l,u)}}(),applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}),Object.assign(Fe.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return(e||new l).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return(e||new l).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){var n=t||new l;return this.delta(n).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new l,t=new l;return function(n,r){e.subVectors(n,this.start),t.subVectors(this.end,this.start);var i=t.dot(t),o=t.dot(e),a=o/i;return r&&(a=Is.clamp(a,0,1)),a}}(),closestPointToPoint:function(e,t,n){var r=this.closestPointToPointParameter(e,t),i=n||new l;return this.delta(i).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),Object.assign(Be,{normal:function(){var e=new l;return function(t,n,r,i){var o=i||new l;o.subVectors(r,n),e.subVectors(t,n),o.cross(e);var a=o.lengthSq();return a>0?o.multiplyScalar(1/Math.sqrt(a)):o.set(0,0,0)}}(),barycoordFromPoint:function(){var e=new l,t=new l,n=new l;return function(r,i,o,a,s){e.subVectors(a,i),t.subVectors(o,i),n.subVectors(r,i);var u=e.dot(e),c=e.dot(t),h=e.dot(n),d=t.dot(t),f=t.dot(n),p=u*d-c*c,m=s||new l;if(0===p)return m.set(-2,-1,-1);var g=1/p,v=(d*h-c*f)*g,y=(u*f-c*h)*g;return m.set(1-v-y,y,v)}}(),containsPoint:function(){var e=new l;return function(t,n,r,i){var o=Be.barycoordFromPoint(t,n,r,i,e);return o.x>=0&&o.y>=0&&o.x+o.y<=1}}()}),Object.assign(Be.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},area:function(){var e=new l,t=new l;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),midpoint:function(e){return(e||new l).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(e){return Be.normal(this.a,this.b,this.c,e)},plane:function(e){return(e||new ae).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(e,t){return Be.barycoordFromPoint(e,this.a,this.b,this.c,t)},containsPoint:function(e){return Be.containsPoint(e,this.a,this.b,this.c)},closestPointToPoint:function(){var e=new ae,t=[new Fe,new Fe,new Fe],n=new l,r=new l;return function(i,o){var a=o||new l,s=1/0;if(e.setFromCoplanarPoints(this.a,this.b,this.c),e.projectPoint(i,n),!0===this.containsPoint(n))a.copy(n);else{t[0].set(this.a,this.b),t[1].set(this.b,this.c),t[2].set(this.c,this.a);for(var u=0;u<t.length;u++){t[u].closestPointToPoint(n,!0,r);var c=n.distanceToSquared(r);c<s&&(s=c,a.copy(r))}}return a}}(),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}),ze.prototype=Object.assign(Object.create(de.prototype),{constructor:ze,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return de.prototype.copy.call(this,e),this.drawMode=e.drawMode,this},updateMorphTargets:function(){var e,t,n,r=this.geometry;if(r.isBufferGeometry){var i=r.morphAttributes,o=Object.keys(i);if(o.length>0){var a=i[o[0]];if(void 0!==a)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=a.length;e<t;e++)n=a[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var s=r.morphTargets;if(void 0!==s&&s.length>0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=s.length;e<t;e++)n=s[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}},raycast:function(){function e(e,t,n,r,i,o,a){return Be.barycoordFromPoint(e,t,n,r,y),i.multiplyScalar(y.x),o.multiplyScalar(y.y),a.multiplyScalar(y.z),i.add(o).add(a),i.clone()}function t(e,t,n,r,i,o,a,s){if(null===(t.side===Co?r.intersectTriangle(a,o,i,!0,s):r.intersectTriangle(i,o,a,t.side!==Ao,s)))return null;x.copy(s),x.applyMatrix4(e.matrixWorld);var u=n.ray.origin.distanceTo(x);return u<n.near||u>n.far?null:{distance:u,point:x.clone(),object:e}}function n(n,r,i,o,a,l,h,d){s.fromBufferAttribute(o,l),u.fromBufferAttribute(o,h),c.fromBufferAttribute(o,d);var f=t(n,n.material,r,i,s,u,c,b);return f&&(a&&(m.fromBufferAttribute(a,l),g.fromBufferAttribute(a,h),v.fromBufferAttribute(a,d),f.uv=e(b,s,u,c,m,g,v)),f.face=new ge(l,h,d,Be.normal(s,u,c)),f.faceIndex=l),f}var r=new h,o=new Ue,a=new ie,s=new l,u=new l,c=new l,d=new l,f=new l,p=new l,m=new i,g=new i,v=new i,y=new l,b=new l,x=new l;return function(i,l){var h=this.geometry,y=this.material,x=this.matrixWorld;if(void 0!==y&&(null===h.boundingSphere&&h.computeBoundingSphere(),a.copy(h.boundingSphere),a.applyMatrix4(x),!1!==i.ray.intersectsSphere(a)&&(r.getInverse(x),o.copy(i.ray).applyMatrix4(r),null===h.boundingBox||!1!==o.intersectsBox(h.boundingBox)))){var _;if(h.isBufferGeometry){var w,E,M,T,S,C=h.index,A=h.attributes.position,P=h.attributes.uv;if(null!==C)for(T=0,S=C.count;T<S;T+=3)w=C.getX(T),E=C.getX(T+1),M=C.getX(T+2),(_=n(this,i,o,A,P,w,E,M))&&(_.faceIndex=Math.floor(T/3),l.push(_));else for(T=0,S=A.count;T<S;T+=3)w=T,E=T+1,M=T+2,(_=n(this,i,o,A,P,w,E,M))&&(_.index=w,l.push(_))}else if(h.isGeometry){var R,L,I,O,N=Array.isArray(y),k=h.vertices,D=h.faces,U=h.faceVertexUvs[0];U.length>0&&(O=U);for(var F=0,B=D.length;F<B;F++){var z=D[F],H=N?y[z.materialIndex]:y;if(void 0!==H){if(R=k[z.a],L=k[z.b],I=k[z.c],!0===H.morphTargets){var q=h.morphTargets,j=this.morphTargetInfluences;s.set(0,0,0),u.set(0,0,0),c.set(0,0,0);for(var G=0,V=q.length;G<V;G++){var W=j[G];if(0!==W){var X=q[G].vertices;s.addScaledVector(d.subVectors(X[z.a],R),W),u.addScaledVector(f.subVectors(X[z.b],L),W),c.addScaledVector(p.subVectors(X[z.c],I),W)}}s.add(R),u.add(L),c.add(I),R=s,L=u,I=c}if(_=t(this,H,i,o,R,L,I,b)){if(O&&O[F]){var Y=O[F];m.copy(Y[0]),g.copy(Y[1]),v.copy(Y[2]),_.uv=e(b,R,L,I,m,g,v)}_.face=z,_.faceIndex=F,l.push(_)}}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var Zs=0;bt.prototype=Object.assign(Object.create(me.prototype),{constructor:bt,isArrayCamera:!0}),Tt.prototype.isFogExp2=!0,Tt.prototype.clone=function(){return new Tt(this.color.getHex(),this.density)},Tt.prototype.toJSON=function(e){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},St.prototype.isFog=!0,St.prototype.clone=function(){return new St(this.color.getHex(),this.near,this.far)},St.prototype.toJSON=function(e){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},Ct.prototype=Object.assign(Object.create(de.prototype),{constructor:Ct,copy:function(e,t){return de.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=de.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}),At.prototype=Object.assign(Object.create(de.prototype),{constructor:At,isLensFlare:!0,copy:function(e){de.prototype.copy.call(this,e),this.positionScreen.copy(e.positionScreen),this.customUpdateCallback=e.customUpdateCallback;for(var t=0,n=e.lensFlares.length;t<n;t++)this.lensFlares.push(e.lensFlares[t]);return this},add:function(e,t,n,r,i,o){void 0===t&&(t=-1),void 0===n&&(n=0),void 0===o&&(o=1),void 0===i&&(i=new Y(16777215)),void 0===r&&(r=ko),n=Math.min(n,Math.max(0,n)),this.lensFlares.push({texture:e,size:t,distance:n,x:0,y:0,z:0,scale:1,rotation:0,opacity:o,color:i,blending:r})},updateLensFlares:function(){var e,t,n=this.lensFlares.length,r=2*-this.positionScreen.x,i=2*-this.positionScreen.y;for(e=0;e<n;e++)t=this.lensFlares[e],t.x=this.positionScreen.x+r*t.distance,t.y=this.positionScreen.y+i*t.distance,t.wantedRotation=t.x*Math.PI*.25,t.rotation+=.25*(t.wantedRotation-t.rotation)}}),Pt.prototype=Object.create($.prototype),Pt.prototype.constructor=Pt,Pt.prototype.isSpriteMaterial=!0,Pt.prototype.copy=function(e){return $.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this},Rt.prototype=Object.assign(Object.create(de.prototype),{constructor:Rt,isSprite:!0,raycast:function(){var e=new l,t=new l,n=new l;return function(r,i){t.setFromMatrixPosition(this.matrixWorld),r.ray.closestPointToPoint(t,e),n.setFromMatrixScale(this.matrixWorld);var o=n.x*n.y/4;if(!(t.distanceToSquared(e)>o)){var a=r.ray.origin.distanceTo(e);a<r.near||a>r.far||i.push({distance:a,point:e.clone(),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),Lt.prototype=Object.assign(Object.create(de.prototype),{constructor:Lt,copy:function(e){de.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,r=t.length;n<r;n++){var i=t[n];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var n=this.levels,r=0;r<n.length&&!(t<n[r].distance);r++);n.splice(r,0,{distance:t,object:e}),this.add(e)},getObjectForDistance:function(e){for(var t=this.levels,n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object},raycast:function(){var e=new l;return function(t,n){e.setFromMatrixPosition(this.matrixWorld);var r=t.ray.origin.distanceTo(e);this.getObjectForDistance(r).raycast(t,n)}}(),update:function(){var e=new l,t=new l;return function(n){var r=this.levels;if(r.length>1){e.setFromMatrixPosition(n.matrixWorld),t.setFromMatrixPosition(this.matrixWorld);var i=e.distanceTo(t);r[0].object.visible=!0;for(var o=1,a=r.length;o<a&&i>=r[o].distance;o++)r[o-1].object.visible=!1,r[o].object.visible=!0;for(;o<a;o++)r[o].object.visible=!1}}}(),toJSON:function(e){var t=de.prototype.toJSON.call(this,e);t.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var o=n[r];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}),Object.assign(It.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new h;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){var e,t,n;for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){var e=new h,t=new h;return function(){for(var n=this.bones,r=this.boneInverses,i=this.boneMatrices,o=this.boneTexture,a=0,s=n.length;a<s;a++){var u=n[a]?n[a].matrixWorld:t;e.multiplyMatrices(u,r[a]),e.toArray(i,16*a)}void 0!==o&&(o.needsUpdate=!0)}}(),clone:function(){return new It(this.bones,this.boneInverses)}}),Ot.prototype=Object.assign(Object.create(de.prototype),{constructor:Ot,isBone:!0}),Nt.prototype=Object.assign(Object.create(ze.prototype),{constructor:Nt,isSkinnedMesh:!0,initBones:function(){var e,t,n,r,i=[];if(this.geometry&&void 0!==this.geometry.bones){for(n=0,r=this.geometry.bones.length;n<r;n++)t=this.geometry.bones[n],e=new Ot,i.push(e),e.name=t.name,e.position.fromArray(t.pos),e.quaternion.fromArray(t.rotq),void 0!==t.scl&&e.scale.fromArray(t.scl);for(n=0,r=this.geometry.bones.length;n<r;n++)t=this.geometry.bones[n],-1!==t.parent&&null!==t.parent&&void 0!==i[t.parent]?i[t.parent].add(i[n]):this.add(i[n])}return this.updateMatrixWorld(!0),i},bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var e,t;if(this.geometry&&this.geometry.isGeometry)for(t=0;t<this.geometry.skinWeights.length;t++){var n=this.geometry.skinWeights[t];e=1/n.lengthManhattan(),e!==1/0?n.multiplyScalar(e):n.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var r=new a,i=this.geometry.attributes.skinWeight;for(t=0;t<i.count;t++)r.x=i.getX(t),r.y=i.getY(t),r.z=i.getZ(t),r.w=i.getW(t),e=1/r.lengthManhattan(),e!==1/0?r.multiplyScalar(e):r.set(1,0,0,0),i.setXYZW(t,r.x,r.y,r.z,r.w)}},updateMatrixWorld:function(e){ze.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),kt.prototype=Object.create($.prototype),kt.prototype.constructor=kt,kt.prototype.isLineBasicMaterial=!0,kt.prototype.copy=function(e){return $.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this},Dt.prototype=Object.assign(Object.create(de.prototype),{constructor:Dt,isLine:!0,raycast:function(){var e=new h,t=new Ue,n=new ie;return function(r,i){var o=r.linePrecision,a=o*o,s=this.geometry,u=this.matrixWorld;if(null===s.boundingSphere&&s.computeBoundingSphere(),n.copy(s.boundingSphere),n.applyMatrix4(u),!1!==r.ray.intersectsSphere(n)){e.getInverse(u),t.copy(r.ray).applyMatrix4(e);var c=new l,h=new l,d=new l,f=new l,p=this&&this.isLineSegments?2:1;if(s.isBufferGeometry){var m=s.index,g=s.attributes,v=g.position.array;if(null!==m)for(var y=m.array,b=0,x=y.length-1;b<x;b+=p){var _=y[b],w=y[b+1];c.fromArray(v,3*_),h.fromArray(v,3*w);var E=t.distanceSqToSegment(c,h,f,d);if(!(E>a)){f.applyMatrix4(this.matrixWorld);var M=r.ray.origin.distanceTo(f);M<r.near||M>r.far||i.push({distance:M,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else for(var b=0,x=v.length/3-1;b<x;b+=p){c.fromArray(v,3*b),h.fromArray(v,3*b+3);var E=t.distanceSqToSegment(c,h,f,d);if(!(E>a)){f.applyMatrix4(this.matrixWorld);var M=r.ray.origin.distanceTo(f);M<r.near||M>r.far||i.push({distance:M,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}else if(s.isGeometry)for(var T=s.vertices,S=T.length,b=0;b<S-1;b+=p){var E=t.distanceSqToSegment(T[b],T[b+1],f,d);if(!(E>a)){f.applyMatrix4(this.matrixWorld);var M=r.ray.origin.distanceTo(f);M<r.near||M>r.far||i.push({distance:M,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Ut.prototype=Object.assign(Object.create(Dt.prototype),{constructor:Ut,isLineSegments:!0}),Ft.prototype=Object.assign(Object.create(Dt.prototype),{constructor:Ft,isLineLoop:!0}),Bt.prototype=Object.create($.prototype),Bt.prototype.constructor=Bt,Bt.prototype.isPointsMaterial=!0,Bt.prototype.copy=function(e){return $.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this},zt.prototype=Object.assign(Object.create(de.prototype),{constructor:zt,isPoints:!0,raycast:function(){var e=new h,t=new Ue,n=new ie;return function(r,i){function o(e,n){var o=t.distanceSqToPoint(e);if(o<d){var s=t.closestPointToPoint(e);s.applyMatrix4(u);var c=r.ray.origin.distanceTo(s);if(c<r.near||c>r.far)return;i.push({distance:c,distanceToRay:Math.sqrt(o),point:s.clone(),index:n,face:null,object:a})}}var a=this,s=this.geometry,u=this.matrixWorld,c=r.params.Points.threshold;if(null===s.boundingSphere&&s.computeBoundingSphere(),n.copy(s.boundingSphere),n.applyMatrix4(u),n.radius+=c,!1!==r.ray.intersectsSphere(n)){e.getInverse(u),t.copy(r.ray).applyMatrix4(e);var h=c/((this.scale.x+this.scale.y+this.scale.z)/3),d=h*h,f=new l;if(s.isBufferGeometry){var p=s.index,m=s.attributes,g=m.position.array;if(null!==p)for(var v=p.array,y=0,b=v.length;y<b;y++){var x=v[y];f.fromArray(g,3*x),o(f,x)}else for(var y=0,_=g.length/3;y<_;y++)f.fromArray(g,3*y),o(f,y)}else for(var w=s.vertices,y=0,_=w.length;y<_;y++)o(w[y],y)}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Ht.prototype=Object.assign(Object.create(de.prototype),{constructor:Ht}),qt.prototype=Object.create(o.prototype),qt.prototype.constructor=qt,jt.prototype=Object.create(o.prototype),jt.prototype.constructor=jt,jt.prototype.isCompressedTexture=!0,Gt.prototype=Object.create(o.prototype),Gt.prototype.constructor=Gt,Gt.prototype.isDepthTexture=!0,Vt.prototype=Object.create(Le.prototype),Vt.prototype.constructor=Vt,Wt.prototype=Object.create(ye.prototype),Wt.prototype.constructor=Wt,Xt.prototype=Object.create(Le.prototype),Xt.prototype.constructor=Xt,Yt.prototype=Object.create(ye.prototype),Yt.prototype.constructor=Yt,Zt.prototype=Object.create(Le.prototype),Zt.prototype.constructor=Zt,Kt.prototype=Object.create(ye.prototype),Kt.prototype.constructor=Kt,Qt.prototype=Object.create(Zt.prototype),Qt.prototype.constructor=Qt,Jt.prototype=Object.create(ye.prototype),Jt.prototype.constructor=Jt,$t.prototype=Object.create(Zt.prototype),$t.prototype.constructor=$t,en.prototype=Object.create(ye.prototype),en.prototype.constructor=en,tn.prototype=Object.create(Zt.prototype),tn.prototype.constructor=tn,nn.prototype=Object.create(ye.prototype),nn.prototype.constructor=nn,rn.prototype=Object.create(Zt.prototype),rn.prototype.constructor=rn,on.prototype=Object.create(ye.prototype),on.prototype.constructor=on,an.prototype=Object.create(Le.prototype),an.prototype.constructor=an,sn.prototype=Object.create(ye.prototype),sn.prototype.constructor=sn,un.prototype=Object.create(Le.prototype),un.prototype.constructor=un,cn.prototype=Object.create(ye.prototype),cn.prototype.constructor=cn,ln.prototype=Object.create(Le.prototype),ln.prototype.constructor=ln;var Ks={area:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n},triangulate:function(){function e(e,t,n,r,i,o){var a,s,u,c,l,h,d,f,p;if(s=e[o[t]].x,u=e[o[t]].y,c=e[o[n]].x,l=e[o[n]].y,h=e[o[r]].x,d=e[o[r]].y,(c-s)*(d-u)-(l-u)*(h-s)<=0)return!1;var m,g,v,y,b,x,_,w,E,M,T,S,C,A,P;for(m=h-c,g=d-l,v=s-h,y=u-d,b=c-s,x=l-u,a=0;a<i;a++)if(f=e[o[a]].x,p=e[o[a]].y,!(f===s&&p===u||f===c&&p===l||f===h&&p===d)&&(_=f-s,w=p-u,E=f-c,M=p-l,T=f-h,S=p-d,P=m*M-g*E,C=b*w-x*_,A=v*S-y*T,P>=-Number.EPSILON&&A>=-Number.EPSILON&&C>=-Number.EPSILON))return!1;return!0}return function(t,n){var r=t.length;if(r<3)return null;var i,o,a,s=[],u=[],c=[];if(Ks.area(t)>0)for(o=0;o<r;o++)u[o]=o;else for(o=0;o<r;o++)u[o]=r-1-o;var l=r,h=2*l;for(o=l-1;l>2;){if(h--<=0)return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"),n?c:s;if(i=o,l<=i&&(i=0),o=i+1,l<=o&&(o=0),a=o+1,l<=a&&(a=0),e(t,i,o,a,l,u)){var d,f,p,m,g;for(d=u[i],f=u[o],p=u[a],s.push([t[d],t[f],t[p]]),c.push([u[i],u[o],u[a]]),m=o,g=o+1;g<l;m++,g++)u[m]=u[g];l--,h=2*l}}return n?c:s}}(),triangulateShape:function(e,t){function n(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function r(e,t,n){return e.x!==t.x?e.x<t.x?e.x<=n.x&&n.x<=t.x:t.x<=n.x&&n.x<=e.x:e.y<t.y?e.y<=n.y&&n.y<=t.y:t.y<=n.y&&n.y<=e.y}function i(e,t,n,i,o){var a=t.x-e.x,s=t.y-e.y,u=i.x-n.x,c=i.y-n.y,l=e.x-n.x,h=e.y-n.y,d=s*u-a*c,f=s*l-a*h;if(Math.abs(d)>Number.EPSILON){var p;if(d>0){if(f<0||f>d)return[];if((p=c*l-u*h)<0||p>d)return[]}else{if(f>0||f<d)return[];if((p=c*l-u*h)>0||p<d)return[]}if(0===p)return!o||0!==f&&f!==d?[e]:[];if(p===d)return!o||0!==f&&f!==d?[t]:[];if(0===f)return[n];if(f===d)return[i];var m=p/d;return[{x:e.x+m*a,y:e.y+m*s}]}if(0!==f||c*l!=u*h)return[];var g=0===a&&0===s,v=0===u&&0===c;if(g&&v)return e.x!==n.x||e.y!==n.y?[]:[e];if(g)return r(n,i,e)?[e]:[];if(v)return r(e,t,n)?[n]:[];var y,b,x,_,w,E,M,T;return 0!==a?(e.x<t.x?(y=e,x=e.x,b=t,_=t.x):(y=t,x=t.x,b=e,_=e.x),n.x<i.x?(w=n,M=n.x,E=i,T=i.x):(w=i,M=i.x,E=n,T=n.x)):(e.y<t.y?(y=e,x=e.y,b=t,_=t.y):(y=t,x=t.y,b=e,_=e.y),n.y<i.y?(w=n,M=n.y,E=i,T=i.y):(w=i,M=i.y,E=n,T=n.y)),x<=M?_<M?[]:_===M?o?[]:[w]:_<=T?[w,b]:[w,E]:x>T?[]:x===T?o?[]:[y]:_<=T?[y,b]:[y,E]}function o(e,t,n,r){var i=t.x-e.x,o=t.y-e.y,a=n.x-e.x,s=n.y-e.y,u=r.x-e.x,c=r.y-e.y,l=i*s-o*a,h=i*c-o*u;if(Math.abs(l)>Number.EPSILON){var d=u*s-c*a;return l>0?h>=0&&d>=0:h>=0||d>=0}return h>0}n(e),t.forEach(n);for(var a,s,u,c,l,h,d={},f=e.concat(),p=0,m=t.length;p<m;p++)Array.prototype.push.apply(f,t[p]);for(a=0,s=f.length;a<s;a++)l=f[a].x+":"+f[a].y,void 0!==d[l]&&console.warn("THREE.ShapeUtils: Duplicate point",l,a),d[l]=a;var g=function(e,t){for(var n,r,a,s,u,c,l,h,d,f,p,m=e.concat(),g=[],v=[],y=0,b=t.length;y<b;y++)g.push(y);for(var x=0,_=2*g.length;g.length>0;){if(--_<0){console.log('THREE.ShapeUtils: Infinite Loop! Holes left:" + indepHoles.length + ", Probably Hole outside Shape!');break}for(a=x;a<m.length;a++){s=m[a],r=-1;for(var y=0;y<g.length;y++)if(c=g[y],l=s.x+":"+s.y+":"+c,void 0===v[l]){n=t[c];for(var w=0;w<n.length;w++)if(u=n[w],function(e,t){var r=m.length-1,i=e-1;i<0&&(i=r);var a=e+1;a>r&&(a=0);var s=o(m[e],m[i],m[a],n[t]);if(!s)return!1;var u=n.length-1,c=t-1;c<0&&(c=u);var l=t+1;return l>u&&(l=0),!!(s=o(n[t],n[c],n[l],m[e]))}(a,w)&&!function(e,t){var n,r,o;for(n=0;n<m.length;n++)if(r=n+1,r%=m.length,o=i(e,t,m[n],m[r],!0),o.length>0)return!0;return!1}(s,u)&&!function(e,n){var r,o,a,s,u;for(r=0;r<g.length;r++)for(o=t[g[r]],a=0;a<o.length;a++)if(s=a+1,s%=o.length,u=i(e,n,o[a],o[s],!0),u.length>0)return!0;return!1}(s,u)){r=w,g.splice(y,1),h=m.slice(0,a+1),d=m.slice(a),f=n.slice(r),p=n.slice(0,r+1),m=h.concat(f).concat(p).concat(d),x=a;break}if(r>=0)break;v[l]=!0}if(r>=0)break}}return m}(e,t),v=Ks.triangulate(g,!1);for(a=0,s=v.length;a<s;a++)for(c=v[a],u=0;u<3;u++)l=c[u].x+":"+c[u].y,void 0!==(h=d[l])&&(c[u]=h);return v.concat()},isClockWise:function(e){return Ks.area(e)<0}};hn.prototype=Object.create(ye.prototype),hn.prototype.constructor=hn,dn.prototype=Object.create(Le.prototype),dn.prototype.constructor=dn,dn.prototype.getArrays=function(){var e=this.getAttribute("position"),t=e?Array.prototype.slice.call(e.array):[],n=this.getAttribute("uv"),r=n?Array.prototype.slice.call(n.array):[],i=this.index;return{position:t,uv:r,index:i?Array.prototype.slice.call(i.array):[]}},dn.prototype.addShapeList=function(e,t){var n=e.length;t.arrays=this.getArrays();for(var r=0;r<n;r++){var i=e[r];this.addShape(i,t)}this.setIndex(t.arrays.index),this.addAttribute("position",new Ce(t.arrays.position,3)),this.addAttribute("uv",new Ce(t.arrays.uv,2))},dn.prototype.addShape=function(e,t){function n(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}function r(e,t,n){var r,o,a,s=e.x-t.x,u=e.y-t.y,c=n.x-e.x,l=n.y-e.y,h=s*s+u*u,d=s*l-u*c;if(Math.abs(d)>Number.EPSILON){var f=Math.sqrt(h),p=Math.sqrt(c*c+l*l),m=t.x-u/f,g=t.y+s/f,v=n.x-l/p,y=n.y+c/p,b=((v-m)*l-(y-g)*c)/(s*l-u*c);r=m+s*b-e.x,o=g+u*b-e.y;var x=r*r+o*o;if(x<=2)return new i(r,o);a=Math.sqrt(x/2)}else{var _=!1;s>Number.EPSILON?c>Number.EPSILON&&(_=!0):s<-Number.EPSILON?c<-Number.EPSILON&&(_=!0):Math.sign(u)===Math.sign(l)&&(_=!0),_?(r=-u,o=s,a=Math.sqrt(h)):(r=s,o=u,a=Math.sqrt(h/2))}return new i(r/a,o/a)}function o(e,t){var n,r;for(K=e.length;--K>=0;){n=K,r=K-1,r<0&&(r=e.length-1);var i=0,o=A+2*T;for(i=0;i<o;i++){var a=X*i,s=X*(i+1);u(t+n+a,t+r+a,t+r+s,t+n+s,e,i,o,n,r)}}}function a(e,t,n){_.push(e),_.push(t),_.push(n)}function s(e,t,n){c(e),c(t),c(n);var r=y.length/3,i=L.generateTopUV(k,y,r-3,r-2,r-1);h(i[0]),h(i[1]),h(i[2])}function u(e,t,n,r,i,o,a,s,u){c(e),c(t),c(r),c(t),c(n),c(r);var l=y.length/3,d=L.generateSideWallUV(k,y,l-6,l-3,l-2,l-1);h(d[0]),h(d[1]),h(d[3]),h(d[1]),h(d[2]),h(d[3])}function c(e){b.push(y.length/3),y.push(_[3*e+0]),y.push(_[3*e+1]),y.push(_[3*e+2])}function h(e){x.push(e.x),x.push(e.y)}var d,f,p,m,g,v=t.arrays?t.arrays:this.getArrays(),y=v.position,b=v.index,x=v.uv,_=[],w=void 0!==t.amount?t.amount:100,E=void 0!==t.bevelThickness?t.bevelThickness:6,M=void 0!==t.bevelSize?t.bevelSize:E-2,T=void 0!==t.bevelSegments?t.bevelSegments:3,S=void 0===t.bevelEnabled||t.bevelEnabled,C=void 0!==t.curveSegments?t.curveSegments:12,A=void 0!==t.steps?t.steps:1,P=t.extrudePath,R=!1,L=void 0!==t.UVGenerator?t.UVGenerator:hn.WorldUVGenerator;P&&(d=P.getSpacedPoints(A),R=!0,S=!1,f=void 0!==t.frames?t.frames:P.computeFrenetFrames(A,!1),p=new l,m=new l,g=new l),S||(T=0,E=0,M=0);var I,O,N,k=this,D=e.extractPoints(C),U=D.shape,F=D.holes;if(!Ks.isClockWise(U))for(U=U.reverse(),O=0,N=F.length;O<N;O++)I=F[O],Ks.isClockWise(I)&&(F[O]=I.reverse());var B=Ks.triangulateShape(U,F),z=U;for(O=0,N=F.length;O<N;O++)I=F[O],U=U.concat(I);for(var H,q,j,G,V,W,X=U.length,Y=B.length,Z=[],K=0,Q=z.length,J=Q-1,$=K+1;K<Q;K++,J++,$++)J===Q&&(J=0),$===Q&&($=0),Z[K]=r(z[K],z[J],z[$]);var ee,te=[],ne=Z.concat();for(O=0,N=F.length;O<N;O++){for(I=F[O],ee=[],K=0,Q=I.length,J=Q-1,$=K+1;K<Q;K++,J++,$++)J===Q&&(J=0),$===Q&&($=0),ee[K]=r(I[K],I[J],I[$]);te.push(ee),ne=ne.concat(ee)}for(H=0;H<T;H++){for(j=H/T,G=E*Math.cos(j*Math.PI/2),q=M*Math.sin(j*Math.PI/2),K=0,Q=z.length;K<Q;K++)V=n(z[K],Z[K],q),a(V.x,V.y,-G);for(O=0,N=F.length;O<N;O++)for(I=F[O],ee=te[O],K=0,Q=I.length;K<Q;K++)V=n(I[K],ee[K],q),a(V.x,V.y,-G)}for(q=M,K=0;K<X;K++)V=S?n(U[K],ne[K],q):U[K],R?(m.copy(f.normals[0]).multiplyScalar(V.x),p.copy(f.binormals[0]).multiplyScalar(V.y),g.copy(d[0]).add(m).add(p),a(g.x,g.y,g.z)):a(V.x,V.y,0);var re;for(re=1;re<=A;re++)for(K=0;K<X;K++)V=S?n(U[K],ne[K],q):U[K],R?(m.copy(f.normals[re]).multiplyScalar(V.x),p.copy(f.binormals[re]).multiplyScalar(V.y),g.copy(d[re]).add(m).add(p),a(g.x,g.y,g.z)):a(V.x,V.y,w/A*re);for(H=T-1;H>=0;H--){for(j=H/T,G=E*Math.cos(j*Math.PI/2),q=M*Math.sin(j*Math.PI/2),K=0,Q=z.length;K<Q;K++)V=n(z[K],Z[K],q),a(V.x,V.y,w+G);for(O=0,N=F.length;O<N;O++)for(I=F[O],ee=te[O],K=0,Q=I.length;K<Q;K++)V=n(I[K],ee[K],q),R?a(V.x,V.y+d[A-1].y,d[A-1].x+G):a(V.x,V.y,w+G)}!function(){var e=y.length/3;if(S){var n=0,r=X*n;for(K=0;K<Y;K++)W=B[K],s(W[2]+r,W[1]+r,W[0]+r);for(n=A+2*T,r=X*n,K=0;K<Y;K++)W=B[K],s(W[0]+r,W[1]+r,W[2]+r)}else{for(K=0;K<Y;K++)W=B[K],s(W[2],W[1],W[0]);for(K=0;K<Y;K++)W=B[K],s(W[0]+X*A,W[1]+X*A,W[2]+X*A)}k.addGroup(e,y.length/3-e,void 0!==t.material?t.material:0)}(),function(){var e=y.length/3,n=0;for(o(z,n),n+=z.length,O=0,N=F.length;O<N;O++)I=F[O],o(I,n),n+=I.length;k.addGroup(e,y.length/3-e,void 0!==t.extrudeMaterial?t.extrudeMaterial:1)}(),t.arrays||(this.setIndex(b),this.addAttribute("position",new Ce(y,3)),this.addAttribute("uv",new Ce(t.arrays.uv,2)))},hn.WorldUVGenerator={generateTopUV:function(e,t,n,r,o){var a=t[3*n],s=t[3*n+1],u=t[3*r],c=t[3*r+1],l=t[3*o],h=t[3*o+1];return[new i(a,s),new i(u,c),new i(l,h)]},generateSideWallUV:function(e,t,n,r,o,a){var s=t[3*n],u=t[3*n+1],c=t[3*n+2],l=t[3*r],h=t[3*r+1],d=t[3*r+2],f=t[3*o],p=t[3*o+1],m=t[3*o+2],g=t[3*a],v=t[3*a+1],y=t[3*a+2];return Math.abs(u-h)<.01?[new i(s,1-c),new i(l,1-d),new i(f,1-m),new i(g,1-y)]:[new i(u,1-c),new i(h,1-d),new i(p,1-m),new i(v,1-y)]}},fn.prototype=Object.create(ye.prototype),fn.prototype.constructor=fn,pn.prototype=Object.create(dn.prototype),pn.prototype.constructor=pn,mn.prototype=Object.create(ye.prototype),mn.prototype.constructor=mn,gn.prototype=Object.create(Le.prototype),gn.prototype.constructor=gn,vn.prototype=Object.create(ye.prototype),vn.prototype.constructor=vn,yn.prototype=Object.create(Le.prototype),yn.prototype.constructor=yn,bn.prototype=Object.create(ye.prototype),bn.prototype.constructor=bn,xn.prototype=Object.create(Le.prototype),xn.prototype.constructor=xn,_n.prototype=Object.create(ye.prototype),_n.prototype.constructor=_n,wn.prototype=Object.create(Le.prototype),wn.prototype.constructor=wn,En.prototype=Object.create(Le.prototype),En.prototype.constructor=En,Mn.prototype=Object.create(ye.prototype),Mn.prototype.constructor=Mn,Tn.prototype=Object.create(Le.prototype),Tn.prototype.constructor=Tn,Sn.prototype=Object.create(Mn.prototype),Sn.prototype.constructor=Sn,Cn.prototype=Object.create(Tn.prototype),Cn.prototype.constructor=Cn,An.prototype=Object.create(ye.prototype),An.prototype.constructor=An,Pn.prototype=Object.create(Le.prototype),Pn.prototype.constructor=Pn;var Qs=Object.freeze({WireframeGeometry:Vt,ParametricGeometry:Wt,ParametricBufferGeometry:Xt,TetrahedronGeometry:Kt,TetrahedronBufferGeometry:Qt,OctahedronGeometry:Jt,OctahedronBufferGeometry:$t,IcosahedronGeometry:en,IcosahedronBufferGeometry:tn,DodecahedronGeometry:nn,DodecahedronBufferGeometry:rn,PolyhedronGeometry:Yt,PolyhedronBufferGeometry:Zt,TubeGeometry:on,TubeBufferGeometry:an,TorusKnotGeometry:sn,TorusKnotBufferGeometry:un,TorusGeometry:cn,TorusBufferGeometry:ln,TextGeometry:fn,TextBufferGeometry:pn,SphereGeometry:mn,SphereBufferGeometry:gn,RingGeometry:vn,RingBufferGeometry:yn,PlaneGeometry:Ne,PlaneBufferGeometry:ke,LatheGeometry:bn,LatheBufferGeometry:xn,ShapeGeometry:_n,ShapeBufferGeometry:wn,ExtrudeGeometry:hn,ExtrudeBufferGeometry:dn,EdgesGeometry:En,ConeGeometry:Sn,ConeBufferGeometry:Cn,CylinderGeometry:Mn,CylinderBufferGeometry:Tn,CircleGeometry:An,CircleBufferGeometry:Pn,BoxGeometry:Ie,BoxBufferGeometry:Oe});Rn.prototype=Object.create($.prototype),Rn.prototype.constructor=Rn,Rn.prototype.isShadowMaterial=!0,Ln.prototype=Object.create(ee.prototype),Ln.prototype.constructor=Ln,Ln.prototype.isRawShaderMaterial=!0,In.prototype=Object.create($.prototype),In.prototype.constructor=In,In.prototype.isMeshStandardMaterial=!0,In.prototype.copy=function(e){return $.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},On.prototype=Object.create(In.prototype),On.prototype.constructor=On,On.prototype.isMeshPhysicalMaterial=!0,On.prototype.copy=function(e){return In.prototype.copy.call(this,e),this.defines={PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearCoat=e.clearCoat,this.clearCoatRoughness=e.clearCoatRoughness,this},Nn.prototype=Object.create($.prototype),Nn.prototype.constructor=Nn,Nn.prototype.isMeshPhongMaterial=!0,Nn.prototype.copy=function(e){return $.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},kn.prototype=Object.create(Nn.prototype),kn.prototype.constructor=kn,kn.prototype.isMeshToonMaterial=!0,kn.prototype.copy=function(e){return Nn.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},Dn.prototype=Object.create($.prototype),Dn.prototype.constructor=Dn,Dn.prototype.isMeshNormalMaterial=!0,Dn.prototype.copy=function(e){return $.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Un.prototype=Object.create($.prototype),Un.prototype.constructor=Un,Un.prototype.isMeshLambertMaterial=!0,Un.prototype.copy=function(e){return $.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Fn.prototype=Object.create(kt.prototype),Fn.prototype.constructor=Fn,Fn.prototype.isLineDashedMaterial=!0,Fn.prototype.copy=function(e){return kt.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var Js=Object.freeze({ShadowMaterial:Rn,SpriteMaterial:Pt,RawShaderMaterial:Ln,ShaderMaterial:ee,PointsMaterial:Bt,MeshPhysicalMaterial:On,MeshStandardMaterial:In,MeshPhongMaterial:Nn,MeshToonMaterial:kn,MeshNormalMaterial:Dn,MeshLambertMaterial:Un,MeshDepthMaterial:te,MeshDistanceMaterial:ne,MeshBasicMaterial:De,LineDashedMaterial:Fn,LineBasicMaterial:kt,Material:$}),$s={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},eu=new Bn;Object.assign(zn.prototype,{load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e);var i=this,o=$s.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout(function(){t&&t(o),i.manager.itemEnd(e)},0),o;var a=/^data:(.*?)(;base64)?,(.*)$/,s=e.match(a);if(s){var u=s[1],c=!!s[2],l=s[3];l=window.decodeURIComponent(l),c&&(l=window.atob(l));try{var h,d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":h=new ArrayBuffer(l.length);for(var f=new Uint8Array(h),p=0;p<l.length;p++)f[p]=l.charCodeAt(p);"blob"===d&&(h=new Blob([h],{type:u}));break;case"document":var m=new DOMParser;h=m.parseFromString(l,u);break;case"json":h=JSON.parse(l);break;default:h=l}window.setTimeout(function(){t&&t(h),i.manager.itemEnd(e)},0)}catch(t){window.setTimeout(function(){r&&r(t),i.manager.itemEnd(e),i.manager.itemError(e)},0)}}else{var g=new XMLHttpRequest;g.open("GET",e,!0),g.addEventListener("load",function(n){var o=n.target.response;$s.add(e,o),200===this.status?(t&&t(o),i.manager.itemEnd(e)):0===this.status?(console.warn("THREE.FileLoader: HTTP Status 0 received."),t&&t(o),i.manager.itemEnd(e)):(r&&r(n),i.manager.itemEnd(e),i.manager.itemError(e))},!1),void 0!==n&&g.addEventListener("progress",function(e){n(e)},!1),g.addEventListener("error",function(t){r&&r(t),i.manager.itemEnd(e),i.manager.itemError(e)},!1),void 0!==this.responseType&&(g.responseType=this.responseType),void 0!==this.withCredentials&&(g.withCredentials=this.withCredentials),g.overrideMimeType&&g.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(var v in this.requestHeader)g.setRequestHeader(v,this.requestHeader[v]);g.send(null)}return i.manager.itemStart(e),g},setPath:function(e){return this.path=e,this},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),Object.assign(Hn.prototype,{load:function(e,t,n,r){var i=this,o=[],a=new jt;a.image=o;var s=new zn(this.manager);if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(e))for(var u=0,c=0,l=e.length;c<l;++c)!function(c){s.load(e[c],function(e){var n=i._parser(e,!0);o[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(u+=1)&&(1===n.mipmapCount&&(a.minFilter=Ia),a.format=n.format,a.needsUpdate=!0,t&&t(a))},n,r)}(c);else s.load(e,function(e){var n=i._parser(e,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){o[s]={mipmaps:[]};for(var u=0;u<n.mipmapCount;u++)o[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+u]),o[s].format=n.format,o[s].width=n.width,o[s].height=n.height}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=Ia),a.format=n.format,a.needsUpdate=!0,t&&t(a)},n,r);return a},setPath:function(e){return this.path=e,this}}),Object.assign(qn.prototype,{load:function(e,t,n,r){var i=this,o=new d,a=new zn(this.manager);return a.setResponseType("arraybuffer"),a.load(e,function(e){var n=i._parser(e);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:Ca,o.wrapT=void 0!==n.wrapT?n.wrapT:Ca,o.magFilter=void 0!==n.magFilter?n.magFilter:Ia,o.minFilter=void 0!==n.minFilter?n.minFilter:Na,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps),1===n.mipmapCount&&(o.minFilter=Ia),o.needsUpdate=!0,t&&t(o,n))},n,r),o}}),Object.assign(jn.prototype,{crossOrigin:"Anonymous",load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e);var i=this,o=$s.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout(function(){t&&t(o),i.manager.itemEnd(e)},0),o;var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");return a.addEventListener("load",function(){$s.add(e,this),t&&t(this),i.manager.itemEnd(e)},!1),a.addEventListener("error",function(t){r&&r(t),i.manager.itemEnd(e),i.manager.itemError(e)},!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(e),a.src=e,a},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Gn.prototype,{crossOrigin:"Anonymous",load:function(e,t,n,r){var i=new f,o=new jn(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);for(var a=0,s=0;s<e.length;++s)!function(n){o.load(e[n],function(e){i.images[n]=e,6==++a&&(i.needsUpdate=!0,t&&t(i))},void 0,r)}(s);return i},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Vn.prototype,{crossOrigin:"Anonymous",load:function(e,t,n,r){var i=new jn(this.manager);i.setCrossOrigin(this.crossOrigin),i.setPath(this.path);var a=new o;return a.image=i.load(e,function(){var n=e.search(/\.(jpg|jpeg)$/)>0||0===e.search(/^data\:image\/jpeg/);a.format=n?Ya:Za,a.needsUpdate=!0,void 0!==t&&t(a)},n,r),a},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Wn.prototype=Object.assign(Object.create(de.prototype),{constructor:Wn,isLight:!0,copy:function(e){return de.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=de.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),Xn.prototype=Object.assign(Object.create(Wn.prototype),{constructor:Xn,isHemisphereLight:!0,copy:function(e){return Wn.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(Yn.prototype,{copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),Zn.prototype=Object.assign(Object.create(Yn.prototype),{constructor:Zn,isSpotLightShadow:!0,update:function(e){var t=this.camera,n=2*Is.RAD2DEG*e.angle,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix())}}),Kn.prototype=Object.assign(Object.create(Wn.prototype),{constructor:Kn,isSpotLight:!0,copy:function(e){return Wn.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Qn.prototype=Object.assign(Object.create(Wn.prototype),{constructor:Qn,isPointLight:!0,copy:function(e){return Wn.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),Jn.prototype=Object.assign(Object.create(Yn.prototype),{constructor:Jn}),$n.prototype=Object.assign(Object.create(Wn.prototype),{constructor:$n,isDirectionalLight:!0,copy:function(e){return Wn.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),er.prototype=Object.assign(Object.create(Wn.prototype),{constructor:er,isAmbientLight:!0}),tr.prototype=Object.assign(Object.create(Wn.prototype),{constructor:tr,isRectAreaLight:!0,copy:function(e){return Wn.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=Wn.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}});var tu={arraySlice:function(e,t,n){return tu.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){function t(t,n){return e[t]-e[n]}for(var n=e.length,r=new Array(n),i=0;i!==n;++i)r[i]=i;return r.sort(t),r},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),o=0,a=0;a!==r;++o)for(var s=n[o]*t,u=0;u!==t;++u)i[a++]=e[s+u];return i},flattenJSON:function(e,t,n,r){for(var i=1,o=e[0];void 0!==o&&void 0===o[r];)o=e[i++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a))do{a=o[r],void 0!==a&&(t.push(o.time),n.push.apply(n,a)),o=e[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{a=o[r],void 0!==a&&(t.push(o.time),a.toArray(n,n.length)),o=e[i++]}while(void 0!==o);else do{a=o[r],void 0!==a&&(t.push(o.time),n.push(a)),o=e[i++]}while(void 0!==o)}}};Object.assign(nr.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var o;n:{r:if(!(e<r)){for(var a=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===a)break;if(i=r,r=t[++n],e<r)break t}o=t.length;break n}{if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(var a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===a)break;if(r=i,i=t[--n-1],e>=i)break t}o=n,n=0}}for(;n<o;){var u=n+o>>>1;e<t[u]?o=u:n=u+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,o=0;o!==r;++o)t[o]=n[i+o];return t},interpolate_:function(e,t,n,r){throw new Error("call to abstract method")},intervalChanged_:function(e,t,n){}}),
//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(nr.prototype,{beforeStart_:nr.prototype.copySampleValue_,afterEnd_:nr.prototype.copySampleValue_}),rr.prototype=Object.assign(Object.create(nr.prototype),{constructor:rr,DefaultSettings_:{endingStart:gs,endingEnd:gs},intervalChanged_:function(e,t,n){var r=this.parameterPositions,i=e-2,o=e+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case vs:i=e,a=2*t-n;break;case ys:i=r.length-2,a=t+r[i]-r[i+1];break;default:i=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case vs:o=e,s=2*n-t;break;case ys:o=1,s=n+r[1]-r[0];break;default:o=e-1,s=t}var u=.5*(n-t),c=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(s-n),this._offsetPrev=i*c,this._offsetNext=o*c},interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,u=s-a,c=this._offsetPrev,l=this._offsetNext,h=this._weightPrev,d=this._weightNext,f=(n-t)/(r-t),p=f*f,m=p*f,g=-h*m+2*h*p-h*f,v=(1+h)*m+(-1.5-2*h)*p+(-.5+h)*f+1,y=(-1-d)*m+(1.5+d)*p+.5*f,b=d*m-d*p,x=0;x!==a;++x)i[x]=g*o[c+x]+v*o[u+x]+y*o[s+x]+b*o[l+x];return i}}),ir.prototype=Object.assign(Object.create(nr.prototype),{constructor:ir,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,u=s-a,c=(n-t)/(r-t),l=1-c,h=0;h!==a;++h)i[h]=o[u+h]*l+o[s+h]*c;return i}}),or.prototype=Object.assign(Object.create(nr.prototype),{constructor:or,interpolate_:function(e,t,n,r){return this.copySampleValue_(e-1)}});var nu;nu={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:ps,InterpolantFactoryMethodDiscrete:function(e){return new or(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new ir(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new rr(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case fs:t=this.InterpolantFactoryMethodDiscrete;break;case ps:t=this.InterpolantFactoryMethodLinear;break;case ms:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return void console.warn("THREE.KeyframeTrackPrototype:",n)}this.createInterpolant=t},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return fs;case this.InterpolantFactoryMethodLinear:return ps;case this.InterpolantFactoryMethodSmooth:return ms}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<e;)++i;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==i||o!==r){i>=o&&(o=Math.max(o,1),i=o-1);var a=this.getValueSize();this.times=tu.arraySlice(n,i,o),this.values=tu.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrackPrototype: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrackPrototype: Track is empty.",this),e=!1);for(var o=null,a=0;a!==i;a++){var s=n[a];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrackPrototype: Time is not a valid number.",this,a,s),e=!1;break}if(null!==o&&o>s){console.error("THREE.KeyframeTrackPrototype: Out of order keys.",this,a,s,o),e=!1;break}o=s}if(void 0!==r&&tu.isTypedArray(r))for(var a=0,u=r.length;a!==u;++a){var c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrackPrototype: Value is not a valid number.",this,a,c),e=!1;break}}return e},optimize:function(){for(var e=this.times,t=this.values,n=this.getValueSize(),r=this.getInterpolation()===ms,i=1,o=e.length-1,a=1;a<o;++a){var s=!1,u=e[a];if(u!==e[a+1]&&(1!==a||u!==u[0]))if(r)s=!0;else for(var c=a*n,l=c-n,h=c+n,d=0;d!==n;++d){var f=t[c+d];if(f!==t[l+d]||f!==t[h+d]){s=!0;break}}if(s){if(a!==i){e[i]=e[a];for(var p=a*n,m=i*n,d=0;d!==n;++d)t[m+d]=t[p+d]}++i}}if(o>0){e[i]=e[o];for(var p=o*n,m=i*n,d=0;d!==n;++d)t[m+d]=t[p+d];++i}return i!==e.length&&(this.times=tu.arraySlice(e,0,i),this.values=tu.arraySlice(t,0,i*n)),this}},sr.prototype=Object.assign(Object.create(nu),{constructor:sr,ValueTypeName:"vector"}),ur.prototype=Object.assign(Object.create(nr.prototype),{constructor:ur,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,u=(n-t)/(r-t),l=s+a;s!==l;s+=4)c.slerpFlat(i,0,o,s-a,o,s,u);return i}}),cr.prototype=Object.assign(Object.create(nu),{constructor:cr,ValueTypeName:"quaternion",DefaultInterpolation:ps,InterpolantFactoryMethodLinear:function(e){return new ur(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),lr.prototype=Object.assign(Object.create(nu),{constructor:lr,ValueTypeName:"number"}),hr.prototype=Object.assign(Object.create(nu),{constructor:hr,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:fs,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),dr.prototype=Object.assign(Object.create(nu),{constructor:dr,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:fs,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),fr.prototype=Object.assign(Object.create(nu),{constructor:fr,ValueTypeName:"color"}),pr.prototype=nu,nu.constructor=pr,Object.assign(pr,{parse:function(e){if(void 0===e.type)throw new Error("track type undefined, can not parse");var t=pr._getTrackTypeForValueTypeName(e.type);if(void 0===e.times){var n=[],r=[];tu.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)},toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:tu.convertArray(e.times,Array),values:tu.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t},_getTrackTypeForValueTypeName:function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return lr;case"vector":case"vector2":case"vector3":case"vector4":return sr;case"color":return fr;case"quaternion":return cr;case"bool":case"boolean":return dr;case"string":return hr}throw new Error("Unsupported typeName: "+e)}}),Object.assign(mr,{parse:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,o=n.length;i!==o;++i)t.push(pr.parse(n[i]).scale(r));return new mr(e.name,e.duration,t)},toJSON:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t},i=0,o=n.length;i!==o;++i)t.push(pr.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(e,t,n,r){for(var i=t.length,o=[],a=0;a<i;a++){var s=[],u=[];s.push((a+i-1)%i,a,(a+1)%i),u.push(0,1,0);var c=tu.getKeyframeOrder(s);s=tu.sortedArray(s,1,c),u=tu.sortedArray(u,1,c),r||0!==s[0]||(s.push(i),u.push(u[0])),o.push(new lr(".morphTargetInfluences["+t[a].name+"]",s,u).scale(1/n))}return new mr(e,-1,o)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,o=0,a=e.length;o<a;o++){var s=e[o],u=s.name.match(i);if(u&&u.length>1){var c=u[1],l=r[c];l||(r[c]=l=[]),l.push(s)}}var h=[];for(var c in r)h.push(mr.CreateFromMorphTargetSequence(c,r[c],t,n));return h},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var o=[],a=[];tu.flattenJSON(n,o,a,r),0!==o.length&&i.push(new e(t,o,a))}},r=[],i=e.name||"default",o=e.length||-1,a=e.fps||30,s=e.hierarchy||[],u=0;u<s.length;u++){var c=s[u].keys;if(c&&0!==c.length)if(c[0].morphTargets){for(var l={},h=0;h<c.length;h++)if(c[h].morphTargets)for(var d=0;d<c[h].morphTargets.length;d++)l[c[h].morphTargets[d]]=-1;for(var f in l){for(var p=[],m=[],d=0;d!==c[h].morphTargets.length;++d){var g=c[h];p.push(g.time),m.push(g.morphTarget===f?1:0)}r.push(new lr(".morphTargetInfluence["+f+"]",p,m))}o=l.length*(a||1)}else{var v=".bones["+t[u].name+"]";n(sr,v+".position",c,"pos",r),n(cr,v+".quaternion",c,"rot",r),n(sr,v+".scale",c,"scl",r)}}return 0===r.length?null:new mr(i,o,r)}}),Object.assign(mr.prototype,{resetDuration:function(){for(var e=this.tracks,t=0,n=0,r=e.length;n!==r;++n){var i=this.tracks[n];t=Math.max(t,i.times[i.times.length-1])}this.duration=t},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}}),Object.assign(gr.prototype,{load:function(e,t,n,r){var i=this;new zn(i.manager).load(e,function(e){t(i.parse(JSON.parse(e)))},n,r)},setTextures:function(e){this.textures=e},parse:function(e){function t(e){return void 0===n[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),n[e]}var n=this.textures,r=new Js[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearCoat&&(r.clearCoat=e.clearCoat),void 0!==e.clearCoatRoughness&&(r.clearCoatRoughness=e.clearCoatRoughness),void 0!==e.uniforms&&(r.uniforms=e.uniforms),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.vertexColors&&(r.vertexColors=e.vertexColors),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.side&&(r.side=e.side),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.skinning&&(r.skinning=e.skinning),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=t(e.map)),void 0!==e.alphaMap&&(r.alphaMap=t(e.alphaMap),r.transparent=!0),void 0!==e.bumpMap&&(r.bumpMap=t(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=t(e.normalMap)),void 0!==e.normalScale){var o=e.normalScale;!1===Array.isArray(o)&&(o=[o,o]),r.normalScale=(new i).fromArray(o)}return void 0!==e.displacementMap&&(r.displacementMap=t(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=t(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=t(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=t(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=t(e.specularMap)),void 0!==e.envMap&&(r.envMap=t(e.envMap)),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.lightMap&&(r.lightMap=t(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=t(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=t(e.gradientMap)),r}}),Object.assign(vr.prototype,{load:function(e,t,n,r){var i=this;new zn(i.manager).load(e,function(e){t(i.parse(JSON.parse(e)))},n,r)},parse:function(e){var t=new Le,n=e.data.index;if(void 0!==n){var r=new ru[n.type](n.array);t.setIndex(new be(r,1))}var i=e.data.attributes;for(var o in i){var a=i[o],r=new ru[a.type](a.array);t.addAttribute(o,new be(r,a.itemSize,a.normalized))}var s=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==s)for(var u=0,c=s.length;u!==c;++u){var h=s[u];t.addGroup(h.start,h.count,h.materialIndex)}var d=e.data.boundingSphere;if(void 0!==d){var f=new l;void 0!==d.center&&f.fromArray(d.center),t.boundingSphere=new ie(f,d.radius)}return t}});var ru={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};yr.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,n=0,r=t.length;n<r;n+=2){var i=t[n],o=t[n+1];if(i.test(e))return o}return null}},Object.assign(yr.prototype,{crossOrigin:void 0,extractUrlBase:function(e){var t=e.split("/");return 1===t.length?"./":(t.pop(),t.join("/")+"/")},initMaterials:function(e,t,n){for(var r=[],i=0;i<e.length;++i)r[i]=this.createMaterial(e[i],t,n);return r},createMaterial:function(){var e={NoBlending:No,NormalBlending:ko,AdditiveBlending:Do,SubtractiveBlending:Uo,MultiplyBlending:Fo,CustomBlending:Bo},t=new Y,n=new Vn,r=new gr;return function(i,o,a){function s(e,t,r,i,s){var c,l=o+e,h=yr.Handlers.get(l);null!==h?c=h.load(l):(n.setCrossOrigin(a),c=n.load(l)),void 0!==t&&(c.repeat.fromArray(t),1!==t[0]&&(c.wrapS=Sa),1!==t[1]&&(c.wrapT=Sa)),void 0!==r&&c.offset.fromArray(r),void 0!==i&&("repeat"===i[0]&&(c.wrapS=Sa),"mirror"===i[0]&&(c.wrapS=Aa),"repeat"===i[1]&&(c.wrapT=Sa),"mirror"===i[1]&&(c.wrapT=Aa)),void 0!==s&&(c.anisotropy=s);var d=Is.generateUUID();return u[d]=c,d}var u={},c={uuid:Is.generateUUID(),type:"MeshLambertMaterial"};for(var l in i){var h=i[l];switch(l){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":c.name=h;break;case"blending":c.blending=e[h];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",l,"is no longer supported.");break;case"colorDiffuse":c.color=t.fromArray(h).getHex();break;case"colorSpecular":c.specular=t.fromArray(h).getHex();break;case"colorEmissive":c.emissive=t.fromArray(h).getHex();break;case"specularCoef":c.shininess=h;break;case"shading":"basic"===h.toLowerCase()&&(c.type="MeshBasicMaterial"),"phong"===h.toLowerCase()&&(c.type="MeshPhongMaterial"),"standard"===h.toLowerCase()&&(c.type="MeshStandardMaterial");break;case"mapDiffuse":c.map=s(h,i.mapDiffuseRepeat,i.mapDiffuseOffset,i.mapDiffuseWrap,i.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":c.emissiveMap=s(h,i.mapEmissiveRepeat,i.mapEmissiveOffset,i.mapEmissiveWrap,i.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":c.lightMap=s(h,i.mapLightRepeat,i.mapLightOffset,i.mapLightWrap,i.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":c.aoMap=s(h,i.mapAORepeat,i.mapAOOffset,i.mapAOWrap,i.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":c.bumpMap=s(h,i.mapBumpRepeat,i.mapBumpOffset,i.mapBumpWrap,i.mapBumpAnisotropy);break;case"mapBumpScale":c.bumpScale=h;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":c.normalMap=s(h,i.mapNormalRepeat,i.mapNormalOffset,i.mapNormalWrap,i.mapNormalAnisotropy);break;case"mapNormalFactor":c.normalScale=[h,h];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":c.specularMap=s(h,i.mapSpecularRepeat,i.mapSpecularOffset,i.mapSpecularWrap,i.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":c.metalnessMap=s(h,i.mapMetalnessRepeat,i.mapMetalnessOffset,i.mapMetalnessWrap,i.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":c.roughnessMap=s(h,i.mapRoughnessRepeat,i.mapRoughnessOffset,i.mapRoughnessWrap,i.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":c.alphaMap=s(h,i.mapAlphaRepeat,i.mapAlphaOffset,i.mapAlphaWrap,i.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":c.side=Co;break;case"doubleSided":c.side=Ao;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),c.opacity=h;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":c[l]=h;break;case"vertexColors":!0===h&&(c.vertexColors=Oo),"face"===h&&(c.vertexColors=Io);break;default:console.error("THREE.Loader.createMaterial: Unsupported",l,h)}}return"MeshBasicMaterial"===c.type&&delete c.emissive,"MeshPhongMaterial"!==c.type&&delete c.specular,c.opacity<1&&(c.transparent=!0),r.setTextures(u),r.parse(c)}}()}),Object.assign(br.prototype,{load:function(e,t,n,r){var i=this,o=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:yr.prototype.extractUrlBase(e),a=new zn(this.manager);a.setWithCredentials(this.withCredentials),a.load(e,function(n){var r=JSON.parse(n),a=r.metadata;if(void 0!==a){var s=a.type;if(void 0!==s){if("object"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+e+" should be loaded with THREE.ObjectLoader instead.");if("scene"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+e+" should be loaded with THREE.SceneLoader instead.")}}var u=i.parse(r,o);t(u.geometry,u.materials)},n,r)},setTexturePath:function(e){this.texturePath=e},parse:function(){function e(e,t){function n(e,t){return e&1<<t}var r,o,a,s,u,c,h,d,f,p,m,g,v,y,b,x,_,w,E,M,T,S,C,A,P,R,L,I=e.faces,O=e.vertices,N=e.normals,k=e.colors,D=e.scale,U=0;if(void 0!==e.uvs){for(r=0;r<e.uvs.length;r++)e.uvs[r].length&&U++;for(r=0;r<U;r++)t.faceVertexUvs[r]=[]}for(s=0,u=O.length;s<u;)w=new l,w.x=O[s++]*D,w.y=O[s++]*D,w.z=O[s++]*D,t.vertices.push(w);for(s=0,u=I.length;s<u;)if(p=I[s++],m=n(p,0),g=n(p,1),v=n(p,3),y=n(p,4),b=n(p,5),x=n(p,6),_=n(p,7),m){if(M=new ge,M.a=I[s],M.b=I[s+1],M.c=I[s+3],T=new ge,T.a=I[s+1],T.b=I[s+2],T.c=I[s+3],s+=4,g&&(f=I[s++],M.materialIndex=f,T.materialIndex=f),a=t.faces.length,v)for(r=0;r<U;r++)for(A=e.uvs[r],t.faceVertexUvs[r][a]=[],t.faceVertexUvs[r][a+1]=[],o=0;o<4;o++)d=I[s++],R=A[2*d],L=A[2*d+1],P=new i(R,L),2!==o&&t.faceVertexUvs[r][a].push(P),0!==o&&t.faceVertexUvs[r][a+1].push(P);if(y&&(h=3*I[s++],M.normal.set(N[h++],N[h++],N[h]),T.normal.copy(M.normal)),b)for(r=0;r<4;r++)h=3*I[s++],C=new l(N[h++],N[h++],N[h]),2!==r&&M.vertexNormals.push(C),0!==r&&T.vertexNormals.push(C);if(x&&(c=I[s++],S=k[c],M.color.setHex(S),T.color.setHex(S)),_)for(r=0;r<4;r++)c=I[s++],S=k[c],2!==r&&M.vertexColors.push(new Y(S)),0!==r&&T.vertexColors.push(new Y(S));t.faces.push(M),t.faces.push(T)}else{if(E=new ge,E.a=I[s++],E.b=I[s++],E.c=I[s++],g&&(f=I[s++],E.materialIndex=f),a=t.faces.length,v)for(r=0;r<U;r++)for(A=e.uvs[r],t.faceVertexUvs[r][a]=[],o=0;o<3;o++)d=I[s++],R=A[2*d],L=A[2*d+1],P=new i(R,L),t.faceVertexUvs[r][a].push(P);if(y&&(h=3*I[s++],E.normal.set(N[h++],N[h++],N[h])),b)for(r=0;r<3;r++)h=3*I[s++],C=new l(N[h++],N[h++],N[h]),E.vertexNormals.push(C);if(x&&(c=I[s++],E.color.setHex(k[c])),_)for(r=0;r<3;r++)c=I[s++],E.vertexColors.push(new Y(k[c]));t.faces.push(E)}}function t(e,t){var n=void 0!==e.influencesPerVertex?e.influencesPerVertex:2;if(e.skinWeights)for(var r=0,i=e.skinWeights.length;r<i;r+=n){var o=e.skinWeights[r],s=n>1?e.skinWeights[r+1]:0,u=n>2?e.skinWeights[r+2]:0,c=n>3?e.skinWeights[r+3]:0;t.skinWeights.push(new a(o,s,u,c))}if(e.skinIndices)for(var r=0,i=e.skinIndices.length;r<i;r+=n){var l=e.skinIndices[r],h=n>1?e.skinIndices[r+1]:0,d=n>2?e.skinIndices[r+2]:0,f=n>3?e.skinIndices[r+3]:0;t.skinIndices.push(new a(l,h,d,f))}t.bones=e.bones,t.bones&&t.bones.length>0&&(t.skinWeights.length!==t.skinIndices.length||t.skinIndices.length!==t.vertices.length)&&console.warn("When skinning, number of vertices ("+t.vertices.length+"), skinIndices ("+t.skinIndices.length+"), and skinWeights ("+t.skinWeights.length+") should match.")}function n(e,t){var n=e.scale;if(void 0!==e.morphTargets)for(var r=0,i=e.morphTargets.length;r<i;r++){t.morphTargets[r]={},t.morphTargets[r].name=e.morphTargets[r].name,t.morphTargets[r].vertices=[];for(var o=t.morphTargets[r].vertices,a=e.morphTargets[r].vertices,s=0,u=a.length;s<u;s+=3){var c=new l;c.x=a[s]*n,c.y=a[s+1]*n,c.z=a[s+2]*n,o.push(c)}}if(void 0!==e.morphColors&&e.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');for(var h=t.faces,d=e.morphColors[0].colors,r=0,i=h.length;r<i;r++)h[r].color.fromArray(d,3*r)}}function r(e,t){var n=[],r=[];void 0!==e.animation&&r.push(e.animation),void 0!==e.animations&&(e.animations.length?r=r.concat(e.animations):r.push(e.animations));for(var i=0;i<r.length;i++){var o=mr.parseAnimation(r[i],t.bones);o&&n.push(o)}if(t.morphTargets){var a=mr.CreateClipsFromMorphTargetSequences(t.morphTargets,10);n=n.concat(a)}n.length>0&&(t.animations=n)}return function(i,o){void 0!==i.data&&(i=i.data),void 0!==i.scale?i.scale=1/i.scale:i.scale=1;var a=new ye;return e(i,a),t(i,a),n(i,a),r(i,a),a.computeFaceNormals(),a.computeBoundingSphere(),void 0===i.materials||0===i.materials.length?{geometry:a}:{geometry:a,materials:yr.prototype.initMaterials(i.materials,o,this.crossOrigin)}}}()}),Object.assign(xr.prototype,{load:function(e,t,n,r){""===this.texturePath&&(this.texturePath=e.substring(0,e.lastIndexOf("/")+1));var i=this;new zn(i.manager).load(e,function(n){var o=null;try{o=JSON.parse(n)}catch(t){return void 0!==r&&r(t),void console.error("THREE:ObjectLoader: Can't parse "+e+".",t.message)}var a=o.metadata;if(void 0===a||void 0===a.type||"geometry"===a.type.toLowerCase())return void console.error("THREE.ObjectLoader: Can't load "+e+". Use THREE.JSONLoader instead.");i.parse(o,t)},n,r)},setTexturePath:function(e){this.texturePath=e},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e,t){var n=this.parseGeometries(e.geometries),r=this.parseImages(e.images,function(){void 0!==t&&t(a)}),i=this.parseTextures(e.textures,r),o=this.parseMaterials(e.materials,i),a=this.parseObject(e.object,n,o);return e.animations&&(a.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(a),a},parseGeometries:function(e){var t={};if(void 0!==e)for(var n=new br,r=new vr,i=0,o=e.length;i<o;i++){var a,s=e[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new Qs[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new Qs[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new Qs[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new Qs[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new Qs[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new Qs[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"IcosahedronGeometry":case"OctahedronGeometry":case"TetrahedronGeometry":a=new Qs[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new Qs[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new Qs[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new Qs[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":a=new Qs[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"BufferGeometry":a=r.parse(s);break;case"Geometry":a=n.parse(s,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),t[s.uuid]=a}return t},parseMaterials:function(e,t){var n={};if(void 0!==e){var r=new gr;r.setTextures(t);for(var i=0,o=e.length;i<o;i++){var a=e[i];if("MultiMaterial"===a.type){for(var s=[],u=0;u<a.materials.length;u++)s.push(r.parse(a.materials[u]));n[a.uuid]=s}else n[a.uuid]=r.parse(a)}}return n},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var r=mr.parse(e[n]);t.push(r)}return t},parseImages:function(e,t){var n=this,r={};if(void 0!==e&&e.length>0){var i=new Bn(t),o=new jn(i);o.setCrossOrigin(this.crossOrigin);for(var a=0,s=e.length;a<s;a++){var u=e[a],c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u.url)?u.url:n.texturePath+u.url;r[u.uuid]=function(e){return n.manager.itemStart(e),o.load(e,function(){n.manager.itemEnd(e)},void 0,function(){n.manager.itemEnd(e),n.manager.itemError(e)})}(c)}}return r},parseTextures:function(e,t){function n(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i=0,a=e.length;i<a;i++){var s=e[i];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===t[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image);var u=new o(t[s.image]);u.needsUpdate=!0,u.uuid=s.uuid,void 0!==s.name&&(u.name=s.name),void 0!==s.mapping&&(u.mapping=n(s.mapping,iu)),void 0!==s.offset&&u.offset.fromArray(s.offset),void 0!==s.repeat&&u.repeat.fromArray(s.repeat),void 0!==s.wrap&&(u.wrapS=n(s.wrap[0],ou),u.wrapT=n(s.wrap[1],ou)),void 0!==s.minFilter&&(u.minFilter=n(s.minFilter,au)),void 0!==s.magFilter&&(u.magFilter=n(s.magFilter,au)),void 0!==s.anisotropy&&(u.anisotropy=s.anisotropy),void 0!==s.flipY&&(u.flipY=s.flipY),r[s.uuid]=u}return r},parseObject:function(){var e=new h;return function(t,n,r){function i(e){return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),n[e]}function o(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],n=0,i=e.length;n<i;n++){var o=e[n];void 0===r[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),t.push(r[o])}return t}return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),r[e]}}var a;switch(t.type){case"Scene":a=new Ct,void 0!==t.background&&Number.isInteger(t.background)&&(a.background=new Y(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?a.fog=new St(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(a.fog=new Tt(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":a=new me(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(a.focus=t.focus),void 0!==t.zoom&&(a.zoom=t.zoom),void 0!==t.filmGauge&&(a.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(a.filmOffset=t.filmOffset),void 0!==t.view&&(a.view=Object.assign({},t.view));break;case"OrthographicCamera":a=new pe(t.left,t.right,t.top,t.bottom,t.near,t.far);break;case"AmbientLight":a=new er(t.color,t.intensity);break;case"DirectionalLight":a=new $n(t.color,t.intensity);break;case"PointLight":a=new Qn(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":a=new tr(t.color,t.intensity,t.width,t.height);break;case"SpotLight":a=new Kn(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":a=new Xn(t.color,t.groundColor,t.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var s=i(t.geometry),u=o(t.material);a=s.bones&&s.bones.length>0?new Nt(s,u):new ze(s,u);break;case"LOD":a=new Lt;break;case"Line":a=new Dt(i(t.geometry),o(t.material),t.mode);break;case"LineLoop":a=new Ft(i(t.geometry),o(t.material));break;case"LineSegments":a=new Ut(i(t.geometry),o(t.material));break;case"PointCloud":case"Points":a=new zt(i(t.geometry),o(t.material));break;case"Sprite":a=new Rt(o(t.material));break;case"Group":a=new Ht;break;default:a=new de}if(a.uuid=t.uuid,void 0!==t.name&&(a.name=t.name),void 0!==t.matrix?(e.fromArray(t.matrix),e.decompose(a.position,a.quaternion,a.scale)):(void 0!==t.position&&a.position.fromArray(t.position),void 0!==t.rotation&&a.rotation.fromArray(t.rotation),void 0!==t.quaternion&&a.quaternion.fromArray(t.quaternion),void 0!==t.scale&&a.scale.fromArray(t.scale)),void 0!==t.castShadow&&(a.castShadow=t.castShadow),void 0!==t.receiveShadow&&(a.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(a.shadow.bias=t.shadow.bias),void 0!==t.shadow.radius&&(a.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&a.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(a.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(a.visible=t.visible),void 0!==t.userData&&(a.userData=t.userData),void 0!==t.children)for(var c=t.children,l=0;l<c.length;l++)a.add(this.parseObject(c[l],n,r));if("LOD"===t.type)for(var h=t.levels,d=0;d<h.length;d++){var f=h[d],p=a.getObjectByProperty("uuid",f.object);void 0!==p&&a.addLevel(p,f.distance)}return a}}()});var iu={UVMapping:ya,CubeReflectionMapping:ba,CubeRefractionMapping:xa,EquirectangularReflectionMapping:_a,EquirectangularRefractionMapping:wa,SphericalReflectionMapping:Ea,CubeUVReflectionMapping:Ma,CubeUVRefractionMapping:Ta},ou={RepeatWrapping:Sa,ClampToEdgeWrapping:Ca,MirroredRepeatWrapping:Aa},au={NearestFilter:Pa,NearestMipMapNearestFilter:Ra,NearestMipMapLinearFilter:La,LinearFilter:Ia,LinearMipMapNearestFilter:Oa,LinearMipMapLinearFilter:Na};Object.assign(Lr.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e){var t=this.getUtoTmapping(e);return this.getPoint(t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n,r=[],i=this.getPoint(0),o=0;for(r.push(0),n=1;n<=e;n++)t=this.getPoint(n/e),o+=t.distanceTo(i),r.push(o),i=t;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,r=this.getLengths(),i=0,o=r.length;n=t||e*r[o-1];for(var a,s=0,u=o-1;s<=u;)if(i=Math.floor(s+(u-s)/2),(a=r[i]-n)<0)s=i+1;else{if(!(a>0)){u=i;break}u=i-1}if(i=u,r[i]===n)return i/(o-1);var c=r[i];return(i+(n-c)/(r[i+1]-c))/(o-1)},getTangent:function(e){var t=e-1e-4,n=e+1e-4;t<0&&(t=0),n>1&&(n=1);var r=this.getPoint(t);return this.getPoint(n).clone().sub(r).normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var n,r,i,o=new l,a=[],s=[],u=[],c=new l,d=new h;for(n=0;n<=e;n++)r=n/e,a[n]=this.getTangentAt(r),a[n].normalize();s[0]=new l,u[0]=new l;var f=Number.MAX_VALUE,p=Math.abs(a[0].x),m=Math.abs(a[0].y),g=Math.abs(a[0].z);for(p<=f&&(f=p,o.set(1,0,0)),m<=f&&(f=m,o.set(0,1,0)),g<=f&&o.set(0,0,1),c.crossVectors(a[0],o).normalize(),s[0].crossVectors(a[0],c),u[0].crossVectors(a[0],s[0]),n=1;n<=e;n++)s[n]=s[n-1].clone(),u[n]=u[n-1].clone(),c.crossVectors(a[n-1],a[n]),c.length()>Number.EPSILON&&(c.normalize(),i=Math.acos(Is.clamp(a[n-1].dot(a[n]),-1,1)),s[n].applyMatrix4(d.makeRotationAxis(c,i))),u[n].crossVectors(a[n],s[n]);if(!0===t)for(i=Math.acos(Is.clamp(s[0].dot(s[e]),-1,1)),i/=e,a[0].dot(c.crossVectors(s[0],s[e]))>0&&(i=-i),n=1;n<=e;n++)s[n].applyMatrix4(d.makeRotationAxis(a[n],i*n)),u[n].crossVectors(a[n],s[n]);return{tangents:a,normals:s,binormals:u}}}),Ir.prototype=Object.create(Lr.prototype),Ir.prototype.constructor=Ir,Ir.prototype.isLineCurve=!0,Ir.prototype.getPoint=function(e){if(1===e)return this.v2.clone();var t=this.v2.clone().sub(this.v1);return t.multiplyScalar(e).add(this.v1),t},Ir.prototype.getPointAt=function(e){return this.getPoint(e)},Ir.prototype.getTangent=function(e){return this.v2.clone().sub(this.v1).normalize()},Or.prototype=Object.assign(Object.create(Lr.prototype),{constructor:Or,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Ir(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=t){var i=n[r]-t,o=this.curves[r],a=o.getLength(),s=0===a?0:1-i/a;return o.getPointAt(s)}r++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],r=0,i=this.curves;r<i.length;r++)for(var o=i[r],a=o&&o.isEllipseCurve?2*e:o&&o.isLineCurve?1:o&&o.isSplineCurve?e*o.points.length:e,s=o.getPoints(a),u=0;u<s.length;u++){var c=s[u];t&&t.equals(c)||(n.push(c),t=c)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},createPointsGeometry:function(e){var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){for(var t=new ye,n=0,r=e.length;n<r;n++){var i=e[n];t.vertices.push(new l(i.x,i.y,i.z||0))}return t}}),Nr.prototype=Object.create(Lr.prototype),Nr.prototype.constructor=Nr,Nr.prototype.isEllipseCurve=!0,Nr.prototype.getPoint=function(e){for(var t=2*Math.PI,n=this.aEndAngle-this.aStartAngle,r=Math.abs(n)<Number.EPSILON;n<0;)n+=t;for(;n>t;)n-=t;n<Number.EPSILON&&(n=r?0:t),!0!==this.aClockwise||r||(n===t?n=-t:n-=t);var o=this.aStartAngle+e*n,a=this.aX+this.xRadius*Math.cos(o),s=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var u=Math.cos(this.aRotation),c=Math.sin(this.aRotation),l=a-this.aX,h=s-this.aY;a=l*u-h*c+this.aX,s=l*c+h*u+this.aY}return new i(a,s)},kr.prototype=Object.create(Lr.prototype),kr.prototype.constructor=kr,kr.prototype.isSplineCurve=!0,kr.prototype.getPoint=function(e){var t=this.points,n=(t.length-1)*e,r=Math.floor(n),o=n-r,a=t[0===r?r:r-1],s=t[r],u=t[r>t.length-2?t.length-1:r+1],c=t[r>t.length-3?t.length-1:r+2];return new i(_r(o,a.x,s.x,u.x,c.x),_r(o,a.y,s.y,u.y,c.y))},Dr.prototype=Object.create(Lr.prototype),Dr.prototype.constructor=Dr,Dr.prototype.getPoint=function(e){var t=this.v0,n=this.v1,r=this.v2,o=this.v3;return new i(Rr(e,t.x,n.x,r.x,o.x),Rr(e,t.y,n.y,r.y,o.y))},Ur.prototype=Object.create(Lr.prototype),Ur.prototype.constructor=Ur,Ur.prototype.getPoint=function(e){var t=this.v0,n=this.v1,r=this.v2;return new i(Tr(e,t.x,n.x,r.x),Tr(e,t.y,n.y,r.y))};var su=Object.assign(Object.create(Or.prototype),{fromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var n=new Ir(this.currentPoint.clone(),new i(e,t));this.curves.push(n),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,n,r){var o=new Ur(this.currentPoint.clone(),new i(e,t),new i(n,r));this.curves.push(o),this.currentPoint.set(n,r)},bezierCurveTo:function(e,t,n,r,o,a){var s=new Dr(this.currentPoint.clone(),new i(e,t),new i(n,r),new i(o,a));this.curves.push(s),this.currentPoint.set(o,a)},splineThru:function(e){var t=[this.currentPoint.clone()].concat(e),n=new kr(t);this.curves.push(n),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,n,r,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;this.absarc(e+a,t+s,n,r,i,o)},absarc:function(e,t,n,r,i,o){this.absellipse(e,t,n,n,r,i,o)},ellipse:function(e,t,n,r,i,o,a,s){var u=this.currentPoint.x,c=this.currentPoint.y;this.absellipse(e+u,t+c,n,r,i,o,a,s)},absellipse:function(e,t,n,r,i,o,a,s){var u=new Nr(e,t,n,r,i,o,a,s);if(this.curves.length>0){var c=u.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(u);var l=u.getPoint(1);this.currentPoint.copy(l)}});Fr.prototype=su,su.constructor=Fr,Br.prototype=Object.assign(Object.create(su),{constructor:Br,getPointsHoles:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractAllPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},extractPoints:function(e){return this.extractAllPoints(e)}}),Object.assign(zr.prototype,{moveTo:function(e,t){this.currentPath=new Fr,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,n,r){this.currentPath.quadraticCurveTo(e,t,n,r)},bezierCurveTo:function(e,t,n,r,i,o){this.currentPath.bezierCurveTo(e,t,n,r,i,o)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],o=new Br;o.curves=i.curves,t.push(o)}return t}var r=Ks.isClockWise,i=this.subPaths;if(0===i.length)return[];if(!0===t)return n(i);var o,a,s,u=[];if(1===i.length)return a=i[0],s=new Br,s.curves=a.curves,u.push(s),u;var c=!r(i[0].getPoints());c=e?!c:c;var l,h=[],d=[],f=[],p=0;d[p]=void 0,f[p]=[];for(var m=0,g=i.length;m<g;m++)a=i[m],l=a.getPoints(),o=r(l),o=e?!o:o,o?(!c&&d[p]&&p++,d[p]={s:new Br,p:l},d[p].s.curves=a.curves,c&&p++,f[p]=[]):f[p].push({h:a,p:l[0]});if(!d[0])return n(i);if(d.length>1){for(var v=!1,y=[],b=0,x=d.length;b<x;b++)h[b]=[];for(var b=0,x=d.length;b<x;b++)for(var _=f[b],w=0;w<_.length;w++){for(var E=_[w],M=!0,T=0;T<d.length;T++)(function(e,t){for(var n=t.length,r=!1,i=n-1,o=0;o<n;i=o++){var a=t[i],s=t[o],u=s.x-a.x,c=s.y-a.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(a=t[o],u=-u,s=t[i],c=-c),e.y<a.y||e.y>s.y)continue;if(e.y===a.y){if(e.x===a.x)return!0}else{var l=c*(e.x-a.x)-u*(e.y-a.y);if(0===l)return!0;if(l<0)continue;r=!r}}else{if(e.y!==a.y)continue;if(s.x<=e.x&&e.x<=a.x||a.x<=e.x&&e.x<=s.x)return!0}}return r})(E.p,d[T].p)&&(b!==T&&y.push({froms:b,tos:T,hole:w}),M?(M=!1,h[T].push(E)):v=!0);M&&h[b].push(E)}y.length>0&&(v||(f=h))}for(var S,m=0,C=d.length;m<C;m++){s=d[m].s,u.push(s),S=f[m];for(var A=0,P=S.length;A<P;A++)s.holes.push(S[A].h)}return u}}),Object.assign(Hr.prototype,{isFont:!0,generateShapes:function(e,t,n){function r(e,t,r,o){var a=i.glyphs[e]||i.glyphs["?"];if(a){var s,u,c,l,h,d,f,p,m,g,v,y=new zr,b=[];if(a.o)for(var x=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),_=0,w=x.length;_<w;){var E=x[_++];switch(E){case"m":s=x[_++]*t+r,u=x[_++]*t+o,y.moveTo(s,u);break;case"l":s=x[_++]*t+r,u=x[_++]*t+o,y.lineTo(s,u);break;case"q":if(c=x[_++]*t+r,l=x[_++]*t+o,f=x[_++]*t+r,p=x[_++]*t+o,y.quadraticCurveTo(f,p,c,l),v=b[b.length-1]){h=v.x,d=v.y;for(var M=1;M<=n;M++){var T=M/n;Tr(T,h,f,c),Tr(T,d,p,l)}}break;case"b":if(c=x[_++]*t+r,l=x[_++]*t+o,f=x[_++]*t+r,p=x[_++]*t+o,m=x[_++]*t+r,g=x[_++]*t+o,y.bezierCurveTo(f,p,m,g,c,l),v=b[b.length-1]){h=v.x,d=v.y;for(var M=1;M<=n;M++){var T=M/n;Rr(T,h,f,m,c),Rr(T,d,p,g,l)}}}}return{offsetX:a.ha*t,path:y}}}void 0===t&&(t=100),void 0===n&&(n=4);for(var i=this.data,o=function(e){for(var n=String(e).split(""),o=t/i.resolution,a=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*o,s=0,u=0,c=[],l=0;l<n.length;l++){var h=n[l];if("\n"===h)s=0,u-=a;else{var d=r(h,o,s,u);s+=d.offsetX,c.push(d.path)}}return c}(e),a=[],s=0,u=o.length;s<u;s++)Array.prototype.push.apply(a,o[s].toShapes());return a}}),Object.assign(qr.prototype,{load:function(e,t,n,r){var i=this;new zn(this.manager).load(e,function(e){var n;try{n=JSON.parse(e)}catch(t){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}var r=i.parse(n);t&&t(r)},n,r)},parse:function(e){return new Hr(e)}});var uu,cu={getContext:function(){return void 0===uu&&(uu=new(window.AudioContext||window.webkitAudioContext)),uu},setContext:function(e){uu=e}};Object.assign(jr.prototype,{load:function(e,t,n,r){var i=new zn(this.manager);i.setResponseType("arraybuffer"),i.load(e,function(e){cu.getContext().decodeAudioData(e,function(e){t(e)})},n,r)}}),Object.assign(Gr.prototype,{update:function(){var e,t,n,r,i,o,a,s,u=new h,c=new h;return function(l){if(e!==this||t!==l.focus||n!==l.fov||r!==l.aspect*this.aspect||i!==l.near||o!==l.far||a!==l.zoom||s!==this.eyeSep){e=this,t=l.focus,n=l.fov,r=l.aspect*this.aspect,i=l.near,o=l.far,a=l.zoom;var h=l.projectionMatrix.clone();s=this.eyeSep/2;var d,f,p=s*i/t,m=i*Math.tan(Is.DEG2RAD*n*.5)/a;c.elements[12]=-s,u.elements[12]=s,d=-m*r+p,f=m*r+p,h.elements[0]=2*i/(f-d),h.elements[8]=(f+d)/(f-d),this.cameraL.projectionMatrix.copy(h),d=-m*r-p,f=m*r-p,h.elements[0]=2*i/(f-d),h.elements[8]=(f+d)/(f-d),this.cameraR.projectionMatrix.copy(h)}this.cameraL.matrixWorld.copy(l.matrixWorld).multiply(c),this.cameraR.matrixWorld.copy(l.matrixWorld).multiply(u)}}()}),Vr.prototype=Object.create(de.prototype),Vr.prototype.constructor=Vr,Wr.prototype=Object.assign(Object.create(de.prototype),{constructor:Wr,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(e){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){this.gain.gain.value=e},updateMatrixWorld:function(){var e=new l,t=new c,n=new l,r=new l;return function(i){de.prototype.updateMatrixWorld.call(this,i);var o=this.context.listener,a=this.up;this.matrixWorld.decompose(e,t,n),r.set(0,0,-1).applyQuaternion(t),o.positionX?(o.positionX.setValueAtTime(e.x,this.context.currentTime),o.positionY.setValueAtTime(e.y,this.context.currentTime),o.positionZ.setValueAtTime(e.z,this.context.currentTime),o.forwardX.setValueAtTime(r.x,this.context.currentTime),o.forwardY.setValueAtTime(r.y,this.context.currentTime),o.forwardZ.setValueAtTime(r.z,this.context.currentTime),o.upX.setValueAtTime(a.x,this.context.currentTime),o.upY.setValueAtTime(a.y,this.context.currentTime),o.upZ.setValueAtTime(a.z,this.context.currentTime)):(o.setPosition(e.x,e.y,e.z),o.setOrientation(r.x,r.y,r.z,a.x,a.y,a.z))}}()}),Xr.prototype=Object.assign(Object.create(de.prototype),{constructor:Xr,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");var e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.onended=this.onEnded.bind(this),e.playbackRate.setValueAtTime(this.playbackRate,this.startTime),e.start(0,this.startTime),this.isPlaying=!0,this.source=e,this.connect()},pause:function(){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),this.startTime=this.context.currentTime,this.isPlaying=!1,this)},stop:function(){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),this.startTime=0,this.isPlaying=!1,this)},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this)},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this)},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.value=e,this}}),Yr.prototype=Object.assign(Object.create(Xr.prototype),{constructor:Yr,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){this.panner.refDistance=e},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){this.panner.rolloffFactor=e},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){this.panner.distanceModel=e},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){this.panner.maxDistance=e},updateMatrixWorld:function(){var e=new l;return function(t){de.prototype.updateMatrixWorld.call(this,t),e.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(e.x,e.y,e.z)}}()}),Object.assign(Zr.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),Object.assign(Kr.prototype,{accumulate:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==r;++a)n[i+a]=n[a];o=t}else{o+=t;var s=t/o;this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=o},apply:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,i<1){var a=3*t;this._mixBufferRegion(n,r,a,1-i,t)}for(var s=t,u=t+t;s!==u;++s)if(n[s]!==n[s+t]){o.setValue(n,r);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=3*n;e.getValue(t,r);for(var i=n,o=r;i!==o;++i)t[i]=t[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,n,r,i){if(r>=.5)for(var o=0;o!==i;++o)e[t+o]=e[n+o]},_slerp:function(e,t,n,r){c.slerpFlat(e,t,e,t,e,n,r)},_lerp:function(e,t,n,r,i){for(var o=1-r,a=0;a!==i;++a){var s=t+a;e[s]=e[s]*o+e[n+a]*r}}}),Object.assign(Qr.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(Jr,{Composite:Qr,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new Jr.Composite(e,t,n):new Jr(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(/[^\w-]/g,"")},parseTrackName:function(){var e=/((?:[\w-]+[\/:])*)/,t=/([\w-\.]+)?/,n=/(?:\.([\w-]+)(?:\[(.+)\])?)?/,r=/\.([\w-]+)(?:\[(.+)\])?/,i=new RegExp("^"+e.source+t.source+n.source+r.source+"$"),o=["material","materials","bones"];return function(e){var t=i.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var a=n.nodeName.substring(r+1);-1!==o.indexOf(a)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=a)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}}(),findNode:function(e,t){if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=function(e){for(var n=0;n<e.bones.length;n++){var r=e.bones[n];if(r.name===t)return r}return null}(e.skeleton);if(n)return n}if(e.children){var r=function(e){for(var n=0;n<e.length;n++){var i=e[n];if(i.name===t||i.uuid===t)return i;var o=r(i.children);if(o)return o}return null},i=r(e.children);if(i)return i}return null}}),Object.assign(Jr.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.node[this.propertyName]=e[t]},function(e,t){this.node[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.node[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(e=Jr.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){var o=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var a=0;a<e.length;a++)if(e[a].name===o){o=a;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==o){if(void 0===e[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[o]}}var s=e[r];if(void 0===s){var u=t.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e)}var c=this.Versioning.None;void 0!==e.needsUpdate?(c=this.Versioning.NeedsUpdate,this.targetObject=e):void 0!==e.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=e);var l=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(var a=0;a<this.node.geometry.morphAttributes.position.length;a++)if(e.geometry.morphAttributes.position[a].name===i){i=a;break}}else{if(!e.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(var a=0;a<this.node.geometry.morphTargets.length;a++)if(e.geometry.morphTargets[a].name===i){i=a;break}}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][c]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),
//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(Jr.prototype,{_getValue_unbound:Jr.prototype.getValue,_setValue_unbound:Jr.prototype.setValue}),Object.assign($r.prototype,{isAnimationObjectGroup:!0,add:function(e){for(var t=this._objects,n=t.length,r=this.nCachedObjects_,i=this._indicesByUUID,o=this._paths,a=this._parsedPaths,s=this._bindings,u=s.length,c=0,l=arguments.length;c!==l;++c){var h=arguments[c],d=h.uuid,f=i[d],p=void 0;if(void 0===f){f=n++,i[d]=f,t.push(h);for(var m=0,g=u;m!==g;++m)s[m].push(new Jr(h,o[m],a[m]))}else if(f<r){p=t[f];var v=--r,y=t[v];i[y.uuid]=f,t[f]=y,i[d]=v,t[v]=h;for(var m=0,g=u;m!==g;++m){var b=s[m],x=b[v],_=b[f];b[f]=x,void 0===_&&(_=new Jr(h,o[m],a[m])),b[v]=_}}else t[f]!==p&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=r},remove:function(e){for(var t=this._objects,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var u=arguments[a],c=u.uuid,l=r[c];if(void 0!==l&&l>=n){var h=n++,d=t[h];r[d.uuid]=l,t[l]=d,r[c]=h,t[h]=u;for(var f=0,p=o;f!==p;++f){var m=i[f],g=m[h],v=m[l];m[l]=g,m[h]=v}}}this.nCachedObjects_=n},uncache:function(e){for(var t=this._objects,n=t.length,r=this.nCachedObjects_,i=this._indicesByUUID,o=this._bindings,a=o.length,s=0,u=arguments.length;s!==u;++s){var c=arguments[s],l=c.uuid,h=i[l];if(void 0!==h)if(delete i[l],h<r){var d=--r,f=t[d],p=--n,m=t[p];i[f.uuid]=h,t[h]=f,i[m.uuid]=d,t[d]=m,t.pop();for(var g=0,v=a;g!==v;++g){var y=o[g],b=y[d],x=y[p];y[h]=b,y[d]=x,y.pop()}}else{var p=--n,m=t[p];i[m.uuid]=h,t[h]=m,t.pop();for(var g=0,v=a;g!==v;++g){var y=o[g];y[h]=y[p],y.pop()}}}this.nCachedObjects_=r},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var o=this._paths,a=this._parsedPaths,s=this._objects,u=s.length,c=this.nCachedObjects_,l=new Array(u);r=i.length,n[e]=r,o.push(e),a.push(t),i.push(l);for(var h=c,d=s.length;h!==d;++h){var f=s[h];l[h]=new Jr(f,e,t)}return l},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];t[e[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}}),Object.assign(ei.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,o=i/r,a=r/i;e.warp(1,o,t),this.warp(a,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var r=this._mixer,i=r.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,u=o.sampleValues;return s[0]=i,s[1]=i+n,u[0]=e/a,u[1]=t/a,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,r){if(!this.enabled)return void this._updateWeight(e);var i=this._startTime;if(null!==i){var o=(e-i)*n;if(o<0||0===n)return;this._startTime=null,t=n*o}t*=this._updateTimeScale(e);var a=this._updateTime(t),s=this._updateWeight(e);if(s>0)for(var u=this._interpolants,c=this._propertyBindings,l=0,h=u.length;l!==h;++l)u[l].evaluate(a),c[l].accumulate(r,s)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n){t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e;if(0===e)return t;var n=this._clip.duration,r=this.loop,i=this._loopCount;if(r===ls){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=n)t=n;else{if(!(t<0))break e;t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{var o=r===ds;if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),t>=n||t<0){var a=Math.floor(t/n);t-=n*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(0===s){var u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}if(o&&1==(1&i))return this.time=t,n-t}return this.time=t,t},_setEndings:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=vs,r.endingEnd=vs):(r.endingStart=e?this.zeroSlopeAtStart?vs:gs:ys,r.endingEnd=t?this.zeroSlopeAtEnd?vs:gs:ys)},_scheduleFading:function(e,t,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=t,a[1]=i+e,s[1]=n,this}}),Object.assign(ti.prototype,r.prototype,{_bindAction:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,o=e._propertyBindings,a=e._interpolants,s=n.uuid,u=this._bindingsByRootAndName,c=u[s];void 0===c&&(c={},u[s]=c);for(var l=0;l!==i;++l){var h=r[l],d=h.name,f=c[d];if(void 0!==f)o[l]=f;else{if(void 0!==(f=o[l])){null===f._cacheIndex&&(++f.referenceCount,this._addInactiveBinding(f,s,d));continue}var p=t&&t._propertyBindings[l].binding.parsedPath;f=new Kr(Jr.create(n,d,p),h.ValueTypeName,h.getValueSize()),++f.referenceCount,this._addInactiveBinding(f,s,d),o[l]=f}a[l].resultBuffer=f.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var r=this._actions,i=this._actionsByClip,o=i[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{var a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,u=s[s.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,s[c]=u,s.pop(),e._byClipCacheIndex=null,delete a.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0==--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_addInactiveBinding:function(e,t,n){var r=this._bindingsByRootAndName,i=r[t],o=this._bindings;void 0===i&&(i={},r[t]=i),i[n]=e,e._cacheIndex=o.length,o.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=t[t.length-1],u=e._cacheIndex;s._cacheIndex=u,t[u]=s,t.pop(),delete a[i];e:{for(var c in a)break e;delete o[r]}},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&(n=new ir(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"==typeof e?mr.findByName(n,e):e,o=null!==i?i.uuid:e,a=this._actionsByClip[o],s=null;if(void 0!==a){var u=a.actionByRoot[r];if(void 0!==u)return u;s=a.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var c=new ei(this,i,t);return this._bindAction(c,s),this._addInactiveAction(c,o,r),c},existingAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"==typeof e?mr.findByName(n,e):e,o=i?i.uuid:e,a=this._actionsByClip[o];return void 0!==a?a.actionByRoot[r]||null:null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==t;++i)e[i].reset();for(var i=0;i!==r;++i)n[i].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1,a=0;a!==n;++a){t[a]._update(r,e,i,o)}for(var s=this._bindings,u=this._nActiveBindings,a=0;a!==u;++a)s[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var u=o[a];this._deactivateAction(u);var c=u._cacheIndex,l=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,l._cacheIndex=c,t[c]=l,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot,o=i[t];void 0!==o&&(this._deactivateAction(o),this._removeInactiveAction(o))}var a=this._bindingsByRootAndName,s=a[t];if(void 0!==s)for(var u in s){var c=s[u];c.restoreOriginalState(),this._removeInactiveBinding(c)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),ni.prototype.clone=function(){return new ni(void 0===this.value.clone?this.value:this.value.clone())},ri.prototype=Object.assign(Object.create(Le.prototype),{constructor:ri,isInstancedBufferGeometry:!0,addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:n})},copy:function(e){var t=e.index;null!==t&&this.setIndex(t.clone());var n=e.attributes;for(var r in n){var i=n[r];this.addAttribute(r,i.clone())}for(var o=e.groups,a=0,s=o.length;a<s;a++){var u=o[a];this.addGroup(u.start,u.count,u.materialIndex)}return this}}),Object.defineProperties(ii.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(ii.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}}),Object.defineProperty(oi.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(oi.prototype,{isInterleavedBuffer:!0,setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==e?e.length/this.stride:0,this.array=e},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),ai.prototype=Object.assign(Object.create(oi.prototype),{constructor:ai,isInstancedInterleavedBuffer:!0,copy:function(e){return oi.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),si.prototype=Object.assign(Object.create(be.prototype),{constructor:si,isInstancedBufferAttribute:!0,copy:function(e){return be.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(ui.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t){var n=[];return li(e,this,n,t),n.sort(ci),n},intersectObjects:function(e,t){var n=[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var r=0,i=e.length;r<i;r++)li(e[r],this,n,t);return n.sort(ci),n}}),Object.assign(hi.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}),Object.assign(di.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.radius=e.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e.x,e.z),this.phi=Math.acos(Is.clamp(e.y/this.radius,-1,1))),this}}),Object.assign(fi.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.radius=Math.sqrt(e.x*e.x+e.z*e.z),this.theta=Math.atan2(e.x,e.z),this.y=e.y,this}}),pi.prototype=Object.create(de.prototype),pi.prototype.constructor=pi,pi.prototype.isImmediateRenderObject=!0,mi.prototype=Object.create(Ut.prototype),mi.prototype.constructor=mi,mi.prototype.update=function(){var e=new l,t=new l,n=new oe;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld,o=this.geometry.attributes.position,a=this.object.geometry;if(a&&a.isGeometry)for(var s=a.vertices,u=a.faces,c=0,l=0,h=u.length;l<h;l++)for(var d=u[l],f=0,p=d.vertexNormals.length;f<p;f++){var m=s[d[r[f]]],g=d.vertexNormals[f];e.copy(m).applyMatrix4(i),t.copy(g).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),o.setXYZ(c,e.x,e.y,e.z),c+=1,o.setXYZ(c,t.x,t.y,t.z),c+=1}else if(a&&a.isBufferGeometry)for(var v=a.attributes.position,y=a.attributes.normal,c=0,f=0,p=v.count;f<p;f++)e.set(v.getX(f),v.getY(f),v.getZ(f)).applyMatrix4(i),t.set(y.getX(f),y.getY(f),y.getZ(f)),t.applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),o.setXYZ(c,e.x,e.y,e.z),c+=1,o.setXYZ(c,t.x,t.y,t.z),c+=1;o.needsUpdate=!0}}(),gi.prototype=Object.create(de.prototype),gi.prototype.constructor=gi,gi.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},gi.prototype.update=function(){var e=new l,t=new l;return function(){this.light.updateMatrixWorld();var n=this.light.distance?this.light.distance:1e3,r=n*Math.tan(this.light.angle);this.cone.scale.set(r,r,n),e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t.sub(e)),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),yi.prototype=Object.create(Ut.prototype),yi.prototype.constructor=yi,yi.prototype.onBeforeRender=function(){var e=new l,t=new h,n=new h;return function(){var r=this.bones,i=this.geometry,o=i.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var a=0,s=0;a<r.length;a++){var u=r[a];u.parent&&u.parent.isBone&&(t.multiplyMatrices(n,u.matrixWorld),e.setFromMatrixPosition(t),o.setXYZ(s,e.x,e.y,e.z),t.multiplyMatrices(n,u.parent.matrixWorld),e.setFromMatrixPosition(t),o.setXYZ(s+1,e.x,e.y,e.z),s+=2)}i.getAttribute("position").needsUpdate=!0}}(),bi.prototype=Object.create(ze.prototype),bi.prototype.constructor=bi,bi.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},bi.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},xi.prototype=Object.create(de.prototype),xi.prototype.constructor=xi,xi.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},xi.prototype.update=function(){var e=.5*this.light.width,t=.5*this.light.height,n=this.line.geometry.attributes.position,r=n.array;r[0]=e,r[1]=-t,r[2]=0,r[3]=e,r[4]=t,r[5]=0,r[6]=-e,r[7]=t,r[8]=0,r[9]=-e,r[10]=-t,r[11]=0,r[12]=e,r[13]=-t,r[14]=0,n.needsUpdate=!0,void 0!==this.color?this.line.material.color.set(this.color):this.line.material.color.copy(this.light.color)},_i.prototype=Object.create(de.prototype),_i.prototype.constructor=_i,_i.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},_i.prototype.update=function(){var e=new l,t=new Y,n=new Y;return function(){var r=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var i=r.geometry.getAttribute("color");t.copy(this.light.color),n.copy(this.light.groundColor);for(var o=0,a=i.count;o<a;o++){var s=o<a/2?t:n;i.setXYZ(o,s.r,s.g,s.b)}i.needsUpdate=!0}r.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),wi.prototype=Object.create(Ut.prototype),wi.prototype.constructor=wi,Ei.prototype=Object.create(Ut.prototype),Ei.prototype.constructor=Ei,Mi.prototype=Object.create(Ut.prototype),Mi.prototype.constructor=Mi,Mi.prototype.update=function(){var e=new l,t=new l,n=new oe;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,i=this.geometry.attributes.position,o=this.object.geometry,a=o.vertices,s=o.faces,u=0,c=0,l=s.length;c<l;c++){var h=s[c],d=h.normal;e.copy(a[h.a]).add(a[h.b]).add(a[h.c]).divideScalar(3).applyMatrix4(r),t.copy(d).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),i.setXYZ(u,e.x,e.y,e.z),u+=1,i.setXYZ(u,t.x,t.y,t.z),u+=1}i.needsUpdate=!0}}(),Ti.prototype=Object.create(de.prototype),Ti.prototype.constructor=Ti,Ti.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Ti.prototype.update=function(){var e=new l,t=new l,n=new l;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(t,e),this.lightPlane.lookAt(n),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(n),this.targetLine.scale.z=n.length()}}(),Si.prototype=Object.create(Ut.prototype),Si.prototype.constructor=Si,Si.prototype.update=function(){function e(e,o,a,s){r.set(o,a,s).unproject(i);var u=n[e];if(void 0!==u)for(var c=t.getAttribute("position"),l=0,h=u.length;l<h;l++)c.setXYZ(u[l],r.x,r.y,r.z)}var t,n,r=new l,i=new fe;return function(){t=this.geometry,n=this.pointMap;i.projectionMatrix.copy(this.camera.projectionMatrix),e("c",0,0,-1),e("t",0,0,1),e("n1",-1,-1,-1),e("n2",1,-1,-1),e("n3",-1,1,-1),e("n4",1,1,-1),e("f1",-1,-1,1),e("f2",1,-1,1),e("f3",-1,1,1),e("f4",1,1,1),e("u1",.7,1.1,-1),e("u2",-.7,1.1,-1),e("u3",0,2,-1),e("cf1",-1,0,1),e("cf2",1,0,1),e("cf3",0,-1,1),e("cf4",0,1,1),e("cn1",-1,0,-1),e("cn2",1,0,-1),e("cn3",0,-1,-1),e("cn4",0,1,-1),t.getAttribute("position").needsUpdate=!0}}(),Ci.prototype=Object.create(Ut.prototype),Ci.prototype.constructor=Ci,Ci.prototype.update=function(){var e=new re;return function(t){if(void 0!==t&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&e.setFromObject(this.object),!e.isEmpty()){var n=e.min,r=e.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),Ci.prototype.setFromObject=function(e){return this.object=e,this.update(),this},Ai.prototype=Object.create(Ut.prototype),Ai.prototype.constructor=Ai,Ai.prototype.onBeforeRender=function(){var e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5))},Pi.prototype=Object.create(Dt.prototype),Pi.prototype.constructor=Pi,Pi.prototype.onBeforeRender=function(){var e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.lookAt(this.plane.normal),this.updateMatrixWorld()};var lu,hu;Ri.prototype=Object.create(de.prototype),Ri.prototype.constructor=Ri,Ri.prototype.setDirection=function(){var e,t=new l;return function(n){n.y>.99999?this.quaternion.set(0,0,0,1):n.y<-.99999?this.quaternion.set(1,0,0,0):(t.set(n.z,0,-n.x).normalize(),e=Math.acos(n.y),this.quaternion.setFromAxisAngle(t,e))}}(),Ri.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},Ri.prototype.setColor=function(e){this.line.material.color.copy(e),this.cone.material.color.copy(e)},Li.prototype=Object.create(Ut.prototype),Li.prototype.constructor=Li;var du=new l,fu=new Ii,pu=new Ii,mu=new Ii;Oi.prototype=Object.create(Lr.prototype),Oi.prototype.constructor=Oi,Oi.prototype.getPoint=function(e){var t=this.points,n=t.length,r=(n-(this.closed?0:1))*e,i=Math.floor(r),o=r-i;this.closed?i+=i>0?0:(Math.floor(Math.abs(i)/t.length)+1)*t.length:0===o&&i===n-1&&(i=n-2,o=1);var a,s,u,c;if(this.closed||i>0?a=t[(i-1)%n]:(du.subVectors(t[0],t[1]).add(t[0]),a=du),s=t[i%n],u=t[(i+1)%n],this.closed||i+2<n?c=t[(i+2)%n]:(du.subVectors(t[n-1],t[n-2]).add(t[n-1]),c=du),void 0===this.type||"centripetal"===this.type||"chordal"===this.type){var h="chordal"===this.type?.5:.25,d=Math.pow(a.distanceToSquared(s),h),f=Math.pow(s.distanceToSquared(u),h),p=Math.pow(u.distanceToSquared(c),h);f<1e-4&&(f=1),d<1e-4&&(d=f),p<1e-4&&(p=f),fu.initNonuniformCatmullRom(a.x,s.x,u.x,c.x,d,f,p),pu.initNonuniformCatmullRom(a.y,s.y,u.y,c.y,d,f,p),mu.initNonuniformCatmullRom(a.z,s.z,u.z,c.z,d,f,p)}else if("catmullrom"===this.type){var m=void 0!==this.tension?this.tension:.5;fu.initCatmullRom(a.x,s.x,u.x,c.x,m),pu.initCatmullRom(a.y,s.y,u.y,c.y,m),mu.initCatmullRom(a.z,s.z,u.z,c.z,m)}return new l(fu.calc(o),pu.calc(o),mu.calc(o))},Ni.prototype=Object.create(Lr.prototype),Ni.prototype.constructor=Ni,Ni.prototype.getPoint=function(e){var t=this.v0,n=this.v1,r=this.v2,i=this.v3;return new l(Rr(e,t.x,n.x,r.x,i.x),Rr(e,t.y,n.y,r.y,i.y),Rr(e,t.z,n.z,r.z,i.z))},ki.prototype=Object.create(Lr.prototype),ki.prototype.constructor=ki,ki.prototype.getPoint=function(e){var t=this.v0,n=this.v1,r=this.v2;return new l(Tr(e,t.x,n.x,r.x),Tr(e,t.y,n.y,r.y),Tr(e,t.z,n.z,r.z))},Di.prototype=Object.create(Lr.prototype),Di.prototype.constructor=Di,Di.prototype.getPoint=function(e){if(1===e)return this.v2.clone();var t=new l;return t.subVectors(this.v2,this.v1),t.multiplyScalar(e),t.add(this.v1),t},Ui.prototype=Object.create(Nr.prototype),Ui.prototype.constructor=Ui;var gu={createMultiMaterialObject:function(e,t){for(var n=new Ht,r=0,i=t.length;r<i;r++)n.add(new ze(e,t[r]));return n},detach:function(e,t,n){e.applyMatrix(t.matrixWorld),t.remove(e),n.add(e)},attach:function(e,t,n){e.applyMatrix((new h).getInverse(n.matrixWorld)),t.remove(e),n.add(e)}},vu=0,yu=1;Lr.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Lr.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},io.prototype=Object.create(Oi.prototype),oo.prototype=Object.create(Oi.prototype),ao.prototype=Object.create(Oi.prototype),Object.assign(ao.prototype,{initFromArray:function(e){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(e){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(e){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),wi.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},yi.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Z.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(re.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Fe.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Is.random16=function(){return console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead."),Math.random()},Object.assign(oe.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(e){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(e,t,n){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(e,t,n){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(h.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){var e;return function(){return void 0===e&&(e=new l),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),e.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(e){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e,t,n){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(e,t,n){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,o)}}),ae.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},c.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(Ue.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(Br.prototype,{extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new hn(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new _n(this,e)}}),Object.assign(i.prototype,{fromAttribute:function(e,t,n){return console.error("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)}}),Object.assign(l.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.error("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)}}),Object.assign(a.prototype,{fromAttribute:function(e,t,n){return console.error("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)}}),ye.prototype.computeTangents=function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},Object.assign(de.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)}}),Object.defineProperties(de.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(Lt.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(It.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Object.defineProperty(Lr.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),me.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Wn.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(be.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}}}),Object.assign(Le.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(Le.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(ni.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties($.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Y}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===Po}}}),Object.defineProperties(Nn.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(ee.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(Mt.prototype,{getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}}),Object.defineProperties(Mt.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),this.shadowMap.cullFace=e}}}),Object.defineProperties(ue.prototype,{cullFace:{get:function(){return this.renderReverseSided?bo:yo},set:function(e){var t=e!==yo;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+t+"."),this.renderReverseSided=t}}}),Object.defineProperties(s.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Xr.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new jr).load(e,function(e){t.setBuffer(e)}),this},Zr.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Vr.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};var bu={merge:function(e,t,n){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var r;t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),r=t.matrix,t=t.geometry),e.merge(t,r,n)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}},xu={crossOrigin:void 0,loadTexture:function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new Vn;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},loadTextureCube:function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new Gn;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}}},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){var r,i,o;!function(n,a){i=[e,t],void 0!==(o="function"==typeof(r=a)?r.apply(t,i):r)&&(e.exports=o)}(0,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e instanceof Function?e:"string"==typeof e?function(t){return t[e]}:function(t){return e}},e.exports=t.default})}])})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(88);n.d(t,"forceCenter",function(){return r.a});var i=n(89);n.d(t,"forceCollide",function(){return i.a});var o=n(129);n.d(t,"forceLink",function(){return o.a});var a=n(135);n.d(t,"forceManyBody",function(){return a.a});var s=n(45);n.d(t,"forceSimulation",function(){return s.a});var u=n(141);n.d(t,"forceX",function(){return u.a});var c=n(142);n.d(t,"forceY",function(){return c.a});var l=n(143);n.d(t,"forceZ",function(){return l.a})},function(e,t,n){"use strict";t.a=function(e,t,n){function r(){var r,o,a=i.length,s=0,u=0,c=0;for(r=0;r<a;++r)o=i[r],s+=o.x||0,u+=o.y||0,c+=o.z||0;for(s=s/a-e,u=u/a-t,c=c/a-n,r=0;r<a;++r)o=i[r],s&&(o.x-=s),u&&(o.y-=u),c&&(o.z-=c)}var i;return null==e&&(e=0),null==t&&(t=0),null==n&&(n=0),r.initialize=function(e){i=e},r.x=function(t){return arguments.length?(e=+t,r):e},r.y=function(e){return arguments.length?(t=+e,r):t},r.z=function(e){return arguments.length?(n=+e,r):n},r}},function(e,t,n){"use strict";function r(e){return e.x+e.vx}function i(e){return e.y+e.vy}function o(e){return e.z+e.vz}var a=n(6),s=n(23),u=n(41),c=n(42),l=n(43);t.a=function(e){function t(){function e(e,t,n,r,i,o,a){var u=[t,n,r,i,o,a],c=u[0],l=u[1],d=u[2],p=u[f],g=u[f+1],w=u[f+2],E=e.data,M=e.r,T=x+M;if(!E)return c>v+T||p<v-T||f>1&&(l>y+T||g<y-T)||f>2&&(d>b+T||w<b-T);if(E.index>h.index){var S=v-E.x-E.vx,C=f>1?y-E.y-E.vy:0,A=f>2?b-E.z-E.vz:0,P=S*S+C*C+A*A;P<T*T&&(0===S&&(S=Object(s.a)(),P+=S*S),f>1&&0===C&&(C=Object(s.a)(),P+=C*C),f>2&&0===A&&(A=Object(s.a)(),P+=A*A),P=(T-(P=Math.sqrt(P)))/P*m,h.vx+=(S*=P)*(T=(M*=M)/(_+M)),f>1&&(h.vy+=(C*=P)*T),f>2&&(h.vz+=(A*=P)*T),E.vx-=S*(T=1-T),f>1&&(E.vy-=C*T),f>2&&(E.vz-=A*T))}}for(var t,a,h,v,y,b,x,_,w=d.length,E=0;E<g;++E)for(a=(1===f?Object(u.a)(d,r):2===f?Object(c.a)(d,r,i):3===f?Object(l.a)(d,r,i,o):null).visitAfter(n),t=0;t<w;++t)h=d[t],x=p[h.index],_=x*x,v=h.x+h.vx,f>1&&(y=h.y+h.vy),f>2&&(b=h.z+h.vz),a.visit(e)}function n(e){if(e.data)return e.r=p[e.data.index];for(var t=e.r=0;t<Math.pow(2,f);++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function h(){if(d){var t,n,r=d.length;for(p=new Array(r),t=0;t<r;++t)n=d[t],p[n.index]=+e(n,t,d)}}var d,f,p,m=1,g=1;return"function"!=typeof e&&(e=Object(a.a)(null==e?1:+e)),t.initialize=function(e,t){d=e,f=t,h()},t.iterations=function(e){return arguments.length?(g=+e,t):g},t.strength=function(e){return arguments.length?(m=+e,t):m},t.radius=function(n){return arguments.length?(e="function"==typeof n?n:Object(a.a)(+n),h(),t):e},t}},function(e,t,n){"use strict";function r(e,t){var n=new i(null==t?g.b:t,NaN,NaN);return null==e?n:n.addAll(e)}function i(e,t,n){this._x=e,this._x0=t,this._x1=n,this._root=void 0}function o(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}t.a=r;var a=n(91),s=n(92),u=n(93),c=n(94),l=n(95),h=n(96),d=n(97),f=n(98),p=n(99),m=n(100),g=n(101),v=r.prototype=i.prototype;v.copy=function(){var e,t,n=new i(this._x,this._x0,this._x1),r=this._root;if(!r)return n;if(!r.length)return n._root=o(r),n;for(e=[{source:r,target:n._root=new Array(2)}];r=e.pop();)for(var a=0;a<2;++a)(t=r.source[a])&&(t.length?e.push({source:t,target:r.target[a]=new Array(2)}):r.target[a]=o(t));return n},v.add=a.b,v.addAll=a.a,v.cover=s.a,v.data=u.a,v.extent=c.a,v.find=l.a,v.remove=h.a,v.removeAll=h.b,v.root=d.a,v.size=f.a,v.visit=p.a,v.visitAfter=m.a,v.x=g.a},function(e,t,n){"use strict";function r(e,t,n){if(isNaN(t))return e;var r,i,o,a,s,u,c=e._root,l={data:n},h=e._x0,d=e._x1;if(!c)return e._root=l,e;for(;c.length;)if((a=t>=(i=(h+d)/2))?h=i:d=i,r=c,!(c=c[s=+a]))return r[s]=l,e;if(o=+e._x.call(null,c.data),t===o)return l.next=c,r?r[s]=l:e._root=l,e;do{r=r?r[s]=new Array(2):e._root=new Array(2),(a=t>=(i=(h+d)/2))?h=i:d=i}while((s=+a)==(u=+(o>=i)));return r[u]=c,r[s]=l,e}function i(e){var t,n,i=e.length,o=new Array(i),a=1/0,s=-1/0;for(t=0;t<i;++t)isNaN(n=+this._x.call(null,e[t]))||(o[t]=n,n<a&&(a=n),n>s&&(s=n));for(s<a&&(a=this._x0,s=this._x1),this.cover(a).cover(s),t=0;t<i;++t)r(this,o[t],e[t]);return this}t.a=i,t.b=function(e){var t=+this._x.call(null,e);return r(this.cover(t),t,e)}},function(e,t,n){"use strict";t.a=function(e){if(isNaN(e=+e))return this;var t=this._x0,n=this._x1;if(isNaN(t))n=(t=Math.floor(e))+1;else{if(!(t>e||e>n))return this;var r,i,o=n-t,a=this._root;switch(i=+(e<(t+n)/2)){case 0:do{r=new Array(2),r[i]=a,a=r}while(o*=2,n=t+o,e>n);break;case 1:do{r=new Array(2),r[i]=a,a=r}while(o*=2,(t=n-o)>e)}this._root&&this._root.length&&(this._root=a)}return this._x0=t,this._x1=n,this}},function(e,t,n){"use strict";t.a=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e}},function(e,t,n){"use strict";t.a=function(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}},function(e,t,n){"use strict";var r=n(24);t.a=function(e,t){var n,i,o,a,s,u=this._x0,c=this._x1,l=[],h=this._root;for(h&&l.push(new r.a(h,u,c)),null==t?t=1/0:(u=e-t,c=e+t);a=l.pop();)if(!(!(h=a.node)||(i=a.x0)>c||(o=a.x1)<u))if(h.length){var d=(i+o)/2;l.push(new r.a(h[1],d,o),new r.a(h[0],i,d)),(s=+(e>=d))&&(a=l[l.length-1],l[l.length-1]=l[l.length-1-s],l[l.length-1-s]=a)}else{var f=Math.abs(e-+this._x.call(null,h.data));f<t&&(t=f,u=e-f,c=e+f,n=h.data)}return n}},function(e,t,n){"use strict";function r(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}t.b=r,t.a=function(e){if(isNaN(o=+this._x.call(null,e)))return this;var t,n,r,i,o,a,s,u,c,l=this._root,h=this._x0,d=this._x1;if(!l)return this;if(l.length)for(;;){if((s=o>=(a=(h+d)/2))?h=a:d=a,t=l,!(l=l[u=+s]))return this;if(!l.length)break;t[u+1&1]&&(n=t,c=u)}for(;l.data!==e;)if(r=l,!(l=l.next))return this;return(i=l.next)&&delete l.next,r?(i?r.next=i:delete r.next,this):t?(i?t[u]=i:delete t[u],(l=t[0]||t[1])&&l===(t[1]||t[0])&&!l.length&&(n?n[c]=l:this._root=l),this):(this._root=i,this)}},function(e,t,n){"use strict";t.a=function(){return this._root}},function(e,t,n){"use strict";t.a=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e}},function(e,t,n){"use strict";var r=n(24);t.a=function(e){var t,n,i,o,a=[],s=this._root;for(s&&a.push(new r.a(s,this._x0,this._x1));t=a.pop();)if(!e(s=t.node,i=t.x0,o=t.x1)&&s.length){var u=(i+o)/2;(n=s[1])&&a.push(new r.a(n,u,o)),(n=s[0])&&a.push(new r.a(n,i,u))}return this}},function(e,t,n){"use strict";var r=n(24);t.a=function(e){var t,n=[],i=[];for(this._root&&n.push(new r.a(this._root,this._x0,this._x1));t=n.pop();){var o=t.node;if(o.length){var a,s=t.x0,u=t.x1,c=(s+u)/2;(a=o[0])&&n.push(new r.a(a,s,c)),(a=o[1])&&n.push(new r.a(a,c,u))}i.push(t)}for(;t=i.pop();)e(t.node,t.x0,t.x1);return this}},function(e,t,n){"use strict";function r(e){return e[0]}t.b=r,t.a=function(e){return arguments.length?(this._x=e,this):this._x}},function(e,t,n){"use strict";function r(e,t,n){var r=new i(null==t?g.b:t,null==n?v.b:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function i(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function o(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}t.a=r;var a=n(103),s=n(104),u=n(105),c=n(106),l=n(107),h=n(108),d=n(109),f=n(110),p=n(111),m=n(112),g=n(113),v=n(114),y=r.prototype=i.prototype;y.copy=function(){var e,t,n=new i(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=o(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var a=0;a<4;++a)(t=r.source[a])&&(t.length?e.push({source:t,target:r.target[a]=new Array(4)}):r.target[a]=o(t));return n},y.add=a.b,y.addAll=a.a,y.cover=s.a,y.data=u.a,y.extent=c.a,y.find=l.a,y.remove=h.a,y.removeAll=h.b,y.root=d.a,y.size=f.a,y.visit=p.a,y.visitAfter=m.a,y.x=g.a,y.y=v.a},function(e,t,n){"use strict";function r(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,a,s,u,c,l,h,d,f=e._root,p={data:r},m=e._x0,g=e._y0,v=e._x1,y=e._y1;if(!f)return e._root=p,e;for(;f.length;)if((c=t>=(o=(m+v)/2))?m=o:v=o,(l=n>=(a=(g+y)/2))?g=a:y=a,i=f,!(f=f[h=l<<1|c]))return i[h]=p,e;if(s=+e._x.call(null,f.data),u=+e._y.call(null,f.data),t===s&&n===u)return p.next=f,i?i[h]=p:e._root=p,e;do{i=i?i[h]=new Array(4):e._root=new Array(4),(c=t>=(o=(m+v)/2))?m=o:v=o,(l=n>=(a=(g+y)/2))?g=a:y=a}while((h=l<<1|c)==(d=(u>=a)<<1|s>=o));return i[d]=f,i[h]=p,e}function i(e){var t,n,i,o,a=e.length,s=new Array(a),u=new Array(a),c=1/0,l=1/0,h=-1/0,d=-1/0;for(n=0;n<a;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(s[n]=i,u[n]=o,i<c&&(c=i),i>h&&(h=i),o<l&&(l=o),o>d&&(d=o));for(h<c&&(c=this._x0,h=this._x1),d<l&&(l=this._y0,d=this._y1),this.cover(c,l).cover(h,d),n=0;n<a;++n)r(this,s[n],u[n],e[n]);return this}t.a=i,t.b=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return r(this.cover(t,n),t,n,e)}},function(e,t,n){"use strict";t.a=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{if(!(n>e||e>i||r>t||t>o))return this;var a,s,u=i-n,c=this._root;switch(s=(t<(r+o)/2)<<1|e<(n+i)/2){case 0:do{a=new Array(4),a[s]=c,c=a}while(u*=2,i=n+u,o=r+u,e>i||t>o);break;case 1:do{a=new Array(4),a[s]=c,c=a}while(u*=2,n=i-u,o=r+u,n>e||t>o);break;case 2:do{a=new Array(4),a[s]=c,c=a}while(u*=2,i=n+u,r=o-u,e>i||r>t);break;case 3:do{a=new Array(4),a[s]=c,c=a}while(u*=2,n=i-u,r=o-u,n>e||r>t)}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}},function(e,t,n){"use strict";t.a=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e}},function(e,t,n){"use strict";t.a=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}},function(e,t,n){"use strict";var r=n(25);t.a=function(e,t,n){var i,o,a,s,u,c,l,h=this._x0,d=this._y0,f=this._x1,p=this._y1,m=[],g=this._root;for(g&&m.push(new r.a(g,h,d,f,p)),null==n?n=1/0:(h=e-n,d=t-n,f=e+n,p=t+n,n*=n);c=m.pop();)if(!(!(g=c.node)||(o=c.x0)>f||(a=c.y0)>p||(s=c.x1)<h||(u=c.y1)<d))if(g.length){var v=(o+s)/2,y=(a+u)/2;m.push(new r.a(g[3],v,y,s,u),new r.a(g[2],o,y,v,u),new r.a(g[1],v,a,s,y),new r.a(g[0],o,a,v,y)),(l=(t>=y)<<1|e>=v)&&(c=m[m.length-1],m[m.length-1]=m[m.length-1-l],m[m.length-1-l]=c)}else{var b=e-+this._x.call(null,g.data),x=t-+this._y.call(null,g.data),_=b*b+x*x;if(_<n){var w=Math.sqrt(n=_);h=e-w,d=t-w,f=e+w,p=t+w,i=g.data}}return i}},function(e,t,n){"use strict";function r(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}t.b=r,t.a=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,i,o,a,s,u,c,l,h,d,f=this._root,p=this._x0,m=this._y0,g=this._x1,v=this._y1;if(!f)return this;if(f.length)for(;;){if((c=o>=(s=(p+g)/2))?p=s:g=s,(l=a>=(u=(m+v)/2))?m=u:v=u,t=f,!(f=f[h=l<<1|c]))return this;if(!f.length)break;(t[h+1&3]||t[h+2&3]||t[h+3&3])&&(n=t,d=h)}for(;f.data!==e;)if(r=f,!(f=f.next))return this;return(i=f.next)&&delete f.next,r?(i?r.next=i:delete r.next,this):t?(i?t[h]=i:delete t[h],(f=t[0]||t[1]||t[2]||t[3])&&f===(t[3]||t[2]||t[1]||t[0])&&!f.length&&(n?n[d]=f:this._root=f),this):(this._root=i,this)}},function(e,t,n){"use strict";t.a=function(){return this._root}},function(e,t,n){"use strict";t.a=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e}},function(e,t,n){"use strict";var r=n(25);t.a=function(e){var t,n,i,o,a,s,u=[],c=this._root;for(c&&u.push(new r.a(c,this._x0,this._y0,this._x1,this._y1));t=u.pop();)if(!e(c=t.node,i=t.x0,o=t.y0,a=t.x1,s=t.y1)&&c.length){var l=(i+a)/2,h=(o+s)/2;(n=c[3])&&u.push(new r.a(n,l,h,a,s)),(n=c[2])&&u.push(new r.a(n,i,h,l,s)),(n=c[1])&&u.push(new r.a(n,l,o,a,h)),(n=c[0])&&u.push(new r.a(n,i,o,l,h))}return this}},function(e,t,n){"use strict";var r=n(25);t.a=function(e){var t,n=[],i=[];for(this._root&&n.push(new r.a(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var o=t.node;if(o.length){var a,s=t.x0,u=t.y0,c=t.x1,l=t.y1,h=(s+c)/2,d=(u+l)/2;(a=o[0])&&n.push(new r.a(a,s,u,h,d)),(a=o[1])&&n.push(new r.a(a,h,u,c,d)),(a=o[2])&&n.push(new r.a(a,s,d,h,l)),(a=o[3])&&n.push(new r.a(a,h,d,c,l))}i.push(t)}for(;t=i.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this}},function(e,t,n){"use strict";function r(e){return e[0]}t.b=r,t.a=function(e){return arguments.length?(this._x=e,this):this._x}},function(e,t,n){"use strict";function r(e){return e[1]}t.b=r,t.a=function(e){return arguments.length?(this._y=e,this):this._y}},function(e,t,n){"use strict";function r(e,t,n,r){var o=new i(null==t?g.b:t,null==n?v.b:n,null==r?y.b:r,NaN,NaN,NaN,NaN,NaN,NaN);return null==e?o:o.addAll(e)}function i(e,t,n,r,i,o,a,s,u){this._x=e,this._y=t,this._z=n,this._x0=r,this._y0=i,this._z0=o,this._x1=a,this._y1=s,this._z1=u,this._root=void 0}function o(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}t.a=r;var a=n(116),s=n(117),u=n(118),c=n(119),l=n(120),h=n(121),d=n(122),f=n(123),p=n(124),m=n(125),g=n(126),v=n(127),y=n(128),b=r.prototype=i.prototype;b.copy=function(){var e,t,n=new i(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),r=this._root;if(!r)return n;if(!r.length)return n._root=o(r),n;for(e=[{source:r,target:n._root=new Array(8)}];r=e.pop();)for(var a=0;a<8;++a)(t=r.source[a])&&(t.length?e.push({source:t,target:r.target[a]=new Array(8)}):r.target[a]=o(t));return n},b.add=a.b,b.addAll=a.a,b.cover=s.a,b.data=u.a,b.extent=c.a,b.find=l.a,b.remove=h.a,b.removeAll=h.b,b.root=d.a,b.size=f.a,b.visit=p.a,b.visitAfter=m.a,b.x=g.a,b.y=v.a,b.z=y.a},function(e,t,n){"use strict";function r(e,t,n,r,i){if(isNaN(t)||isNaN(n)||isNaN(r))return e;var o,a,s,u,c,l,h,d,f,p,m,g,v=e._root,y={data:i},b=e._x0,x=e._y0,_=e._z0,w=e._x1,E=e._y1,M=e._z1;if(!v)return e._root=y,e;for(;v.length;)if((d=t>=(a=(b+w)/2))?b=a:w=a,(f=n>=(s=(x+E)/2))?x=s:E=s,(p=r>=(u=(_+M)/2))?_=u:M=u,o=v,!(v=v[m=p<<2|f<<1|d]))return o[m]=y,e;if(c=+e._x.call(null,v.data),l=+e._y.call(null,v.data),h=+e._z.call(null,v.data),t===c&&n===l&&r===h)return y.next=v,o?o[m]=y:e._root=y,e;do{o=o?o[m]=new Array(8):e._root=new Array(8),(d=t>=(a=(b+w)/2))?b=a:w=a,(f=n>=(s=(x+E)/2))?x=s:E=s,(p=r>=(u=(_+M)/2))?_=u:M=u}while((m=p<<2|f<<1|d)==(g=(h>=u)<<2|(l>=s)<<1|c>=a));return o[g]=v,o[m]=y,e}function i(e){var t,n,i,o,a,s=e.length,u=new Array(s),c=new Array(s),l=new Array(s),h=1/0,d=1/0,f=1/0,p=-1/0,m=-1/0,g=-1/0;for(n=0;n<s;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||isNaN(a=+this._z.call(null,t))||(u[n]=i,c[n]=o,l[n]=a,i<h&&(h=i),i>p&&(p=i),o<d&&(d=o),o>m&&(m=o),a<f&&(f=a),a>g&&(g=a));for(p<h&&(h=this._x0,p=this._x1),m<d&&(d=this._y0,m=this._y1),g<f&&(f=this._z0,g=this._z1),this.cover(h,d,f).cover(p,m,g),n=0;n<s;++n)r(this,u[n],c[n],l[n],e[n]);return this}t.a=i,t.b=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e),i=+this._z.call(null,e);return r(this.cover(t,n,i),t,n,i,e)}},function(e,t,n){"use strict";t.a=function(e,t,n){if(isNaN(e=+e)||isNaN(t=+t)||isNaN(n=+n))return this;var r=this._x0,i=this._y0,o=this._z0,a=this._x1,s=this._y1,u=this._z1;if(isNaN(r))a=(r=Math.floor(e))+1,s=(i=Math.floor(t))+1,u=(o=Math.floor(n))+1;else{if(!(r>e||e>a||i>t||t>s||o>n||n>u))return this;var c,l,h=a-r,d=this._root;switch(l=(n<(o+u)/2)<<2|(t<(i+s)/2)<<1|e<(r+a)/2){case 0:do{c=new Array(8),c[l]=d,d=c}while(h*=2,a=r+h,s=i+h,u=o+h,e>a||t>s||n>u);break;case 1:do{c=new Array(8),c[l]=d,d=c}while(h*=2,r=a-h,s=i+h,u=o+h,r>e||t>s||n>u);break;case 2:do{c=new Array(8),c[l]=d,d=c}while(h*=2,a=r+h,i=s-h,u=o+h,e>a||i>t||n>u);break;case 3:do{c=new Array(8),c[l]=d,d=c}while(h*=2,r=a-h,i=s-h,u=o+h,r>e||i>t||n>u);break;case 4:do{c=new Array(8),c[l]=d,d=c}while(h*=2,a=r+h,s=i+h,o=u-h,e>a||t>s||o>n);break;case 5:do{c=new Array(8),c[l]=d,d=c}while(h*=2,r=a-h,s=i+h,o=u-h,r>e||t>s||o>n);break;case 6:do{c=new Array(8),c[l]=d,d=c}while(h*=2,a=r+h,i=s-h,o=u-h,e>a||i>t||o>n);break;case 7:do{c=new Array(8),c[l]=d,d=c}while(h*=2,r=a-h,i=s-h,o=u-h,r>e||i>t||o>n)}this._root&&this._root.length&&(this._root=d)}return this._x0=r,this._y0=i,this._z0=o,this._x1=a,this._y1=s,this._z1=u,this}},function(e,t,n){"use strict";t.a=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e}},function(e,t,n){"use strict";t.a=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}},function(e,t,n){"use strict";var r=n(26);t.a=function(e,t,n,i){var o,a,s,u,c,l,h,d,f,p=this._x0,m=this._y0,g=this._z0,v=this._x1,y=this._y1,b=this._z1,x=[],_=this._root;for(_&&x.push(new r.a(_,p,m,g,v,y,b)),null==i?i=1/0:(p=e-i,m=t-i,g=n-i,v=e+i,y=t+i,b=n+i,i*=i);d=x.pop();)if(!(!(_=d.node)||(a=d.x0)>v||(s=d.y0)>y||(u=d.z0)>b||(c=d.x1)<p||(l=d.y1)<m||(h=d.z1)<g))if(_.length){var w=(a+c)/2,E=(s+l)/2,M=(u+h)/2;x.push(new r.a(_[7],w,E,M,c,l,h),new r.a(_[6],a,E,M,w,l,h),new r.a(_[5],w,s,M,c,E,h),new r.a(_[4],a,s,M,w,E,h),new r.a(_[3],w,E,u,c,l,M),new r.a(_[2],a,E,u,w,l,M),new r.a(_[1],w,s,u,c,E,M),new r.a(_[0],a,s,u,w,E,M)),(f=(n>=M)<<2|(t>=E)<<1|e>=w)&&(d=x[x.length-1],x[x.length-1]=x[x.length-1-f],x[x.length-1-f]=d)}else{var T=e-+this._x.call(null,_.data),S=t-+this._y.call(null,_.data),C=n-+this._z.call(null,_.data),A=T*T+S*S+C*C;if(A<i){var P=Math.sqrt(i=A);p=e-P,m=t-P,g=n-P,v=e+P,y=t+P,b=n+P,o=_.data}}return o}},function(e,t,n){"use strict";function r(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}t.b=r,t.a=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e))||isNaN(s=+this._z.call(null,e)))return this;var t,n,r,i,o,a,s,u,c,l,h,d,f,p,m,g=this._root,v=this._x0,y=this._y0,b=this._z0,x=this._x1,_=this._y1,w=this._z1;if(!g)return this;if(g.length)for(;;){if((h=o>=(u=(v+x)/2))?v=u:x=u,(d=a>=(c=(y+_)/2))?y=c:_=c,(f=s>=(l=(b+w)/2))?b=l:w=l,t=g,!(g=g[p=f<<2|d<<1|h]))return this;if(!g.length)break;(t[p+1&7]||t[p+2&7]||t[p+3&7]||t[p+4&7]||t[p+5&7]||t[p+6&7]||t[p+7&7])&&(n=t,m=p)}for(;g.data!==e;)if(r=g,!(g=g.next))return this;return(i=g.next)&&delete g.next,r?(i?r.next=i:delete r.next,this):t?(i?t[p]=i:delete t[p],(g=t[0]||t[1]||t[2]||t[3]||t[4]||t[5]||t[6]||t[7])&&g===(t[7]||t[6]||t[5]||t[4]||t[3]||t[2]||t[1]||t[0])&&!g.length&&(n?n[m]=g:this._root=g),this):(this._root=i,this)}},function(e,t,n){"use strict";t.a=function(){return this._root}},function(e,t,n){"use strict";t.a=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e}},function(e,t,n){"use strict";var r=n(26);t.a=function(e){var t,n,i,o,a,s,u,c,l=[],h=this._root;for(h&&l.push(new r.a(h,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=l.pop();)if(!e(h=t.node,i=t.x0,o=t.y0,a=t.z0,s=t.x1,u=t.y1,c=t.z1)&&h.length){var d=(i+s)/2,f=(o+u)/2,p=(a+c)/2;(n=h[7])&&l.push(new r.a(n,d,f,p,s,u,c)),(n=h[6])&&l.push(new r.a(n,i,f,p,d,u,c)),(n=h[5])&&l.push(new r.a(n,d,o,p,s,f,c)),(n=h[4])&&l.push(new r.a(n,i,o,p,d,f,c)),(n=h[3])&&l.push(new r.a(n,d,f,a,s,u,p)),(n=h[2])&&l.push(new r.a(n,i,f,a,d,u,p)),(n=h[1])&&l.push(new r.a(n,d,o,a,s,f,p)),(n=h[0])&&l.push(new r.a(n,i,o,a,d,f,p))}return this}},function(e,t,n){"use strict";var r=n(26);t.a=function(e){var t,n=[],i=[];for(this._root&&n.push(new r.a(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=n.pop();){var o=t.node;if(o.length){var a,s=t.x0,u=t.y0,c=t.z0,l=t.x1,h=t.y1,d=t.z1,f=(s+l)/2,p=(u+h)/2,m=(c+d)/2;(a=o[0])&&n.push(new r.a(a,s,u,c,f,p,m)),(a=o[1])&&n.push(new r.a(a,f,u,c,l,p,m)),(a=o[2])&&n.push(new r.a(a,s,p,c,f,h,m)),(a=o[3])&&n.push(new r.a(a,f,p,c,l,h,m)),(a=o[4])&&n.push(new r.a(a,s,u,m,f,p,d)),(a=o[5])&&n.push(new r.a(a,f,u,m,l,p,d)),(a=o[6])&&n.push(new r.a(a,s,p,m,f,h,d)),(a=o[7])&&n.push(new r.a(a,f,p,m,l,h,d))}i.push(t)}for(;t=i.pop();)e(t.node,t.x0,t.y0,t.z0,t.x1,t.y1,t.z1);return this}},function(e,t,n){"use strict";function r(e){return e[0]}t.b=r,t.a=function(e){return arguments.length?(this._x=e,this):this._x}},function(e,t,n){"use strict";function r(e){return e[1]}t.b=r,t.a=function(e){return arguments.length?(this._y=e,this):this._y}},function(e,t,n){"use strict";function r(e){return e[2]}t.b=r,t.a=function(e){return arguments.length?(this._z=e,this):this._z}},function(e,t,n){"use strict";function r(e){return e.index}function i(e,t){var n=e.get(t);if(!n)throw new Error("missing: "+t);return n}var o=n(6),a=n(23),s=n(44);t.a=function(e){function t(e){return 1/Math.min(m[e.source.index],m[e.target.index])}function n(t){for(var n=0,r=e.length;n<x;++n)for(var i,o,s,u,c,l=0,f=0,m=0,v=0;l<r;++l)i=e[l],o=i.source,s=i.target,f=s.x+s.vx-o.x-o.vx||Object(a.a)(),p>1&&(m=s.y+s.vy-o.y-o.vy||Object(a.a)()),p>2&&(v=s.z+s.vz-o.z-o.vz||Object(a.a)()),u=Math.sqrt(f*f+m*m+v*v),u=(u-d[l])/u*t*h[l],f*=u,m*=u,v*=u,s.vx-=f*(c=g[l]),p>1&&(s.vy-=m*c),p>2&&(s.vz-=v*c),o.vx+=f*(c=1-c),p>1&&(o.vy+=m*c),p>2&&(o.vz+=v*c)}function u(){if(f){var t,n,r=f.length,o=e.length,a=Object(s.a)(f,v);for(t=0,m=new Array(r);t<o;++t)n=e[t],n.index=t,"object"!=typeof n.source&&(n.source=i(a,n.source)),"object"!=typeof n.target&&(n.target=i(a,n.target)),m[n.source.index]=(m[n.source.index]||0)+1,m[n.target.index]=(m[n.target.index]||0)+1;for(t=0,g=new Array(o);t<o;++t)n=e[t],g[t]=m[n.source.index]/(m[n.source.index]+m[n.target.index]);h=new Array(o),c(),d=new Array(o),l()}}function c(){if(f)for(var t=0,n=e.length;t<n;++t)h[t]=+y(e[t],t,e)}function l(){if(f)for(var t=0,n=e.length;t<n;++t)d[t]=+b(e[t],t,e)}var h,d,f,p,m,g,v=r,y=t,b=Object(o.a)(30),x=1;return null==e&&(e=[]),n.initialize=function(e,t){f=e,p=t,u()},n.links=function(t){return arguments.length?(e=t,u(),n):e},n.id=function(e){return arguments.length?(v=e,n):v},n.iterations=function(e){return arguments.length?(x=+e,n):x},n.strength=function(e){return arguments.length?(y="function"==typeof e?e:Object(o.a)(+e),c(),n):y},n.distance=function(e){return arguments.length?(b="function"==typeof e?e:Object(o.a)(+e),l(),n):b},n}},function(e,t,n){"use strict";n(27)},function(e,t,n){"use strict";function r(){}function i(e,t){var n=new r;if(e instanceof r)e.each(function(e){n.add(e)});else if(e){var i=-1,o=e.length;if(null==t)for(;++i<o;)n.add(e[i]);else for(;++i<o;)n.add(t(e[i],i,e))}return n}var o=n(27),a=o.a.prototype;r.prototype=i.prototype={constructor:r,has:a.has,add:function(e){return e+="",this[o.b+e]=e,this},remove:a.remove,clear:a.clear,values:a.keys,size:a.size,empty:a.empty,each:a.each}},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict";var r=n(6),i=n(23),o=n(41),a=n(42),s=n(43),u=n(45);t.a=function(){function e(e){var t,r=l.length,i=(1===h?Object(o.a)(l,u.b):2===h?Object(a.a)(l,u.b,u.c):3===h?Object(s.a)(l,u.b,u.c,u.d):null).visitAfter(n);for(f=e,t=0;t<r;++t)d=l[t],i.visit(c)}function t(){if(l){var e,t,n=l.length;for(p=new Array(n),e=0;e<n;++e)t=l[e],p[t.index]=+m(t,e,l)}}function n(e){var t,n,r,i,o,a,s=0;if(e.length){for(r=i=o=a=0;a<4;++a)(t=e[a])&&(n=t.value)&&(s+=n,r+=n*(t.x||0),i+=n*(t.y||0),o+=n*(t.z||0));e.x=r/s,h>1&&(e.y=i/s),h>2&&(e.z=o/s)}else{t=e,t.x=t.data.x,h>1&&(t.y=t.data.y),h>2&&(t.z=t.data.z);do{s+=p[t.data.index]}while(t=t.next)}e.value=s}function c(e,t,n,r,o){if(!e.value)return!0;var a=[n,r,o][h-1],s=e.x-d.x,u=h>1?e.y-d.y:0,c=h>2?e.z-d.z:0,l=a-t,m=s*s+u*u+c*c;if(l*l/y<m)return m<v&&(0===s&&(s=Object(i.a)(),m+=s*s),h>1&&0===u&&(u=Object(i.a)(),m+=u*u),h>2&&0===c&&(c=Object(i.a)(),m+=c*c),m<g&&(m=Math.sqrt(g*m)),d.vx+=s*e.value*f/m,h>1&&(d.vy+=u*e.value*f/m),h>2&&(d.vz+=c*e.value*f/m)),!0;if(!(e.length||m>=v)){(e.data!==d||e.next)&&(0===s&&(s=Object(i.a)(),m+=s*s),h>1&&0===u&&(u=Object(i.a)(),m+=u*u),h>2&&0===c&&(c=Object(i.a)(),m+=c*c),m<g&&(m=Math.sqrt(g*m)));do{e.data!==d&&(l=p[e.data.index]*f/m,d.vx+=s*l,h>1&&(d.vy+=u*l),h>2&&(d.vz+=c*l))}while(e=e.next)}}var l,h,d,f,p,m=Object(r.a)(-30),g=1,v=1/0,y=.81;return e.initialize=function(e,n){l=e,h=n,t()},e.strength=function(n){return arguments.length?(m="function"==typeof n?n:Object(r.a)(+n),t(),e):m},e.distanceMin=function(t){return arguments.length?(g=t*t,e):Math.sqrt(g)},e.distanceMax=function(t){return arguments.length?(v=t*t,e):Math.sqrt(v)},e.theta=function(t){return arguments.length?(y=t*t,e):Math.sqrt(y)},e}},function(e,t,n){"use strict";var r=n(137);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";function r(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r)throw new Error("illegal type: "+e);r[e]=[]}return new i(r)}function i(e){this._=e}function o(e,t){return e.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}function a(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function s(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=u,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}var u={value:function(){}};i.prototype=r.prototype={constructor:i,on:function(e,t){var n,r=this._,i=o(e+"",r),u=-1,c=i.length;{if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++u<c;)if(n=(e=i[u]).type)r[n]=s(r[n],e.name,t);else if(null==t)for(n in r)r[n]=s(r[n],e.name,null);return this}for(;++u<c;)if((n=(e=i[u]).type)&&(n=a(r[n],e.name)))return n}},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new i(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],o=0,n=r.length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}},t.a=r},function(e,t,n){"use strict";var r=n(28);n.d(t,"a",function(){return r.c});n(139),n(140)},function(e,t,n){"use strict";n(28)},function(e,t,n){"use strict";n(28)},function(e,t,n){"use strict";var r=n(6);t.a=function(e){function t(e){for(var t,n=0,r=i.length;n<r;++n)t=i[n],t.vx+=(a[n]-t.x)*o[n]*e}function n(){if(i){var t,n=i.length;for(o=new Array(n),a=new Array(n),t=0;t<n;++t)o[t]=isNaN(a[t]=+e(i[t],t,i))?0:+s(i[t],t,i)}}var i,o,a,s=Object(r.a)(.1);return"function"!=typeof e&&(e=Object(r.a)(null==e?0:+e)),t.initialize=function(e){i=e,n()},t.strength=function(e){return arguments.length?(s="function"==typeof e?e:Object(r.a)(+e),n(),t):s},t.x=function(i){return arguments.length?(e="function"==typeof i?i:Object(r.a)(+i),n(),t):e},t}},function(e,t,n){"use strict";var r=n(6);t.a=function(e){function t(e){for(var t,n=0,r=i.length;n<r;++n)t=i[n],t.vy+=(a[n]-t.y)*o[n]*e}function n(){if(i){var t,n=i.length;for(o=new Array(n),a=new Array(n),t=0;t<n;++t)o[t]=isNaN(a[t]=+e(i[t],t,i))?0:+s(i[t],t,i)}}var i,o,a,s=Object(r.a)(.1);return"function"!=typeof e&&(e=Object(r.a)(null==e?0:+e)),t.initialize=function(e){i=e,n()},t.strength=function(e){return arguments.length?(s="function"==typeof e?e:Object(r.a)(+e),n(),t):s},t.y=function(i){return arguments.length?(e="function"==typeof i?i:Object(r.a)(+i),n(),t):e},t}},function(e,t,n){"use strict";var r=n(6);t.a=function(e){function t(e){for(var t,n=0,r=i.length;n<r;++n)t=i[n],t.vz+=(a[n]-t.z)*o[n]*e}function n(){if(i){var t,n=i.length;for(o=new Array(n),a=new Array(n),t=0;t<n;++t)o[t]=isNaN(a[t]=+e(i[t],t,i))?0:+s(i[t],t,i)}}var i,o,a,s=Object(r.a)(.1);return"function"!=typeof e&&(e=Object(r.a)(null==e?0:+e)),t.initialize=function(e){i=e,n()},t.strength=function(e){return arguments.length?(s="function"==typeof e?e:Object(r.a)(+e),n(),t):s},t.z=function(i){return arguments.length?(e="function"==typeof i?i:Object(r.a)(+i),n(),t):e},t}},function(e,t,n){function r(e){function t(e,t){k.push({link:e,changeType:t})}function n(e,t){k.push({node:e,changeType:t})}function r(e,t){if(void 0===e)throw new Error("Invalid node identifier");F();var n=l(e);return n?(n.data=t,U(n,"update")):(n=new o(e,t),L++,U(n,"add")),A[e]=n,B(),n}function l(e){return A[e]}function h(e){var t=l(e);if(!t)return!1;F();var n=t.links;if(n){t.links=null;for(var r=0;r<n.length;++r)g(n[r])}return delete A[e],L--,U(t,"remove"),B(),!0}function d(e,t,n){F();var i=l(e)||r(e),o=l(t)||r(t),s=N(e,t,n);return P.push(s),a(i,s),e!==t&&a(o,s),D(s,"add"),B(),s}function f(e,t,n){return new s(e,t,n,u(e,t))}function p(e,t,n){var r=u(e,t),i=R.hasOwnProperty(r);if(i||v(e,t)){i||(R[r]=0);var o="@"+ ++R[r];r=u(e+o,t+o)}return new s(e,t,n,r)}function m(e){var t=l(e);return t?t.links:null}function g(e){if(!e)return!1;var t=i(e,P);if(t<0)return!1;F(),P.splice(t,1);var n=l(e.fromId),r=l(e.toId);return n&&(t=i(e,n.links))>=0&&n.links.splice(t,1),r&&(t=i(e,r.links))>=0&&r.links.splice(t,1),D(e,"remove"),B(),!0}function v(e,t){var n,r=l(e);if(!r||!r.links)return null;for(n=0;n<r.links.length;++n){var i=r.links[n];if(i.fromId===e&&i.toId===t)return i}return null}function y(){F(),O(function(e){h(e.id)}),B()}function b(e){var t,n;if("function"==typeof e)for(t=0,n=P.length;t<n;++t)e(P[t])}function x(e,t,n){var r=l(e);if(r&&r.links&&"function"==typeof t)return n?w(r.links,e,t):_(r.links,e,t)}function _(e,t,n){for(var r=0;r<e.length;++r){var i=e[r],o=i.fromId===t?i.toId:i.fromId;if(n(A[o],i))return!0}}function w(e,t,n){for(var r=0;r<e.length;++r){var i=e[r];if(i.fromId===t&&n(A[i.toId],i))return!0}}function E(){}function M(){I+=1}function T(){0===(I-=1)&&k.length>0&&(z.fire("changed",k),k.length=0)}function S(e){if("function"==typeof e)for(var t=Object.keys(A),n=0;n<t.length;++n)if(e(A[t[n]]))return!0}function C(e){if("function"==typeof e){var t;for(t in A)if(e(A[t]))return!0}}e=e||{},"uniqueLinkId"in e&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n","\n","Note: there is also change in default behavior: From now own each graph\nis considered to be not a multigraph by default (each edge is unique)."),e.multigraph=e.uniqueLinkId),void 0===e.multigraph&&(e.multigraph=!1);var A="function"==typeof Object.create?Object.create(null):{},P=[],R={},L=0,I=0,O=function(){return Object.keys?S:C}(),N=e.multigraph?p:f,k=[],D=E,U=E,F=E,B=E,z={addNode:r,addLink:d,removeLink:g,removeNode:h,getNode:l,getNodesCount:function(){return L},getLinksCount:function(){return P.length},getLinks:m,forEachNode:O,forEachLinkedNode:x,forEachLink:b,beginUpdate:F,endUpdate:B,clear:y,hasLink:v,hasNode:l,getLink:v};return c(z),function(){function e(){return z.beginUpdate=F=M,z.endUpdate=B=T,D=t,U=n,z.on=r,r.apply(z,arguments)}var r=z.on;z.on=e}(),z}function i(e,t){if(!t)return-1;if(t.indexOf)return t.indexOf(e);var n,r=t.length;for(n=0;n<r;n+=1)if(t[n]===e)return n;return-1}function o(e,t){this.id=e,this.links=null,this.data=t}function a(e,t){e.links?e.links.push(t):e.links=[t]}function s(e,t,n,r){this.fromId=e,this.toId=t,this.data=n,this.id=r}function u(e,t){return e.toString()+" "+t.toString()}e.exports=r;var c=n(29)},function(e,t,n){function r(e,t){return t=n(7)(t,{createQuadTree:n(157),createBounds:n(161),createDragForce:n(162),createSpringForce:n(163),integrator:i(t),createBody:n(164)}),r.get2dLayout(e,t)}function i(e){return n(e&&"verlet"===e.integrator?165:166)}e.exports=r,r.get2dLayout=n(146)},function(e,t,n){function r(e,t){function r(t,n){var r;if(void 0===n)r="object"!=typeof t?t:t.id;else{var i=e.hasLink(t,n);if(!i)return;r=i.id}return _[r]}function a(e){return x[e]}function s(e){E.fire("stable",e)}function u(e){for(var t=0;t<e.length;++t){var n=e[t];"add"===n.changeType?(n.node&&c(n.node.id),n.link&&h(n.link)):"remove"===n.changeType&&(n.node&&l(n.node),n.link&&d(n.link))}}function c(t){var n=x[t];if(!n){var r=e.getNode(t);if(!r)throw new Error("initBody() was called with unknown node id");var i=r.position;if(!i){var o=f(r);i=b.getBestNewBodyPosition(o)}n=b.addBodyAt(i),x[t]=n,p(t),m(r)&&(n.isPinned=!0)}}function l(e){var t=e.id,n=x[t];n&&(x[t]=null,delete x[t],b.removeBody(n))}function h(e){p(e.fromId),p(e.toId);var t=x[e.fromId],n=x[e.toId],r=b.addSpring(t,n,e.length);w(e,r),_[e.id]=r}function d(t){var n=_[t.id];if(n){var r=e.getNode(t.fromId),i=e.getNode(t.toId);r&&p(r.id),i&&p(i.id),delete _[t.id],b.removeSpring(n)}}function f(e){var t=[];if(!e.links)return t;for(var n=Math.min(e.links.length,2),r=0;r<n;++r){var i=e.links[r],o=i.fromId!==e.id?x[i.fromId]:x[i.toId];o&&o.pos&&t.push(o)}return t}function p(e){x[e].mass=v(e)}function m(e){return e&&(e.isPinned||e.data&&e.data.isPinned)}function g(e){var t=x[e];return t||(c(e),t=x[e]),t}function v(t){var n=e.getLinks(t);return n?1+n.length/3:1}if(!e)throw new Error("Graph structure cannot be undefined");var y=n(46),b=y(t),x="function"==typeof Object.create?Object.create(null):{},_={},w=b.settings.springTransform||i;!function(){e.forEachNode(function(e){c(e.id)}),e.forEachLink(h)}(),function(){e.on("changed",u),b.on("stable",s)}();var E={step:function(){return b.step()},getNodePosition:function(e){return g(e).pos},setNodePosition:function(e){var t=g(e);t.setPosition.apply(t,Array.prototype.slice.call(arguments,1))},getLinkPosition:function(e){var t=_[e];if(t)return{from:t.from.pos,to:t.to.pos}},getGraphRect:function(){return b.getBBox()},pinNode:function(e,t){g(e.id).isPinned=!!t},isNodePinned:function(e){return g(e.id).isPinned},dispose:function(){e.off("changed",u),b.off("stable",s)},getBody:a,getSpring:r,simulator:b};return o(E),E}function i(){}e.exports=r,e.exports.simulator=n(46);var o=n(29)},function(e,t){function n(e,t,n,r,i){this.from=e,this.to=t,this.length=n,this.coeff=r,this.weight="number"==typeof i?i:1}e.exports=n},function(e,t,n){function r(e,t){return 0===t?e.quad0:1===t?e.quad1:2===t?e.quad2:3===t?e.quad3:null}function i(e,t,n){0===t?e.quad0=n:1===t?e.quad1=n:2===t?e.quad2=n:3===t&&(e.quad3=n)}e.exports=function(e){e=e||{},e.gravity="number"==typeof e.gravity?e.gravity:-1,e.theta="number"==typeof e.theta?e.theta:.8;var t=n(8).random(1984),o=n(149),a=n(150),s=n(151),u=e.gravity,c=[],l=new a,h=e.theta,d=[],f=0,p=function(){var e=d[f];return e?(e.quad0=null,e.quad1=null,e.quad2=null,e.quad3=null,e.body=null,e.mass=e.massX=e.massY=0,e.left=e.right=e.top=e.bottom=0):(e=new o,d[f]=e),++f,e},m=p(),g=function(e){for(l.reset(),l.push(m,e);!l.isEmpty();){var n=l.pop(),o=n.node,a=n.body;if(o.body){var u=o.body;if(o.body=null,s(u.pos,a.pos)){var c=3;do{var h=t.nextDouble(),d=(o.right-o.left)*h,f=(o.bottom-o.top)*h;u.pos.x=o.left+d,u.pos.y=o.top+f,c-=1}while(c>0&&s(u.pos,a.pos));if(0===c&&s(u.pos,a.pos))return}l.push(o,u),l.push(o,a)}else{var g=a.pos.x,v=a.pos.y;o.mass=o.mass+a.mass,o.massX=o.massX+a.mass*g,o.massY=o.massY+a.mass*v;var y=0,b=o.left,x=(o.right+b)/2,_=o.top,w=(o.bottom+_)/2;if(g>x){y+=1;var E=b;b=x,x+=x-E}if(v>w){y+=2;var M=_;_=w,w+=w-M}var T=r(o,y);T?l.push(T,a):(T=p(),T.left=b,T.top=_,T.right=x,T.bottom=w,T.body=a,i(o,y,T))}}},v=function(e){var n,r,i,o,a=c,s=0,l=0,d=1,f=0,p=1;for(a[0]=m;d;){var g=a[f],v=g.body;d-=1,f+=1;var y=v!==e;v&&y?(r=v.pos.x-e.pos.x,i=v.pos.y-e.pos.y,o=Math.sqrt(r*r+i*i),0===o&&(r=(t.nextDouble()-.5)/50,i=(t.nextDouble()-.5)/50,o=Math.sqrt(r*r+i*i)),n=u*v.mass*e.mass/(o*o*o),s+=n*r,l+=n*i):y&&(r=g.massX/g.mass-e.pos.x,i=g.massY/g.mass-e.pos.y,o=Math.sqrt(r*r+i*i),0===o&&(r=(t.nextDouble()-.5)/50,i=(t.nextDouble()-.5)/50,o=Math.sqrt(r*r+i*i)),(g.right-g.left)/o<h?(n=u*g.mass*e.mass/(o*o*o),s+=n*r,l+=n*i):(g.quad0&&(a[p]=g.quad0,d+=1,p+=1),g.quad1&&(a[p]=g.quad1,d+=1,p+=1),g.quad2&&(a[p]=g.quad2,d+=1,p+=1),g.quad3&&(a[p]=g.quad3,d+=1,p+=1)))}e.force.x+=s,e.force.y+=l};return{insertBodies:function(e){var t,n=Number.MAX_VALUE,r=Number.MAX_VALUE,i=Number.MIN_VALUE,o=Number.MIN_VALUE,a=e.length;for(t=a;t--;){var s=e[t].pos.x,u=e[t].pos.y;s<n&&(n=s),s>i&&(i=s),u<r&&(r=u),u>o&&(o=u)}var c=i-n,l=o-r;for(c>l?o=r+c:i=n+l,f=0,m=p(),m.left=n,m.right=i,m.top=r,m.bottom=o,t=a-1,t>0&&(m.body=e[t]);t--;)g(e[t])},updateBodyForce:v,options:function(e){return e?("number"==typeof e.gravity&&(u=e.gravity),"number"==typeof e.theta&&(h=e.theta),this):{gravity:u,theta:h}}}}},function(e,t){e.exports=function(){this.body=null,this.quad0=null,this.quad1=null,this.quad2=null,this.quad3=null,this.mass=0,this.massX=0,this.massY=0,this.left=0,this.top=0,this.bottom=0,this.right=0}},function(e,t){function n(){this.stack=[],this.popIdx=0}function r(e,t){this.node=e,this.body=t}e.exports=n,n.prototype={isEmpty:function(){return 0===this.popIdx},push:function(e,t){var n=this.stack[this.popIdx];n?(n.node=e,n.body=t):this.stack[this.popIdx]=new r(e,t),++this.popIdx},pop:function(){if(this.popIdx>0)return this.stack[--this.popIdx]},reset:function(){this.popIdx=0}}},function(e,t){e.exports=function(e,t){var n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return n<1e-8&&r<1e-8}},function(e,t,n){e.exports=function(e,t){function r(){var t=e.length;if(0!==t){for(var n=Number.MAX_VALUE,r=Number.MAX_VALUE,i=Number.MIN_VALUE,a=Number.MIN_VALUE;t--;){var s=e[t];s.isPinned?(s.pos.x=s.prevPos.x,s.pos.y=s.prevPos.y):(s.prevPos.x=s.pos.x,s.prevPos.y=s.pos.y),s.pos.x<n&&(n=s.pos.x),s.pos.x>i&&(i=s.pos.x),s.pos.y<r&&(r=s.pos.y),s.pos.y>a&&(a=s.pos.y)}o.x1=n,o.x2=i,o.y1=r,o.y2=a}}var i=n(8).random(42),o={x1:0,y1:0,x2:0,y2:0};return{box:o,update:r,reset:function(){o.x1=o.y1=0,o.x2=o.y2=0},getBestNewPosition:function(e){var n=o,r=0,a=0;if(e.length){for(var s=0;s<e.length;++s)r+=e[s].pos.x,a+=e[s].pos.y;r/=e.length,a/=e.length}else r=(n.x1+n.x2)/2,a=(n.y1+n.y2)/2;var u=t.springLength;return{x:r+i.next(u)-u/2,y:a+i.next(u)-u/2}}}}},function(e,t,n){e.exports=function(e){var t=n(7),r=n(11);e=t(e,{dragCoeff:.02});var i={update:function(t){t.force.x-=e.dragCoeff*t.velocity.x,t.force.y-=e.dragCoeff*t.velocity.y}};return r(e,i,["dragCoeff"]),i}},function(e,t,n){e.exports=function(e){var t=n(7),r=n(8).random(42),i=n(11);e=t(e,{springCoeff:2e-4,springLength:80});var o={update:function(t){var n=t.from,i=t.to,o=t.length<0?e.springLength:t.length,a=i.pos.x-n.pos.x,s=i.pos.y-n.pos.y,u=Math.sqrt(a*a+s*s);0===u&&(a=(r.nextDouble()-.5)/50,s=(r.nextDouble()-.5)/50,u=Math.sqrt(a*a+s*s));var c=u-o,l=(!t.coeff||t.coeff<0?e.springCoeff:t.coeff)*c/u*t.weight;n.force.x+=l*a,n.force.y+=l*s,i.force.x-=l*a,i.force.y-=l*s}};return i(e,o,["springCoeff","springLength"]),o}},function(e,t){function n(e,t){var n,r=0,i=0,o=0,a=0,s=e.length;if(0===s)return 0;for(n=0;n<s;++n){var u=e[n],c=t/u.mass;u.velocity.x+=c*u.force.x,u.velocity.y+=c*u.force.y;var l=u.velocity.x,h=u.velocity.y,d=Math.sqrt(l*l+h*h);d>1&&(u.velocity.x=l/d,u.velocity.y=h/d),r=t*u.velocity.x,o=t*u.velocity.y,u.pos.x+=r,u.pos.y+=o,i+=Math.abs(r),a+=Math.abs(o)}return(i*i+a*a)/s}e.exports=n},function(e,t,n){var r=n(47);e.exports=function(e){return new r.Body(e)}},function(e,t,n){function r(e,t){return 0===t?e.quad0:1===t?e.quad1:2===t?e.quad2:3===t?e.quad3:4===t?e.quad4:5===t?e.quad5:6===t?e.quad6:7===t?e.quad7:null}function i(e,t,n){0===t?e.quad0=n:1===t?e.quad1=n:2===t?e.quad2=n:3===t?e.quad3=n:4===t?e.quad4=n:5===t?e.quad5=n:6===t?e.quad6=n:7===t&&(e.quad7=n)}e.exports=function(e){e=e||{},e.gravity="number"==typeof e.gravity?e.gravity:-1,e.theta="number"==typeof e.theta?e.theta:.8;var t=n(8).random(1984),o=n(158),a=n(159),s=n(160),u=e.gravity,c=[],l=new a,h=e.theta,d=[],f=0,p=function(){var e=d[f];return e?(e.quad0=null,e.quad4=null,e.quad1=null,e.quad5=null,e.quad2=null,e.quad6=null,e.quad3=null,e.quad7=null,e.body=null,e.mass=e.massX=e.massY=e.massZ=0,e.left=e.right=e.top=e.bottom=e.front=e.back=0):(e=new o,d[f]=e),++f,e},m=p(),g=function(e){for(l.reset(),l.push(m,e);!l.isEmpty();){var n=l.pop(),o=n.node,a=n.body;if(o.body){var u=o.body;if(o.body=null,s(u.pos,a.pos)){var c=3;do{var h=t.nextDouble(),d=(o.right-o.left)*h,f=(o.bottom-o.top)*h,g=(o.front-o.back)*h;u.pos.x=o.left+d,u.pos.y=o.top+f,u.pos.z=o.back+g,c-=1}while(c>0&&s(u.pos,a.pos));if(0===c&&s(u.pos,a.pos))return}l.push(o,u),l.push(o,a)}else{var v=a.pos.x,y=a.pos.y,b=a.pos.z;o.mass+=a.mass,o.massX+=a.mass*v,o.massY+=a.mass*y,o.massZ+=a.mass*b;var x=0,_=o.left,w=(o.right+_)/2,E=o.top,M=(o.bottom+E)/2,T=o.back,S=(o.front+T)/2;if(v>w){x+=1;var C=_;_=w,w+=w-C}if(y>M){x+=2;var A=E;E=M,M+=M-A}if(b>S){x+=4;var P=T;T=S,S=T+(T-P)}var R=r(o,x);R?l.push(R,a):(R=p(),R.left=_,R.top=E,R.right=w,R.bottom=M,R.back=T,R.front=S,R.body=a,i(o,x,R))}}},v=function(e){var n,r,i,o,a,s=c,l=0,d=0,f=0,p=1,g=0,v=1;for(s[0]=m;p;){var y=s[g],b=y.body;p-=1,g+=1;var x=b!==e;b&&x?(r=b.pos.x-e.pos.x,i=b.pos.y-e.pos.y,o=b.pos.z-e.pos.z,a=Math.sqrt(r*r+i*i+o*o),0===a&&(r=(t.nextDouble()-.5)/50,i=(t.nextDouble()-.5)/50,o=(t.nextDouble()-.5)/50,a=Math.sqrt(r*r+i*i+o*o)),n=u*b.mass*e.mass/(a*a*a),l+=n*r,d+=n*i,f+=n*o):x&&(r=y.massX/y.mass-e.pos.x,i=y.massY/y.mass-e.pos.y,o=y.massZ/y.mass-e.pos.z,a=Math.sqrt(r*r+i*i+o*o),0===a&&(r=(t.nextDouble()-.5)/50,i=(t.nextDouble()-.5)/50,o=(t.nextDouble()-.5)/50,a=Math.sqrt(r*r+i*i+o*o)),(y.right-y.left)/a<h?(n=u*y.mass*e.mass/(a*a*a),l+=n*r,d+=n*i,f+=n*o):(y.quad0&&(s[v]=y.quad0,p+=1,v+=1),y.quad1&&(s[v]=y.quad1,p+=1,v+=1),y.quad2&&(s[v]=y.quad2,p+=1,v+=1),y.quad3&&(s[v]=y.quad3,p+=1,v+=1),y.quad4&&(s[v]=y.quad4,p+=1,v+=1),y.quad5&&(s[v]=y.quad5,p+=1,v+=1),y.quad6&&(s[v]=y.quad6,p+=1,v+=1),y.quad7&&(s[v]=y.quad7,p+=1,v+=1)))}e.force.x+=l,e.force.y+=d,e.force.z+=f};return{insertBodies:function(e){var t,n=Number.MAX_VALUE,r=Number.MAX_VALUE,i=Number.MAX_VALUE,o=Number.MIN_VALUE,a=Number.MIN_VALUE,s=Number.MIN_VALUE,u=e.length;for(t=u;t--;){var c=e[t].pos,l=c.x,h=c.y,d=c.z;l<n&&(n=l),l>o&&(o=l),h<r&&(r=h),h>a&&(a=h),d<i&&(i=d),d>s&&(s=d)}var v=Math.max(o-n,Math.max(a-r,s-i));for(o=n+v,a=r+v,s=i+v,f=0,m=p(),m.left=n,m.right=o,m.top=r,m.bottom=a,m.back=i,m.front=s,t=u-1,t>0&&(m.body=e[t]);t--;)g(e[t])},updateBodyForce:v,options:function(e){return e?("number"==typeof e.gravity&&(u=e.gravity),"number"==typeof e.theta&&(h=e.theta),this):{gravity:u,theta:h}}}}},function(e,t){e.exports=function(){this.body=null,this.quad0=null,this.quad1=null,this.quad2=null,this.quad3=null,this.quad4=null,this.quad5=null,this.quad6=null,this.quad7=null,this.mass=0,this.massX=0,this.massY=0,this.massZ=0,this.left=0,this.top=0,this.bottom=0,this.right=0,this.front=0,this.back=0}},function(e,t){function n(){this.stack=[],this.popIdx=0}function r(e,t){this.node=e,this.body=t}e.exports=n,n.prototype={isEmpty:function(){return 0===this.popIdx},push:function(e,t){var n=this.stack[this.popIdx];n?(n.node=e,n.body=t):this.stack[this.popIdx]=new r(e,t),++this.popIdx},pop:function(){if(this.popIdx>0)return this.stack[--this.popIdx]},reset:function(){this.popIdx=0}}},function(e,t){e.exports=function(e,t){var n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y),i=Math.abs(e.z-t.z);return n<1e-8&&r<1e-8&&i<1e-8}},function(e,t,n){e.exports=function(e,t){function r(){var t=e.length;if(0!==t){for(var n=Number.MAX_VALUE,r=Number.MAX_VALUE,i=Number.MAX_VALUE,a=Number.MIN_VALUE,s=Number.MIN_VALUE,u=Number.MIN_VALUE;t--;){var c=e[t];c.isPinned?(c.pos.x=c.prevPos.x,c.pos.y=c.prevPos.y,c.pos.z=c.prevPos.z):(c.prevPos.x=c.pos.x,c.prevPos.y=c.pos.y,c.prevPos.z=c.pos.z),c.pos.x<n&&(n=c.pos.x),c.pos.x>a&&(a=c.pos.x),c.pos.y<r&&(r=c.pos.y),c.pos.y>s&&(s=c.pos.y),c.pos.z<i&&(i=c.pos.z),c.pos.z>u&&(u=c.pos.z)}o.x1=n,o.x2=a,o.y1=r,o.y2=s,o.z1=i,o.z2=u}}var i=n(8).random(42),o={x1:0,y1:0,z1:0,x2:0,y2:0,z2:0};return{box:o,update:r,reset:function(){o.x1=o.y1=0,o.x2=o.y2=0,o.z1=o.z2=0},getBestNewPosition:function(e){var n=o,r=0,a=0,s=0;if(e.length){for(var u=0;u<e.length;++u)r+=e[u].pos.x,a+=e[u].pos.y,s+=e[u].pos.z;r/=e.length,a/=e.length,s/=e.length}else r=(n.x1+n.x2)/2,a=(n.y1+n.y2)/2,s=(n.z1+n.z2)/2;var c=t.springLength;return{x:r+i.next(c)-c/2,y:a+i.next(c)-c/2,z:s+i.next(c)-c/2}}}}},function(e,t,n){e.exports=function(e){var t=n(7),r=n(11);e=t(e,{dragCoeff:.02});var i={update:function(t){t.force.x-=e.dragCoeff*t.velocity.x,t.force.y-=e.dragCoeff*t.velocity.y,t.force.z-=e.dragCoeff*t.velocity.z}};return r(e,i,["dragCoeff"]),i}},function(e,t,n){e.exports=function(e){var t=n(7),r=n(8).random(42),i=n(11);e=t(e,{springCoeff:2e-4,springLength:80});var o={update:function(t){var n=t.from,i=t.to,o=t.length<0?e.springLength:t.length,a=i.pos.x-n.pos.x,s=i.pos.y-n.pos.y,u=i.pos.z-n.pos.z,c=Math.sqrt(a*a+s*s+u*u);0===c&&(a=(r.nextDouble()-.5)/50,s=(r.nextDouble()-.5)/50,u=(r.nextDouble()-.5)/50,c=Math.sqrt(a*a+s*s+u*u));var l=c-o,h=(!t.coeff||t.coeff<0?e.springCoeff:t.coeff)*l/c*t.weight;n.force.x+=h*a,n.force.y+=h*s,n.force.z+=h*u,i.force.x-=h*a,i.force.y-=h*s,i.force.z-=h*u}};return i(e,o,["springCoeff","springLength"]),o}},function(e,t,n){var r=n(47);e.exports=function(e){return new r.Body3d(e)}},function(e,t){function n(e,t){var n,r=0,i=0,o=0,a=e.length;for(n=0;n<a;++n){var s=e[n],u=t*t/s.mass;s.pos.x=2*s.pos.x-s.prevPos.x+s.force.x*u,s.pos.y=2*s.pos.y-s.prevPos.y+s.force.y*u,s.pos.z=2*s.pos.z-s.prevPos.z+s.force.z*u,r+=Math.abs(s.pos.x-s.prevPos.x),i+=Math.abs(s.pos.y-s.prevPos.y),o+=Math.abs(s.pos.z-s.prevPos.z)}return(r*r+i*i+o*o)/e.length}e.exports=n},function(e,t){function n(e,t){var n,r=0,i=0,o=0,a=0,s=0,u=0,c=e.length;for(n=0;n<c;++n){var l=e[n],h=t/l.mass;l.velocity.x+=h*l.force.x,l.velocity.y+=h*l.force.y,l.velocity.z+=h*l.force.z;var d=l.velocity.x,f=l.velocity.y,p=l.velocity.z,m=Math.sqrt(d*d+f*f+p*p);m>1&&(l.velocity.x=d/m,l.velocity.y=f/m,l.velocity.z=p/m),r=t*l.velocity.x,o=t*l.velocity.y,s=t*l.velocity.z,l.pos.x+=r,l.pos.y+=o,l.pos.z+=s,i+=Math.abs(r),a+=Math.abs(o),u+=Math.abs(s)}return(i*i+a*a+u*u)/e.length}e.exports=n},function(e,t,n){"use strict";function r(){console.log.apply(console,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.DEBUG_MSG=r},function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"color",r=o.schemePaired,i={};e.forEach(function(e){i[t(e)]=null}),Object.keys(i).forEach(function(e,t){i[e]=t}),e.forEach(function(e){e[n]=r[i[t(e)]%r.length]})}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"color",r=c,i={};e.forEach(function(e){i[t(e)]=null}),Object.keys(i).forEach(function(e,t){i[e]=t}),e.forEach(function(e){e[n]=r[i[t(e)]%r.length]})}Object.defineProperty(t,"__esModule",{value:!0}),t.colorStr2Hex=t.autoColorBySeverity=t.autoColorNodes=void 0;var o=n(169),a=n(218),s=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(e){return isNaN(e)?parseInt((0,s.default)(e).toHex(),16):e},c=[(0,o.interpolateReds)(0),(0,o.interpolateReds)(0),(0,o.interpolateReds)(.2727),(0,o.interpolateReds)(.2727),(0,o.interpolateReds)(.2727),(0,o.interpolateReds)(.5454),(0,o.interpolateReds)(.5454),(0,o.interpolateReds)(.5454),(0,o.interpolateReds)(.7272),(0,o.interpolateReds)(.7272),(0,o.interpolateReds)(.0909*11),(0,o.interpolateReds)(.0909*11)];t.autoColorNodes=r,t.autoColorBySeverity=i,t.colorStr2Hex=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(170);n.d(t,"schemeAccent",function(){return r.a});var i=n(171);n.d(t,"schemeDark2",function(){return i.a});var o=n(172);n.d(t,"schemePaired",function(){return o.a});var a=n(173);n.d(t,"schemePastel1",function(){return a.a});var s=n(174);n.d(t,"schemePastel2",function(){return s.a});var u=n(175);n.d(t,"schemeSet1",function(){return u.a});var c=n(176);n.d(t,"schemeSet2",function(){return c.a});var l=n(177);n.d(t,"schemeSet3",function(){return l.a});var h=n(178);n.d(t,"interpolateBrBG",function(){return h.a}),n.d(t,"schemeBrBG",function(){return h.b});var d=n(192);n.d(t,"interpolatePRGn",function(){return d.a}),n.d(t,"schemePRGn",function(){return d.b});var f=n(193);n.d(t,"interpolatePiYG",function(){return f.a}),n.d(t,"schemePiYG",function(){return f.b});var p=n(194);n.d(t,"interpolatePuOr",function(){return p.a}),n.d(t,"schemePuOr",function(){return p.b});var m=n(195);n.d(t,"interpolateRdBu",function(){return m.a}),n.d(t,"schemeRdBu",function(){return m.b});var g=n(196);n.d(t,"interpolateRdGy",function(){return g.a}),n.d(t,"schemeRdGy",function(){return g.b});var v=n(197);n.d(t,"interpolateRdYlBu",function(){return v.a}),n.d(t,"schemeRdYlBu",function(){return v.b});var y=n(198);n.d(t,"interpolateRdYlGn",function(){return y.a}),n.d(t,"schemeRdYlGn",function(){return y.b});var b=n(199);n.d(t,"interpolateSpectral",function(){return b.a}),n.d(t,"schemeSpectral",function(){return b.b});var x=n(200);n.d(t,"interpolateBuGn",function(){return x.a}),n.d(t,"schemeBuGn",function(){return x.b});var _=n(201);n.d(t,"interpolateBuPu",function(){return _.a}),n.d(t,"schemeBuPu",function(){return _.b});var w=n(202);n.d(t,"interpolateGnBu",function(){return w.a}),n.d(t,"schemeGnBu",function(){return w.b});var E=n(203);n.d(t,"interpolateOrRd",function(){return E.a}),n.d(t,"schemeOrRd",function(){return E.b});var M=n(204);n.d(t,"interpolatePuBuGn",function(){return M.a}),n.d(t,"schemePuBuGn",function(){return M.b});var T=n(205);n.d(t,"interpolatePuBu",function(){return T.a}),n.d(t,"schemePuBu",function(){return T.b});var S=n(206);n.d(t,"interpolatePuRd",function(){return S.a}),n.d(t,"schemePuRd",function(){return S.b});var C=n(207);n.d(t,"interpolateRdPu",function(){return C.a}),n.d(t,"schemeRdPu",function(){return C.b});var A=n(208);n.d(t,"interpolateYlGnBu",function(){return A.a}),n.d(t,"schemeYlGnBu",function(){return A.b});var P=n(209);n.d(t,"interpolateYlGn",function(){return P.a}),n.d(t,"schemeYlGn",function(){return P.b});var R=n(210);n.d(t,"interpolateYlOrBr",function(){return R.a}),n.d(t,"schemeYlOrBr",function(){return R.b});var L=n(211);n.d(t,"interpolateYlOrRd",function(){return L.a}),n.d(t,"schemeYlOrRd",function(){return L.b});var I=n(212);n.d(t,"interpolateBlues",function(){return I.a}),n.d(t,"schemeBlues",function(){return I.b});var O=n(213);n.d(t,"interpolateGreens",function(){return O.a}),n.d(t,"schemeGreens",function(){return O.b});var N=n(214);n.d(t,"interpolateGreys",function(){return N.a}),n.d(t,"schemeGreys",function(){return N.b});var k=n(215);n.d(t,"interpolatePurples",function(){return k.a}),n.d(t,"schemePurples",function(){return k.b});var D=n(216);n.d(t,"interpolateReds",function(){return D.a}),n.d(t,"schemeReds",function(){return D.b});var U=n(217);n.d(t,"interpolateOranges",function(){return U.a}),n.d(t,"schemeOranges",function(){return U.b})},function(e,t,n){"use strict";var r=n(0);t.a=Object(r.a)("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666")},function(e,t,n){"use strict";var r=n(0);t.a=Object(r.a)("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666")},function(e,t,n){"use strict";var r=n(0);t.a=Object(r.a)("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928")},function(e,t,n){"use strict";var r=n(0);t.a=Object(r.a)("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2")},function(e,t,n){"use strict";var r=n(0);t.a=Object(r.a)("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc")},function(e,t,n){"use strict";var r=n(0);t.a=Object(r.a)("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999")},function(e,t,n){"use strict";var r=n(0);t.a=Object(r.a)("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3")},function(e,t,n){"use strict";var r=n(0);t.a=Object(r.a)("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f")},function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(0),i=n(1),o=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(r.a);t.a=Object(i.a)(o)},function(e,t,n){"use strict";var r=(n(30),n(52),n(33),n(50),n(53),n(18),n(54),n(182),n(55),n(183),n(186),n(49));n.d(t,"a",function(){return r.b});n(187),n(188),n(189),n(190),n(191)},function(e,t,n){"use strict";function r(e){if(e instanceof o)return new o(e.l,e.a,e.b,e.opacity);if(e instanceof d){var t=e.h*m.a;return new o(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof p.b||(e=Object(p.h)(e));var n=c(e.r),r=c(e.g),i=c(e.b),s=a((.4124564*n+.3575761*r+.1804375*i)/g),u=a((.2126729*n+.7151522*r+.072175*i)/v);return new o(116*u-16,500*(s-u),200*(u-a((.0193339*n+.119192*r+.9503041*i)/y)),e.opacity)}function i(e,t,n,i){return 1===arguments.length?r(e):new o(e,t,n,null==i?1:i)}function o(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function a(e){return e>w?Math.pow(e,1/3):e/_+b}function s(e){return e>x?e*e*e:_*(e-b)}function u(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function c(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function l(e){if(e instanceof d)return new d(e.h,e.c,e.l,e.opacity);e instanceof o||(e=r(e));var t=Math.atan2(e.b,e.a)*m.b;return new d(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function h(e,t,n,r){return 1===arguments.length?l(e):new d(e,t,n,null==r?1:r)}function d(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}t.a=i,t.b=h;var f=n(32),p=n(31),m=n(48),g=.95047,v=1,y=1.08883,b=4/29,x=6/29,_=3*x*x,w=x*x*x;Object(f.a)(o,i,Object(f.b)(p.a,{brighter:function(e){return new o(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new o(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return e=v*s(e),t=g*s(t),n=y*s(n),new p.b(u(3.2404542*t-1.5371385*e-.4985314*n),u(-.969266*t+1.8760108*e+.041556*n),u(.0556434*t-.2040259*e+1.0572252*n),this.opacity)}})),Object(f.a)(d,h,Object(f.b)(p.a,{brighter:function(e){return new d(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new d(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return r(this).rgb()}}))},function(e,t,n){"use strict";function r(e){if(e instanceof o)return new o(e.h,e.s,e.l,e.opacity);e instanceof s.b||(e=Object(s.h)(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(g*r+p*t-m*n)/(g+p-m),a=r-i,c=(f*(n-i)-h*a)/d,l=Math.sqrt(c*c+a*a)/(f*i*(1-i)),v=l?Math.atan2(c,a)*u.b-120:NaN;return new o(v<0?v+360:v,l,i,e.opacity)}function i(e,t,n,i){return 1===arguments.length?r(e):new o(e,t,n,null==i?1:i)}function o(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}t.a=i;var a=n(32),s=n(31),u=n(48),c=-.14861,l=1.78277,h=-.29227,d=-.90649,f=1.97294,p=f*d,m=f*l,g=l*h-d*c;Object(a.a)(o,i,Object(a.b)(s.a,{brighter:function(e){return e=null==e?s.c:Math.pow(s.c,e),new o(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?s.d:Math.pow(s.d,e),new o(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*u.a,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new s.b(255*(t+n*(c*r+l*i)),255*(t+n*(h*r+d*i)),255*(t+n*(f*r)),this.opacity)}}))},function(e,t,n){"use strict"},function(e,t,n){"use strict";function r(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}function a(e,r,o,a,s,u){if(e!==o||r!==a){var c=s.push("translate(",null,t,null,n);u.push({i:c-4,x:Object(i.a)(e,o)},{i:c-2,x:Object(i.a)(r,a)})}else(o||a)&&s.push("translate("+o+t+a+n)}function s(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(o(n)+"rotate(",null,r)-2,x:Object(i.a)(e,t)})):t&&n.push(o(n)+"rotate("+t+r)}function u(e,t,n,a){e!==t?a.push({i:n.push(o(n)+"skewX(",null,r)-2,x:Object(i.a)(e,t)}):t&&n.push(o(n)+"skewX("+t+r)}function c(e,t,n,r,a,s){if(e!==n||t!==r){var u=a.push(o(a)+"scale(",null,",",null,")");s.push({i:u-4,x:Object(i.a)(e,n)},{i:u-2,x:Object(i.a)(t,r)})}else 1===n&&1===r||a.push(o(a)+"scale("+n+","+r+")")}return function(t,n){var r=[],i=[];return t=e(t),n=e(n),a(t.translateX,t.translateY,n.translateX,n.translateY,r,i),s(t.rotate,n.rotate,r,i),u(t.skewX,n.skewX,r,i),c(t.scaleX,t.scaleY,n.scaleX,n.scaleY,r,i),t=n=null,function(e){for(var t,n=-1,o=i.length;++n<o;)r[(t=i[n]).i]=t.x(e);return r.join("")}}}var i=n(18),o=n(184);r(o.a,"px, ","px)","deg)"),r(o.b,", ",")",")")},function(e,t,n){"use strict";function r(e){return"none"===e?c.b:(o||(o=document.createElement("DIV"),a=document.documentElement,s=document.defaultView),o.style.transform=e,e=s.getComputedStyle(a.appendChild(o),null).getPropertyValue("transform"),a.removeChild(o),e=e.slice(7,-1).split(","),Object(c.a)(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function i(e){return null==e?c.b:(u||(u=document.createElementNS("http://www.w3.org/2000/svg","g")),u.setAttribute("transform",e),(e=u.transform.baseVal.consolidate())?(e=e.matrix,Object(c.a)(e.a,e.b,e.c,e.d,e.e,e.f)):c.b)}t.a=r,t.b=i;var o,a,s,u,c=n(185)},function(e,t,n){"use strict";n.d(t,"b",function(){return i});var r=180/Math.PI,i={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};t.a=function(e,t,n,i,o,a){var s,u,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*n+t*i)&&(n-=e*c,i-=t*c),(u=Math.sqrt(n*n+i*i))&&(n/=u,i/=u,c/=u),e*i<t*n&&(e=-e,t=-t,c=-c,s=-s),{translateX:o,translateY:a,rotate:Math.atan2(t,e)*r,skewX:Math.atan(c)*r,scaleX:s,scaleY:u}}},function(e,t,n){"use strict";Math.SQRT2},function(e,t,n){"use strict";function r(e){return function(t,n){var r=e((t=Object(i.d)(t)).h,(n=Object(i.d)(n)).h),a=Object(o.a)(t.s,n.s),s=Object(o.a)(t.l,n.l),u=Object(o.a)(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=a(e),t.l=s(e),t.opacity=u(e),t+""}}}var i=n(9),o=n(12);r(o.c),r(o.a)},function(e,t,n){"use strict";n(9),n(12)},function(e,t,n){"use strict";function r(e){return function(t,n){var r=e((t=Object(i.c)(t)).h,(n=Object(i.c)(n)).h),a=Object(o.a)(t.c,n.c),s=Object(o.a)(t.l,n.l),u=Object(o.a)(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=a(e),t.l=s(e),t.opacity=u(e),t+""}}}var i=n(9),o=n(12);r(o.c),r(o.a)},function(e,t,n){"use strict";function r(e){return function t(n){function r(t,r){var a=e((t=Object(i.b)(t)).h,(r=Object(i.b)(r)).h),s=Object(o.a)(t.s,r.s),u=Object(o.a)(t.l,r.l),c=Object(o.a)(t.opacity,r.opacity);return function(e){return t.h=a(e),t.s=s(e),t.l=u(Math.pow(e,n)),t.opacity=c(e),t+""}}return n=+n,r.gamma=t,r}(1)}var i=n(9),o=n(12);r(o.c),r(o.a)},function(e,t,n){"use strict"},function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(0),i=n(1),o=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(r.a);t.a=Object(i.a)(o)},function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(0),i=n(1),o=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(r.a);t.a=Object(i.a)(o)},function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(0),i=n(1),o=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(r.a);t.a=Object(i.a)(o)},function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(0),i=n(1),o=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(r.a);t.a=Object(i.a)(o)},function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(0),i=n(1),o=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(r.a);t.a=Object(i.a)(o)},function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(0),i=n(1),o=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(r.a);t.a=Object(i.a)(o)},function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(0),i=n(1),o=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(r.a);t.a=Object(i.a)(o)},function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(0),i=n(1),o=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(r.a);t.a=Object(i.a)(o)},function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(0),i=n(1),o=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(r.a);t.a=Object(i.a)(o)},function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(0),i=n(1),o=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(r.a);t.a=Object(i.a)(o)},function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(0),i=n(1),o=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(r.a);t.a=Object(i.a)(o)},function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(0),i=n(1),o=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(r.a);t.a=Object(i.a)(o)},function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(0),i=n(1),o=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(r.a);t.a=Object(i.a)(o)},function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(0),i=n(1),o=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(r.a);t.a=Object(i.a)(o)},function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(0),i=n(1),o=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(r.a);t.a=Object(i.a)(o)},function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(0),i=n(1),o=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(r.a);t.a=Object(i.a)(o)},function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(0),i=n(1),o=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(r.a);t.a=Object(i.a)(o)},function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(0),i=n(1),o=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(r.a);t.a=Object(i.a)(o)},function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(0),i=n(1),o=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(r.a);t.a=Object(i.a)(o)},function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(0),i=n(1),o=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(r.a);t.a=Object(i.a)(o)},function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(0),i=n(1),o=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(r.a);t.a=Object(i.a)(o)},function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(0),i=n(1),o=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(r.a);t.a=Object(i.a)(o)},function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(0),i=n(1),o=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(r.a);t.a=Object(i.a)(o)},function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(0),i=n(1),o=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(r.a);t.a=Object(i.a)(o)},function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(0),i=n(1),o=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(r.a);t.a=Object(i.a)(o)},function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(0),i=n(1),o=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(r.a);t.a=Object(i.a)(o)},function(e,t,n){var r;!function(i){function o(e,t){if(e=e||"",t=t||{},e instanceof o)return e;if(!(this instanceof o))return new o(e,t);var n=a(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=G(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=G(this._r)),this._g<1&&(this._g=G(this._g)),this._b<1&&(this._b=G(this._b)),this._ok=n.ok,this._tc_id=j++}function a(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,u=!1;return"string"==typeof e&&(e=B(e)),"object"==typeof e&&(F(e.r)&&F(e.g)&&F(e.b)?(t=s(e.r,e.g,e.b),a=!0,u="%"===String(e.r).substr(-1)?"prgb":"rgb"):F(e.h)&&F(e.s)&&F(e.v)?(r=k(e.s),i=k(e.v),t=h(e.h,r,i),a=!0,u="hsv"):F(e.h)&&F(e.s)&&F(e.l)&&(r=k(e.s),o=k(e.l),t=c(e.h,r,o),a=!0,u="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=A(n),{ok:a,format:e.format||u,r:V(255,W(t.r,0)),g:V(255,W(t.g,0)),b:V(255,W(t.b,0)),a:n}}function s(e,t,n){return{r:255*P(e,255),g:255*P(t,255),b:255*P(n,255)}}function u(e,t,n){e=P(e,255),t=P(t,255),n=P(n,255);var r,i,o=W(e,t,n),a=V(e,t,n),s=(o+a)/2;if(o==a)r=i=0;else{var u=o-a;switch(i=s>.5?u/(2-o-a):u/(o+a),o){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:i,l:s}}function c(e,t,n){function r(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var i,o,a;if(e=P(e,360),t=P(t,100),n=P(n,100),0===t)i=o=a=n;else{var s=n<.5?n*(1+t):n+t-n*t,u=2*n-s;i=r(u,s,e+1/3),o=r(u,s,e),a=r(u,s,e-1/3)}return{r:255*i,g:255*o,b:255*a}}function l(e,t,n){e=P(e,255),t=P(t,255),n=P(n,255);var r,i,o=W(e,t,n),a=V(e,t,n),s=o,u=o-a;if(i=0===o?0:u/o,o==a)r=0;else{switch(o){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:i,v:s}}function h(e,t,n){e=6*P(e,360),t=P(t,100),n=P(n,100);var r=i.floor(e),o=e-r,a=n*(1-t),s=n*(1-o*t),u=n*(1-(1-o)*t),c=r%6;return{r:255*[n,s,a,a,u,n][c],g:255*[u,n,n,s,a,a][c],b:255*[a,a,u,n,n,s][c]}}function d(e,t,n,r){var i=[N(G(e).toString(16)),N(G(t).toString(16)),N(G(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function f(e,t,n,r,i){var o=[N(G(e).toString(16)),N(G(t).toString(16)),N(G(n).toString(16)),N(D(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function p(e,t,n,r){return[N(D(r)),N(G(e).toString(16)),N(G(t).toString(16)),N(G(n).toString(16))].join("")}function m(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.s-=t/100,n.s=R(n.s),o(n)}function g(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.s+=t/100,n.s=R(n.s),o(n)}function v(e){return o(e).desaturate(100)}function y(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.l+=t/100,n.l=R(n.l),o(n)}function b(e,t){t=0===t?0:t||10;var n=o(e).toRgb();return n.r=W(0,V(255,n.r-G(-t/100*255))),n.g=W(0,V(255,n.g-G(-t/100*255))),n.b=W(0,V(255,n.b-G(-t/100*255))),o(n)}function x(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.l-=t/100,n.l=R(n.l),o(n)}function _(e,t){var n=o(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,o(n)}function w(e){var t=o(e).toHsl();return t.h=(t.h+180)%360,o(t)}function E(e){var t=o(e).toHsl(),n=t.h;return[o(e),o({h:(n+120)%360,s:t.s,l:t.l}),o({h:(n+240)%360,s:t.s,l:t.l})]}function M(e){var t=o(e).toHsl(),n=t.h;return[o(e),o({h:(n+90)%360,s:t.s,l:t.l}),o({h:(n+180)%360,s:t.s,l:t.l}),o({h:(n+270)%360,s:t.s,l:t.l})]}function T(e){var t=o(e).toHsl(),n=t.h;return[o(e),o({h:(n+72)%360,s:t.s,l:t.l}),o({h:(n+216)%360,s:t.s,l:t.l})]}function S(e,t,n){t=t||6,n=n||30;var r=o(e).toHsl(),i=360/n,a=[o(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,a.push(o(r));return a}function C(e,t){t=t||6;for(var n=o(e).toHsv(),r=n.h,i=n.s,a=n.v,s=[],u=1/t;t--;)s.push(o({h:r,s:i,v:a})),a=(a+u)%1;return s}function A(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function P(e,t){I(e)&&(e="100%");var n=O(e);return e=V(t,W(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function R(e){return V(1,W(0,e))}function L(e){return parseInt(e,16)}function I(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function O(e){return"string"==typeof e&&-1!=e.indexOf("%")}function N(e){return 1==e.length?"0"+e:""+e}function k(e){return e<=1&&(e=100*e+"%"),e}function D(e){return i.round(255*parseFloat(e)).toString(16)}function U(e){return L(e)/255}function F(e){return!!K.CSS_UNIT.exec(e)}function B(e){e=e.replace(H,"").replace(q,"").toLowerCase();var t=!1;if(Y[e])e=Y[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=K.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=K.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=K.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=K.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=K.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=K.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=K.hex8.exec(e))?{r:L(n[1]),g:L(n[2]),b:L(n[3]),a:U(n[4]),format:t?"name":"hex8"}:(n=K.hex6.exec(e))?{r:L(n[1]),g:L(n[2]),b:L(n[3]),format:t?"name":"hex"}:(n=K.hex4.exec(e))?{r:L(n[1]+""+n[1]),g:L(n[2]+""+n[2]),b:L(n[3]+""+n[3]),a:U(n[4]+""+n[4]),format:t?"name":"hex8"}:!!(n=K.hex3.exec(e))&&{r:L(n[1]+""+n[1]),g:L(n[2]+""+n[2]),b:L(n[3]+""+n[3]),format:t?"name":"hex"}}function z(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:t,size:n}}var H=/^\s+/,q=/\s+$/,j=0,G=i.round,V=i.min,W=i.max,X=i.random;o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r,o,a,s=this.toRgb();return e=s.r/255,t=s.g/255,n=s.b/255,r=e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4),o=t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4),a=n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4),.2126*r+.7152*o+.0722*a},setAlpha:function(e){return this._a=A(e),this._roundA=G(100*this._a)/100,this},toHsv:function(){var e=l(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=l(this._r,this._g,this._b),t=G(360*e.h),n=G(100*e.s),r=G(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=u(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=u(this._r,this._g,this._b),t=G(360*e.h),n=G(100*e.s),r=G(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return d(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return f(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:G(this._r),g:G(this._g),b:G(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+G(this._r)+", "+G(this._g)+", "+G(this._b)+")":"rgba("+G(this._r)+", "+G(this._g)+", "+G(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:G(100*P(this._r,255))+"%",g:G(100*P(this._g,255))+"%",b:G(100*P(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+G(100*P(this._r,255))+"%, "+G(100*P(this._g,255))+"%, "+G(100*P(this._b,255))+"%)":"rgba("+G(100*P(this._r,255))+"%, "+G(100*P(this._g,255))+"%, "+G(100*P(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(Z[d(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+p(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=o(e);n="#"+p(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return o(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(y,arguments)},brighten:function(){return this._applyModification(b,arguments)},darken:function(){return this._applyModification(x,arguments)},desaturate:function(){return this._applyModification(m,arguments)},saturate:function(){return this._applyModification(g,arguments)},greyscale:function(){return this._applyModification(v,arguments)},spin:function(){return this._applyModification(_,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(S,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(C,arguments)},splitcomplement:function(){return this._applyCombination(T,arguments)},triad:function(){return this._applyCombination(E,arguments)},tetrad:function(){return this._applyCombination(M,arguments)}},o.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:k(e[r]));e=n}return o(e,t)},o.equals=function(e,t){return!(!e||!t)&&o(e).toRgbString()==o(t).toRgbString()},o.random=function(){return o.fromRatio({r:X(),g:X(),b:X()})},o.mix=function(e,t,n){n=0===n?0:n||50;var r=o(e).toRgb(),i=o(t).toRgb(),a=n/100;return o({r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a})},o.readability=function(e,t){var n=o(e),r=o(t);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},o.isReadable=function(e,t,n){var r,i,a=o.readability(e,t);switch(i=!1,r=z(n),r.level+r.size){case"AAsmall":case"AAAlarge":i=a>=4.5;break;case"AAlarge":i=a>=3;break;case"AAAsmall":i=a>=7}return i},o.mostReadable=function(e,t,n){var r,i,a,s,u=null,c=0;n=n||{},i=n.includeFallbackColors,a=n.level,s=n.size;for(var l=0;l<t.length;l++)(r=o.readability(e,t[l]))>c&&(c=r,u=o(t[l]));return o.isReadable(e,u,{level:a,size:s})||!i?u:(n.includeFallbackColors=!1,o.mostReadable(e,["#fff","#000"],n))};var Y=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Z=o.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(Y),K=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();void 0!==e&&e.exports?e.exports=o:void 0!==(r=function(){return o}.call(t,n,t,e))&&(e.exports=r)}(Math)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3),u=function(e){return e&&e.__esModule?e:{default:e}}(s),c=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={cid:{checked:!0},severity:{checked:!1}},n.setColoredBy=e.chooseColoredBy,n.onCIDSelect=n.onCIDSelect.bind(n),n.onSeveritySelect=n.onSeveritySelect.bind(n),n}return o(t,e),a(t,[{key:"onCIDSelect",value:function(){this.setState({cid:{checked:!0},severity:{checked:!1}}),this.setColoredBy("cid")}},{key:"onSeveritySelect",value:function(){this.setState({cid:{checked:!1},severity:{checked:!0}}),this.setColoredBy("severity")}},{key:"render",value:function(){return u.default.createElement("div",{className:"groupby"},"Colored By: ",u.default.createElement(l,{choosed:this.state.cid,onChoosed:this.onCIDSelect}),"",u.default.createElement(h,{choosed:this.state.severity,onChoosed:this.onSeveritySelect}))}}]),t}(u.default.Component);t.default=c,c.defaultProps={};var l=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChoosed=e.onChoosed,n.state=e.choosed,n.selected=n.selected.bind(n),n}return o(t,e),a(t,[{key:"selected",value:function(){this.onChoosed()}},{key:"componentWillReceiveProps",value:function(e){return this.setState(e.choosed),!0}},{key:"render",value:function(){return u.default.createElement("span",null,u.default.createElement("label",{htmlFor:"cid"},"cid"),u.default.createElement("input",{id:"cid",name:"groupby",type:"radio",value:"cid",checked:this.state.checked,onChange:this.selected}))}}]),t}(u.default.Component),h=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChoosed=e.onChoosed,n.state=e.choosed,n.selected=n.selected.bind(n),n}return o(t,e),a(t,[{key:"selected",value:function(){this.onChoosed()}},{key:"componentWillReceiveProps",value:function(e){return this.setState(e.choosed),!0}},{key:"render",value:function(){return u.default.createElement("span",null,u.default.createElement("label",{htmlFor:"severity"},"severity"),u.default.createElement("input",{id:"severity",name:"groupby",type:"radio",value:"Severity",checked:this.state.checked,onChange:this.selected}))}}]),t}(u.default.Component)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),c=r(u),l=n(15);r(l);n(40);var h=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.elm=null,n.state={type:"",data:{}},e.hookme(n),n.updatePanel=n.updatePanel.bind(n),n}return a(t,e),s(t,[{key:"updatePanel",value:function(e,t){this.setState({type:e,data:t})}},{key:"nodeHTML",value:function(){return c.default.createElement("table",{className:"info-table"},c.default.createElement("caption",null,c.default.createElement("strong",null,"Node:"),this.state.data.label),c.default.createElement("tbody",null,c.default.createElement("tr",null,c.default.createElement("th",null,"cid"),c.default.createElement("td",null,this.state.data.cid)),c.default.createElement("tr",null,c.default.createElement("th",null,"severity"),c.default.createElement("td",null,this.state.data.severity)),c.default.createElement("tr",null,c.default.createElement("th",null,"org"),c.default.createElement("td",null,this.state.data.org)),c.default.createElement("tr",null,c.default.createElement("th",null,"com"),c.default.createElement("td",null,this.state.data.com))))}},{key:"edgeHTML",value:function(){return c.default.createElement("table",{className:"info-table"},c.default.createElement("caption",null,c.default.createElement("strong",null,"Edge:")," ",this.state.data.label),c.default.createElement("tbody",null,c.default.createElement("tr",null,c.default.createElement("th",null,"from"),c.default.createElement("td",null,this.state.data.from)),c.default.createElement("tr",null,c.default.createElement("th",null,"to"),c.default.createElement("td",null,this.state.data.to)),c.default.createElement("tr",null,c.default.createElement("th",null,"id"),c.default.createElement("td",null,this.state.data.id)),c.default.createElement("tr",null,c.default.createElement("th",null,"severity"),c.default.createElement("td",null,this.state.data.severity))))}},{key:"render",value:function(){return c.default.createElement("div",{className:"info-panel"},"node"===this.state.type?this.nodeHTML():"edge"===this.state.type?this.edgeHTML():"")}}]),t}(c.default.Component);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),c=r(u),l=n(222),h=r(l),d=n(224),f=r(d);n(229);var p=n(22),m=new f.default({options:{request:{endpoint:"/upload-json"}}}),g=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.dataChoosed=e.dataChoosed,n.state={initDataURL:e.initDataURL,files:[]},n.elm=null,n.clickFile=n.clickFile.bind(n),n.getDataList(),n.loadData(),n}return a(t,e),s(t,[{key:"loadData",value:function(){var e=this;(0,p.getData)(this.state.initDataURL).then(function(t){e.dataChoosed(t)}).catch(function(e){return console.error(e)})}},{key:"clickFile",value:function(e,t){e.preventDefault(),this.state.initDataURL=t,this.loadData(),this.setState({initDataURL:t,files:this.state.files})}},{key:"listFiles",value:function(){for(var e=this.state.files||[],t=e.length,n=[],r=0;r<t;r++)n.push(this.fileRow(e[r]));return n}},{key:"getDataList",value:function(){var e=this;(0,p.getDataList)().then(function(t){var n=e.state.initDataURL;t&&t[0]&&!n&&(n=t[0]),e.setState({initDataURL:n,files:t||[]})}).catch(function(e){return console.error("getDataList fail")})}},{key:"fileRow",value:function(e){var t=this;return c.default.createElement("div",{className:"file "+(this.state.initDataURL===e?"selected":""),key:e,onClick:function(n){return t.clickFile(n,e)}},e)}},{key:"render",value:function(){var e=this;return c.default.createElement("div",{id:this.id,className:"data-uploader",ref:function(t){return e.elm=t}},c.default.createElement("div",{className:"fileuploader"},c.default.createElement(h.default,{accept:"json/*",uploader:m},c.default.createElement("span",{className:"icon ion-upload"},"Upload *.json"))),this.listFiles())}}]),t}(c.default.Component);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),h=r(l),d=n(15),f=r(d),p=n(223),m=r(p),g=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={key:y()},e._onFilesSelected=v.bind(e),e}return s(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=(e.uploader,i(e,["text","uploader"]));return h.default.createElement(m.default,u({},n,{key:this.state.key,onChange:this._onFilesSelected}),this.props.children?this.props.children:h.default.createElement("span",null,n.multiple?t.selectFiles:t.selectFile))}},{key:"_resetInput",value:function(){this.setState({key:y()})}}]),t}(l.Component);g.propTypes={text:f.default.shape({selectFile:f.default.string,selectFiles:f.default.string}),uploader:f.default.object.isRequired},g.defaultProps={text:{selectFile:"Select a File",selectFiles:"Select Files"}};var v=function(e){this.props.uploader.methods.addFiles(e.target),this._resetInput()},y=function(){return Date.now()};t.default=g},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(3),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s={display:"inline-block",position:"relative"},u={bottom:0,cursor:"pointer",height:"100%",left:0,margin:0,opacity:0,padding:0,position:"absolute",right:0,top:0,width:"100%"},c=function(e){var t=e.children,n=e.className,o=e.onChange,c=r(e,["children","className","onChange"]);return a.default.createElement("div",{className:"react-fine-uploader-file-input-container "+(n||""),style:s},t,a.default.createElement("input",i({},c,{className:"react-fine-uploader-file-input",onChange:o,style:u,type:"file"})))};t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(225),u=r(s),c=n(227),l=r(c),h=n(56),d=function(e){function t(e){var n=e.options;return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{callbackNames:h.traditional,options:n,qq:l.default,type:"traditional"}))}return a(t,e),t}(u.default);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(34),s=r(a),u=n(226),c=r(u),l=new WeakMap,h=function(){function e(t){var n=t.callbackNames,r=t.options,o=t.qq,a=t.type;i(this,e);var u=r.callbacks||{},c=(0,s.default)({},r);delete c.callbacks,this.options=c,l.set(this,d(n)),m({callbacks:u,callbackProxies:l.get(this)}),this.methods=f({callbackProxies:l.get(this),options:c,qq:o,type:a}),this.qq=o}return o(e,[{key:"off",value:function(e,t){var n=p(e);l.get(this)[n].remove(t)}},{key:"on",value:function(e,t){var n=p(e);l.get(this)[n].add(t)}}]),e}();t.default=h;var d=function(e){var t={};return e.forEach(function(e){t[e]=new c.default(e)}),t},f=function(e){var t=e.callbackProxies,n=e.options,r=e.qq,i=e.type,o=(0,s.default)({callbacks:{}},n);return Object.keys(t).forEach(function(e){var n=t[e];o.callbacks[e]=n.proxyFunction}),"traditional"===i?new r.FineUploaderBasic(o):new r[i].FineUploaderBasic(o)},p=function(e){return e.match(/^on[A-Z]/)?e:"on"+e[0].toUpperCase()+e.slice(1)},m=function(e){var t=e.callbacks,n=e.callbackProxies;Object.keys(t).forEach(function(e){n[e].add(t[e])})}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(34),s=function(e){return e&&e.__esModule?e:{default:e}}(a),u=n(56),c=new WeakMap,l=new WeakMap,h=function(){function e(t){r(this,e),l.set(this,[]),c.set(this,{name:t,proxyFunction:d.call(this,{name:t})})}return o(e,[{key:"add",value:function(e){l.get(this).push(e)}},{key:"remove",value:function(e){var t=l.get(this).indexOf(e);t>=0&&l.get(this).splice(t,1)}},{key:"name",get:function(){return c.get(this).name}},{key:"proxyFunction",get:function(){return c.get(this).proxyFunction}}]),e}();t.default=h;var d=function(e){var t=e.name,n=this;return function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];var o=u.thenable.indexOf(t)>=0,a=l.get(n),c=void 0;return o?c=f({registeredCallbacks:a,originalCallbackArguments:r}):(0,s.default)([],a).every(function(e){var t=e.apply(null,r);return c=t,!1!==t}),c}},f=function(e){var t=e.registeredCallbacks,n=e.originalCallbackArguments;return t.length?m({registeredCallbacks:(0,s.default)([],t).reverse(),originalCallbackArguments:n}):Promise.resolve()},p=function(e){var t=e.newResult,n=e.previousResult;return null!==t&&"object"===(void 0===t?"undefined":i(t))?(0,s.default)({},n||{},t):t||n},m=function e(t){var n=t.registeredCallbacks,r=t.originalCallbackArguments,i=t.previousResult;return new Promise(function(t,o){var a=n.pop(),s=a.apply(null,r);if(s&&s.then)s.then(function(a){var s=p({newResult:a,previousResult:i});n.length?e({registeredCallbacks:n,originalCallbackArguments:r,previousResult:s}).then(t,o):t(s)}).catch(function(e){return o(e)});else if(!1===s)o();else{var u=p({newResult:s,previousResult:i});n.length?e({registeredCallbacks:n,originalCallbackArguments:r,previousResult:u}).then(t,o):t(u)}})}},function(e,t,n){"use strict";e.exports=n(228)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(global){var qq=function(e){"use strict";return{hide:function(){return e.style.display="none",this},attach:function(t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n),function(){qq(e).detach(t,n)}},detach:function(t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.attachEvent&&e.detachEvent("on"+t,n),this},contains:function(t){return!!t&&(e===t||(e.contains?e.contains(t):!!(8&t.compareDocumentPosition(e))))},insertBefore:function(t){return t.parentNode.insertBefore(e,t),this},remove:function(){return e.parentNode.removeChild(e),this},css:function(t){if(null==e.style)throw new qq.Error("Can't apply style to node as it is not on the HTMLElement prototype chain!");return null!=t.opacity&&"string"!=typeof e.style.opacity&&void 0!==e.filters&&(t.filter="alpha(opacity="+Math.round(100*t.opacity)+")"),qq.extend(e.style,t),this},hasClass:function(t,n){var r=new RegExp("(^| )"+t+"( |$)");return r.test(e.className)||!(!n||!r.test(e.parentNode.className))},addClass:function(t){return qq(e).hasClass(t)||(e.className+=" "+t),this},removeClass:function(t){var n=new RegExp("(^| )"+t+"( |$)");return e.className=e.className.replace(n," ").replace(/^\s+|\s+$/g,""),this},getByClass:function(t,n){var r,i=[];return n&&e.querySelector?e.querySelector("."+t):e.querySelectorAll?e.querySelectorAll("."+t):(r=e.getElementsByTagName("*"),qq.each(r,function(e,n){qq(n).hasClass(t)&&i.push(n)}),n?i[0]:i)},getFirstByClass:function(t){return qq(e).getByClass(t,!0)},children:function(){for(var t=[],n=e.firstChild;n;)1===n.nodeType&&t.push(n),n=n.nextSibling;return t},setText:function(t){return e.innerText=t,e.textContent=t,this},clearText:function(){return qq(e).setText("")},hasAttribute:function(t){var n;return e.hasAttribute?!!e.hasAttribute(t)&&null==/^false$/i.exec(e.getAttribute(t)):void 0!==(n=e[t])&&null==/^false$/i.exec(n)}}};!function(){"use strict";qq.canvasToBlob=function(e,t,n){return qq.dataUriToBlob(e.toDataURL(t,n))},qq.dataUriToBlob=function(e){var t,n,r,i;return n=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):decodeURI(e.split(",")[1]),i=e.split(",")[0].split(":")[1].split(";")[0],t=new ArrayBuffer(n.length),r=new Uint8Array(t),qq.each(n,function(e,t){r[e]=t.charCodeAt(0)}),function(e,t){var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,r=n&&new n;return r?(r.append(e),r.getBlob(t)):new Blob([e],{type:t})}(t,i)},qq.log=function(e,t){window.console&&(t&&"info"!==t?window.console[t]?window.console[t](e):window.console.log("<"+t+"> "+e):window.console.log(e))},qq.isObject=function(e){return e&&!e.nodeType&&"[object Object]"===Object.prototype.toString.call(e)},qq.isFunction=function(e){return"function"==typeof e},qq.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)||e&&window.ArrayBuffer&&e.buffer&&e.buffer.constructor===ArrayBuffer},qq.isItemList=function(e){return"[object DataTransferItemList]"===Object.prototype.toString.call(e)},qq.isNodeList=function(e){return"[object NodeList]"===Object.prototype.toString.call(e)||e.item&&e.namedItem},qq.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},qq.trimStr=function(e){return String.prototype.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},qq.format=function(e){var t=Array.prototype.slice.call(arguments,1),n=e,r=n.indexOf("{}");return qq.each(t,function(e,t){var i=n.substring(0,r),o=n.substring(r+2);if(n=i+t+o,(r=n.indexOf("{}",r+t.length))<0)return!1}),n},qq.isFile=function(e){return window.File&&"[object File]"===Object.prototype.toString.call(e)},qq.isFileList=function(e){return window.FileList&&"[object FileList]"===Object.prototype.toString.call(e)},qq.isFileOrInput=function(e){return qq.isFile(e)||qq.isInput(e)},qq.isInput=function(e,t){var n=function(e){var n=e.toLowerCase();return t?"file"!==n:"file"===n};return!!(window.HTMLInputElement&&"[object HTMLInputElement]"===Object.prototype.toString.call(e)&&e.type&&n(e.type))||!!(e.tagName&&"input"===e.tagName.toLowerCase()&&e.type&&n(e.type))},qq.isBlob=function(e){if(window.Blob&&"[object Blob]"===Object.prototype.toString.call(e))return!0},qq.isXhrUploadSupported=function(){var e=document.createElement("input");return e.type="file",void 0!==e.multiple&&"undefined"!=typeof File&&"undefined"!=typeof FormData&&void 0!==qq.createXhrInstance().upload},qq.createXhrInstance=function(){if(window.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(e){return qq.log("Neither XHR or ActiveX are supported!","error"),null}},qq.isFolderDropSupported=function(e){return e.items&&e.items.length>0&&e.items[0].webkitGetAsEntry},qq.isFileChunkingSupported=function(){return!qq.androidStock()&&qq.isXhrUploadSupported()&&(void 0!==File.prototype.slice||void 0!==File.prototype.webkitSlice||void 0!==File.prototype.mozSlice)},qq.sliceBlob=function(e,t,n){return(e.slice||e.mozSlice||e.webkitSlice).call(e,t,n)},qq.arrayBufferToHex=function(e){var t="",n=new Uint8Array(e);return qq.each(n,function(e,n){var r=n.toString(16);r.length<2&&(r="0"+r),t+=r}),t},qq.readBlobToHex=function(e,t,n){var r=qq.sliceBlob(e,t,t+n),i=new FileReader,o=new qq.Promise;return i.onload=function(){o.success(qq.arrayBufferToHex(i.result))},i.onerror=o.failure,i.readAsArrayBuffer(r),o},qq.extend=function(e,t,n){return qq.each(t,function(t,r){n&&qq.isObject(r)?(void 0===e[t]&&(e[t]={}),qq.extend(e[t],r,!0)):e[t]=r}),e},qq.override=function(e,t){var n={},r=t(n);return qq.each(r,function(t,r){void 0!==e[t]&&(n[t]=e[t]),e[t]=r}),e},qq.indexOf=function(e,t,n){if(e.indexOf)return e.indexOf(t,n);n=n||0;var r=e.length;for(n<0&&(n+=r);n<r;n+=1)if(e.hasOwnProperty(n)&&e[n]===t)return n;return-1},qq.getUniqueId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},qq.ie=function(){return-1!==navigator.userAgent.indexOf("MSIE")||-1!==navigator.userAgent.indexOf("Trident")},qq.ie7=function(){return-1!==navigator.userAgent.indexOf("MSIE 7")},qq.ie8=function(){return-1!==navigator.userAgent.indexOf("MSIE 8")},qq.ie10=function(){return-1!==navigator.userAgent.indexOf("MSIE 10")},qq.ie11=function(){return qq.ie()&&-1!==navigator.userAgent.indexOf("rv:11")},qq.edge=function(){return navigator.userAgent.indexOf("Edge")>=0},qq.safari=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Apple")},qq.chrome=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Google")},qq.opera=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Opera")},qq.firefox=function(){return!qq.edge()&&!qq.ie11()&&-1!==navigator.userAgent.indexOf("Mozilla")&&void 0!==navigator.vendor&&""===navigator.vendor},qq.windows=function(){return"Win32"===navigator.platform},qq.android=function(){return-1!==navigator.userAgent.toLowerCase().indexOf("android")},qq.androidStock=function(){return qq.android()&&navigator.userAgent.toLowerCase().indexOf("chrome")<0},qq.ios6=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 6_")},qq.ios7=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 7_")},qq.ios8=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 8_")},qq.ios800=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 8_0 ")},qq.ios=function(){return-1!==navigator.userAgent.indexOf("iPad")||-1!==navigator.userAgent.indexOf("iPod")||-1!==navigator.userAgent.indexOf("iPhone")},qq.iosChrome=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf("CriOS")},qq.iosSafari=function(){return qq.ios()&&!qq.iosChrome()&&-1!==navigator.userAgent.indexOf("Safari")},qq.iosSafariWebView=function(){return qq.ios()&&!qq.iosChrome()&&!qq.iosSafari()},qq.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},qq.toElement=function(){var e=document.createElement("div");return function(t){e.innerHTML=t;var n=e.firstChild;return e.removeChild(n),n}}(),qq.each=function(e,t){var n;if(e)if(window.Storage&&e.constructor===window.Storage)for(n=0;n<e.length&&!1!==t(e.key(n),e.getItem(e.key(n)));n++);else if(qq.isArray(e)||qq.isItemList(e)||qq.isNodeList(e))for(n=0;n<e.length&&!1!==t(n,e[n]);n++);else if(qq.isString(e))for(n=0;n<e.length&&!1!==t(n,e.charAt(n));n++);else for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&!1===t(n,e[n]))break},qq.bind=function(e,t){if(qq.isFunction(e)){var n=Array.prototype.slice.call(arguments,2);return function(){var r=qq.extend([],n);return arguments.length&&(r=r.concat(Array.prototype.slice.call(arguments))),e.apply(t,r)}}throw new Error("first parameter must be a function!")},qq.obj2url=function(e,t,n){var r=[],i="&",o=function(e,n){var i=t?/\[\]$/.test(t)?t:t+"["+n+"]":n;"undefined"!==i&&"undefined"!==n&&r.push("object"==typeof e?qq.obj2url(e,i,!0):"[object Function]"===Object.prototype.toString.call(e)?encodeURIComponent(i)+"="+encodeURIComponent(e()):encodeURIComponent(i)+"="+encodeURIComponent(e))};return!n&&t?(i=/\?/.test(t)?/\?$/.test(t)?"":"&":"?",r.push(t),r.push(qq.obj2url(e))):"[object Array]"===Object.prototype.toString.call(e)&&void 0!==e?qq.each(e,function(e,t){o(t,e)}):void 0!==e&&null!==e&&"object"==typeof e?qq.each(e,function(e,t){o(t,e)}):r.push(encodeURIComponent(t)+"="+encodeURIComponent(e)),t?r.join(i):r.join(i).replace(/^&/,"").replace(/%20/g,"+")},qq.obj2FormData=function(e,t,n){return t||(t=new FormData),qq.each(e,function(e,r){e=n?n+"["+e+"]":e,qq.isObject(r)?qq.obj2FormData(r,t,e):qq.isFunction(r)?t.append(e,r()):t.append(e,r)}),t},qq.obj2Inputs=function(e,t){var n;return t||(t=document.createElement("form")),qq.obj2FormData(e,{append:function(e,r){n=document.createElement("input"),n.setAttribute("name",e),n.setAttribute("value",r),t.appendChild(n)}}),t},qq.parseJson=function(json){return window.JSON&&qq.isFunction(JSON.parse)?JSON.parse(json):eval("("+json+")")},qq.getExtension=function(e){var t=e.lastIndexOf(".")+1;if(t>0)return e.substr(t,e.length-t)},qq.getFilename=function(e){return qq.isInput(e)?e.value.replace(/.*(\/|\\)/,""):qq.isFile(e)&&null!==e.fileName&&void 0!==e.fileName?e.fileName:e.name},qq.DisposeSupport=function(){var e=[];return{dispose:function(){var t;do{(t=e.shift())&&t()}while(t)},attach:function(){var e=arguments;this.addDisposer(qq(e[0]).attach.apply(this,Array.prototype.slice.call(arguments,1)))},addDisposer:function(t){e.push(t)}}}}(),function(){"use strict";void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=function(){return qq}.call(exports,__webpack_require__,exports,module))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(),function(){"use strict";qq.Error=function(e){this.message="[Fine Uploader "+qq.version+"] "+e},qq.Error.prototype=new Error}(),qq.version="5.15.4",qq.supportedFeatures=function(){"use strict";function e(){if(window.XMLHttpRequest){return void 0!==qq.createXhrInstance().withCredentials}return!1}function t(){return void 0!==window.XDomainRequest}var n,r,i,o,a,s,u,c,l,h,d,f,p,m,g;return n=function(){var e,t=!0;try{e=document.createElement("input"),e.type="file",qq(e).hide(),e.disabled&&(t=!1)}catch(e){t=!1}return t}(),o=n&&qq.isXhrUploadSupported(),r=o&&!qq.androidStock(),i=o&&function(){var e=document.createElement("span");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&!qq.android()&&!qq.ios()}(),a=i&&function(){return(qq.chrome()||qq.opera())&&void 0!==navigator.userAgent.match(/Chrome\/[2][1-9]|Chrome\/[3-9][0-9]/)}(),s=o&&qq.isFileChunkingSupported(),u=o&&s&&function(){try{return!!window.localStorage&&qq.isFunction(window.localStorage.setItem)}catch(e){return!1}}(),c=o&&function(){return(qq.chrome()||qq.opera())&&void 0!==navigator.userAgent.match(/Chrome\/[1][4-9]|Chrome\/[2-9][0-9]/)}(),l=n&&(void 0!==window.postMessage||o),d=e(),h=t(),f=function(){return!!e()||t()}(),p=function(){return void 0!==document.createElement("input").webkitdirectory}(),m=o&&void 0!==window.FileReader,g=function(){return!!o&&(!qq.androidStock()&&!qq.iosChrome())}(),{ajaxUploading:o,blobUploading:r,canDetermineSize:o,chunking:s,deleteFileCors:f,deleteFileCorsXdr:h,deleteFileCorsXhr:d,dialogElement:!!window.HTMLDialogElement,fileDrop:i,folderDrop:a,folderSelection:p,imagePreviews:m,imageValidation:m,itemSizeValidation:o,pause:s,progressBar:g,resume:u,scaling:m&&r,tiffPreviews:qq.safari(),unlimitedScaledImageSize:!qq.ios(),uploading:n,uploadCors:l,uploadCustomHeaders:o,uploadNonMultipart:o,uploadViaPaste:c}}(),qq.isGenericPromise=function(e){"use strict";return!!(e&&e.then&&qq.isFunction(e.then))},qq.Promise=function(){"use strict";var e,t,n=[],r=[],i=[],o=0;qq.extend(this,{then:function(i,a){return 0===o?(i&&n.push(i),a&&r.push(a)):-1===o?a&&a.apply(null,t):i&&i.apply(null,e),this},done:function(n){return 0===o?i.push(n):n.apply(null,void 0===t?e:t),this},success:function(){return o=1,e=arguments,n.length&&qq.each(n,function(t,n){n.apply(null,e)}),i.length&&qq.each(i,function(t,n){n.apply(null,e)}),this},failure:function(){return o=-1,t=arguments,r.length&&qq.each(r,function(e,n){n.apply(null,t)}),i.length&&qq.each(i,function(e,n){n.apply(null,t)}),this}})},qq.BlobProxy=function(e,t){"use strict";qq.extend(this,{referenceBlob:e,create:function(){return t(e)}})},qq.UploadButton=function(e){"use strict";function t(){var e=document.createElement("input");return e.setAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME,r),e.setAttribute("title",a.title),i.setMultiple(a.multiple,e),a.folders&&qq.supportedFeatures.folderSelection&&e.setAttribute("webkitdirectory",""),a.acceptFiles&&e.setAttribute("accept",a.acceptFiles),e.setAttribute("type","file"),e.setAttribute("name",a.name),qq(e).css({position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:qq.ie()&&!qq.ie8()?"3500px":"118px",margin:0,padding:0,cursor:"pointer",opacity:0}),!qq.ie7()&&qq(e).css({height:"100%"}),a.element.appendChild(e),o.attach(e,"change",function(){a.onChange(e)}),o.attach(e,"mouseover",function(){qq(a.element).addClass(a.hoverClass)}),o.attach(e,"mouseout",function(){qq(a.element).removeClass(a.hoverClass)}),o.attach(e,"focus",function(){qq(a.element).addClass(a.focusClass)}),o.attach(e,"blur",function(){qq(a.element).removeClass(a.focusClass)}),e}var n,r,i=this,o=new qq.DisposeSupport,a={acceptFiles:null,element:null,focusClass:"qq-upload-button-focus",folders:!1,hoverClass:"qq-upload-button-hover",ios8BrowserCrashWorkaround:!1,multiple:!1,name:"qqfile",onChange:function(e){},title:null};qq.extend(a,e),r=qq.getUniqueId(),qq(a.element).css({position:"relative",overflow:"hidden",direction:"ltr"}),qq.extend(this,{getInput:function(){return n},getButtonId:function(){return r},setMultiple:function(e,t){var n=t||this.getInput();a.ios8BrowserCrashWorkaround&&qq.ios8()&&(qq.iosChrome()||qq.iosSafariWebView())?n.setAttribute("multiple",""):e?n.setAttribute("multiple",""):n.removeAttribute("multiple")},setAcceptFiles:function(e){e!==a.acceptFiles&&n.setAttribute("accept",e)},reset:function(){n.parentNode&&qq(n).remove(),qq(a.element).removeClass(a.focusClass),n=null,n=t()}}),n=t()},qq.UploadButton.BUTTON_ID_ATTR_NAME="qq-button-id",qq.UploadData=function(e){"use strict";function t(e){if(qq.isArray(e)){var t=[];return qq.each(e,function(e,n){t.push(i[n])}),t}return i[e]}function n(e){if(qq.isArray(e)){var t=[];return qq.each(e,function(e,n){t.push(i[o[n]])}),t}return i[o[e]]}function r(e){var t=[],n=[].concat(e);return qq.each(n,function(e,n){var r=a[n];void 0!==r&&qq.each(r,function(e,n){t.push(i[n])})}),t}var i=[],o={},a={},s={},u={};qq.extend(this,{addFile:function(t){var n=t.status||qq.status.SUBMITTING,r=i.push({name:t.name,originalName:t.name,uuid:t.uuid,size:null==t.size?-1:t.size,status:n})-1;return t.batchId&&(i[r].batchId=t.batchId,void 0===u[t.batchId]&&(u[t.batchId]=[]),u[t.batchId].push(r)),t.proxyGroupId&&(i[r].proxyGroupId=t.proxyGroupId,void 0===s[t.proxyGroupId]&&(s[t.proxyGroupId]=[]),s[t.proxyGroupId].push(r)),i[r].id=r,o[t.uuid]=r,void 0===a[n]&&(a[n]=[]),a[n].push(r),t.onBeforeStatusChange&&t.onBeforeStatusChange(r),e.onStatusChange(r,null,n),r},retrieve:function(e){return qq.isObject(e)&&i.length?void 0!==e.id?t(e.id):void 0!==e.uuid?n(e.uuid):e.status?r(e.status):void 0:qq.extend([],i,!0)},reset:function(){i=[],o={},a={},u={}},setStatus:function(t,n){var r=i[t].status,o=qq.indexOf(a[r],t);a[r].splice(o,1),i[t].status=n,void 0===a[n]&&(a[n]=[]),a[n].push(t),e.onStatusChange(t,r,n)},uuidChanged:function(e,t){var n=i[e].uuid;i[e].uuid=t,o[t]=e,delete o[n]},updateName:function(e,t){i[e].name=t},updateSize:function(e,t){i[e].size=t},setParentId:function(e,t){i[e].parentId=t},getIdsInProxyGroup:function(e){var t=i[e].proxyGroupId;return t?s[t]:[]},getIdsInBatch:function(e){var t=i[e].batchId;return u[t]}})},qq.status={SUBMITTING:"submitting",SUBMITTED:"submitted",REJECTED:"rejected",QUEUED:"queued",CANCELED:"canceled",PAUSED:"paused",UPLOADING:"uploading",UPLOAD_RETRYING:"retrying upload",UPLOAD_SUCCESSFUL:"upload successful",UPLOAD_FAILED:"upload failed",DELETE_FAILED:"delete failed",DELETING:"deleting",DELETED:"deleted"},function(){"use strict";qq.basePublicApi={addBlobs:function(e,t,n){this.addFiles(e,t,n)},addInitialFiles:function(e){var t=this;qq.each(e,function(e,n){t._addCannedFile(n)})},addFiles:function(e,t,n){this._maybeHandleIos8SafariWorkaround();var r=0===this._storedIds.length?qq.getUniqueId():this._currentBatchId,i=qq.bind(function(e){this._handleNewFile({blob:e,name:this._options.blobs.defaultName},r,l)},this),o=qq.bind(function(e){this._handleNewFile(e,r,l)},this),a=qq.bind(function(e){var t=qq.canvasToBlob(e);this._handleNewFile({blob:t,name:this._options.blobs.defaultName+".png"},r,l)},this),s=qq.bind(function(e){var t=e.quality&&e.quality/100,n=qq.canvasToBlob(e.canvas,e.type,t);this._handleNewFile({blob:n,name:e.name},r,l)},this),u=qq.bind(function(e){if(qq.isInput(e)&&qq.supportedFeatures.ajaxUploading){var t=Array.prototype.slice.call(e.files),n=this;qq.each(t,function(e,t){n._handleNewFile(t,r,l)})}else this._handleNewFile(e,r,l)},this),c=this,l=[];this._currentBatchId=r,e&&(!function(){qq.isFileList(e)&&(e=Array.prototype.slice.call(e)),e=[].concat(e)}(),qq.each(e,function(e,t){qq.isFileOrInput(t)?u(t):qq.isBlob(t)?i(t):qq.isObject(t)?t.blob&&t.name?o(t):t.canvas&&t.name&&s(t):t.tagName&&"canvas"===t.tagName.toLowerCase()?a(t):c.log(t+" is not a valid file container!  Ignoring!","warn")}),this.log("Received "+l.length+" files."),this._prepareItemsForUpload(l,t,n))},cancel:function(e){this._handler.cancel(e)},cancelAll:function(){var e=[],t=this;qq.extend(e,this._storedIds),qq.each(e,function(e,n){t.cancel(n)}),this._handler.cancelAll()},clearStoredFiles:function(){this._storedIds=[]},continueUpload:function(e){var t=this._uploadData.retrieve({id:e});return!(!qq.supportedFeatures.pause||!this._options.chunking.enabled)&&(t.status===qq.status.PAUSED?(this.log(qq.format("Paused file ID {} ({}) will be continued.  Not paused.",e,this.getName(e))),this._uploadFile(e),!0):(this.log(qq.format("Ignoring continue for file ID {} ({}).  Not paused.",e,this.getName(e)),"error"),!1))},deleteFile:function(e){return this._onSubmitDelete(e)},doesExist:function(e){return this._handler.isValid(e)},drawThumbnail:function(e,t,n,r,i){var o,a,s=new qq.Promise;return this._imageGenerator?(o=this._thumbnailUrls[e],a={customResizeFunction:i,maxSize:n>0?n:null,scale:n>0},!r&&qq.supportedFeatures.imagePreviews&&(o=this.getFile(e)),null==o?s.failure({container:t,error:"File or URL not found."}):this._imageGenerator.generate(o,t,a).then(function(e){s.success(e)},function(e,t){s.failure({container:e,error:t||"Problem generating thumbnail"})})):s.failure({container:t,error:"Missing image generator module"}),s},getButton:function(e){return this._getButton(this._buttonIdsForFileIds[e])},getEndpoint:function(e){return this._endpointStore.get(e)},getFile:function(e){return this._handler.getFile(e)||null},getInProgress:function(){return this._uploadData.retrieve({status:[qq.status.UPLOADING,qq.status.UPLOAD_RETRYING,qq.status.QUEUED]}).length},getName:function(e){return this._uploadData.retrieve({id:e}).name},getParentId:function(e){var t=this.getUploads({id:e}),n=null;return t&&void 0!==t.parentId&&(n=t.parentId),n},getResumableFilesData:function(){return this._handler.getResumableFilesData()},getSize:function(e){return this._uploadData.retrieve({id:e}).size},getNetUploads:function(){return this._netUploaded},getRemainingAllowedItems:function(){var e=this._currentItemLimit;return e>0?e-this._netUploadedOrQueued:null},getUploads:function(e){return this._uploadData.retrieve(e)},getUuid:function(e){return this._uploadData.retrieve({id:e}).uuid},log:function(e,t){!this._options.debug||t&&"info"!==t?t&&"info"!==t&&qq.log("[Fine Uploader "+qq.version+"] "+e,t):qq.log("[Fine Uploader "+qq.version+"] "+e)},pauseUpload:function(e){var t=this._uploadData.retrieve({id:e});if(!qq.supportedFeatures.pause||!this._options.chunking.enabled)return!1;if(qq.indexOf([qq.status.UPLOADING,qq.status.UPLOAD_RETRYING],t.status)>=0){if(this._handler.pause(e))return this._uploadData.setStatus(e,qq.status.PAUSED),!0;this.log(qq.format("Unable to pause file ID {} ({}).",e,this.getName(e)),"error")}else this.log(qq.format("Ignoring pause for file ID {} ({}).  Not in progress.",e,this.getName(e)),"error");return!1},removeFileRef:function(e){this._handler.expunge(e)},reset:function(){this.log("Resetting uploader..."),this._handler.reset(),this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._thumbnailUrls=[],qq.each(this._buttons,function(e,t){t.reset()}),this._paramsStore.reset(),this._endpointStore.reset(),this._netUploadedOrQueued=0,this._netUploaded=0,this._uploadData.reset(),this._buttonIdsForFileIds=[],this._pasteHandler&&this._pasteHandler.reset(),this._options.session.refreshOnReset&&this._refreshSessionData(),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[],this._totalProgress&&this._totalProgress.reset()},retry:function(e){return this._manualRetry(e)},scaleImage:function(e,t){var n=this;return qq.Scaler.prototype.scaleImage(e,t,{log:qq.bind(n.log,n),getFile:qq.bind(n.getFile,n),uploadData:n._uploadData})},setCustomHeaders:function(e,t){this._customHeadersStore.set(e,t)},setDeleteFileCustomHeaders:function(e,t){this._deleteFileCustomHeadersStore.set(e,t)},setDeleteFileEndpoint:function(e,t){this._deleteFileEndpointStore.set(e,t)},setDeleteFileParams:function(e,t){this._deleteFileParamsStore.set(e,t)},setEndpoint:function(e,t){this._endpointStore.set(e,t)},setForm:function(e){this._updateFormSupportAndParams(e)},setItemLimit:function(e){this._currentItemLimit=e},setName:function(e,t){this._uploadData.updateName(e,t)},setParams:function(e,t){this._paramsStore.set(e,t)},setUuid:function(e,t){return this._uploadData.uuidChanged(e,t)},setStatus:function(e,t){if(!this.getUploads({id:e}))throw new qq.Error(e+" is not a valid file ID.");switch(t){case qq.status.DELETED:this._onDeleteComplete(e,null,!1);break;case qq.status.DELETE_FAILED:this._onDeleteComplete(e,null,!0);break;default:var n="Method setStatus called on '"+name+"' not implemented yet for "+t;throw this.log(n),new qq.Error(n)}},uploadStoredFiles:function(){0===this._storedIds.length?this._itemError("noFilesError"):this._uploadStoredFiles()}},qq.basePrivateApi={_addCannedFile:function(e){var t=this;return this._uploadData.addFile({uuid:e.uuid,name:e.name,size:e.size,status:qq.status.UPLOAD_SUCCESSFUL,onBeforeStatusChange:function(n){e.deleteFileEndpoint&&t.setDeleteFileEndpoint(e.deleteFileEndpoint,n),e.deleteFileParams&&t.setDeleteFileParams(e.deleteFileParams,n),e.thumbnailUrl&&(t._thumbnailUrls[n]=e.thumbnailUrl),t._netUploaded++,t._netUploadedOrQueued++}})},_annotateWithButtonId:function(e,t){qq.isFile(e)&&(e.qqButtonId=this._getButtonId(t))},_batchError:function(e){this._options.callbacks.onError(null,null,e,void 0)},_createDeleteHandler:function(){var e=this;return new qq.DeleteFileAjaxRequester({method:this._options.deleteFile.method.toUpperCase(),maxConnections:this._options.maxConnections,uuidParamName:this._options.request.uuidName,customHeaders:this._deleteFileCustomHeadersStore,paramsStore:this._deleteFileParamsStore,endpointStore:this._deleteFileEndpointStore,cors:this._options.cors,log:qq.bind(e.log,e),onDelete:function(t){e._onDelete(t),e._options.callbacks.onDelete(t)},onDeleteComplete:function(t,n,r){e._onDeleteComplete(t,n,r),e._options.callbacks.onDeleteComplete(t,n,r)}})},_createPasteHandler:function(){var e=this;return new qq.PasteSupport({targetElement:this._options.paste.targetElement,callbacks:{log:qq.bind(e.log,e),pasteReceived:function(t){e._handleCheckedCallback({name:"onPasteReceived",callback:qq.bind(e._options.callbacks.onPasteReceived,e,t),onSuccess:qq.bind(e._handlePasteSuccess,e,t),identifier:"pasted image"})}}})},_createStore:function(e,t){var n={},r=e,i={},o=t,a=function(e){return qq.isObject(e)?qq.extend({},e):e},s=function(){return qq.isFunction(o)?o():o},u=function(e,t){o&&qq.isObject(t)&&qq.extend(t,s()),i[e]&&qq.extend(t,i[e])};return{set:function(e,t){null==t?(n={},r=a(e)):n[t]=a(e)},get:function(e){var t;return t=null!=e&&n[e]?n[e]:a(r),u(e,t),a(t)},addReadOnly:function(e,t){qq.isObject(n)&&(null===e?qq.isFunction(t)?o=t:(o=o||{},qq.extend(o,t)):(i[e]=i[e]||{},qq.extend(i[e],t)))},remove:function(e){return delete n[e]},reset:function(){n={},i={},r=e}}},_createUploadDataTracker:function(){var e=this;return new qq.UploadData({getName:function(t){return e.getName(t)},getUuid:function(t){return e.getUuid(t)},getSize:function(t){return e.getSize(t)},onStatusChange:function(t,n,r){e._onUploadStatusChange(t,n,r),e._options.callbacks.onStatusChange(t,n,r),e._maybeAllComplete(t,r),e._totalProgress&&setTimeout(function(){e._totalProgress.onStatusChange(t,n,r)},0)}})},_createUploadButton:function(e){var t,n=this,r=e.accept||this._options.validation.acceptFiles,i=e.allowedExtensions||this._options.validation.allowedExtensions;return t=new qq.UploadButton({acceptFiles:r,element:e.element,focusClass:this._options.classes.buttonFocus,folders:e.folders,hoverClass:this._options.classes.buttonHover,ios8BrowserCrashWorkaround:this._options.workarounds.ios8BrowserCrash,multiple:function(){return!!qq.supportedFeatures.ajaxUploading&&(!(n._options.workarounds.iosEmptyVideos&&qq.ios()&&!qq.ios6()&&n._isAllowedExtension(i,".mov"))&&(void 0===e.multiple?n._options.multiple:e.multiple))}(),name:this._options.request.inputName,onChange:function(e){n._onInputChange(e)},title:null==e.title?this._options.text.fileInputTitle:e.title}),this._disposeSupport.addDisposer(function(){t.dispose()}),n._buttons.push(t),t},_createUploadHandler:function(e,t){var n=this,r={},i={debug:this._options.debug,maxConnections:this._options.maxConnections,cors:this._options.cors,paramsStore:this._paramsStore,endpointStore:this._endpointStore,chunking:this._options.chunking,resume:this._options.resume,blobs:this._options.blobs,log:qq.bind(n.log,n),preventRetryParam:this._options.retry.preventRetryResponseProperty,onProgress:function(e,t,i,o){i<0||o<0||(r[e]?r[e].loaded===i&&r[e].total===o||(n._onProgress(e,t,i,o),n._options.callbacks.onProgress(e,t,i,o)):(n._onProgress(e,t,i,o),n._options.callbacks.onProgress(e,t,i,o)),r[e]={loaded:i,total:o})},onComplete:function(e,t,i,o){delete r[e];var a,s=n.getUploads({id:e}).status;s!==qq.status.UPLOAD_SUCCESSFUL&&s!==qq.status.UPLOAD_FAILED&&(a=n._onComplete(e,t,i,o),a instanceof qq.Promise?a.done(function(){n._options.callbacks.onComplete(e,t,i,o)}):n._options.callbacks.onComplete(e,t,i,o))},onCancel:function(e,t,r){var i=new qq.Promise;return n._handleCheckedCallback({name:"onCancel",callback:qq.bind(n._options.callbacks.onCancel,n,e,t),onFailure:i.failure,onSuccess:function(){r.then(function(){n._onCancel(e,t)}),i.success()},identifier:e}),i},onUploadPrep:qq.bind(this._onUploadPrep,this),onUpload:function(e,t){n._onUpload(e,t),n._options.callbacks.onUpload(e,t)},onUploadChunk:function(e,t,r){n._onUploadChunk(e,r),n._options.callbacks.onUploadChunk(e,t,r)},onUploadChunkSuccess:function(e,t,r,i){n._options.callbacks.onUploadChunkSuccess.apply(n,arguments)},onResume:function(e,t,r){return n._options.callbacks.onResume(e,t,r)},onAutoRetry:function(e,t,r,i){return n._onAutoRetry.apply(n,arguments)},onUuidChanged:function(e,t){n.log("Server requested UUID change from '"+n.getUuid(e)+"' to '"+t+"'"),n.setUuid(e,t)},getName:qq.bind(n.getName,n),getUuid:qq.bind(n.getUuid,n),getSize:qq.bind(n.getSize,n),setSize:qq.bind(n._setSize,n),getDataByUuid:function(e){return n.getUploads({uuid:e})},isQueued:function(e){var t=n.getUploads({id:e}).status;return t===qq.status.QUEUED||t===qq.status.SUBMITTED||t===qq.status.UPLOAD_RETRYING||t===qq.status.PAUSED},getIdsInProxyGroup:n._uploadData.getIdsInProxyGroup,getIdsInBatch:n._uploadData.getIdsInBatch};return qq.each(this._options.request,function(e,t){i[e]=t}),i.customHeaders=this._customHeadersStore,e&&qq.each(e,function(e,t){i[e]=t}),new qq.UploadHandlerController(i,t)},_fileOrBlobRejected:function(e){this._netUploadedOrQueued--,this._uploadData.setStatus(e,qq.status.REJECTED)},_formatSize:function(e){if(0===e)return e+this._options.text.sizeSymbols[0];var t=-1;do{e/=1e3,t++}while(e>999);return Math.max(e,.1).toFixed(1)+this._options.text.sizeSymbols[t]},_generateExtraButtonSpecs:function(){var e=this;this._extraButtonSpecs={},qq.each(this._options.extraButtons,function(t,n){var r=n.multiple,i=qq.extend({},e._options.validation,!0),o=qq.extend({},n);void 0===r&&(r=e._options.multiple),o.validation&&qq.extend(i,n.validation,!0),qq.extend(o,{multiple:r,validation:i},!0),e._initExtraButton(o)})},_getButton:function(e){var t=this._extraButtonSpecs[e];return t?t.element:e===this._defaultButtonId?this._options.button:void 0},_getButtonId:function(e){var t,n,r=e;if(r instanceof qq.BlobProxy&&(r=r.referenceBlob),r&&!qq.isBlob(r)){if(qq.isFile(r))return r.qqButtonId;if("input"===r.tagName.toLowerCase()&&"file"===r.type.toLowerCase())return r.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME);if(t=r.getElementsByTagName("input"),qq.each(t,function(e,t){if("file"===t.getAttribute("type"))return n=t,!1}),n)return n.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME)}},_getNotFinished:function(){return this._uploadData.retrieve({status:[qq.status.UPLOADING,qq.status.UPLOAD_RETRYING,qq.status.QUEUED,qq.status.SUBMITTING,qq.status.SUBMITTED,qq.status.PAUSED]}).length},_getValidationBase:function(e){var t=this._extraButtonSpecs[e];return t?t.validation:this._options.validation},_getValidationDescriptor:function(e){return e.file instanceof qq.BlobProxy?{name:qq.getFilename(e.file.referenceBlob),size:e.file.referenceBlob.size}:{name:this.getUploads({id:e.id}).name,size:this.getUploads({id:e.id}).size}},_getValidationDescriptors:function(e){var t=this,n=[];return qq.each(e,function(e,r){n.push(t._getValidationDescriptor(r))}),n},_handleCameraAccess:function(){if(this._options.camera.ios&&qq.ios()){var e=this._options.camera.button,t=e?this._getButtonId(e):this._defaultButtonId,n=this._options;t&&t!==this._defaultButtonId&&(n=this._extraButtonSpecs[t]),n.multiple=!1,null===n.validation.acceptFiles?n.validation.acceptFiles="image/*;capture=camera":n.validation.acceptFiles+=",image/*;capture=camera",qq.each(this._buttons,function(e,r){if(r.getButtonId()===t)return r.setMultiple(n.multiple),r.setAcceptFiles(n.acceptFiles),!1})}},_handleCheckedCallback:function(e){var t=this,n=e.callback();return qq.isGenericPromise(n)?(this.log(e.name+" - waiting for "+e.name+" promise to be fulfilled for "+e.identifier),n.then(function(n){t.log(e.name+" promise success for "+e.identifier),e.onSuccess(n)},function(){e.onFailure?(t.log(e.name+" promise failure for "+e.identifier),e.onFailure()):t.log(e.name+" promise failure for "+e.identifier)})):(!1!==n?e.onSuccess(n):e.onFailure?(this.log(e.name+" - return value was 'false' for "+e.identifier+".  Invoking failure callback."),e.onFailure()):this.log(e.name+" - return value was 'false' for "+e.identifier+".  Will not proceed."),n)},_handleNewFile:function(e,t,n){var r=this,i=qq.getUniqueId(),o=-1,a=qq.getFilename(e),s=e.blob||e,u=this._customNewFileHandler?this._customNewFileHandler:qq.bind(r._handleNewFileGeneric,r);!qq.isInput(s)&&s.size>=0&&(o=s.size),u(s,a,i,o,n,t,this._options.request.uuidName,{uploadData:r._uploadData,paramsStore:r._paramsStore,addFileToHandler:function(e,t){r._handler.add(e,t),r._netUploadedOrQueued++,r._trackButton(e)}})},_handleNewFileGeneric:function(e,t,n,r,i,o){var a=this._uploadData.addFile({uuid:n,name:t,size:r,batchId:o});this._handler.add(a,e),this._trackButton(a),this._netUploadedOrQueued++,i.push({id:a,file:e})},_handlePasteSuccess:function(e,t){var n=e.type.split("/")[1],r=t;null==r&&(r=this._options.paste.defaultName),r+="."+n,this.addFiles({name:r,blob:e})},_handleDeleteSuccess:function(e){if(this.getUploads({id:e}).status!==qq.status.DELETED){var t=this.getName(e);this._netUploadedOrQueued--,this._netUploaded--,this._handler.expunge(e),this._uploadData.setStatus(e,qq.status.DELETED),this.log("Delete request for '"+t+"' has succeeded.")}},_handleDeleteFailed:function(e,t){var n=this.getName(e);this._uploadData.setStatus(e,qq.status.DELETE_FAILED),this.log("Delete request for '"+n+"' has failed.","error"),t&&void 0!==t.withCredentials?this._options.callbacks.onError(e,n,"Delete request failed with response code "+t.status,t):this._options.callbacks.onError(e,n,"Delete request failed",t)},_initExtraButton:function(e){var t=this._createUploadButton({accept:e.validation.acceptFiles,allowedExtensions:e.validation.allowedExtensions,element:e.element,folders:e.folders,multiple:e.multiple,title:e.fileInputTitle});this._extraButtonSpecs[t.getButtonId()]=e},_initFormSupportAndParams:function(){this._formSupport=qq.FormSupport&&new qq.FormSupport(this._options.form,qq.bind(this.uploadStoredFiles,this),qq.bind(this.log,this)),this._formSupport&&this._formSupport.attachedToForm?(this._paramsStore=this._createStore(this._options.request.params,this._formSupport.getFormInputsAsObject),this._options.autoUpload=this._formSupport.newAutoUpload,this._formSupport.newEndpoint&&(this._options.request.endpoint=this._formSupport.newEndpoint)):this._paramsStore=this._createStore(this._options.request.params)},_isDeletePossible:function(){return!(!qq.DeleteFileAjaxRequester||!this._options.deleteFile.enabled)&&(!this._options.cors.expected||(!!qq.supportedFeatures.deleteFileCorsXhr||!(!qq.supportedFeatures.deleteFileCorsXdr||!this._options.cors.allowXdr)))},_isAllowedExtension:function(e,t){var n=!1;return!e.length||(qq.each(e,function(e,r){if(qq.isString(r)){var i=new RegExp("\\."+r+"$","i");if(null!=t.match(i))return n=!0,!1}}),n)},_itemError:function(e,t,n){function r(e,t){a=a.replace(e,t)}var i,o,a=this._options.messages[e],s=[],u=[].concat(t),c=u[0],l=this._getButtonId(n),h=this._getValidationBase(l);return qq.each(h.allowedExtensions,function(e,t){qq.isString(t)&&s.push(t)}),i=s.join(", ").toLowerCase(),r("{file}",this._options.formatFileName(c)),r("{extensions}",i),r("{sizeLimit}",this._formatSize(h.sizeLimit)),r("{minSizeLimit}",this._formatSize(h.minSizeLimit)),o=a.match(/(\{\w+\})/g),null!==o&&qq.each(o,function(e,t){r(t,u[e])}),this._options.callbacks.onError(null,c,a,void 0),a},_manualRetry:function(e,t){if(this._onBeforeManualRetry(e))return this._netUploadedOrQueued++,this._uploadData.setStatus(e,qq.status.UPLOAD_RETRYING),t?t(e):this._handler.retry(e),!0},_maybeAllComplete:function(e,t){var n=this,r=this._getNotFinished();t===qq.status.UPLOAD_SUCCESSFUL?this._succeededSinceLastAllComplete.push(e):t===qq.status.UPLOAD_FAILED&&this._failedSinceLastAllComplete.push(e),0===r&&(this._succeededSinceLastAllComplete.length||this._failedSinceLastAllComplete.length)&&setTimeout(function(){n._onAllComplete(n._succeededSinceLastAllComplete,n._failedSinceLastAllComplete)},0)},_maybeHandleIos8SafariWorkaround:function(){var e=this;if(this._options.workarounds.ios8SafariUploads&&qq.ios800()&&qq.iosSafari())throw setTimeout(function(){window.alert(e._options.messages.unsupportedBrowserIos8Safari)},0),new qq.Error(this._options.messages.unsupportedBrowserIos8Safari)},_maybeParseAndSendUploadError:function(e,t,n,r){if(!n.success)if(r&&200!==r.status&&!n.error)this._options.callbacks.onError(e,t,"XHR returned response code "+r.status,r);else{var i=n.error?n.error:this._options.text.defaultResponseError;this._options.callbacks.onError(e,t,i,r)}},_maybeProcessNextItemAfterOnValidateCallback:function(e,t,n,r,i){var o=this;if(t.length>n)if(e||!this._options.validation.stopOnFirstInvalidFile)setTimeout(function(){var e=o._getValidationDescriptor(t[n]),a=o._getButtonId(t[n].file),s=o._getButton(a);o._handleCheckedCallback({name:"onValidate",callback:qq.bind(o._options.callbacks.onValidate,o,e,s),onSuccess:qq.bind(o._onValidateCallbackSuccess,o,t,n,r,i),onFailure:qq.bind(o._onValidateCallbackFailure,o,t,n,r,i),identifier:"Item '"+e.name+"', size: "+e.size})},0);else if(!e)for(;n<t.length;n++)o._fileOrBlobRejected(t[n].id)},_onAllComplete:function(e,t){this._totalProgress&&this._totalProgress.onAllComplete(e,t,this._preventRetries),this._options.callbacks.onAllComplete(qq.extend([],e),qq.extend([],t)),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[]},_onAutoRetry:function(e,t,n,r,i){var o=this;if(o._preventRetries[e]=n[o._options.retry.preventRetryResponseProperty],o._shouldAutoRetry(e,t,n)){var a=1e3*o._options.retry.autoAttemptDelay;return o._maybeParseAndSendUploadError.apply(o,arguments),o._options.callbacks.onAutoRetry(e,t,o._autoRetries[e]),o._onBeforeAutoRetry(e,t),o._uploadData.setStatus(e,qq.status.UPLOAD_RETRYING),o._retryTimeouts[e]=setTimeout(function(){o.log("Starting retry for "+t+"..."),i?i(e):o._handler.retry(e)},a),!0}},_onBeforeAutoRetry:function(e,t){this.log("Waiting "+this._options.retry.autoAttemptDelay+" seconds before retrying "+t+"...")},_onBeforeManualRetry:function(e){var t,n=this._currentItemLimit;return this._preventRetries[e]?(this.log("Retries are forbidden for id "+e,"warn"),!1):this._handler.isValid(e)?(t=this.getName(e),!1!==this._options.callbacks.onManualRetry(e,t)&&(n>0&&this._netUploadedOrQueued+1>n?(this._itemError("retryFailTooManyItems"),!1):(this.log("Retrying upload for '"+t+"' (id: "+e+")..."),!0))):(this.log("'"+e+"' is not a valid file ID","error"),!1)},_onCancel:function(e,t){this._netUploadedOrQueued--,clearTimeout(this._retryTimeouts[e]);var n=qq.indexOf(this._storedIds,e);!this._options.autoUpload&&n>=0&&this._storedIds.splice(n,1),this._uploadData.setStatus(e,qq.status.CANCELED)},_onComplete:function(e,t,n,r){return n.success?(n.thumbnailUrl&&(this._thumbnailUrls[e]=n.thumbnailUrl),this._netUploaded++,this._uploadData.setStatus(e,qq.status.UPLOAD_SUCCESSFUL)):(this._netUploadedOrQueued--,this._uploadData.setStatus(e,qq.status.UPLOAD_FAILED),!0===n[this._options.retry.preventRetryResponseProperty]&&(this._preventRetries[e]=!0)),this._maybeParseAndSendUploadError(e,t,n,r),!!n.success},_onDelete:function(e){this._uploadData.setStatus(e,qq.status.DELETING)},_onDeleteComplete:function(e,t,n){this.getName(e);n?this._handleDeleteFailed(e,t):this._handleDeleteSuccess(e)},_onInputChange:function(e){var t;if(qq.supportedFeatures.ajaxUploading){for(t=0;t<e.files.length;t++)this._annotateWithButtonId(e.files[t],e);this.addFiles(e.files)}else e.value.length>0&&this.addFiles(e);qq.each(this._buttons,function(e,t){t.reset()})},_onProgress:function(e,t,n,r){this._totalProgress&&this._totalProgress.onIndividualProgress(e,n,r)},_onSubmit:function(e,t){},_onSubmitCallbackSuccess:function(e,t){this._onSubmit.apply(this,arguments),this._uploadData.setStatus(e,qq.status.SUBMITTED),this._onSubmitted.apply(this,arguments),this._options.autoUpload?(this._options.callbacks.onSubmitted.apply(this,arguments),this._uploadFile(e)):(this._storeForLater(e),this._options.callbacks.onSubmitted.apply(this,arguments))},_onSubmitDelete:function(e,t,n){var r,i=this.getUuid(e);return t&&(r=qq.bind(t,this,e,i,n)),this._isDeletePossible()?(this._handleCheckedCallback({name:"onSubmitDelete",callback:qq.bind(this._options.callbacks.onSubmitDelete,this,e),onSuccess:r||qq.bind(this._deleteHandler.sendDelete,this,e,i,n),identifier:e}),!0):(this.log("Delete request ignored for ID "+e+", delete feature is disabled or request not possible due to CORS on a user agent that does not support pre-flighting.","warn"),!1)},_onSubmitted:function(e){},_onTotalProgress:function(e,t){this._options.callbacks.onTotalProgress(e,t)},_onUploadPrep:function(e){},_onUpload:function(e,t){this._uploadData.setStatus(e,qq.status.UPLOADING)},_onUploadChunk:function(e,t){},_onUploadStatusChange:function(e,t,n){n===qq.status.PAUSED&&clearTimeout(this._retryTimeouts[e])},_onValidateBatchCallbackFailure:function(e){var t=this;qq.each(e,function(e,n){t._fileOrBlobRejected(n.id)})},_onValidateBatchCallbackSuccess:function(e,t,n,r,i){var o,a=this._currentItemLimit,s=this._netUploadedOrQueued;0===a||s<=a?t.length>0?this._handleCheckedCallback({name:"onValidate",callback:qq.bind(this._options.callbacks.onValidate,this,e[0],i),onSuccess:qq.bind(this._onValidateCallbackSuccess,this,t,0,n,r),onFailure:qq.bind(this._onValidateCallbackFailure,this,t,0,n,r),identifier:"Item '"+t[0].file.name+"', size: "+t[0].file.size}):this._itemError("noFilesError"):(this._onValidateBatchCallbackFailure(t),o=this._options.messages.tooManyItemsError.replace(/\{netItems\}/g,s).replace(/\{itemLimit\}/g,a),this._batchError(o))},_onValidateCallbackFailure:function(e,t,n,r){var i=t+1;this._fileOrBlobRejected(e[t].id,e[t].file.name),this._maybeProcessNextItemAfterOnValidateCallback(!1,e,i,n,r)},_onValidateCallbackSuccess:function(e,t,n,r){var i=this,o=t+1,a=this._getValidationDescriptor(e[t]);this._validateFileOrBlobData(e[t],a).then(function(){i._upload(e[t].id,n,r),i._maybeProcessNextItemAfterOnValidateCallback(!0,e,o,n,r)},function(){i._maybeProcessNextItemAfterOnValidateCallback(!1,e,o,n,r)})},_prepareItemsForUpload:function(e,t,n){if(0===e.length)return void this._itemError("noFilesError");var r=this._getValidationDescriptors(e),i=this._getButtonId(e[0].file),o=this._getButton(i);this._handleCheckedCallback({name:"onValidateBatch",callback:qq.bind(this._options.callbacks.onValidateBatch,this,r,o),onSuccess:qq.bind(this._onValidateBatchCallbackSuccess,this,r,e,t,n,o),onFailure:qq.bind(this._onValidateBatchCallbackFailure,this,e),identifier:"batch validation"})},_preventLeaveInProgress:function(){var e=this;this._disposeSupport.attach(window,"beforeunload",function(t){if(e.getInProgress())return t=t||window.event,t.returnValue=e._options.messages.onLeave,e._options.messages.onLeave})},_refreshSessionData:function(){var e=this,t=this._options.session;qq.Session&&null!=this._options.session.endpoint&&(this._session||(qq.extend(t,{cors:this._options.cors}),t.log=qq.bind(this.log,this),t.addFileRecord=qq.bind(this._addCannedFile,this),this._session=new qq.Session(t)),setTimeout(function(){e._session.refresh().then(function(t,n){e._sessionRequestComplete(),e._options.callbacks.onSessionRequestComplete(t,!0,n)},function(t,n){e._options.callbacks.onSessionRequestComplete(t,!1,n)})},0))},_sessionRequestComplete:function(){},_setSize:function(e,t){this._uploadData.updateSize(e,t),this._totalProgress&&this._totalProgress.onNewSize(e)},_shouldAutoRetry:function(e,t,n){var r=this._uploadData.retrieve({id:e});return!!(!this._preventRetries[e]&&this._options.retry.enableAuto&&r.status!==qq.status.PAUSED&&(void 0===this._autoRetries[e]&&(this._autoRetries[e]=0),this._autoRetries[e]<this._options.retry.maxAutoAttempts))&&(this._autoRetries[e]+=1,!0)},_storeForLater:function(e){this._storedIds.push(e)},_trackButton:function(e){var t;(t=qq.supportedFeatures.ajaxUploading?this._handler.getFile(e).qqButtonId:this._getButtonId(this._handler.getInput(e)))&&(this._buttonIdsForFileIds[e]=t)},_updateFormSupportAndParams:function(e){this._options.form.element=e,this._formSupport=qq.FormSupport&&new qq.FormSupport(this._options.form,qq.bind(this.uploadStoredFiles,this),qq.bind(this.log,this)),this._formSupport&&this._formSupport.attachedToForm&&(this._paramsStore.addReadOnly(null,this._formSupport.getFormInputsAsObject),this._options.autoUpload=this._formSupport.newAutoUpload,this._formSupport.newEndpoint&&this.setEndpoint(this._formSupport.newEndpoint))},_upload:function(e,t,n){var r=this.getName(e);t&&this.setParams(t,e),n&&this.setEndpoint(n,e),this._handleCheckedCallback({name:"onSubmit",callback:qq.bind(this._options.callbacks.onSubmit,this,e,r),onSuccess:qq.bind(this._onSubmitCallbackSuccess,this,e,r),onFailure:qq.bind(this._fileOrBlobRejected,this,e,r),identifier:e})},_uploadFile:function(e){this._handler.upload(e)||this._uploadData.setStatus(e,qq.status.QUEUED)},_uploadStoredFiles:function(){for(var e,t,n=this;this._storedIds.length;)e=this._storedIds.shift(),this._uploadFile(e);(t=this.getUploads({status:qq.status.SUBMITTING}).length)&&(qq.log("Still waiting for "+t+" files to clear submit queue. Will re-parse stored IDs array shortly."),setTimeout(function(){n._uploadStoredFiles()},1e3))},_validateFileOrBlobData:function(e,t){var n=this,r=function(){return e.file instanceof qq.BlobProxy?e.file.referenceBlob:e.file}(),i=t.name,o=t.size,a=this._getButtonId(e.file),s=this._getValidationBase(a),u=new qq.Promise;return u.then(function(){},function(){n._fileOrBlobRejected(e.id,i)}),qq.isFileOrInput(r)&&!this._isAllowedExtension(s.allowedExtensions,i)?(this._itemError("typeError",i,r),u.failure()):this._options.validation.allowEmpty||0!==o?o>0&&s.sizeLimit&&o>s.sizeLimit?(this._itemError("sizeError",i,r),u.failure()):o>0&&o<s.minSizeLimit?(this._itemError("minSizeError",i,r),u.failure()):(qq.ImageValidation&&qq.supportedFeatures.imagePreviews&&qq.isFile(r)?new qq.ImageValidation(r,qq.bind(n.log,n)).validate(s.image).then(u.success,function(e){n._itemError(e+"ImageError",i,r),u.failure()}):u.success(),u):(this._itemError("emptyError",i,r),u.failure())},_wrapCallbacks:function(){var e,t,n;e=this,t=function(t,n,r){var i;try{return n.apply(e,r)}catch(n){i=n.message||n.toString(),e.log("Caught exception in '"+t+"' callback - "+i,"error")}};for(n in this._options.callbacks)!function(){var r,i;r=n,i=e._options.callbacks[r],e._options.callbacks[r]=function(){return t(r,i,arguments)}}()}}}(),function(){"use strict";qq.FineUploaderBasic=function(e){var t=this;this._options={debug:!1,button:null,multiple:!0,maxConnections:3,disableCancelForFormUploads:!1,autoUpload:!0,request:{customHeaders:{},endpoint:"/server/upload",filenameParam:"qqfilename",forceMultipart:!0,inputName:"qqfile",method:"POST",params:{},paramsInBody:!0,totalFileSizeName:"qqtotalfilesize",uuidName:"qquuid"},validation:{allowedExtensions:[],sizeLimit:0,minSizeLimit:0,itemLimit:0,stopOnFirstInvalidFile:!0,acceptFiles:null,image:{maxHeight:0,maxWidth:0,minHeight:0,minWidth:0},allowEmpty:!1},callbacks:{onSubmit:function(e,t){},onSubmitted:function(e,t){},onComplete:function(e,t,n,r){},onAllComplete:function(e,t){},onCancel:function(e,t){},onUpload:function(e,t){},onUploadChunk:function(e,t,n){},onUploadChunkSuccess:function(e,t,n,r){},onResume:function(e,t,n){},onProgress:function(e,t,n,r){},onTotalProgress:function(e,t){},onError:function(e,t,n,r){},onAutoRetry:function(e,t,n){},onManualRetry:function(e,t){},onValidateBatch:function(e){},onValidate:function(e){},onSubmitDelete:function(e){},onDelete:function(e){},onDeleteComplete:function(e,t,n){},onPasteReceived:function(e){},onStatusChange:function(e,t,n){},onSessionRequestComplete:function(e,t,n){}},messages:{typeError:"{file} has an invalid extension. Valid extension(s): {extensions}.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",noFilesError:"No files to upload.",tooManyItemsError:"Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.",maxHeightImageError:"Image is too tall.",maxWidthImageError:"Image is too wide.",minHeightImageError:"Image is not tall enough.",minWidthImageError:"Image is not wide enough.",retryFailTooManyItems:"Retry failed - you have reached your file limit.",onLeave:"The files are being uploaded, if you leave now the upload will be canceled.",unsupportedBrowserIos8Safari:"Unrecoverable error - this browser does not permit file uploading of any kind due to serious bugs in iOS8 Safari.  Please use iOS8 Chrome until Apple fixes these issues."},retry:{enableAuto:!1,maxAutoAttempts:3,autoAttemptDelay:5,preventRetryResponseProperty:"preventRetry"},classes:{buttonHover:"qq-upload-button-hover",buttonFocus:"qq-upload-button-focus"},chunking:{enabled:!1,concurrent:{enabled:!1},mandatory:!1,paramNames:{partIndex:"qqpartindex",partByteOffset:"qqpartbyteoffset",chunkSize:"qqchunksize",totalFileSize:"qqtotalfilesize",totalParts:"qqtotalparts"},partSize:2e6,success:{endpoint:null}},resume:{enabled:!1,recordsExpireIn:7,paramNames:{resuming:"qqresume"}},formatFileName:function(e){return e},text:{defaultResponseError:"Upload failure reason unknown",fileInputTitle:"file input",sizeSymbols:["kB","MB","GB","TB","PB","EB"]},deleteFile:{enabled:!1,method:"DELETE",endpoint:"/server/upload",customHeaders:{},params:{}},cors:{expected:!1,sendCredentials:!1,allowXdr:!1},blobs:{defaultName:"misc_data"},paste:{targetElement:null,defaultName:"pasted_image"},camera:{ios:!1,button:null},extraButtons:[],session:{endpoint:null,params:{},customHeaders:{},refreshOnReset:!0},form:{element:"qq-form",autoUpload:!1,interceptSubmit:!0},scaling:{customResizer:null,sendOriginal:!0,orient:!0,defaultType:null,defaultQuality:80,failureText:"Failed to scale",includeExif:!1,sizes:[]},workarounds:{iosEmptyVideos:!0,ios8SafariUploads:!0,ios8BrowserCrash:!1}},qq.extend(this._options,e,!0),this._buttons=[],this._extraButtonSpecs={},this._buttonIdsForFileIds=[],this._wrapCallbacks(),this._disposeSupport=new qq.DisposeSupport,this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._thumbnailUrls=[],this._netUploadedOrQueued=0,this._netUploaded=0,this._uploadData=this._createUploadDataTracker(),this._initFormSupportAndParams(),this._customHeadersStore=this._createStore(this._options.request.customHeaders),this._deleteFileCustomHeadersStore=this._createStore(this._options.deleteFile.customHeaders),this._deleteFileParamsStore=this._createStore(this._options.deleteFile.params),this._endpointStore=this._createStore(this._options.request.endpoint),this._deleteFileEndpointStore=this._createStore(this._options.deleteFile.endpoint),this._handler=this._createUploadHandler(),this._deleteHandler=qq.DeleteFileAjaxRequester&&this._createDeleteHandler(),this._options.button&&(this._defaultButtonId=this._createUploadButton({element:this._options.button,title:this._options.text.fileInputTitle}).getButtonId()),this._generateExtraButtonSpecs(),this._handleCameraAccess(),this._options.paste.targetElement&&(qq.PasteSupport?this._pasteHandler=this._createPasteHandler():this.log("Paste support module not found","error")),this._preventLeaveInProgress(),this._imageGenerator=qq.ImageGenerator&&new qq.ImageGenerator(qq.bind(this.log,this)),this._refreshSessionData(),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[],this._scaler=qq.Scaler&&new qq.Scaler(this._options.scaling,qq.bind(this.log,this))||{},this._scaler.enabled&&(this._customNewFileHandler=qq.bind(this._scaler.handleNewFile,this._scaler)),qq.TotalProgress&&qq.supportedFeatures.progressBar&&(this._totalProgress=new qq.TotalProgress(qq.bind(this._onTotalProgress,this),function(e){var n=t._uploadData.retrieve({id:e});return n&&n.size||0})),this._currentItemLimit=this._options.validation.itemLimit},qq.FineUploaderBasic.prototype=qq.basePublicApi,qq.extend(qq.FineUploaderBasic.prototype,qq.basePrivateApi)}(),qq.AjaxRequester=function(e){"use strict";function t(){return qq.indexOf(["GET","POST","HEAD"],w.method)>=0}function n(e){var t=!1;return qq.each(t,function(e,n){if(qq.indexOf(["Accept","Accept-Language","Content-Language","Content-Type"],n)<0)return t=!0,!1}),t}function r(e){return w.cors.expected&&void 0===e.withCredentials}function i(){var e;return(window.XMLHttpRequest||window.ActiveXObject)&&(e=qq.createXhrInstance(),void 0===e.withCredentials&&(e=new XDomainRequest,e.onload=function(){},e.onerror=function(){},e.ontimeout=function(){},e.onprogress=function(){})),e}function o(e,t){var n=_[e].xhr;return n||(n=t||(w.cors.expected?i():qq.createXhrInstance()),_[e].xhr=n),n}function a(e){var t,n=qq.indexOf(x,e),r=w.maxConnections;delete _[e],x.splice(n,1),x.length>=r&&n<r&&(t=x[r-1],c(t))}function s(e,t){var n=o(e),i=w.method,s=!0===t;a(e),s?y(i+" request for "+e+" has failed","error"):r(n)||g(n.status)||(s=!0,y(i+" request for "+e+" has failed - response code "+n.status,"error")),w.onComplete(e,n,s)}function u(e){var t,n=_[e].additionalParams,r=w.mandatedParams;return w.paramsStore.get&&(t=w.paramsStore.get(e)),n&&qq.each(n,function(e,n){t=t||{},t[e]=n}),r&&qq.each(r,function(e,n){t=t||{},t[e]=n}),t}function c(e,t){var n,i=o(e,t),a=w.method,s=u(e),c=_[e].payload;return w.onSend(e),n=l(e,s,_[e].additionalQueryParams),r(i)?(i.onload=f(e),i.onerror=p(e)):i.onreadystatechange=h(e),d(e),i.open(a,n,!0),w.cors.expected&&w.cors.sendCredentials&&!r(i)&&(i.withCredentials=!0),m(e),y("Sending "+a+" request for "+e),c?i.send(c):b||!s?i.send():s&&w.contentType&&w.contentType.toLowerCase().indexOf("application/x-www-form-urlencoded")>=0?i.send(qq.obj2url(s,"")):s&&w.contentType&&w.contentType.toLowerCase().indexOf("application/json")>=0?i.send(JSON.stringify(s)):i.send(s),i}function l(e,t,n){var r=w.endpointStore.get(e),i=_[e].addToPath;return void 0!=i&&(r+="/"+i),b&&t&&(r=qq.obj2url(t,r)),n&&(r=qq.obj2url(n,r)),r}function h(e){return function(){4===o(e).readyState&&s(e)}}function d(e){var t=w.onProgress;t&&(o(e).upload.onprogress=function(n){n.lengthComputable&&t(e,n.loaded,n.total)})}function f(e){return function(){s(e)}}function p(e){return function(){s(e,!0)}}function m(e){var i=o(e),a=w.customHeaders,s=_[e].additionalHeaders||{},u=w.method,c={};r(i)||(w.acceptHeader&&i.setRequestHeader("Accept",w.acceptHeader),w.allowXRequestedWithAndCacheControl&&(w.cors.expected&&t()&&!n(a)||(i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Cache-Control","no-cache"))),!w.contentType||"POST"!==u&&"PUT"!==u||i.setRequestHeader("Content-Type",w.contentType),qq.extend(c,qq.isFunction(a)?a(e):a),qq.extend(c,s),qq.each(c,function(e,t){i.setRequestHeader(e,t)}))}function g(e){return qq.indexOf(w.successfulResponseCodes[w.method],e)>=0}function v(e,t,n,r,i,o,a){if(_[e]={addToPath:n,additionalParams:r,additionalQueryParams:i,additionalHeaders:o,payload:a},x.push(e)<=w.maxConnections)return c(e,t)}var y,b,x=[],_={},w={acceptHeader:null,validMethods:["PATCH","POST","PUT"],method:"POST",contentType:"application/x-www-form-urlencoded",maxConnections:3,customHeaders:{},endpointStore:{},paramsStore:{},mandatedParams:{},allowXRequestedWithAndCacheControl:!0,successfulResponseCodes:{DELETE:[200,202,204],PATCH:[200,201,202,203,204],POST:[200,201,202,203,204],PUT:[200,201,202,203,204],GET:[200]},cors:{expected:!1,sendCredentials:!1},log:function(e,t){},onSend:function(e){},onComplete:function(e,t,n){},onProgress:null};if(qq.extend(w,e),y=w.log,qq.indexOf(w.validMethods,w.method)<0)throw new Error("'"+w.method+"' is not a supported method for this type of request!");b="GET"===w.method||"DELETE"===w.method,qq.extend(this,{initTransport:function(e){var t,n,r,i,o,a;return{withPath:function(e){return t=e,this},withParams:function(e){return n=e,this},withQueryParams:function(e){return a=e,this},withHeaders:function(e){return r=e,this},withPayload:function(e){return i=e,this},withCacheBuster:function(){return o=!0,this},send:function(s){return o&&qq.indexOf(["GET","DELETE"],w.method)>=0&&(n.qqtimestamp=(new Date).getTime()),v(e,s,t,n,a,r,i)}}},canceled:function(e){a(e)}})},qq.UploadHandler=function(e){"use strict";var t=e.proxy,n={},r=t.onCancel,i=t.getName;qq.extend(this,{add:function(e,t){n[e]=t,n[e].temp={}},cancel:function(e){var t=this,o=new qq.Promise;r(e,i(e),o).then(function(){t.isValid(e)&&(n[e].canceled=!0,t.expunge(e)),o.success()})},expunge:function(e){delete n[e]},getThirdPartyFileId:function(e){return n[e].key},isValid:function(e){return void 0!==n[e]},reset:function(){n={}},_getFileState:function(e){return n[e]},_setThirdPartyFileId:function(e,t){n[e].key=t},_wasCanceled:function(e){return!!n[e].canceled}})},qq.UploadHandlerController=function(e,t){"use strict";var n,r,i,o=this,a=!1,s=!1,u={paramsStore:{},maxConnections:3,chunking:{enabled:!1,multiple:{enabled:!1}},log:function(e,t){},onProgress:function(e,t,n,r){},onComplete:function(e,t,n,r){},onCancel:function(e,t){},onUploadPrep:function(e){},onUpload:function(e,t){},onUploadChunk:function(e,t,n){},onUploadChunkSuccess:function(e,t,n,r){},onAutoRetry:function(e,t,n,r){},onResume:function(e,t,n){},onUuidChanged:function(e,t){},getName:function(e){},setSize:function(e,t){},isQueued:function(e){},getIdsInProxyGroup:function(e){},getIdsInBatch:function(e){}},c={done:function(e,t,n,r){var o=i._getChunkData(e,t);i._getFileState(e).attemptingResume=!1,delete i._getFileState(e).temp.chunkProgress[t],i._getFileState(e).loaded+=o.size,u.onUploadChunkSuccess(e,i._getChunkDataForCallback(o),n,r)},finalize:function(e){var t=u.getSize(e),n=u.getName(e);r("All chunks have been uploaded for "+e+" - finalizing...."),i.finalizeChunks(e).then(function(o,a){r("Finalize successful for "+e);var s=d.normalizeResponse(o,!0);u.onProgress(e,n,t,t),i._maybeDeletePersistedChunkData(e),d.cleanup(e,s,a)},function(t,i){var o=d.normalizeResponse(t,!1);r("Problem finalizing chunks for file ID "+e+" - "+o.error,"error"),o.reset&&c.reset(e),u.onAutoRetry(e,n,o,i)||d.cleanup(e,o,i)})},handleFailure:function(e,t,n,o){var a=u.getName(t);r("Chunked upload request failed for "+t+", chunk "+e),i.clearCachedChunk(t,e);var h,f=d.normalizeResponse(n,!1);f.reset?c.reset(t):(h=qq.indexOf(i._getFileState(t).chunking.inProgress,e))>=0&&(i._getFileState(t).chunking.inProgress.splice(h,1),i._getFileState(t).chunking.remaining.unshift(e)),i._getFileState(t).temp.ignoreFailure||(s&&(i._getFileState(t).temp.ignoreFailure=!0,r(qq.format("Going to attempt to abort these chunks: {}. These are currently in-progress: {}.",JSON.stringify(Object.keys(i._getXhrs(t))),JSON.stringify(i._getFileState(t).chunking.inProgress))),qq.each(i._getXhrs(t),function(e,n){r(qq.format("Attempting to abort file {}.{}. XHR readyState {}. ",t,e,n.readyState)),n.abort(),n._cancelled=!0}),i.moveInProgressToRemaining(t),l.free(t,!0)),u.onAutoRetry(t,a,f,o)||d.cleanup(t,f,o))},hasMoreParts:function(e){return!!i._getFileState(e).chunking.remaining.length},nextPart:function(e){var t=i._getFileState(e).chunking.remaining.shift();return t>=i._getTotalChunks(e)&&(t=null),t},reset:function(e){r("Server or callback has ordered chunking effort to be restarted on next attempt for item ID "+e,"error"),i._maybeDeletePersistedChunkData(e),i.reevaluateChunking(e),i._getFileState(e).loaded=0},sendNext:function(e){var t=u.getSize(e),n=u.getName(e),o=c.nextPart(e),a=i._getChunkData(e,o),h=i._getFileState(e).attemptingResume,f=i._getFileState(e).chunking.inProgress||[];null==i._getFileState(e).loaded&&(i._getFileState(e).loaded=0),h&&!1===u.onResume(e,n,a)&&(c.reset(e),o=c.nextPart(e),a=i._getChunkData(e,o),h=!1),null==o&&0===f.length?c.finalize(e):(r(qq.format("Sending chunked upload request for item {}.{}, bytes {}-{} of {}.",e,o,a.start+1,a.end,t)),u.onUploadChunk(e,n,i._getChunkDataForCallback(a)),f.push(o),i._getFileState(e).chunking.inProgress=f,s&&l.open(e,o),s&&l.available()&&i._getFileState(e).chunking.remaining.length&&c.sendNext(e),0===a.blob.size?(r(qq.format("Chunk {} for file {} will not be uploaded, zero sized chunk.",o,e),"error"),c.handleFailure(o,e,"File is no longer available",null)):i.uploadChunk(e,o,h).then(function(t,n){r("Chunked upload request succeeded for "+e+", chunk "+o),i.clearCachedChunk(e,o);var a=i._getFileState(e).chunking.inProgress||[],s=d.normalizeResponse(t,!0),u=qq.indexOf(a,o);r(qq.format("Chunk {} for file {} uploaded successfully.",o,e)),c.done(e,o,s,n),u>=0&&a.splice(u,1),i._maybePersistChunkedState(e),c.hasMoreParts(e)||0!==a.length?c.hasMoreParts(e)?c.sendNext(e):r(qq.format("File ID {} has no more chunks to send and these chunk indexes are still marked as in-progress: {}",e,JSON.stringify(a))):c.finalize(e)},function(t,n){c.handleFailure(o,e,t,n)}).done(function(){i.clearXhr(e,o)}))}},l={_open:[],_openChunks:{},_waiting:[],available:function(){var e=u.maxConnections,t=0,n=0;return qq.each(l._openChunks,function(e,r){t++,n+=r.length}),e-(l._open.length-t+n)},free:function(e,t){var n,o=!t,a=qq.indexOf(l._waiting,e),s=qq.indexOf(l._open,e);delete l._openChunks[e],d.getProxyOrBlob(e)instanceof qq.BlobProxy&&(r("Generated blob upload has ended for "+e+", disposing generated blob."),delete i._getFileState(e).file),a>=0?l._waiting.splice(a,1):o&&s>=0&&(l._open.splice(s,1),(n=l._waiting.shift())>=0&&(l._open.push(n),d.start(n)))},getWaitingOrConnected:function(){var e=[];return qq.each(l._openChunks,function(t,n){n&&n.length&&e.push(parseInt(t))}),qq.each(l._open,function(t,n){l._openChunks[n]||e.push(parseInt(n))}),e=e.concat(l._waiting)},isUsingConnection:function(e){return qq.indexOf(l._open,e)>=0},open:function(e,t){return null==t&&l._waiting.push(e),!!l.available()&&(null==t?(l._waiting.pop(),l._open.push(e)):function(){var n=l._openChunks[e]||[];n.push(t),l._openChunks[e]=n}(),!0)},reset:function(){l._waiting=[],l._open=[]}},h={send:function(e,t){i._getFileState(e).loaded=0,r("Sending simple upload request for "+e),i.uploadFile(e).then(function(n,i){r("Simple upload request succeeded for "+e);var o=d.normalizeResponse(n,!0),a=u.getSize(e);u.onProgress(e,t,a,a),d.maybeNewUuid(e,o),d.cleanup(e,o,i)},function(n,i){r("Simple upload request failed for "+e);var o=d.normalizeResponse(n,!1);u.onAutoRetry(e,t,o,i)||d.cleanup(e,o,i)})}},d={cancel:function(e){r("Cancelling "+e),u.paramsStore.remove(e),l.free(e)},cleanup:function(e,t,n){var r=u.getName(e);u.onComplete(e,r,t,n),i._getFileState(e)&&i._clearXhrs&&i._clearXhrs(e),l.free(e)},getProxyOrBlob:function(e){return i.getProxy&&i.getProxy(e)||i.getFile&&i.getFile(e)},initHandler:function(){var e=t?qq[t]:qq.traditional,n=qq.supportedFeatures.ajaxUploading?"Xhr":"Form";i=new e[n+"UploadHandler"](u,{getDataByUuid:u.getDataByUuid,getName:u.getName,getSize:u.getSize,getUuid:u.getUuid,log:r,onCancel:u.onCancel,onProgress:u.onProgress,onUuidChanged:u.onUuidChanged}),i._removeExpiredChunkingRecords&&i._removeExpiredChunkingRecords()},isDeferredEligibleForUpload:function(e){return u.isQueued(e)},maybeDefer:function(e,t){return t&&!i.getFile(e)&&t instanceof qq.BlobProxy?(u.onUploadPrep(e),r("Attempting to generate a blob on-demand for "+e),t.create().then(function(t){r("Generated an on-demand blob for "+e),i.updateBlob(e,t),u.setSize(e,t.size),i.reevaluateChunking(e),d.maybeSendDeferredFiles(e)},function(t){var i={};t&&(i.error=t),r(qq.format("Failed to generate blob for ID {}.  Error message: {}.",e,t),"error"),u.onComplete(e,u.getName(e),qq.extend(i,n),null),d.maybeSendDeferredFiles(e),l.free(e)}),!1):d.maybeSendDeferredFiles(e)},maybeSendDeferredFiles:function(e){var t=u.getIdsInProxyGroup(e),n=!1;return t&&t.length?(r("Maybe ready to upload proxy group file "+e),qq.each(t,function(t,r){if(d.isDeferredEligibleForUpload(r)&&i.getFile(r))n=r===e,d.now(r);else if(d.isDeferredEligibleForUpload(r))return!1})):(n=!0,d.now(e)),n},maybeNewUuid:function(e,t){void 0!==t.newUuid&&u.onUuidChanged(e,t.newUuid)},normalizeResponse:function(e,t){var n=e;return qq.isObject(e)||(n={},qq.isString(e)&&!t&&(n.error=e)),n.success=t,n},now:function(e){var t=u.getName(e);if(!o.isValid(e))throw new qq.Error(e+" is not a valid file ID to upload!");u.onUpload(e,t),a&&i._shouldChunkThisFile(e)?c.sendNext(e):h.send(e,t)},start:function(e){var t=d.getProxyOrBlob(e);return t?d.maybeDefer(e,t):(d.now(e),!0)}};qq.extend(this,{add:function(e,t){i.add.apply(this,arguments)},upload:function(e){return!!l.open(e)&&d.start(e)},retry:function(e){return s&&(i._getFileState(e).temp.ignoreFailure=!1),l.isUsingConnection(e)?d.start(e):o.upload(e)},cancel:function(e){var t=i.cancel(e);qq.isGenericPromise(t)?t.then(function(){d.cancel(e)}):!1!==t&&d.cancel(e)},cancelAll:function(){var e,t=l.getWaitingOrConnected();if(t.length)for(e=t.length-1;e>=0;e--)o.cancel(t[e]);l.reset()},getFile:function(e){return i.getProxy&&i.getProxy(e)?i.getProxy(e).referenceBlob:i.getFile&&i.getFile(e)},isProxied:function(e){return!(!i.getProxy||!i.getProxy(e))},getInput:function(e){if(i.getInput)return i.getInput(e)},reset:function(){r("Resetting upload handler"),o.cancelAll(),l.reset(),i.reset()},expunge:function(e){if(o.isValid(e))return i.expunge(e)},isValid:function(e){return i.isValid(e)},getResumableFilesData:function(){return i.getResumableFilesData?i.getResumableFilesData():[]},getThirdPartyFileId:function(e){if(o.isValid(e))return i.getThirdPartyFileId(e)},pause:function(e){return!!(o.isResumable(e)&&i.pause&&o.isValid(e)&&i.pause(e))&&(l.free(e),i.moveInProgressToRemaining(e),!0)},isResumable:function(e){return!!i.isResumable&&i.isResumable(e)}}),qq.extend(u,e),r=u.log,a=u.chunking.enabled&&qq.supportedFeatures.chunking,s=a&&u.chunking.concurrent.enabled,n=function(){var e={};return e[u.preventRetryParam]=!0,e}(),d.initHandler()},qq.WindowReceiveMessage=function(e){"use strict";var t={log:function(e,t){}},n={};qq.extend(t,e),qq.extend(this,{receiveMessage:function(e,t){var r=function(e){t(e.data)};window.postMessage?n[e]=qq(window).attach("message",r):log("iframe message passing not supported in this browser!","error")},stopReceivingMessages:function(e){if(window.postMessage){var t=n[e];t&&t()}}})},qq.FormUploadHandler=function(e){"use strict";function t(e){delete l[e],d&&(clearTimeout(h[e]),delete h[e],g.stopReceivingMessages(e));var t=document.getElementById(a._getIframeName(e));t&&(t.setAttribute("src","javascript:false;"),qq(t).remove())}function n(e){return e.split("_")[0]}function r(e){var t=qq.toElement("<iframe src='javascript:false;' name='"+e+"' />");return t.setAttribute("id",e),t.style.display="none",document.body.appendChild(t),t}function i(e,t){var r=e.id,i=n(r),o=p(i);c[o]=t,l[i]=qq(e).attach("load",function(){a.getInput(i)&&(m("Received iframe load event for CORS upload request (iframe name "+r+")"),h[r]=setTimeout(function(){var e="No valid message received from loaded iframe for iframe name "+r;m(e,"error"),t({error:e})},1e3))}),g.receiveMessage(r,function(e){m("Received the following window message: '"+e+"'");var t,i=(n(r),a._parseJsonResponse(e)),o=i.uuid;o&&c[o]?(m("Handling response for iframe name "+r),clearTimeout(h[r]),delete h[r],a._detachLoadEvent(r),t=c[o],delete c[o],g.stopReceivingMessages(r),t(i)):o||m("'"+e+"' does not contain a UUID - ignoring.")})}var o=e.options,a=this,s=e.proxy,u=qq.getUniqueId(),c={},l={},h={},d=o.isCors,f=o.inputName,p=s.getUuid,m=s.log,g=new qq.WindowReceiveMessage({log:m});qq.extend(this,new qq.UploadHandler(e)),qq.override(this,function(e){return{add:function(t,n){e.add(t,{input:n}),n.setAttribute("name",f),n.parentNode&&qq(n).remove()},expunge:function(n){t(n),e.expunge(n)},isValid:function(t){return e.isValid(t)&&void 0!==a._getFileState(t).input}}}),qq.extend(this,{getInput:function(e){return a._getFileState(e).input},_attachLoadEvent:function(e,t){var n;d?i(e,t):l[e.id]=qq(e).attach("load",function(){if(m("Received response for "+e.id),e.parentNode){try{if(e.contentDocument&&e.contentDocument.body&&"false"==e.contentDocument.body.innerHTML)return}catch(e){m("Error when attempting to access iframe during handling of upload response ("+e.message+")","error"),n={success:!1}}t(n)}})},_createIframe:function(e){return r(a._getIframeName(e))},_detachLoadEvent:function(e){void 0!==l[e]&&(l[e](),delete l[e])},_getIframeName:function(e){return e+"_"+u},_initFormForUpload:function(e){var t=e.method,n=e.endpoint,r=e.params,i=e.paramsInBody,o=e.targetName,a=qq.toElement("<form method='"+t+"' enctype='multipart/form-data'></form>"),s=n;return i?qq.obj2Inputs(r,a):s=qq.obj2url(r,n),a.setAttribute("action",s),a.setAttribute("target",o),a.style.display="none",document.body.appendChild(a),a},_parseJsonResponse:function(e){var t={};try{t=qq.parseJson(e)}catch(e){m("Error when attempting to parse iframe upload response ("+e.message+")","error")}return t}})},qq.XhrUploadHandler=function(e){"use strict";function t(e){qq.each(n._getXhrs(e),function(t,r){var i=n._getAjaxRequester(e,t);r.onreadystatechange=null,r.upload.onprogress=null,r.abort(),i&&i.canceled&&i.canceled(e)})}var n=this,r=e.options.namespace,i=e.proxy,o=e.options.chunking,a=e.options.resume,s=o&&e.options.chunking.enabled&&qq.supportedFeatures.chunking,u=a&&e.options.resume.enabled&&s&&qq.supportedFeatures.resume,c=i.getName,l=i.getSize,h=i.getUuid,d=i.getEndpoint,f=i.getDataByUuid,p=i.onUuidChanged,m=i.onProgress,g=i.log;qq.extend(this,new qq.UploadHandler(e)),qq.override(this,function(e){return{add:function(t,r){if(qq.isFile(r)||qq.isBlob(r))e.add(t,{file:r});else{if(!(r instanceof qq.BlobProxy))throw new Error("Passed obj is not a File, Blob, or proxy");e.add(t,{proxy:r})}n._initTempState(t),u&&n._maybePrepareForResume(t)},expunge:function(r){t(r),n._maybeDeletePersistedChunkData(r),n._clearXhrs(r),e.expunge(r)}}}),qq.extend(this,{clearCachedChunk:function(e,t){delete n._getFileState(e).temp.cachedChunks[t]},clearXhr:function(e,t){var r=n._getFileState(e).temp;r.xhrs&&delete r.xhrs[t],r.ajaxRequesters&&delete r.ajaxRequesters[t]},finalizeChunks:function(e,t){var r=n._getTotalChunks(e)-1,i=n._getXhr(e,r);return t?(new qq.Promise).success(t(i),i):(new qq.Promise).success({},i)},getFile:function(e){return n.isValid(e)&&n._getFileState(e).file},getProxy:function(e){return n.isValid(e)&&n._getFileState(e).proxy},getResumableFilesData:function(){var e=[];return n._iterateResumeRecords(function(t,r){n.moveInProgressToRemaining(null,r.chunking.inProgress,r.chunking.remaining);var i={name:r.name,remaining:r.chunking.remaining,size:r.size,uuid:r.uuid};r.key&&(i.key=r.key),e.push(i)}),e},isResumable:function(e){return!!o&&n.isValid(e)&&!n._getFileState(e).notResumable},moveInProgressToRemaining:function(e,t,r){var i=t||n._getFileState(e).chunking.inProgress,o=r||n._getFileState(e).chunking.remaining;i&&(g(qq.format("Moving these chunks from in-progress {}, to remaining.",JSON.stringify(i))),i.reverse(),qq.each(i,function(e,t){o.unshift(t)}),i.length=0)},pause:function(e){if(n.isValid(e))return g(qq.format("Aborting XHR upload for {} '{}' due to pause instruction.",e,c(e))),n._getFileState(e).paused=!0,t(e),!0},reevaluateChunking:function(e){if(o&&n.isValid(e)){var t,r,i=n._getFileState(e);if(delete i.chunking,i.chunking={},(t=n._getTotalChunks(e))>1||o.mandatory){for(i.chunking.enabled=!0,i.chunking.parts=t,i.chunking.remaining=[],r=0;r<t;r++)i.chunking.remaining.push(r);n._initTempState(e)}else i.chunking.enabled=!1}},updateBlob:function(e,t){n.isValid(e)&&(n._getFileState(e).file=t)},_clearXhrs:function(e){var t=n._getFileState(e).temp;qq.each(t.ajaxRequesters,function(e){delete t.ajaxRequesters[e]}),qq.each(t.xhrs,function(e){delete t.xhrs[e]})},_createXhr:function(e,t){return n._registerXhr(e,t,qq.createXhrInstance())},_getAjaxRequester:function(e,t){var r=null==t?-1:t;return n._getFileState(e).temp.ajaxRequesters[r]},_getChunkData:function(e,t){var r=o.partSize,i=l(e),a=n.getFile(e),s=r*t,u=s+r>=i?i:s+r,c=n._getTotalChunks(e),h=this._getFileState(e).temp.cachedChunks,d=h[t]||qq.sliceBlob(a,s,u);return h[t]=d,{part:t,start:s,end:u,count:c,blob:d,size:u-s}},_getChunkDataForCallback:function(e){return{partIndex:e.part,startByte:e.start+1,endByte:e.end,totalParts:e.count}},_getLocalStorageId:function(e){var t=c(e),n=l(e),i=o.partSize,a=d(e);return qq.format("qq{}resume{}-{}-{}-{}-{}",r,"5.0",t,n,i,a)},_getMimeType:function(e){return n.getFile(e).type},_getPersistableData:function(e){return n._getFileState(e).chunking},_getTotalChunks:function(e){if(o){var t=l(e),n=o.partSize;return Math.ceil(t/n)}},_getXhr:function(e,t){var r=null==t?-1:t;return n._getFileState(e).temp.xhrs[r]},_getXhrs:function(e){return n._getFileState(e).temp.xhrs},_iterateResumeRecords:function(e){u&&qq.each(localStorage,function(t,n){if(0===t.indexOf(qq.format("qq{}resume",r))){var i=JSON.parse(n);e(t,i)}})},_initTempState:function(e){n._getFileState(e).temp={ajaxRequesters:{},chunkProgress:{},xhrs:{},cachedChunks:{}}},_markNotResumable:function(e){n._getFileState(e).notResumable=!0},_maybeDeletePersistedChunkData:function(e){var t;return!!(u&&n.isResumable(e)&&(t=n._getLocalStorageId(e))&&localStorage.getItem(t))&&(localStorage.removeItem(t),!0)},_maybePrepareForResume:function(e){var t,r,i=n._getFileState(e);u&&void 0===i.key&&(t=n._getLocalStorageId(e),(r=localStorage.getItem(t))&&(r=JSON.parse(r),f(r.uuid)?n._markNotResumable(e):(g(qq.format("Identified file with ID {} and name of {} as resumable.",e,c(e))),p(e,r.uuid),i.key=r.key,i.chunking=r.chunking,i.loaded=r.loaded,i.attemptingResume=!0,n.moveInProgressToRemaining(e))))},_maybePersistChunkedState:function(e){var t,r,i=n._getFileState(e);if(u&&n.isResumable(e)){t=n._getLocalStorageId(e),r={name:c(e),size:l(e),uuid:h(e),key:i.key,chunking:i.chunking,loaded:i.loaded,lastUpdated:Date.now()};try{localStorage.setItem(t,JSON.stringify(r))}catch(t){g(qq.format("Unable to save resume data for '{}' due to error: '{}'.",e,t.toString()),"warn")}}},_registerProgressHandler:function(e,t,r){var i=n._getXhr(e,t),o=c(e),a={simple:function(t,n){var r=l(e);t===n?m(e,o,r,r):m(e,o,t>=r?r-1:t,r)},chunked:function(i,a){var s=n._getFileState(e).temp.chunkProgress,u=n._getFileState(e).loaded,c=i,h=a,d=l(e),f=c-(h-r),p=u;s[t]=f,qq.each(s,function(e,t){p+=t}),m(e,o,p,d)}};i.upload.onprogress=function(e){if(e.lengthComputable){a[null==r?"simple":"chunked"](e.loaded,e.total)}}},_registerXhr:function(e,t,r,i){var o=null==t?-1:t,a=n._getFileState(e).temp;return a.xhrs=a.xhrs||{},a.ajaxRequesters=a.ajaxRequesters||{},a.xhrs[o]=r,i&&(a.ajaxRequesters[o]=i),r},_removeExpiredChunkingRecords:function(){var e=a.recordsExpireIn;n._iterateResumeRecords(function(t,n){var r=new Date(n.lastUpdated);r.setDate(r.getDate()+e),r.getTime()<=Date.now()&&(g("Removing expired resume record with key "+t),localStorage.removeItem(t))})},_shouldChunkThisFile:function(e){var t=n._getFileState(e);return t.chunking||n.reevaluateChunking(e),t.chunking.enabled}})},qq.DeleteFileAjaxRequester=function(e){"use strict";var t,n={method:"DELETE",uuidParamName:"qquuid",endpointStore:{},maxConnections:3,customHeaders:function(e){return{}},paramsStore:{},cors:{expected:!1,sendCredentials:!1},log:function(e,t){},onDelete:function(e){},onDeleteComplete:function(e,t,n){}};qq.extend(n,e),t=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",validMethods:["POST","DELETE"],method:n.method,endpointStore:n.endpointStore,paramsStore:n.paramsStore,mandatedParams:function(){return"POST"===n.method.toUpperCase()?{_method:"DELETE"}:{}}(),maxConnections:n.maxConnections,customHeaders:function(e){return n.customHeaders.get(e)},log:n.log,onSend:n.onDelete,onComplete:n.onDeleteComplete,cors:n.cors})),qq.extend(this,{sendDelete:function(e,r,i){var o=i||{};n.log("Submitting delete file request for "+e),"DELETE"===n.method?t.initTransport(e).withPath(r).withParams(o).send():(o[n.uuidParamName]=r,t.initTransport(e).withParams(o).send())}})},function(){function e(e){var t,n=e.naturalWidth,r=e.naturalHeight,i=document.createElement("canvas");return n*r>1048576&&(i.width=i.height=1,t=i.getContext("2d"),t.drawImage(e,1-n,0),0===t.getImageData(0,0,1,1).data[3])}function t(e,t,n){var r,i,o,a,s=document.createElement("canvas"),u=0,c=n,l=n;for(s.width=1,s.height=n,r=s.getContext("2d"),r.drawImage(e,0,0),i=r.getImageData(0,0,1,n).data;l>u;)o=i[4*(l-1)+3],0===o?c=l:u=l,l=c+u>>1;return a=l/n,0===a?1:a}function n(e,t,n,r){var o=document.createElement("canvas"),a=n.mime||"image/jpeg",s=new qq.Promise;return i(e,t,o,n,r).then(function(){s.success(o.toDataURL(a,n.quality||.8))}),s}function r(e){if(!qq.ios())throw new qq.Error("Downsampled dimensions can only be reliably calculated for iOS!");if(e.origHeight*e.origWidth>5241e3)return{newHeight:Math.round(Math.sqrt(e.origHeight/e.origWidth*5241e3)),newWidth:Math.round(Math.sqrt(e.origWidth/e.origHeight*5241e3))}}function i(n,i,s,u,c){var l,h=n.naturalWidth,d=n.naturalHeight,f=u.width,p=u.height,m=s.getContext("2d"),g=new qq.Promise;return m.save(),u.resize?o({blob:i,canvas:s,image:n,imageHeight:d,imageWidth:h,orientation:u.orientation,resize:u.resize,targetHeight:p,targetWidth:f}):(qq.supportedFeatures.unlimitedScaledImageSize||(l=r({origWidth:f,origHeight:p}))&&(qq.log(qq.format("Had to reduce dimensions due to device limitations from {}w / {}h to {}w / {}h",f,p,l.newWidth,l.newHeight),"warn"),f=l.newWidth,p=l.newHeight),a(s,f,p,u.orientation),qq.ios()?function(){e(n)&&(h/=2,d/=2);var r,i,o,a=1024,s=document.createElement("canvas"),u=c?t(n,h,d):1,l=Math.ceil(a*f/h),g=Math.ceil(a*p/d/u),v=0,y=0;for(s.width=s.height=a,r=s.getContext("2d");v<d;){for(i=0,o=0;i<h;)r.clearRect(0,0,a,a),r.drawImage(n,-i,-v),m.drawImage(s,0,0,a,a,o,y,l,g),i+=a,o+=l;v+=a,y+=g}m.restore(),s=r=null}():m.drawImage(n,0,0,f,p),s.qqImageRendered&&s.qqImageRendered(),g.success(),g)}function o(e){var t=e.blob,n=e.image,r=e.imageHeight,i=e.imageWidth,o=e.orientation,s=new qq.Promise,u=e.resize,c=document.createElement("canvas"),l=c.getContext("2d"),h=e.canvas,d=e.targetHeight,f=e.targetWidth;return a(c,i,r,o),h.height=d,h.width=f,l.drawImage(n,0,0),u({blob:t,height:d,image:n,sourceCanvas:c,targetCanvas:h,width:f}).then(function(){h.qqImageRendered&&h.qqImageRendered(),s.success()},s.failure),s}function a(e,t,n,r){switch(r){case 5:case 6:case 7:case 8:e.width=n,e.height=t;break;default:e.width=t,e.height=n}var i=e.getContext("2d");switch(r){case 2:i.translate(t,0),i.scale(-1,1);break;case 3:i.translate(t,n),i.rotate(Math.PI);break;case 4:i.translate(0,n),i.scale(1,-1);break;case 5:i.rotate(.5*Math.PI),i.scale(1,-1);break;case 6:i.rotate(.5*Math.PI),i.translate(0,-n);break;case 7:i.rotate(.5*Math.PI),i.translate(t,-n),i.scale(-1,1);break;case 8:i.rotate(-.5*Math.PI),i.translate(-t,0)}}function s(e,t){var n=this;window.Blob&&e instanceof Blob&&function(){var t=new Image,r=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!r)throw Error("No createObjectURL function found to create blob url");t.src=r.createObjectURL(e),n.blob=e,e=t}(),e.naturalWidth||e.naturalHeight||(e.onload=function(){var e=n.imageLoadListeners;e&&(n.imageLoadListeners=null,setTimeout(function(){for(var t=0,n=e.length;t<n;t++)e[t]()},0))},e.onerror=t,this.imageLoadListeners=[]),this.srcImage=e}s.prototype.render=function(e,t){t=t||{};var r,o=this,a=this.srcImage.naturalWidth,s=this.srcImage.naturalHeight,u=t.width,c=t.height,l=t.maxWidth,h=t.maxHeight,d=!this.blob||"image/jpeg"===this.blob.type,f=e.tagName.toLowerCase();if(this.imageLoadListeners)return void this.imageLoadListeners.push(function(){o.render(e,t)});u&&!c?c=s*u/a<<0:c&&!u?u=a*c/s<<0:(u=a,c=s),l&&u>l&&(u=l,c=s*u/a<<0),h&&c>h&&(c=h,u=a*c/s<<0),r={width:u,height:c},qq.each(t,function(e,t){r[e]=t}),"img"===f?function(){var t=e.src;n(o.srcImage,o.blob,r,d).then(function(n){e.src=n,t===e.src&&e.onload()})}():"canvas"===f&&i(this.srcImage,this.blob,e,r,d),"function"==typeof this.onrender&&this.onrender(e)},qq.MegaPixImage=s}(),qq.ImageGenerator=function(e){"use strict";function t(e){return"img"===e.tagName.toLowerCase()}function n(e){return"canvas"===e.tagName.toLowerCase()}function r(){return void 0!==(new Image).crossOrigin}function i(){var e=document.createElement("canvas");return e.getContext&&e.getContext("2d")}function o(e){var t=e.split("/"),n=t[t.length-1].split("?")[0],r=qq.getExtension(n);switch(r=r&&r.toLowerCase()){case"jpeg":case"jpg":return"image/jpeg";case"png":return"image/png";case"bmp":return"image/bmp";case"gif":return"image/gif";case"tiff":case"tif":return"image/tiff"}}function a(e){var t,n,r,i=document.createElement("a");return i.href=e,t=i.protocol,r=i.port,n=i.hostname,t.toLowerCase()!==window.location.protocol.toLowerCase()||(n.toLowerCase()!==window.location.hostname.toLowerCase()||r!==window.location.port&&!qq.ie())}function s(t,n){t.onload=function(){t.onload=null,t.onerror=null,n.success(t)},t.onerror=function(){t.onload=null,t.onerror=null,e("Problem drawing thumbnail!","error"),n.failure(t,"Problem drawing thumbnail!")}}function u(e,t){e.qqImageRendered=function(){t.success(e)}}function c(r,i){var o=t(r)||n(r);return t(r)?s(r,i):n(r)?u(r,i):(i.failure(r),e(qq.format("Element container of type {} is not supported!",r.tagName),"error")),o}function l(t,n,r){var i=new qq.Promise,o=new qq.Identify(t,e),a=r.maxSize,s=null==r.orient||r.orient,u=function(){n.onerror=null,n.onload=null,e("Could not render preview, file may be too large!","error"),i.failure(n,"Browser cannot render image!")};return o.isPreviewable().then(function(o){var l={parse:function(){return(new qq.Promise).success()}},h=s?new qq.Exif(t,e):l,d=new qq.MegaPixImage(t,u);c(n,i)&&h.parse().then(function(e){var t=e&&e.Orientation;d.render(n,{maxWidth:a,maxHeight:a,orientation:t,mime:o,resize:r.customResizeFunction})},function(t){e(qq.format("EXIF data could not be parsed ({}).  Assuming orientation = 1.",t)),d.render(n,{maxWidth:a,maxHeight:a,mime:o,resize:r.customResizeFunction})})},function(){e("Not previewable"),i.failure(n,"Not previewable")}),i}function h(e,t,n,r,i){var s=new Image,u=new qq.Promise;c(s,u),a(e)&&(s.crossOrigin="anonymous"),s.src=e,u.then(function(){c(t,n),new qq.MegaPixImage(s).render(t,{maxWidth:r,maxHeight:r,mime:o(e),resize:i})},n.failure)}function d(e,t,n,r){c(t,n),qq(t).css({maxWidth:r+"px",maxHeight:r+"px"}),t.src=e}function f(e,o,s){var u=new qq.Promise,l=s.scale,f=l?s.maxSize:null;return l&&t(o)?i()?a(e)&&!r()?d(e,o,u,f):h(e,o,u,f):d(e,o,u,f):n(o)?h(e,o,u,f):c(o,u)&&(o.src=e),u}qq.extend(this,{generate:function(t,n,r){return qq.isString(t)?(e("Attempting to update thumbnail based on server response."),f(t,n,r||{})):(e("Attempting to draw client-side image preview."),l(t,n,r||{}))}}),this._testing={},this._testing.isImg=t,this._testing.isCanvas=n,this._testing.isCrossOrigin=a,this._testing.determineMimeOfFileName=o},qq.Exif=function(e,t){"use strict";function n(e){for(var t=0,n=0;e.length>0;)t+=parseInt(e.substring(0,2),16)*Math.pow(2,n),e=e.substring(2,e.length),n+=8;return t}function r(t,n){var i=t,o=n;return void 0===i&&(i=2,o=new qq.Promise),qq.readBlobToHex(e,i,4).then(function(e){var t,n=/^ffe([0-9])/.exec(e);n?"1"!==n[1]?(t=parseInt(e.slice(4,8),16),r(i+t+2,o)):o.success(i):o.failure("No EXIF header to be found!")}),o}function i(){var t=new qq.Promise;return qq.readBlobToHex(e,0,6).then(function(e){0!==e.indexOf("ffd8")?t.failure("Not a valid JPEG!"):r().then(function(e){t.success(e)},function(e){t.failure(e)})}),t}function o(t){var n=new qq.Promise;return qq.readBlobToHex(e,t+10,2).then(function(e){n.success("4949"===e)}),n}function a(t,r){var i=new qq.Promise;return qq.readBlobToHex(e,t+18,2).then(function(e){if(r)return i.success(n(e));i.success(parseInt(e,16))}),i}function s(t,n){var r=t+20,i=12*n;return qq.readBlobToHex(e,r,i)}function u(e){for(var t=[],n=0;n+24<=e.length;)t.push(e.slice(n,n+24)),n+=24;return t}function c(e,t){var r=qq.extend([],l),i={};return qq.each(t,function(t,o){var a,s,u,c=o.slice(0,4),l=e?n(c):parseInt(c,16),d=r.indexOf(l);if(d>=0&&(s=h[l].name,u=h[l].bytes,a=o.slice(16,16+2*u),i[s]=e?n(a):parseInt(a,16),r.splice(d,1)),0===r.length)return!1}),i}var l=[274],h={274:{name:"Orientation",bytes:2}};qq.extend(this,{parse:function(){var n=new qq.Promise,r=function(e){t(qq.format("EXIF header parse failed: '{}' ",e)),n.failure(e)};return i().then(function(i){t(qq.format("Moving forward with EXIF header parsing for '{}'",void 0===e.name?"blob":e.name)),o(i).then(function(e){t(qq.format("EXIF Byte order is {} endian",e?"little":"big")),a(i,e).then(function(o){t(qq.format("Found {} APP1 directory entries",o)),s(i,o).then(function(r){var i=u(r),o=c(e,i);t("Successfully parsed some EXIF tags"),n.success(o)},r)},r)},r)},r),n}}),this._testing={},this._testing.parseLittleEndian=n},qq.Identify=function(e,t){"use strict";function n(e,t){var n=!1,r=[].concat(e);return qq.each(r,function(e,r){if(0===t.indexOf(r))return n=!0,!1}),n}qq.extend(this,{isPreviewable:function(){var r=this,i=new qq.Promise,o=!1,a=void 0===e.name?"blob":e.name;return t(qq.format("Attempting to determine if {} can be rendered in this browser",a)),t("First pass: check type attribute of blob object."),this.isPreviewableSync()?(t("Second pass: check for magic bytes in file header."),qq.readBlobToHex(e,0,4).then(function(e){qq.each(r.PREVIEWABLE_MIME_TYPES,function(t,r){if(n(r,e))return("image/tiff"!==t||qq.supportedFeatures.tiffPreviews)&&(o=!0,i.success(t)),!1}),t(qq.format("'{}' is {} able to be rendered in this browser",a,o?"":"NOT")),o||i.failure()},function(){t("Error reading file w/ name '"+a+"'.  Not able to be rendered in this browser."),i.failure()})):i.failure(),i},isPreviewableSync:function(){var n=e.type,r=qq.indexOf(Object.keys(this.PREVIEWABLE_MIME_TYPES),n)>=0,i=!1,o=void 0===e.name?"blob":e.name;return r&&(i="image/tiff"!==n||qq.supportedFeatures.tiffPreviews),!i&&t(o+" is not previewable in this browser per the blob's type attr"),i}})},qq.Identify.prototype.PREVIEWABLE_MIME_TYPES={"image/jpeg":"ffd8ff","image/gif":"474946","image/png":"89504e","image/bmp":"424d","image/tiff":["49492a00","4d4d002a"]},qq.ImageValidation=function(e,t){"use strict";function n(e){var t=!1;return qq.each(e,function(e,n){if(n>0)return t=!0,!1}),t}function r(){var n=new qq.Promise;return new qq.Identify(e,t).isPreviewable().then(function(){var r=new Image,i=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;i?(r.onerror=function(){t("Cannot determine dimensions for image.  May be too large.","error"),n.failure()},r.onload=function(){n.success({width:this.width,height:this.height})},r.src=i.createObjectURL(e)):(t("No createObjectURL function available to generate image URL!","error"),n.failure())},n.failure),n}function i(e,t){var n;return qq.each(e,function(e,r){if(r>0){var i=/(max|min)(Width|Height)/.exec(e),o=i[2].charAt(0).toLowerCase()+i[2].slice(1),a=t[o];switch(i[1]){case"min":if(a<r)return n=e,!1;break;case"max":if(a>r)return n=e,!1}}}),n}this.validate=function(e){var o=new qq.Promise;return t("Attempting to validate image."),n(e)?r().then(function(t){var n=i(e,t);n?o.failure(n):o.success()},o.success):o.success(),o}},qq.Session=function(e){"use strict";function t(e){if(qq.isArray(e))return!0;r.log("Session response is not an array.","error")}function n(e,n,i,o){var a=!1;n=n&&t(e),n&&qq.each(e,function(e,t){if(null==t.uuid)a=!0,r.log(qq.format("Session response item {} did not include a valid UUID - ignoring.",e),"error");else if(null==t.name)a=!0,r.log(qq.format("Session response item {} did not include a valid name - ignoring.",e),"error");else try{return r.addFileRecord(t),!0}catch(e){a=!0,r.log(e.message,"error")}return!1}),o[n&&!a?"success":"failure"](e,i)}var r={endpoint:null,params:{},customHeaders:{},cors:{},addFileRecord:function(e){},log:function(e,t){}};qq.extend(r,e,!0),this.refresh=function(){var e=new qq.Promise,t=function(t,r,i){n(t,r,i,e)},i=qq.extend({},r);return new qq.SessionAjaxRequester(qq.extend(i,{onComplete:t})).queryServer(),e}},qq.SessionAjaxRequester=function(e){"use strict";function t(e,t,n){var i=null;if(null!=t.responseText)try{i=qq.parseJson(t.responseText)}catch(e){r.log("Problem parsing session response: "+e.message,"error"),n=!0}r.onComplete(i,!n,t)}var n,r={endpoint:null,customHeaders:{},params:{},cors:{expected:!1,sendCredentials:!1},onComplete:function(e,t,n){},log:function(e,t){}};qq.extend(r,e),n=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",validMethods:["GET"],method:"GET",endpointStore:{get:function(){return r.endpoint}},customHeaders:r.customHeaders,log:r.log,onComplete:t,cors:r.cors})),qq.extend(this,{queryServer:function(){var e=qq.extend({},r.params);r.log("Session query request."),n.initTransport("sessionRefresh").withParams(e).withCacheBuster().send()}})},qq.Scaler=function(e,t){"use strict";var n=e.customResizer,r=e.sendOriginal,i=e.orient,o=e.defaultType,a=e.defaultQuality/100,s=e.failureText,u=e.includeExif,c=this._getSortedSizes(e.sizes);qq.extend(this,{enabled:qq.supportedFeatures.scaling&&c.length>0,getFileRecords:function(e,l,h){var d=this,f=[],p=h.blob?h.blob:h;return new qq.Identify(p,t).isPreviewableSync()?(qq.each(c,function(e,r){var c=d._determineOutputType({defaultType:o,requestedType:r.type,refType:p.type});f.push({uuid:qq.getUniqueId(),name:d._getName(l,{name:r.name,type:c,refType:p.type}),blob:new qq.BlobProxy(p,qq.bind(d._generateScaledImage,d,{customResizeFunction:n,maxSize:r.maxSize,orient:i,type:c,quality:a,failedText:s,includeExif:u,log:t}))})}),f.push({uuid:e,name:l,size:p.size,blob:r?p:null})):f.push({uuid:e,name:l,size:p.size,blob:p}),f},handleNewFile:function(e,t,n,r,i,o,a,s){var u=this,c=(e.qqButtonId||e.blob&&e.blob.qqButtonId,[]),l=null,h=s.addFileToHandler,d=s.uploadData,f=s.paramsStore,p=qq.getUniqueId();qq.each(u.getFileRecords(n,t,e),function(e,t){var n,r=t.size;t.blob instanceof qq.BlobProxy&&(r=-1),n=d.addFile({uuid:t.uuid,name:t.name,size:r,batchId:o,proxyGroupId:p}),t.blob instanceof qq.BlobProxy?c.push(n):l=n,t.blob?(h(n,t.blob),i.push({id:n,file:t.blob})):d.setStatus(n,qq.status.REJECTED)}),null!==l&&(qq.each(c,function(e,t){var n={qqparentuuid:d.retrieve({id:l}).uuid,qqparentsize:d.retrieve({id:l}).size};n[a]=d.retrieve({id:t}).uuid,d.setParentId(t,l),f.addReadOnly(t,n)}),c.length&&function(){var e={};e[a]=d.retrieve({id:l}).uuid,f.addReadOnly(l,e)}())}})},qq.extend(qq.Scaler.prototype,{scaleImage:function(e,t,n){"use strict";if(!qq.supportedFeatures.scaling)throw new qq.Error("Scaling is not supported in this browser!");var r=new qq.Promise,i=n.log,o=n.getFile(e),a=n.uploadData.retrieve({id:e}),s=a&&a.name,u=a&&a.uuid,c={customResizer:t.customResizer,sendOriginal:!1,orient:t.orient,defaultType:t.type||null,defaultQuality:t.quality,failedToScaleText:"Unable to scale",sizes:[{name:"",maxSize:t.maxSize}]},l=new qq.Scaler(c,i);return qq.Scaler&&qq.supportedFeatures.imagePreviews&&o?qq.bind(function(){var t=l.getFileRecords(u,s,o)[0];t&&t.blob instanceof qq.BlobProxy?t.blob.create().then(r.success,r.failure):(i(e+" is not a scalable image!","error"),r.failure())},this)():(r.failure(),i("Could not generate requested scaled image for "+e+".  Scaling is either not possible in this browser, or the file could not be located.","error")),r},_determineOutputType:function(e){"use strict";var t=e.requestedType,n=e.defaultType,r=e.refType;return n||t?t&&qq.indexOf(Object.keys(qq.Identify.prototype.PREVIEWABLE_MIME_TYPES),t)>=0?"image/tiff"===t?qq.supportedFeatures.tiffPreviews?t:n:t:n:"image/jpeg"!==r?"image/png":r},_getName:function(e,t){"use strict";var n=e.lastIndexOf("."),r=t.type||"image/png",i=t.refType,o="",a=qq.getExtension(e),s="";return t.name&&t.name.trim().length&&(s=" ("+t.name+")"),n>=0?(o=e.substr(0,n),i!==r&&(a=r.split("/")[1]),o+=s+"."+a):o=e+s,o},_getSortedSizes:function(e){"use strict";return e=qq.extend([],e),e.sort(function(e,t){return e.maxSize>t.maxSize?1:e.maxSize<t.maxSize?-1:0})},_generateScaledImage:function(e,t){"use strict";var n=this,r=e.customResizeFunction,i=e.log,o=e.maxSize,a=e.orient,s=e.type,u=e.quality,c=e.failedText,l=e.includeExif&&"image/jpeg"===t.type&&"image/jpeg"===s,h=new qq.Promise,d=new qq.ImageGenerator(i),f=document.createElement("canvas");return i("Attempting to generate scaled version for "+t.name),d.generate(t,f,{maxSize:o,orient:a,customResizeFunction:r}).then(function(){var e=f.toDataURL(s,u),r=function(){i("Success generating scaled version for "+t.name);var n=qq.dataUriToBlob(e);h.success(n)};l?n._insertExifHeader(t,e,i).then(function(t){e=t,r()},function(){i("Problem inserting EXIF header into scaled image.  Using scaled image w/out EXIF data.","error"),r()}):r()},function(){i("Failed attempt to generate scaled version for "+t.name,"error"),h.failure(c)}),h},_insertExifHeader:function(e,t,n){"use strict";var r=new FileReader,i=new qq.Promise,o="";return r.onload=function(){o=r.result,i.success(qq.ExifRestorer.restore(o,t))},r.onerror=function(){n("Problem reading "+e.name+" during attempt to transfer EXIF data to scaled version.","error"),i.failure()},r.readAsDataURL(e),i},_dataUriToBlob:function(e){"use strict";var t,n,r,i;return t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):decodeURI(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),i=new Uint8Array(r),qq.each(t,function(e,t){i[e]=t.charCodeAt(0)}),this._createBlob(r,n)},_createBlob:function(e,t){"use strict";var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,r=n&&new n;return r?(r.append(e),r.getBlob(t)):new Blob([e],{type:t})}}),qq.ExifRestorer=function(){var e={};return e.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e.encode64=function(e){var t,n,r,i,o,a="",s="",u="",c=0;do{t=e[c++],n=e[c++],s=e[c++],r=t>>2,i=(3&t)<<4|n>>4,o=(15&n)<<2|s>>6,u=63&s,isNaN(n)?o=u=64:isNaN(s)&&(u=64),a=a+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(u),t=n=s="",r=i=o=u=""}while(c<e.length);return a},e.restore=function(e,t){if(!e.match("data:image/jpeg;base64,"))return t;var n=this.decode64(e.replace("data:image/jpeg;base64,","")),r=this.slice2Segments(n),i=this.exifManipulation(t,r);return"data:image/jpeg;base64,"+this.encode64(i)},e.exifManipulation=function(e,t){var n=this.getExifArray(t),r=this.insertExif(e,n);return new Uint8Array(r)},e.getExifArray=function(e){for(var t,n=0;n<e.length;n++)if(t=e[n],255==t[0]&225==t[1])return t;return[]},e.insertExif=function(e,t){var n=e.replace("data:image/jpeg;base64,",""),r=this.decode64(n),i=r.indexOf(255,3),o=r.slice(0,i),a=r.slice(i),s=o;return s=s.concat(t),s=s.concat(a)},e.slice2Segments=function(e){for(var t=0,n=[];;){if(255==e[t]&218==e[t+1])break;if(255==e[t]&216==e[t+1])t+=2;else{var r=256*e[t+2]+e[t+3],i=t+r+2,o=e.slice(t,i);n.push(o),t=i}if(t>e.length)break}return n},e.decode64=function(e){var t,n,r,i,o,a="",s="",u=0,c=[];if(/[^A-Za-z0-9\+\/\=]/g.exec(e))throw new Error("There were invalid base64 characters in the input text.  Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='");e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{r=this.KEY_STR.indexOf(e.charAt(u++)),i=this.KEY_STR.indexOf(e.charAt(u++)),o=this.KEY_STR.indexOf(e.charAt(u++)),s=this.KEY_STR.indexOf(e.charAt(u++)),t=r<<2|i>>4,n=(15&i)<<4|o>>2,a=(3&o)<<6|s,c.push(t),64!=o&&c.push(n),64!=s&&c.push(a),t=n=a="",r=i=o=s=""}while(u<e.length);return c},e}(),qq.TotalProgress=function(e,t){"use strict";var n={},r=0,i=0,o=-1,a=-1,s=function(t,n){t===o&&n===a||e(t,n),o=t,a=n},u=function(e,t){var n=!0;return qq.each(e,function(e,r){if(qq.indexOf(t,r)>=0)return n=!1,!1}),n},c=function(e){d(e,-1,-1),delete n[e]},l=function(e,t,n){(0===t.length||u(t,n))&&(s(i,i),this.reset())},h=function(e){var r=t(e);r>0&&(d(e,0,r),n[e]={loaded:0,total:r})},d=function(e,t,o){var a=n[e]?n[e].loaded:0,u=n[e]?n[e].total:0;-1===t&&-1===o?(r-=a,i-=u):(t&&(r+=t-a),o&&(i+=o-u)),s(r,i)};qq.extend(this,{onAllComplete:l,onStatusChange:function(e,t,n){n===qq.status.CANCELED||n===qq.status.REJECTED?c(e):n===qq.status.SUBMITTING&&h(e)},onIndividualProgress:function(e,t,r){d(e,t,r),n[e]={loaded:t,total:r}},onNewSize:function(e){h(e)},reset:function(){n={},r=0,i=0}})},qq.PasteSupport=function(e){"use strict";function t(e){return e.type&&0===e.type.indexOf("image/")}function n(){i&&i()}var r,i;r={targetElement:null,callbacks:{log:function(e,t){},pasteReceived:function(e){}}},qq.extend(r,e),function(){i=qq(r.targetElement).attach("paste",function(e){var n=e.clipboardData;n&&qq.each(n.items,function(e,n){if(t(n)){var i=n.getAsFile();r.callbacks.pasteReceived(i)}})})}(),qq.extend(this,{reset:function(){n()}})},qq.FormSupport=function(e,t,n){"use strict";function r(e){e.getAttribute("action")&&(a.newEndpoint=e.getAttribute("action"))}function i(e,t){if(!e.checkValidity||e.checkValidity())return!0;n("Form did not pass validation checks - will not upload.","error"),t()}function o(e){var n=e.submit;qq(e).attach("submit",function(r){r=r||window.event,r.preventDefault?r.preventDefault():r.returnValue=!1,i(e,n)&&t()}),e.submit=function(){i(e,n)&&t()}}var a=this,s=e.interceptSubmit,u=e.element,c=e.autoUpload;qq.extend(this,{newEndpoint:null,newAutoUpload:c,attachedToForm:!1,getFormInputsAsObject:function(){return null==u?null:a._form2Obj(u)}}),u=function(e){return e&&(qq.isString(e)&&(e=document.getElementById(e)),e&&(n("Attaching to form element."),r(e),s&&o(e))),e}(u),this.attachedToForm=!!u},qq.extend(qq.FormSupport.prototype,{_form2Obj:function(e){"use strict";var t={},n=function(e){var t=["button","image","reset","submit"];return qq.indexOf(t,e.toLowerCase())<0},r=function(e){return qq.indexOf(["checkbox","radio"],e.toLowerCase())>=0},i=function(e){return!(!r(e.type)||e.checked)||e.disabled&&"hidden"!==e.type.toLowerCase()},o=function(e){var t=null;return qq.each(qq(e).children(),function(e,n){if("option"===n.tagName.toLowerCase()&&n.selected)return t=n.value,!1}),t};return qq.each(e.elements,function(e,r){if(!qq.isInput(r,!0)&&"textarea"!==r.tagName.toLowerCase()||!n(r.type)||i(r)){if("select"===r.tagName.toLowerCase()&&!i(r)){var a=o(r);null!==a&&(t[r.name]=a)}}else t[r.name]=r.value}),t}}),qq.traditional=qq.traditional||{},qq.traditional.FormUploadHandler=function(e,t){"use strict";function n(e,t){var n,r,o;try{r=t.contentDocument||t.contentWindow.document,o=r.body.innerHTML,s("converting iframe's innerHTML to JSON"),s("innerHTML = "+o),o&&o.match(/^<pre/i)&&(o=r.body.firstChild.firstChild.nodeValue),n=i._parseJsonResponse(o)}catch(e){s("Error when attempting to parse form upload response ("+e.message+")","error"),n={success:!1}}return n}function r(t,n){var r=e.paramsStore.get(t),s="get"===e.method.toLowerCase()?"GET":"POST",u=e.endpointStore.get(t),c=o(t);return r[e.uuidName]=a(t),r[e.filenameParam]=c,i._initFormForUpload({method:s,endpoint:u,params:r,paramsInBody:e.paramsInBody,targetName:n.name})}var i=this,o=t.getName,a=t.getUuid,s=t.log;this.uploadFile=function(t){var o,a=i.getInput(t),u=i._createIframe(t),c=new qq.Promise;return o=r(t,u),o.appendChild(a),i._attachLoadEvent(u,function(r){s("iframe loaded");var o=r||n(t,u);i._detachLoadEvent(t),e.cors.expected||qq(u).remove(),o.success?c.success(o):c.failure(o)}),s("Sending upload request for "+t),o.submit(),qq(o).remove(),c},qq.extend(this,new qq.FormUploadHandler({options:{isCors:e.cors.expected,inputName:e.inputName},proxy:{onCancel:e.onCancel,getName:o,getUuid:a,log:s}}))},qq.traditional=qq.traditional||{},qq.traditional.XhrUploadHandler=function(e,t){"use strict";var n=this,r=t.getName,i=t.getSize,o=t.getUuid,a=t.log,s=e.forceMultipart||e.paramsInBody,u=function(t,n,o){var a=i(t),u=r(t);n[e.chunking.paramNames.partIndex]=o.part,n[e.chunking.paramNames.partByteOffset]=o.start,n[e.chunking.paramNames.chunkSize]=o.size,n[e.chunking.paramNames.totalParts]=o.count,n[e.totalFileSizeName]=a,s&&(n[e.filenameParam]=u)},c=new qq.traditional.AllChunksDoneAjaxRequester({cors:e.cors,endpoint:e.chunking.success.endpoint,log:a}),l=function(e,t){var n=new qq.Promise;return t.onreadystatechange=function(){if(4===t.readyState){var r=f(e,t);r.success?n.success(r.response,t):n.failure(r.response,t)}},n},h=function(t){var a=e.paramsStore.get(t),s=r(t),u=i(t);return a[e.uuidName]=o(t),a[e.filenameParam]=s,a[e.totalFileSizeName]=u,a[e.chunking.paramNames.totalParts]=n._getTotalChunks(t),a},d=function(e,t){return qq.indexOf([200,201,202,203,204],e.status)<0||!t.success||t.reset},f=function(e,t){var n;return a("xhr - server response received for "+e),a("responseText = "+t.responseText),n=p(!0,t),{success:!d(t,n),response:n}},p=function(e,t){var n={};try{a(qq.format("Received response status {} with body: {}",t.status,t.responseText)),n=qq.parseJson(t.responseText)}catch(t){e&&a("Error when attempting to parse xhr response text ("+t.message+")","error")}return n},m=function(t){var r=new qq.Promise;return c.complete(t,n._createXhr(t),h(t),e.customHeaders.get(t)).then(function(e){r.success(p(!1,e),e)},function(e){r.failure(p(!1,e),e)}),r},g=function(t,n,a,u){var c=new FormData,l=e.method,h=e.endpointStore.get(u),d=r(u),f=i(u);return t[e.uuidName]=o(u),t[e.filenameParam]=d,s&&(t[e.totalFileSizeName]=f),e.paramsInBody||(s||(t[e.inputName]=d),h=qq.obj2url(t,h)),n.open(l,h,!0),e.cors.expected&&e.cors.sendCredentials&&(n.withCredentials=!0),s?(e.paramsInBody&&qq.obj2FormData(t,c),c.append(e.inputName,a),c):a},v=function(t,r){var i=e.customHeaders.get(t),o=n.getFile(t);r.setRequestHeader("Accept","application/json"),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Cache-Control","no-cache"),s||(r.setRequestHeader("Content-Type","application/octet-stream"),r.setRequestHeader("X-Mime-Type",o.type)),qq.each(i,function(e,t){r.setRequestHeader(e,t)})};qq.extend(this,{uploadChunk:function(t,r,o){var a,s,c,h=n._getChunkData(t,r),d=n._createXhr(t,r);i(t);return a=l(t,d),n._registerProgressHandler(t,r,h.size),c=e.paramsStore.get(t),u(t,c,h),o&&(c[e.resume.paramNames.resuming]=!0),s=g(c,d,h.blob,t),v(t,d),d.send(s),a},uploadFile:function(t){var r,i,o,a,s=n.getFile(t);return i=n._createXhr(t),n._registerProgressHandler(t),r=l(t,i),o=e.paramsStore.get(t),a=g(o,i,s,t),v(t,i),i.send(a),r}}),qq.extend(this,new qq.XhrUploadHandler({options:qq.extend({namespace:"traditional"},e),proxy:qq.extend({getEndpoint:e.endpointStore.get},t)})),qq.override(this,function(t){return{finalizeChunks:function(n){return e.chunking.success.endpoint?m(n):t.finalizeChunks(n,qq.bind(p,this,!0))}}})},qq.traditional.AllChunksDoneAjaxRequester=function(e){"use strict";var t,n={cors:{allowXdr:!1,expected:!1,sendCredentials:!1},endpoint:null,log:function(e,t){}},r={},i={get:function(e){return n.endpoint}};qq.extend(n,e),t=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",validMethods:["POST"],method:"POST",endpointStore:i,allowXRequestedWithAndCacheControl:!1,cors:n.cors,log:n.log,onComplete:function(e,t,n){var i=r[e];delete r[e],n?i.failure(t):i.success(t)}})),qq.extend(this,{complete:function(e,i,o,a){var s=new qq.Promise;return n.log("Submitting All Chunks Done request for "+e),r[e]=s,t.initTransport(e).withParams(o).withHeaders(a).send(i),s}})}}(window)},function(e,t,n){var r=n(230);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0};i.transform=void 0;n(17)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(16)(void 0),t.push([e.i,".selected {\n  background-color: rgb(156, 199, 252);\n}\n.item {\n  padding: 4px;\n}\n\n.file {\n  padding: 5px;\n  font-size: 1.2em;\n}\n\n.fileuploader {\n  background-color: rgb(30, 116, 245);\n  color: #FEFEFE;\n  border-radius: 5px;\n  border-radius: 5px;\n  text-align: center;\n  padding: 5px;\n  font-weight: 900px;\n}\n",""])},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3),u=function(e){return e&&e.__esModule?e:{default:e}}(s);n(232);var c=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={node_selected:null,nodes:[],edges:[]},e.eventProxy.onNodeSelected.fn.push(n.nodeSelected.bind(n)),e.jsondata.fn.push(n.dataUpdated.bind(n)),n.nodesDOMElm={},n}return o(t,e),a(t,[{key:"dataUpdated",value:function(e){this.edges_all=e.edges,this.setState({node_selected:null,nodes:e.nodes,edges:e.edges})}},{key:"nodeSelected",value:function(e){var t=_.filter(this.edges_all,function(t){return t.from===e.id||t.to===e.id});this.setState({node_selected:e,nodes:this.state.nodes,edges:t})}},{key:"showNodes",value:function(){for(var e=this.state.nodes,t=this.state.node_selected,n=e.length,r=[],i=0;i<n;i++)r.push(this.nodeHTML(e[i],!!t&&t.id===e[i].id));return r}},{key:"showEdges",value:function(){for(var e=this.state.edges,t=e.length,n=[],r=0;r<t;r++)n.push(this.edgeHTML(e[r]));return n}},{key:"onNodeClick",value:function(){}},{key:"nodeHTML",value:function(e,t){var n=this,r=t?" selected":"";return u.default.createElement("div",{ref:function(t){return n.nodesDOMElm[e.id]=t},className:"item node"+r,key:e.id,onClick:this.onNodeClick},e.label)}},{key:"edgeHTML",value:function(e){return u.default.createElement("div",{className:"item edge",key:e.id},e.label)}},{key:"componentDidUpdate",value:function(e,t){if(this.state.node_selected){var n=this.nodesDOMElm[this.state.node_selected.id];n&&n.scrollIntoView({behavior:"smooth",block:"center"})}}},{key:"componentWillUnmount",value:function(){this.nodesDOM=null}},{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:"rightbar"},u.default.createElement("div",{className:"nodes"},u.default.createElement("h3",null,"Show nodes"),u.default.createElement("div",{className:"content",ref:function(t){return e.node_container=t}},this.showNodes())),u.default.createElement("div",{className:"edges"},u.default.createElement("h3",null,"Show edges of clicked node"),u.default.createElement("div",{className:"content"},this.showEdges())))}}]),t}(u.default.Component);t.default=c},function(e,t,n){var r=n(233);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0};i.transform=void 0;n(17)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(16)(void 0),t.push([e.i,"\n.rightbar {\n  padding-left: 10px;\n}\n.nodes {\n  height: 350px;\n  width: 300px;\n}\n\n.edges {\n  height: 350px;\n  width: 300px;\n  \n}\n\n.content {\n  max-height: 300px;\n  overflow-x: auto;\n}\n",""])}]);